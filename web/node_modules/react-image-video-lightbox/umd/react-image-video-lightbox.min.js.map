{"version":3,"sources":["webpack://react-image-video-lightbox/webpack/universalModuleDefinition","webpack://react-image-video-lightbox/webpack/bootstrap","webpack://react-image-video-lightbox/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://react-image-video-lightbox/./src/utils.js","webpack://react-image-video-lightbox/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","settle","val","target","range","getPointFromTouch","touch","x","clientX","y","clientY","getDistanceBetweenPoints","pointA","pointB","Math","sqrt","pow","ReactImageVideoLightbox","props","state","scale","width","innerWidth","height","innerHeight","index","startIndex","swiping","loading","iconSize","handleTouchStart","handleTouchMove","handleTouchEnd","onNavigationCallback","zoomTo","this","animation","requestAnimationFrame","frame","distance","targetScale","zoom","utils","reset","scaleDelta","nextWidth","nextHeight","setState","event","cancelAnimationFrame","touches","length","handlePinchStart","handleTapStart","handlePinchMove","handlePanMove","lastTouchEnd","timeStamp","handleSwipe","swipeDelta","changedTouches","swipeStartX","swipeRight","swipeLeft","currentIndex","setTimeout","data","swipeStartY","preventDefault","lastDistance","min","max","MIN_SCALE","MAX_SCALE","getResources","items","resource","type","push","alt","altTag","src","url","style","pointerEvents","maxWidth","maxHeight","transform","transition","onLoad","frameBorder","allow","title","allowFullScreen","UNSAFE_componentWillMount","addEventListener","componentWillUnmount","removeEventListener","render","resources","onTouchStart","onTouchMove","onTouchEnd","top","left","overflow","position","display","alignItems","justifyContent","flexDirection","backgroundColor","showResourceCount","padding","color","fontWeight","right","cursor","fontSize","onClick","onCloseCallback","xmlns","viewBox","fill","zIndex","margin","border","borderBottomColor","borderRadius","React"],"mappings":"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","file":"react-image-video-lightbox.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-image-video-lightbox\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"react-image-video-lightbox\"] = factory(root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","export const settle = (val, target, range) => {\n  const lowerRange = val > target - range && val < target;\n  const upperRange = val < target + range && val > target;\n  return lowerRange || upperRange ? target : val;\n}\n\nexport const getPointFromTouch = (touch) => {\n  return {\n    x: touch.clientX,\n    y: touch.clientY\n  };\n}\n\nexport const getDistanceBetweenPoints = (pointA, pointB) => {\n  return Math.sqrt(Math.pow(pointA.y - pointB.y, 2) + Math.pow(pointA.x - pointB.x, 2));\n}\n\nexport const between = (min, max, value) => {\n  return Math.min(max, Math.max(min, value));\n}\n","import * as React from 'react';\nimport * as utils from './utils';\n\nconst MIN_SCALE = 1;\nconst MAX_SCALE = 4;\nconst SETTLE_RANGE = 0.001;\nconst ADDITIONAL_LIMIT = 0.2;\nconst DOUBLE_TAP_THRESHOLD = 300;\nconst ANIMATION_SPEED = 0.04;\nconst RESET_ANIMATION_SPEED = 0.08;\nconst INITIAL_X = 0;\nconst INITIAL_Y = 0;\nconst INITIAL_SCALE = 1;\nconst MOBILE_ICON_SIZE = 35;\nconst DESKTOP_ICON_SIZE = 50;\n\nclass ReactImageVideoLightbox extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      x: INITIAL_X,\n      y: INITIAL_Y,\n      scale: INITIAL_SCALE,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      index: this.props.startIndex,\n      swiping: false,\n      loading: true,\n      iconSize: window.innerWidth <= 500 ? MOBILE_ICON_SIZE : DESKTOP_ICON_SIZE\n    };\n\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    this.handleTouchStart = this.handleTouchStart.bind(this);\n    this.handleTouchMove = this.handleTouchMove.bind(this);\n    this.handleTouchEnd = this.handleTouchEnd.bind(this);\n    this.onNavigationCallback = this.props.onNavigationCallback && typeof this.props.onNavigationCallback === 'function'\n      ? this.props.onNavigationCallback\n      : () => { };\n  }\n\n  zoomTo(scale) {\n    const frame = () => {\n      if (this.state.scale === scale) return;\n\n      const distance = scale - this.state.scale;\n      const targetScale = this.state.scale + (ANIMATION_SPEED * distance);\n\n      this.zoom(utils.settle(targetScale, scale, SETTLE_RANGE));\n      this.animation = requestAnimationFrame(frame);\n    };\n\n    this.animation = requestAnimationFrame(frame);\n  }\n\n  reset() {\n    const frame = () => {\n      if (this.state.scale === INITIAL_SCALE && this.state.x === INITIAL_X && this.state.y === INITIAL_Y) return;\n\n      const scaleDelta = INITIAL_SCALE - this.state.scale;\n      const targetScale = utils.settle(this.state.scale + (RESET_ANIMATION_SPEED * scaleDelta), INITIAL_SCALE, SETTLE_RANGE);\n\n      const nextWidth = this.width * targetScale;\n      const nextHeight = this.height * targetScale;\n\n      this.setState({\n        scale: targetScale,\n        width: nextWidth,\n        height: nextHeight,\n        x: INITIAL_X,\n        y: INITIAL_Y\n      }, () => {\n        this.animation = requestAnimationFrame(frame);\n      });\n    };\n\n    this.animation = requestAnimationFrame(frame);\n  }\n\n  handleTouchStart(event) {\n    this.animation && cancelAnimationFrame(this.animation);\n    if (event.touches.length === 2) this.handlePinchStart(event);\n    if (event.touches.length === 1) this.handleTapStart(event);\n  }\n\n  handleTouchMove(event) {\n    if (event.touches.length === 2) this.handlePinchMove(event);\n    if (event.touches.length === 1) this.handlePanMove(event);\n  }\n\n  handleTouchEnd(event) {\n    if (event.touches.length > 0) return null;\n\n    if (this.state.scale > MAX_SCALE) return this.zoomTo(MAX_SCALE);\n    if (this.state.scale < MIN_SCALE) return this.zoomTo(MIN_SCALE);\n\n    if (this.lastTouchEnd && this.lastTouchEnd + DOUBLE_TAP_THRESHOLD > event.timeStamp) {\n      this.reset();\n    }\n\n    if (this.state.swiping && this.state.scale === 1) {\n      this.handleSwipe(event);\n    }\n\n    this.lastTouchEnd = event.timeStamp;\n  }\n\n  handleSwipe(event) {\n    var swipeDelta = event.changedTouches[0].clientX - this.swipeStartX;\n    if (swipeDelta < -(this.width / 3)) {\n      this.swipeRight();\n    } else if (swipeDelta > (this.width / 3)) {\n      this.swipeLeft();\n    } else {\n      this.reset();\n    }\n  }\n\n  swipeLeft() {\n    var currentIndex = this.state.index;\n    if (currentIndex > 0) {\n      setTimeout(() => {\n        this.setState({\n          index: currentIndex - 1,\n          swiping: false,\n          x: INITIAL_X,\n          loading: true\n        }, () => this.onNavigationCallback(currentIndex - 1));\n      }, 500);\n    } else {\n      this.reset();\n    }\n  }\n\n  swipeRight() {\n    var currentIndex = this.state.index;\n    if (currentIndex < (this.props.data.length - 1)) {\n      setTimeout(() => {\n        this.setState({\n          index: currentIndex + 1,\n          swiping: false,\n          x: INITIAL_X,\n          loading: true\n        }, () => this.onNavigationCallback(currentIndex + 1));\n      }, 500);\n    } else {\n      this.reset();\n    }\n  }\n\n  handleTapStart(event) {\n    this.swipeStartX = event.touches[0].clientX;\n    this.swipeStartY = event.touches[0].clientY;\n    if (this.state.scale === 1) {\n      this.setState({\n        swiping: true\n      });\n    }\n  }\n\n  handlePanMove(event) {\n    if (this.state.scale === 1) {\n      this.setState({\n        x: event.touches[0].clientX - this.swipeStartX\n      });\n    } else {\n      event.preventDefault();\n      this.setState({\n        x: event.touches[0].clientX - this.swipeStartX,\n        y: event.touches[0].clientY - this.swipeStartY\n      });\n    }\n  }\n\n  handlePinchStart(event) {\n    const pointA = utils.getPointFromTouch(event.touches[0]);\n    const pointB = utils.getPointFromTouch(event.touches[1]);\n    this.lastDistance = utils.getDistanceBetweenPoints(pointA, pointB);\n  }\n\n  handlePinchMove(event) {\n    event.preventDefault();\n    const pointA = utils.getPointFromTouch(event.touches[0]);\n    const pointB = utils.getPointFromTouch(event.touches[1]);\n    const distance = utils.getDistanceBetweenPoints(pointA, pointB);\n    const scale = utils.between(MIN_SCALE - ADDITIONAL_LIMIT, MAX_SCALE + ADDITIONAL_LIMIT, this.state.scale * (distance / this.lastDistance));\n    this.zoom(scale);\n    this.lastDistance = distance;\n  }\n\n  zoom(scale) {\n    const nextWidth = this.width * scale;\n    const nextHeight = this.height * scale;\n\n    this.setState({\n      width: nextWidth,\n      height: nextHeight,\n      scale\n    });\n  }\n\n  getResources() {\n    var items = [];\n    var data = this.props.data;\n    for (var i = 0; i < data.length; i++) {\n      var resource = data[i];\n      if (resource.type === 'photo') {\n        items.push(<img key={i}\n          alt={resource.altTag}\n          src={resource.url}\n          style={{\n            pointerEvents: this.state.scale === 1 ? 'auto' : 'none',\n            maxWidth: '100%',\n            maxHeight: '100%',\n            transform: `translate(${this.state.x}px, ${this.state.y}px) scale(${this.state.scale})`,\n            transition: 'transform 0.5s ease-out'\n          }}\n          onLoad={() => { this.setState({ loading: false }); }} />);\n      }\n\n      if (resource.type === 'video') {\n        items.push(<iframe key={i}\n          width=\"560\"\n          height=\"315\"\n          src={resource.url}\n          frameBorder=\"0\"\n          allow=\"autoplay; encrypted-media\"\n          title={resource.title}\n          allowFullScreen\n          style={{\n            pointerEvents: this.state.scale === 1 ? 'auto' : 'none',\n            maxWidth: '100%',\n            maxHeight: '100%',\n            transform: `translate(${this.state.x}px, ${this.state.y}px)`,\n            transition: 'transform 0.5s ease-out'\n          }}\n          onLoad={() => { this.setState({ loading: false }); }}></iframe>);\n      }\n    }\n\n    return items;\n  }\n\n  UNSAFE_componentWillMount() {\n    window.addEventListener('resize', () => {\n      if (window.innerWidth <= 500) {\n        this.setState({ iconSize: MOBILE_ICON_SIZE });\n      } else {\n        this.setState({ iconSize: DESKTOP_ICON_SIZE });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => {\n      if (window.innerWidth <= 500) {\n        this.setState({ iconSize: MOBILE_ICON_SIZE });\n      } else {\n        this.setState({ iconSize: DESKTOP_ICON_SIZE });\n      }\n    });\n  }\n\n  render() {\n    var resources = this.getResources();\n    return (\n      <div\n        onTouchStart={this.handleTouchStart}\n        onTouchMove={this.handleTouchMove}\n        onTouchEnd={this.handleTouchEnd}\n        style={{\n          top: '0px',\n          left: '0px',\n          overflow: 'hidden',\n          position: 'fixed',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          flexDirection: 'row',\n          height: '100%',\n          width: '100%',\n          backgroundColor: 'rgba(0,0,0,1)'\n        }}>\n\n        {\n          this.props.showResourceCount &&\n          <div\n            style={{\n              position: 'absolute',\n              top: '0px',\n              left: '0px',\n              padding: '15px',\n              color: 'white',\n              fontWeight: 'bold'\n            }}>\n            <span>{this.state.index + 1}</span> / <span>{this.props.data.length}</span>\n          </div>\n        }\n\n        <div\n          style={{\n            position: 'absolute',\n            top: '0px',\n            right: '0px',\n            padding: '10px',\n            color: '#FFFFFF',\n            cursor: 'pointer',\n            fontSize: `${this.state.iconSize * 0.8}px`\n          }}\n          onClick={this.props.onCloseCallback}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"36px\" viewBox=\"0 0 24 24\" width=\"36px\" fill=\"#FFFFFF\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" />\n          </svg>\n        </div>\n        {\n          (this.state.index + 1 != 1) ?\n            <div\n              style={{\n                position: 'absolute',\n                left: '0px',\n                zIndex: 1,\n                color: '#FFFFFF',\n                cursor: 'pointer',\n                fontSize: `${this.state.iconSize}px`\n              }}\n              onClick={() => { this.swipeLeft(); }}>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"48px\" viewBox=\"0 0 24 24\" width=\"48px\" fill=\"#FFFFFF\">\n                <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\" />\n              </svg>\n            </div>\n            :\n            <></>\n        }\n        {\n          (this.state.index + 1 != this.props.data.length) ?\n            <div\n              style={{\n                position: 'absolute',\n                right: '0px',\n                zIndex: 1,\n                color: '#FFFFFF',\n                cursor: 'pointer',\n                fontSize: `${this.state.iconSize}px`\n              }}\n              onClick={() => { this.swipeRight(); }}>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"48px\" viewBox=\"0 0 24 24\" width=\"48px\" fill=\"#FFFFFF\">\n                <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" />\n              </svg>\n            </div>\n            :\n            <></>\n        }\n        {\n          this.state.loading &&\n          <div style={{ margin: 'auto', position: 'fixed' }}>\n            <style>\n              {\n                `@keyframes react_image_video_spinner {\n                  0% {\n                    transform: translate3d(-50 %, -50 %, 0) rotate(0deg);\n                  }\n                  100% {\n                    transform: translate3d(-50%, -50%, 0) rotate(360deg);\n                  }\n                }`\n              }\n            </style>\n            <div style={{\n              animation: '1.0s linear infinite react_image_video_spinner',\n              border: 'solid 5px #ffffff',\n              borderBottomColor: '#cfd0d1',\n              borderRadius: '50%',\n              height: 30,\n              width: 30,\n              position: 'fixed',\n              transform: 'translate3d(-50%, -50%, 0)',\n            }}></div>\n          </div>\n        }\n\n        {\n          resources[this.state.index]\n        }\n      </div>\n    );\n  }\n}\n\nexport default ReactImageVideoLightbox;\n"],"sourceRoot":""}