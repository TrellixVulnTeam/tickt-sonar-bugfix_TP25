{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/home/builderHome/components/commonViewAll.tsx\",\n    _s = $RefreshSig$();\n\nimport TradieBox from '../../../shared/tradieBox';\nimport noData from '../../../../assets/images/no-search-data.png';\nimport React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { getSavedTradies, getPopularTradies, getRecommendedTradies, getMostViewedTradies } from '../../../../redux/jobs/actions'; //@ts-ignore\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SavedJobs = props => {\n  _s();\n\n  var _props$location12, _props$location12$sta, _props$location13, _props$location13$sta;\n\n  const [stateData, setStateData] = useState([]);\n  const [isLoad, setLoad] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasLoad, setHasLoad] = useState(true);\n\n  const backButtonClicked = () => {\n    var _props$history;\n\n    (_props$history = props.history) === null || _props$history === void 0 ? void 0 : _props$history.goBack();\n  };\n\n  const preFetch = async page => {\n    let response = await getSavedTradies({\n      page: page\n    });\n\n    if (response === null || response === void 0 ? void 0 : response.success) {\n      if (page > 1) {\n        let data = response === null || response === void 0 ? void 0 : response.data;\n        console.log({\n          data\n        });\n        setStateData(prev => [...prev, ...data]);\n      } else {\n        setStateData(response.data);\n        setLoad(true);\n      }\n    }\n  };\n\n  const preFetchPopularTradie = async page => {\n    let positions = localStorage.getItem('position');\n\n    if (positions) {\n      positions = JSON.parse(positions).reverse();\n\n      if (Array.isArray(positions)) {\n        let response = await getPopularTradies({\n          lat: positions[1],\n          long: positions[0],\n          page: page\n        });\n\n        if (response === null || response === void 0 ? void 0 : response.success) {\n          if (page > 1) {\n            var _response$data;\n\n            let data = (response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data) || [];\n            setStateData(prev => [...prev, ...data]);\n          } else {\n            var _response$data2;\n\n            setStateData((response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data) || []);\n            setLoad(true);\n          }\n        }\n      }\n    }\n  };\n\n  const preFetchRecommendedTradie = async page => {\n    let positions = localStorage.getItem('position');\n\n    if (positions) {\n      positions = JSON.parse(positions).reverse();\n\n      if (Array.isArray(positions)) {\n        let response = await getRecommendedTradies({\n          lat: positions[1],\n          long: positions[0],\n          page: page\n        });\n\n        if (response === null || response === void 0 ? void 0 : response.success) {\n          if (page > 1) {\n            var _response$data3;\n\n            let data = (response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.data) || [];\n            setStateData(prev => [...prev, ...data]);\n          } else {\n            var _response$data4;\n\n            setStateData((response === null || response === void 0 ? void 0 : (_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.data) || []);\n            setLoad(true);\n          }\n        }\n      }\n    }\n  };\n\n  const preFetchMostViewedTradie = async page => {\n    let positions = localStorage.getItem('position');\n\n    if (positions) {\n      positions = JSON.parse(positions).reverse();\n\n      if (Array.isArray(positions)) {\n        let response = await getMostViewedTradies({\n          lat: positions[1],\n          long: positions[0],\n          page: page\n        });\n\n        if (response === null || response === void 0 ? void 0 : response.success) {\n          if (page > 1) {\n            var _response$data5;\n\n            let data = (response === null || response === void 0 ? void 0 : (_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : _response$data5.data) || [];\n            setStateData(prev => [...prev, ...data]);\n          } else {\n            var _response$data6;\n\n            setStateData((response === null || response === void 0 ? void 0 : (_response$data6 = response.data) === null || _response$data6 === void 0 ? void 0 : _response$data6.data) || []);\n            setLoad(true);\n          }\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    var _props$location, _props$location2, _props$location2$stat, _props$location3, _props$location3$stat, _props$location4, _props$location4$stat, _props$location5, _props$location5$stat, _props$location6, _props$location6$stat;\n\n    console.log({\n      state: props === null || props === void 0 ? void 0 : (_props$location = props.location) === null || _props$location === void 0 ? void 0 : _props$location.state,\n      pathname: props.location.pathname,\n      title: props === null || props === void 0 ? void 0 : (_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : (_props$location2$stat = _props$location2.state) === null || _props$location2$stat === void 0 ? void 0 : _props$location2$stat.title\n    });\n    setLoad(false);\n\n    if ((props === null || props === void 0 ? void 0 : (_props$location3 = props.location) === null || _props$location3 === void 0 ? void 0 : (_props$location3$stat = _props$location3.state) === null || _props$location3$stat === void 0 ? void 0 : _props$location3$stat.title) === \"Saved tradespeople\" || props.location.pathname === '/saved-tradespeople') {\n      preFetch(1);\n    } else if ((props === null || props === void 0 ? void 0 : (_props$location4 = props.location) === null || _props$location4 === void 0 ? void 0 : (_props$location4$stat = _props$location4.state) === null || _props$location4$stat === void 0 ? void 0 : _props$location4$stat.title) === \"Popular tradespeople\" || props.location.pathname === '/popular-tradespeople') {\n      preFetchPopularTradie(1);\n    } else if ((props === null || props === void 0 ? void 0 : (_props$location5 = props.location) === null || _props$location5 === void 0 ? void 0 : (_props$location5$stat = _props$location5.state) === null || _props$location5$stat === void 0 ? void 0 : _props$location5$stat.title) === \"Recommended tradespeople\" || props.location.pathname === '/recommended-tradespeople') {\n      preFetchRecommendedTradie(1);\n    } else if ((props === null || props === void 0 ? void 0 : (_props$location6 = props.location) === null || _props$location6 === void 0 ? void 0 : (_props$location6$stat = _props$location6.state) === null || _props$location6$stat === void 0 ? void 0 : _props$location6$stat.title) === \"Most Viewed tradespeople\" || props.location.pathname === '/most-viewed-tradespeople') {\n      preFetchMostViewedTradie(1);\n    } else {\n      var _props$location7, _props$location7$stat;\n\n      setStateData(props === null || props === void 0 ? void 0 : (_props$location7 = props.location) === null || _props$location7 === void 0 ? void 0 : (_props$location7$stat = _props$location7.state) === null || _props$location7$stat === void 0 ? void 0 : _props$location7$stat.data);\n      setLoad(true);\n    }\n  }, []);\n\n  if (!isLoad) {\n    return null;\n  }\n\n  let dataItems = stateData === null || stateData === void 0 ? void 0 : stateData.length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'app_wrapper',\n    children: dataItems ? /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n      dataLength: stateData === null || stateData === void 0 ? void 0 : stateData.length,\n      next: () => {\n        let cp = currentPage;\n\n        if ((stateData === null || stateData === void 0 ? void 0 : stateData.length) === cp * 10) {\n          var _props$location8, _props$location8$stat, _props$location9, _props$location9$stat, _props$location10, _props$location10$sta, _props$location11, _props$location11$sta;\n\n          setCurrentPage(prev => prev + 1);\n          cp = cp + 1;\n\n          if ((props === null || props === void 0 ? void 0 : (_props$location8 = props.location) === null || _props$location8 === void 0 ? void 0 : (_props$location8$stat = _props$location8.state) === null || _props$location8$stat === void 0 ? void 0 : _props$location8$stat.title) === \"Saved tradespeople\") {\n            preFetch(cp);\n          }\n\n          if ((props === null || props === void 0 ? void 0 : (_props$location9 = props.location) === null || _props$location9 === void 0 ? void 0 : (_props$location9$stat = _props$location9.state) === null || _props$location9$stat === void 0 ? void 0 : _props$location9$stat.title) === \"Popular tradespeople\") {\n            preFetchPopularTradie(cp);\n          }\n\n          if ((props === null || props === void 0 ? void 0 : (_props$location10 = props.location) === null || _props$location10 === void 0 ? void 0 : (_props$location10$sta = _props$location10.state) === null || _props$location10$sta === void 0 ? void 0 : _props$location10$sta.title) === \"Recommended tradespeople\") {\n            preFetchRecommendedTradie(cp);\n          }\n\n          if ((props === null || props === void 0 ? void 0 : (_props$location11 = props.location) === null || _props$location11 === void 0 ? void 0 : (_props$location11$sta = _props$location11.state) === null || _props$location11$sta === void 0 ? void 0 : _props$location11$sta.title) === \"Most Viewed tradespeople\") {\n            preFetchMostViewedTradie(cp);\n          }\n        } else {\n          setHasLoad(false);\n        }\n      },\n      hasMore: hasLoad,\n      loader: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false),\n      style: {\n        overflowX: 'hidden'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section_wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relate\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"back\",\n              onClick: backButtonClicked\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title\",\n              children: (props === null || props === void 0 ? void 0 : (_props$location12 = props.location) === null || _props$location12 === void 0 ? void 0 : (_props$location12$sta = _props$location12.state) === null || _props$location12$sta === void 0 ? void 0 : _props$location12$sta.title) || (props.location.pathname === '/saved-tradespeople' ? 'Saved tradespeople' : '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row tradies_row\",\n            children: (stateData === null || stateData === void 0 ? void 0 : stateData.length) > 0 ? stateData === null || stateData === void 0 ? void 0 : stateData.map((item, index) => /*#__PURE__*/_jsxDEV(TradieBox, {\n              item: item,\n              index: index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 41\n            }, this)) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-30\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relate\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back\",\n            onClick: backButtonClicked\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title mb0\",\n            children: (props === null || props === void 0 ? void 0 : (_props$location13 = props.location) === null || _props$location13 === void 0 ? void 0 : (_props$location13$sta = _props$location13.state) === null || _props$location13$sta === void 0 ? void 0 : _props$location13$sta.title) || (props.location.pathname === '/saved-tradespeople' ? 'Saved tradespeople' : '')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no_record\",\n          children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n            className: \"no_img\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: noData,\n              alt: \"data not found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"No Data Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SavedJobs, \"WYtgfC3b2HyUaauJ37yIwAljWFQ=\");\n\n_c = SavedJobs;\nexport default _c2 = withRouter(SavedJobs);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SavedJobs\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/home/builderHome/components/commonViewAll.tsx"],"names":["TradieBox","noData","React","useEffect","useState","withRouter","getSavedTradies","getPopularTradies","getRecommendedTradies","getMostViewedTradies","InfiniteScroll","SavedJobs","props","stateData","setStateData","isLoad","setLoad","currentPage","setCurrentPage","hasLoad","setHasLoad","backButtonClicked","history","goBack","preFetch","page","response","success","data","console","log","prev","preFetchPopularTradie","positions","localStorage","getItem","JSON","parse","reverse","Array","isArray","lat","long","preFetchRecommendedTradie","preFetchMostViewedTradie","state","location","pathname","title","dataItems","length","cp","overflowX","map","item","index"],"mappings":"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","sourcesContent":["import TradieBox from '../../../shared/tradieBox';\nimport noData from '../../../../assets/images/no-search-data.png';\nimport React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom';\nimport { getSavedTradies, getPopularTradies, getRecommendedTradies, getMostViewedTradies } from '../../../../redux/jobs/actions'\n\n//@ts-ignore\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst SavedJobs = (props: any) => {\n    const [stateData, setStateData] = useState<any>([]);\n    const [isLoad, setLoad] = useState(false);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [hasLoad, setHasLoad] = useState(true);\n\n\n    const backButtonClicked = () => {\n        props.history?.goBack();\n    }\n\n    const preFetch = async (page?: any) => {\n        let response = await getSavedTradies({ page: page });\n        if (response?.success) {\n            if (page > 1) {\n                let data = response?.data;\n                console.log({ data, })\n                setStateData((prev: any) => ([...prev, ...data]))\n            } else {\n                setStateData(response.data);\n                setLoad(true);\n            }\n        }\n    }\n\n    const preFetchPopularTradie = async (page?: any) => {\n        let positions = localStorage.getItem('position');\n        if (positions) {\n            positions = JSON.parse(positions).reverse();\n\n            if (Array.isArray(positions)) {\n                let response = await getPopularTradies({\n                    lat: positions[1],\n                    long: positions[0],\n                    page: page\n                });\n\n                if (response?.success) {\n                    if (page > 1) {\n                        let data = response?.data?.data || [];\n                        setStateData((prev: any) => ([...prev, ...data]))\n                    } else {\n                        setStateData(response?.data?.data || []);\n                        setLoad(true);\n                    }\n                }\n            }\n        }\n    }\n\n\n    const preFetchRecommendedTradie = async (page?: any) => {\n        let positions = localStorage.getItem('position');\n        if (positions) {\n            positions = JSON.parse(positions).reverse();\n\n            if (Array.isArray(positions)) {\n                let response = await getRecommendedTradies({\n                    lat: positions[1],\n                    long: positions[0],\n                    page: page\n                });\n\n                if (response?.success) {\n                    if (page > 1) {\n                        let data = response?.data?.data || [];\n                        setStateData((prev: any) => ([...prev, ...data]))\n                    } else {\n                        setStateData(response?.data?.data || []);\n                        setLoad(true);\n                    }\n                }\n            }\n        }\n    }\n\n    const preFetchMostViewedTradie = async (page?: any) => {\n        let positions = localStorage.getItem('position');\n        if (positions) {\n            positions = JSON.parse(positions).reverse();\n\n            if (Array.isArray(positions)) {\n                let response = await getMostViewedTradies({\n                    lat: positions[1],\n                    long: positions[0],\n                    page: page\n                });\n\n                if (response?.success) {\n                    if (page > 1) {\n                        let data = response?.data?.data || [];\n                        setStateData((prev: any) => ([...prev, ...data]))\n                    } else {\n                        setStateData(response?.data?.data || []);\n                        setLoad(true);\n                    }\n                }\n            }\n        }\n    }\n\n    useEffect(() => {\n        console.log({\n            state: props?.location?.state,\n            pathname: props.location.pathname,\n            title: props?.location?.state?.title\n        });\n        setLoad(false);\n        if (props?.location?.state?.title === \"Saved tradespeople\" || props.location.pathname === '/saved-tradespeople') {\n            preFetch(1);\n        } else if (props?.location?.state?.title === \"Popular tradespeople\" || props.location.pathname === '/popular-tradespeople') {\n            preFetchPopularTradie(1);\n        } else if (props?.location?.state?.title === \"Recommended tradespeople\" || props.location.pathname === '/recommended-tradespeople') {\n            preFetchRecommendedTradie(1);\n        } else if (props?.location?.state?.title === \"Most Viewed tradespeople\" || props.location.pathname === '/most-viewed-tradespeople') {\n            preFetchMostViewedTradie(1);\n        } else {\n            setStateData(props?.location?.state?.data);\n            setLoad(true);\n        }\n    }, []);\n\n    if (!isLoad) {\n        return null;\n    }\n    let dataItems = stateData?.length;\n    return (\n        <div className={'app_wrapper'} >\n            {dataItems ? (\n                <InfiniteScroll\n                    dataLength={stateData?.length}\n                    next={() => {\n                        let cp: any = currentPage;\n                        if (stateData?.length === (cp * 10)) {\n                            setCurrentPage((prev: any) => prev + 1);\n                            cp = cp + 1;\n\n                            if (props?.location?.state?.title === \"Saved tradespeople\") {\n                                preFetch(cp);\n                            }\n\n                            if (props?.location?.state?.title === \"Popular tradespeople\") {\n                                preFetchPopularTradie(cp);\n                            }\n\n                            if (props?.location?.state?.title === \"Recommended tradespeople\") {\n                                preFetchRecommendedTradie(cp);\n                            }\n\n                            if (props?.location?.state?.title === \"Most Viewed tradespeople\") {\n                                preFetchMostViewedTradie(cp);\n                            }\n                        } else {\n                            setHasLoad(false);\n                        }\n                    }}\n                    hasMore={hasLoad}\n                    loader={<></>}\n                    style={{ overflowX: 'hidden' }}>\n\n                    <div className=\"section_wrapper\">\n                        <div className=\"custom_container\">\n                            <div className=\"relate\">\n                                <button className=\"back\" onClick={backButtonClicked}></button>\n                                <span className=\"title\">\n                                    {props?.location?.state?.title || (props.location.pathname === '/saved-tradespeople' ? 'Saved tradespeople' : '')}\n                                </span>\n                            </div>\n\n                            <div className=\"flex_row tradies_row\">\n                                {stateData?.length > 0 ?\n                                    (stateData?.map((item: any, index: any) => (\n                                        <TradieBox\n                                            item={item}\n                                            index={index}\n                                        />\n                                    ))) : null}\n                            </div>\n                        </div>\n                    </div>\n                </InfiniteScroll>\n            ) : (\n                <div className=\"pt-30\">\n                    <div className=\"custom_container\">\n                        <div className=\"relate\">\n                            <button className=\"back\" onClick={backButtonClicked}></button>\n                            <span className=\"title mb0\">\n                                {props?.location?.state?.title || (props.location.pathname === '/saved-tradespeople' ? 'Saved tradespeople' : '')}\n                            </span>\n                        </div>\n\n                        \n                            <div className=\"no_record\">\n                                <figure className=\"no_img\">\n                                    <img src={noData} alt=\"data not found\" />\n                                </figure>\n                                <span>No Data Found</span>\n                            </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    )\n\n\n}\n\nexport default withRouter(SavedJobs);\n"]},"metadata":{},"sourceType":"module"}