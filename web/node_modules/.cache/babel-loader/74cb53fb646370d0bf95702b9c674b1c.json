{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieSearchJobResult/tradieSearchJobResult.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport BannerSearch from '../../common/tradieBannerSearch/index';\nimport TradieJobInfoBox from '../../common/tradieJobInfoBox';\nimport SearchResultFilters from '../searchResultFilters/index';\nimport RenderMap from './renderMap';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport mapIcon from '../../assets/images/map.png';\nimport noData from '../../assets/images/no-search-data.png';\nimport closeMap from '../../assets/images/close-white.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\n\nconst TradieSearchJobResult = props => {\n  _s();\n\n  var _paramsData$specializ, _paramsData$specializ2;\n\n  const [searchResultData, setSearchResultData] = useState({\n    page: 1,\n    searchByFilter: false,\n    cleanFiltersData: false\n  });\n  const [mapData, setMapData] = useState({\n    showMap: false\n  });\n  const [paramsData, setParamsData] = useState({});\n  const [isToggleModifySearch, setToggleModifySearch] = useState(false);\n  const [jobListData, setJobListData] = useState([]);\n  const [apiRequestData, setApiRequestData] = useState({});\n  const [hasMoreItems, setHasMoreItems] = useState(true);\n  useEffect(() => {\n    var queryParamsData = getQueryParamsData();\n    let data = {};\n\n    if (queryParamsData.jobResults === 'viewNearByJob') {\n      data = {\n        page: 1,\n        long: queryParamsData.defaultLong,\n        lat: queryParamsData.defaultLat\n      };\n      props.getViewNearByJob(data);\n    } else {\n      var _queryParamsData$trad, _queryParamsData$jobT, _queryParamsData$spec;\n\n      data = {\n        page: 1,\n        ...(queryParamsData.isFiltered ? {\n          isFiltered: true\n        } : {\n          isFiltered: false\n        }),\n        ...(((_queryParamsData$trad = queryParamsData.tradeId) === null || _queryParamsData$trad === void 0 ? void 0 : _queryParamsData$trad.length) && {\n          tradeId: queryParamsData.tradeId\n        }),\n        ...(((_queryParamsData$jobT = queryParamsData.jobTypes) === null || _queryParamsData$jobT === void 0 ? void 0 : _queryParamsData$jobT.length) && {\n          jobTypes: queryParamsData.jobTypes\n        }),\n        ...(((_queryParamsData$spec = queryParamsData.specializationId) === null || _queryParamsData$spec === void 0 ? void 0 : _queryParamsData$spec.length) && {\n          specializationId: queryParamsData.specializationId\n        }),\n        ...(queryParamsData.from_date && {\n          from_date: queryParamsData.from_date\n        }),\n        ...(queryParamsData.to_date && {\n          to_date: queryParamsData.to_date\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          pay_type: queryParamsData.pay_type\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          min_budget: queryParamsData.min_budget\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          max_budget: queryParamsData.max_budget\n        }),\n        ...(queryParamsData.sortBy && {\n          sortBy: queryParamsData.sortBy\n        }),\n        ...((queryParamsData.addres || queryParamsData.sortBy === 2) && {\n          location: {\n            coordinates: [queryParamsData.long ? queryParamsData.long : queryParamsData.defaultLong, queryParamsData.lat ? queryParamsData.lat : queryParamsData.defaultLat]\n          }\n        }),\n        ...(queryParamsData.addres && queryParamsData.address && {\n          address: queryParamsData.address\n        })\n      };\n      props.postHomeSearchData(data);\n    }\n\n    setApiRequestData(data);\n    return () => {\n      props.resetViewNearByJobData();\n      props.resetHomeSearchJobData();\n    };\n  }, []);\n\n  const getQueryParamsData = () => {\n    var _props$history, _props$history$locati, _params$get;\n\n    const params = new URLSearchParams((_props$history = props.history) === null || _props$history === void 0 ? void 0 : (_props$history$locati = _props$history.location) === null || _props$history$locati === void 0 ? void 0 : _props$history$locati.search);\n    const specializationString = params.get('specializationId');\n    const specializationArray = specializationString === null || specializationString === void 0 ? void 0 : specializationString.split(',');\n    const tradeIdArray = params.get('tradeId') ? [params.get('tradeId')] : null;\n    const jobTypesArray = params.get('jobTypes') ? [params.get('jobTypes')] : null;\n    const queryParamsData = {\n      page: Number(params.get('page')),\n      isFiltered: params.get('isFiltered') === \"true\",\n      isFilterOn: params.get('isFilterOn'),\n      tradeId: tradeIdArray,\n      specializationId: specializationArray,\n      lat: Number(params.get('lat')),\n      long: Number(params.get('long')),\n      defaultLat: Number(params.get('defaultLat')),\n      defaultLong: Number(params.get('defaultLong')),\n      addres: params.get('addres'),\n      address: params.get('address'),\n      from_date: params.get('from_date'),\n      to_date: params.get('to_date'),\n      jobResults: params.get('jobResults'),\n      heading: params.get('heading'),\n      jobTypes: jobTypesArray,\n      searchJob: (_params$get = params.get('searchJob')) === null || _params$get === void 0 ? void 0 : _params$get.replaceAll(\"xxx\", \"&\"),\n      min_budget: Number(params.get('min_budget')),\n      max_budget: Number(params.get('max_budget')),\n      pay_type: params.get('pay_type'),\n      sortBy: Number(params.get('sortBy'))\n    };\n    setParamsData(queryParamsData);\n    return queryParamsData;\n  };\n\n  console.log(paramsData, \"paramsData\", jobListData, \"jobListData\", apiRequestData, \"apiRequestData\", hasMoreItems, \"hasMoreItems\");\n\n  const callJobList = () => {\n    if (!hasMoreItems) {\n      return;\n    }\n\n    const data = { ...apiRequestData\n    };\n    data.page = searchResultData.page;\n\n    if (paramsData.jobResults === 'viewNearByJob') {\n      props.getViewNearByJob(data);\n    } else {\n      props.postHomeSearchData(data);\n    }\n  };\n\n  useEffect(() => {\n    var _props$history2, _props$history2$locat, _props$homeSearchJobD, _props$viewNearByJobD, _props$homeSearchJobD3;\n\n    const jobResultsParam = new URLSearchParams((_props$history2 = props.history) === null || _props$history2 === void 0 ? void 0 : (_props$history2$locat = _props$history2.location) === null || _props$history2$locat === void 0 ? void 0 : _props$history2$locat.search).get('jobResults');\n\n    if (searchResultData.searchByFilter && ((_props$homeSearchJobD = props.homeSearchJobData) === null || _props$homeSearchJobD === void 0 ? void 0 : _props$homeSearchJobD.length)) {\n      var _props$homeSearchJobD2;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.homeSearchJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.homeSearchJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$homeSearchJobD2 = props.homeSearchJobData) === null || _props$homeSearchJobD2 === void 0 ? void 0 : _props$homeSearchJobD2.length) < 10) {\n        setHasMoreItems(false);\n      }\n\n      return;\n    }\n\n    if (jobResultsParam === 'viewNearByJob' && ((_props$viewNearByJobD = props.viewNearByJobData) === null || _props$viewNearByJobD === void 0 ? void 0 : _props$viewNearByJobD.length)) {\n      var _props$viewNearByJobD2;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.viewNearByJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.viewNearByJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$viewNearByJobD2 = props.viewNearByJobData) === null || _props$viewNearByJobD2 === void 0 ? void 0 : _props$viewNearByJobD2.length) < 10) {\n        setHasMoreItems(false);\n      }\n\n      return;\n    } else if ((_props$homeSearchJobD3 = props.homeSearchJobData) === null || _props$homeSearchJobD3 === void 0 ? void 0 : _props$homeSearchJobD3.length) {\n      var _props$homeSearchJobD4;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.homeSearchJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.homeSearchJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$homeSearchJobD4 = props.homeSearchJobData) === null || _props$homeSearchJobD4 === void 0 ? void 0 : _props$homeSearchJobD4.length) < 10) {\n        setHasMoreItems(false);\n      }\n    }\n  }, [props.homeSearchJobData, props.viewNearByJobData]);\n\n  const searchByFilter = allFiltersData => {\n    var _newParamsData$tradeI, _newParamsData$jobTyp, _newParamsData$specia, _allFiltersData$jobTy, _allFiltersData$trade, _allFiltersData$trade2, _allFiltersData$speci, _allFiltersData$trade3, _allFiltersData$jobTy2, _allFiltersData$jobTy3, _allFiltersData$trade4, _allFiltersData$jobTy4, _allFiltersData$trade5, _allFiltersData$trade6, _allFiltersData$speci2, _allFiltersData$trade7, _allFiltersData$speci3, _allFiltersData$speci4, _allFiltersData$speci5, _allFiltersData$trade8;\n\n    const newParamsData = getQueryParamsData();\n\n    if (allFiltersData === \"callViewNearByJobApi\") {\n      const data = {\n        page: 1,\n        long: newParamsData.defaultLong,\n        lat: newParamsData.defaultLat\n      };\n      props.getViewNearByJob(data);\n      props.history.replace(`/search-job-results?jobResults=viewNearByJob&defaultLat=${newParamsData.defaultLat}&defaultLong=${newParamsData.defaultLong}`);\n      getQueryParamsData();\n      setSearchResultData(prevData => ({ ...prevData,\n        searchByFilter: false,\n        page: 1\n      }));\n      return;\n    }\n\n    var headingType = '';\n    console.log(allFiltersData, 'allFiltersData', newParamsData);\n\n    if ((_newParamsData$tradeI = newParamsData.tradeId) === null || _newParamsData$tradeI === void 0 ? void 0 : _newParamsData$tradeI.length) {\n      delete newParamsData.tradeId;\n    }\n\n    if ((_newParamsData$jobTyp = newParamsData.jobTypes) === null || _newParamsData$jobTyp === void 0 ? void 0 : _newParamsData$jobTyp.length) {\n      delete newParamsData.jobTypes;\n    }\n\n    if ((_newParamsData$specia = newParamsData.specializationId) === null || _newParamsData$specia === void 0 ? void 0 : _newParamsData$specia.length) {\n      delete newParamsData.specializationId;\n    }\n\n    if (((_allFiltersData$jobTy = allFiltersData.jobTypes) === null || _allFiltersData$jobTy === void 0 ? void 0 : _allFiltersData$jobTy.length) && !((_allFiltersData$trade = allFiltersData.tradeId) === null || _allFiltersData$trade === void 0 ? void 0 : _allFiltersData$trade.length)) {\n      var _props$jobTypeListDat, _props$jobTypeListDat2;\n\n      headingType = (_props$jobTypeListDat = props.jobTypeListData) === null || _props$jobTypeListDat === void 0 ? void 0 : (_props$jobTypeListDat2 = _props$jobTypeListDat.find(i => i._id === allFiltersData.jobTypes[0])) === null || _props$jobTypeListDat2 === void 0 ? void 0 : _props$jobTypeListDat2.name;\n      delete newParamsData.searchJob;\n    }\n\n    if (((_allFiltersData$trade2 = allFiltersData.tradeId) === null || _allFiltersData$trade2 === void 0 ? void 0 : _allFiltersData$trade2.length) && !((_allFiltersData$speci = allFiltersData.specializationId) === null || _allFiltersData$speci === void 0 ? void 0 : _allFiltersData$speci.length)) {\n      var _props$tradeListData, _props$tradeListData$;\n\n      headingType = (_props$tradeListData = props.tradeListData) === null || _props$tradeListData === void 0 ? void 0 : (_props$tradeListData$ = _props$tradeListData.find(i => i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : allFiltersData.tradeId[0]))) === null || _props$tradeListData$ === void 0 ? void 0 : _props$tradeListData$.trade_name;\n      delete newParamsData.searchJob;\n    }\n\n    var data = { ...newParamsData,\n      isFilterOn: \"isFilterOn\",\n      jobResults: null,\n      isFiltered: true,\n      ...(((_allFiltersData$trade3 = allFiltersData.tradeId) === null || _allFiltersData$trade3 === void 0 ? void 0 : _allFiltersData$trade3.length) && {\n        tradeId: allFiltersData.tradeId\n      }),\n      ...(((_allFiltersData$jobTy2 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy2 === void 0 ? void 0 : _allFiltersData$jobTy2.length) && {\n        jobTypes: allFiltersData.jobTypes\n      }),\n      ...(((_allFiltersData$jobTy3 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy3 === void 0 ? void 0 : _allFiltersData$jobTy3.length) && !((_allFiltersData$trade4 = allFiltersData.tradeId) === null || _allFiltersData$trade4 === void 0 ? void 0 : _allFiltersData$trade4.length) && {\n        jobResults: 'jobTypeList'\n      }),\n      ...(((_allFiltersData$jobTy4 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy4 === void 0 ? void 0 : _allFiltersData$jobTy4.length) && !((_allFiltersData$trade5 = allFiltersData.tradeId) === null || _allFiltersData$trade5 === void 0 ? void 0 : _allFiltersData$trade5.length) && {\n        heading: headingType\n      }),\n      ...(((_allFiltersData$trade6 = allFiltersData.tradeId) === null || _allFiltersData$trade6 === void 0 ? void 0 : _allFiltersData$trade6.length) && !((_allFiltersData$speci2 = allFiltersData.specializationId) === null || _allFiltersData$speci2 === void 0 ? void 0 : _allFiltersData$speci2.length) && {\n        jobResults: 'jobTypeList'\n      }),\n      ...(((_allFiltersData$trade7 = allFiltersData.tradeId) === null || _allFiltersData$trade7 === void 0 ? void 0 : _allFiltersData$trade7.length) && !((_allFiltersData$speci3 = allFiltersData.specializationId) === null || _allFiltersData$speci3 === void 0 ? void 0 : _allFiltersData$speci3.length) && {\n        heading: headingType\n      }),\n      ...(((_allFiltersData$speci4 = allFiltersData.specializationId) === null || _allFiltersData$speci4 === void 0 ? void 0 : _allFiltersData$speci4.length) && {\n        specializationId: allFiltersData.specializationId\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        pay_type: allFiltersData.pay_type\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        min_budget: allFiltersData.min_budget\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        max_budget: allFiltersData.max_budget\n      }),\n      ...([1, 2, 3].includes(allFiltersData.sortBy) && {\n        sortBy: allFiltersData.sortBy\n      })\n    };\n\n    if (allFiltersData.sortBy === 400) {\n      delete data.sortBy;\n    }\n\n    if (data.searchJob) {\n      delete data.heading;\n      delete data.jobResults;\n    }\n\n    if (allFiltersData.max_budget === 0) {\n      delete data.min_budget;\n      delete data.max_budget;\n      delete data.pay_type;\n    }\n\n    if ((allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci5 = allFiltersData.specializationId) === null || _allFiltersData$speci5 === void 0 ? void 0 : _allFiltersData$speci5.length) && (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade8 = allFiltersData.tradeId) === null || _allFiltersData$trade8 === void 0 ? void 0 : _allFiltersData$trade8.length)) {\n      var _props$tradeListData2, _props$tradeListData3, _specializationList$f;\n\n      const specializationList = (_props$tradeListData2 = props.tradeListData) === null || _props$tradeListData2 === void 0 ? void 0 : (_props$tradeListData3 = _props$tradeListData2.find(i => i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : allFiltersData.tradeId[0]))) === null || _props$tradeListData3 === void 0 ? void 0 : _props$tradeListData3.specialisations;\n      const specializationName = specializationList === null || specializationList === void 0 ? void 0 : (_specializationList$f = specializationList.find(i => i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : allFiltersData.specializationId[0]))) === null || _specializationList$f === void 0 ? void 0 : _specializationList$f.name;\n\n      if (specializationName) {\n        data = { ...data,\n          searchJob: specializationName\n        };\n      }\n    }\n\n    const newObjData = {\n      page: 1,\n      isFiltered: true,\n      ...(data.sortBy && {\n        sortBy: data.sortBy\n      }),\n      ...(data.tradeId && {\n        tradeId: data.tradeId\n      }),\n      ...(data.specializationId && {\n        specializationId: data.specializationId\n      }),\n      ...(data.from_date && {\n        from_date: data.from_date\n      }),\n      ...(data.to_date && {\n        to_date: data.to_date\n      }),\n      ...(data.jobTypes && {\n        jobTypes: data.jobTypes\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        pay_type: data.pay_type\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        min_budget: data.min_budget\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        max_budget: data.max_budget\n      }),\n      ...((data.address || allFiltersData.sortBy === 2) && {\n        location: {\n          coordinates: [data.long ? data.long : data.defaultLong, data.lat ? data.lat : data.defaultLat]\n        }\n      }) // ...(data.addres && data.address && { address: data.address })\n\n    };\n    Object.keys(data).forEach(key => (data[key] === undefined || data[key] === null || data[key] === 0 || data[key] === \"0\") && delete data[key]);\n    var url = 'search-job-results?';\n\n    for (let [key, value] of Object.entries(data)) {\n      console.log(key, value);\n      url += `${key}=${value}&`;\n    }\n\n    const newUrl = url.slice(0, url.length - 1);\n    props.postHomeSearchData(newObjData);\n    props.history.replace(newUrl);\n    setJobListData([]);\n    setParamsData(data);\n    setApiRequestData(newObjData);\n    setSearchResultData(prevData => ({ ...prevData,\n      page: 1,\n      searchByFilter: true\n    }));\n    setHasMoreItems(true);\n    console.log(newUrl, \"newUrl\", data, \"data\", newObjData, \"newObjData\", newParamsData);\n  }; // const cleanFiltersHandler = (isFiltersClean: boolean) => {\n  //     setSearchResultData((prevData: any) => ({ ...prevData, cleanFiltersData: isFiltersClean }));\n  //     if (isFiltersClean) { getQueryParamsData(); }\n  // }\n\n\n  const refreshParams = data => {\n    setJobListData([]);\n    getQueryParamsData();\n    setApiRequestData(data);\n    setSearchResultData(prevData => ({ ...prevData,\n      page: 1,\n      cleanFiltersData: true\n    }));\n    setHasMoreItems(true);\n  };\n\n  const handleChangeToggle = value => {\n    setToggleModifySearch(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n    dataLength: jobListData.length,\n    next: callJobList,\n    hasMore: true,\n    loader: /*#__PURE__*/_jsxDEV(\"h4\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 21\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `top_search ${isToggleModifySearch ? 'active' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(BannerSearch, { ...props,\n          handleChangeToggle: handleChangeToggle,\n          paramsData: paramsData,\n          refreshParams: refreshParams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search_result\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section_wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom_container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row mob_srch_option\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_6 text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setToggleModifySearch(true);\n                  },\n                  className: \"fill_grey_btn btn-effect\",\n                  children: \"Modify Search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result_heading\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"title\",\n                    children: [paramsData.jobResults === 'viewNearByJob' ? 'All around me' : paramsData.jobResults === 'jobTypeList' ? paramsData.heading : paramsData.searchJob ? `${paramsData.searchJob}${((_paramsData$specializ = paramsData.specializationId) === null || _paramsData$specializ === void 0 ? void 0 : _paramsData$specializ.length) >= 2 ? ` +${((_paramsData$specializ2 = paramsData.specializationId) === null || _paramsData$specializ2 === void 0 ? void 0 : _paramsData$specializ2.length) - 1}` : ''}` : '', /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"count\",\n                      children: `${jobListData.length || 0} result(s)`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(SearchResultFilters, {\n                    searchByFilter: searchByFilter,\n                    cleanFiltersData: searchResultData.cleanFiltersData,\n                    history: props === null || props === void 0 ? void 0 : props.history\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 37\n                }, this), jobListData.length > 0 && !mapData.showMap && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_4 text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"map_btn\",\n                    onClick: () => setMapData(prevData => ({ ...prevData,\n                      showMap: !prevData.showMap\n                    })),\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: mapIcon,\n                      alt: \"map\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 45\n                    }, this), \" Map\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 84\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row tradies_row\",\n              children: [mapData.showMap ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_col\",\n                children: jobListData.length > 0 ? jobListData.map(jobData => {\n                  return /*#__PURE__*/_createElement(TradieJobInfoBox, {\n                    item: jobData,\n                    ...props,\n                    key: jobData.jobId,\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 52\n                    }\n                  });\n                }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no_record\",\n                  children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                    className: \"no_img\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: noData,\n                      alt: \"data not found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"No Data Found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 52\n              }, this) : jobListData.length > 0 || props.isLoading ? jobListData.map(jobData => {\n                return /*#__PURE__*/_createElement(TradieJobInfoBox, {\n                  item: jobData,\n                  ...props,\n                  key: jobData.jobId,\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 48\n                  }\n                });\n              }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no_record\",\n                children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"no_img\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: noData,\n                    alt: \"data not found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"No Data Found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"map_col\",\n                style: !mapData.showMap ? {\n                  display: \"none\"\n                } : {},\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"map_stick\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"close_map\",\n                    onClick: () => setMapData(prevData => ({ ...prevData,\n                      showMap: !prevData.showMap\n                    })),\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: closeMap,\n                      alt: \"close-map\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(RenderMap, { ...props,\n                    searchByFilter: searchResultData.searchByFilter\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TradieSearchJobResult, \"sLocC73YWLajmTqhqVER4t5IWSM=\");\n\n_c = TradieSearchJobResult;\nexport default TradieSearchJobResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"TradieSearchJobResult\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieSearchJobResult/tradieSearchJobResult.tsx"],"names":["useState","useEffect","BannerSearch","TradieJobInfoBox","SearchResultFilters","RenderMap","InfiniteScroll","mapIcon","noData","closeMap","TradieSearchJobResult","props","searchResultData","setSearchResultData","page","searchByFilter","cleanFiltersData","mapData","setMapData","showMap","paramsData","setParamsData","isToggleModifySearch","setToggleModifySearch","jobListData","setJobListData","apiRequestData","setApiRequestData","hasMoreItems","setHasMoreItems","queryParamsData","getQueryParamsData","data","jobResults","long","defaultLong","lat","defaultLat","getViewNearByJob","isFiltered","tradeId","length","jobTypes","specializationId","from_date","to_date","min_budget","max_budget","pay_type","sortBy","addres","location","coordinates","address","postHomeSearchData","resetViewNearByJobData","resetHomeSearchJobData","params","URLSearchParams","history","search","specializationString","get","specializationArray","split","tradeIdArray","jobTypesArray","Number","isFilterOn","heading","searchJob","replaceAll","console","log","callJobList","jobResultsParam","homeSearchJobData","prevData","viewNearByJobData","allFiltersData","newParamsData","replace","headingType","jobTypeListData","find","i","_id","name","tradeListData","trade_name","includes","specializationList","specialisations","specializationName","newObjData","Object","keys","forEach","key","undefined","url","value","entries","newUrl","slice","refreshParams","handleChangeToggle","map","jobData","jobId","isLoading","display"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAGA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,OAAOC,mBAAP,MAAgC,8BAAhC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AAEA,OAAOC,OAAP,MAAoB,6BAApB;AACA,OAAOC,MAAP,MAAmB,wCAAnB;AACA,OAAOC,QAAP,MAAqB,qCAArB;;;;AAgBA,MAAMC,qBAAqB,GAAIC,KAAD,IAAsB;AAAA;;AAAA;;AAChD,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0Cb,QAAQ,CAAC;AACrDc,IAAAA,IAAI,EAAE,CAD+C;AAErDC,IAAAA,cAAc,EAAE,KAFqC;AAGrDC,IAAAA,gBAAgB,EAAE;AAHmC,GAAD,CAAxD;AAKA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAM;AACxCmB,IAAAA,OAAO,EAAE;AAD+B,GAAN,CAAtC;AAGA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BrB,QAAQ,CAAM,EAAN,CAA5C;AACA,QAAM,CAACsB,oBAAD,EAAuBC,qBAAvB,IAAgDvB,QAAQ,CAAU,KAAV,CAA9D;AACA,QAAM,CAACwB,WAAD,EAAcC,cAAd,IAAgCzB,QAAQ,CAAa,EAAb,CAA9C;AACA,QAAM,CAAC0B,cAAD,EAAiBC,iBAAjB,IAAsC3B,QAAQ,CAAM,EAAN,CAApD;AACA,QAAM,CAAC4B,YAAD,EAAeC,eAAf,IAAkC7B,QAAQ,CAAU,IAAV,CAAhD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI6B,eAAe,GAAGC,kBAAkB,EAAxC;AACA,QAAIC,IAAS,GAAG,EAAhB;;AAEA,QAAIF,eAAe,CAACG,UAAhB,KAA+B,eAAnC,EAAoD;AAChDD,MAAAA,IAAI,GAAG;AACHlB,QAAAA,IAAI,EAAE,CADH;AAEHoB,QAAAA,IAAI,EAAEJ,eAAe,CAACK,WAFnB;AAGHC,QAAAA,GAAG,EAAEN,eAAe,CAACO;AAHlB,OAAP;AAKA1B,MAAAA,KAAK,CAAC2B,gBAAN,CAAuBN,IAAvB;AACH,KAPD,MAOO;AAAA;;AACHA,MAAAA,IAAI,GAAG;AACHlB,QAAAA,IAAI,EAAE,CADH;AAEH,YAAIgB,eAAe,CAACS,UAAhB,GAA6B;AAAEA,UAAAA,UAAU,EAAE;AAAd,SAA7B,GAAoD;AAAEA,UAAAA,UAAU,EAAE;AAAd,SAAxD,CAFG;AAGH,YAAI,0BAAAT,eAAe,CAACU,OAAhB,gFAAyBC,MAAzB,KAAmC;AAAED,UAAAA,OAAO,EAAEV,eAAe,CAACU;AAA3B,SAAvC,CAHG;AAIH,YAAI,0BAAAV,eAAe,CAACY,QAAhB,gFAA0BD,MAA1B,KAAoC;AAAEC,UAAAA,QAAQ,EAAEZ,eAAe,CAACY;AAA5B,SAAxC,CAJG;AAKH,YAAI,0BAAAZ,eAAe,CAACa,gBAAhB,gFAAkCF,MAAlC,KAA4C;AAAEE,UAAAA,gBAAgB,EAAEb,eAAe,CAACa;AAApC,SAAhD,CALG;AAMH,YAAIb,eAAe,CAACc,SAAhB,IAA6B;AAAEA,UAAAA,SAAS,EAAEd,eAAe,CAACc;AAA7B,SAAjC,CANG;AAOH,YAAId,eAAe,CAACe,OAAhB,IAA2B;AAAEA,UAAAA,OAAO,EAAEf,eAAe,CAACe;AAA3B,SAA/B,CAPG;AAQH,YAAIf,eAAe,CAACgB,UAAhB,IAA8B,CAA9B,IAAmChB,eAAe,CAACiB,UAAhB,GAA6B,CAAhE,IAAqE;AAAEC,UAAAA,QAAQ,EAAElB,eAAe,CAACkB;AAA5B,SAAzE,CARG;AASH,YAAIlB,eAAe,CAACgB,UAAhB,IAA8B,CAA9B,IAAmChB,eAAe,CAACiB,UAAhB,GAA6B,CAAhE,IAAqE;AAAED,UAAAA,UAAU,EAAEhB,eAAe,CAACgB;AAA9B,SAAzE,CATG;AAUH,YAAIhB,eAAe,CAACgB,UAAhB,IAA8B,CAA9B,IAAmChB,eAAe,CAACiB,UAAhB,GAA6B,CAAhE,IAAqE;AAAEA,UAAAA,UAAU,EAAEjB,eAAe,CAACiB;AAA9B,SAAzE,CAVG;AAWH,YAAIjB,eAAe,CAACmB,MAAhB,IAA0B;AAAEA,UAAAA,MAAM,EAAEnB,eAAe,CAACmB;AAA1B,SAA9B,CAXG;AAYH,YAAI,CAACnB,eAAe,CAACoB,MAAhB,IAA0BpB,eAAe,CAACmB,MAAhB,KAA2B,CAAtD,KAA4D;AAC5DE,UAAAA,QAAQ,EAAE;AACNC,YAAAA,WAAW,EAAE,CAACtB,eAAe,CAACI,IAAhB,GAAuBJ,eAAe,CAACI,IAAvC,GAA8CJ,eAAe,CAACK,WAA/D,EAA4EL,eAAe,CAACM,GAAhB,GAAsBN,eAAe,CAACM,GAAtC,GAA4CN,eAAe,CAACO,UAAxI;AADP;AADkD,SAAhE,CAZG;AAiBH,YAAIP,eAAe,CAACoB,MAAhB,IAA0BpB,eAAe,CAACuB,OAA1C,IAAqD;AAAEA,UAAAA,OAAO,EAAEvB,eAAe,CAACuB;AAA3B,SAAzD;AAjBG,OAAP;AAmBA1C,MAAAA,KAAK,CAAC2C,kBAAN,CAAyBtB,IAAzB;AACH;;AACDL,IAAAA,iBAAiB,CAACK,IAAD,CAAjB;AACA,WAAO,MAAM;AACTrB,MAAAA,KAAK,CAAC4C,sBAAN;AACA5C,MAAAA,KAAK,CAAC6C,sBAAN;AACH,KAHD;AAIH,GAtCQ,EAsCN,EAtCM,CAAT;;AAwCA,QAAMzB,kBAAkB,GAAG,MAAM;AAAA;;AAC7B,UAAM0B,MAAM,GAAG,IAAIC,eAAJ,mBAAoB/C,KAAK,CAACgD,OAA1B,4EAAoB,eAAeR,QAAnC,0DAAoB,sBAAyBS,MAA7C,CAAf;AACA,UAAMC,oBAAoB,GAAGJ,MAAM,CAACK,GAAP,CAAW,kBAAX,CAA7B;AACA,UAAMC,mBAAmB,GAAGF,oBAAH,aAAGA,oBAAH,uBAAGA,oBAAoB,CAAEG,KAAtB,CAA4B,GAA5B,CAA5B;AACA,UAAMC,YAAY,GAAGR,MAAM,CAACK,GAAP,CAAW,SAAX,IAAwB,CAACL,MAAM,CAACK,GAAP,CAAW,SAAX,CAAD,CAAxB,GAAkD,IAAvE;AACA,UAAMI,aAAa,GAAGT,MAAM,CAACK,GAAP,CAAW,UAAX,IAAyB,CAACL,MAAM,CAACK,GAAP,CAAW,UAAX,CAAD,CAAzB,GAAoD,IAA1E;AACA,UAAMhC,eAAoB,GAAG;AACzBhB,MAAAA,IAAI,EAAEqD,MAAM,CAACV,MAAM,CAACK,GAAP,CAAW,MAAX,CAAD,CADa;AAEzBvB,MAAAA,UAAU,EAAEkB,MAAM,CAACK,GAAP,CAAW,YAAX,MAA6B,MAFhB;AAGzBM,MAAAA,UAAU,EAAEX,MAAM,CAACK,GAAP,CAAW,YAAX,CAHa;AAIzBtB,MAAAA,OAAO,EAAEyB,YAJgB;AAKzBtB,MAAAA,gBAAgB,EAAEoB,mBALO;AAMzB3B,MAAAA,GAAG,EAAE+B,MAAM,CAACV,MAAM,CAACK,GAAP,CAAW,KAAX,CAAD,CANc;AAOzB5B,MAAAA,IAAI,EAAEiC,MAAM,CAACV,MAAM,CAACK,GAAP,CAAW,MAAX,CAAD,CAPa;AAQzBzB,MAAAA,UAAU,EAAE8B,MAAM,CAACV,MAAM,CAACK,GAAP,CAAW,YAAX,CAAD,CARO;AASzB3B,MAAAA,WAAW,EAAEgC,MAAM,CAACV,MAAM,CAACK,GAAP,CAAW,aAAX,CAAD,CATM;AAUzBZ,MAAAA,MAAM,EAAEO,MAAM,CAACK,GAAP,CAAW,QAAX,CAViB;AAWzBT,MAAAA,OAAO,EAAEI,MAAM,CAACK,GAAP,CAAW,SAAX,CAXgB;AAYzBlB,MAAAA,SAAS,EAAEa,MAAM,CAACK,GAAP,CAAW,WAAX,CAZc;AAazBjB,MAAAA,OAAO,EAAEY,MAAM,CAACK,GAAP,CAAW,SAAX,CAbgB;AAczB7B,MAAAA,UAAU,EAAEwB,MAAM,CAACK,GAAP,CAAW,YAAX,CAda;AAezBO,MAAAA,OAAO,EAAEZ,MAAM,CAACK,GAAP,CAAW,SAAX,CAfgB;AAgBzBpB,MAAAA,QAAQ,EAAEwB,aAhBe;AAiBzBI,MAAAA,SAAS,iBAAEb,MAAM,CAACK,GAAP,CAAW,WAAX,CAAF,gDAAE,YAAyBS,UAAzB,CAAoC,KAApC,EAA2C,GAA3C,CAjBc;AAkBzBzB,MAAAA,UAAU,EAAEqB,MAAM,CAACV,MAAM,CAACK,GAAP,CAAW,YAAX,CAAD,CAlBO;AAmBzBf,MAAAA,UAAU,EAAEoB,MAAM,CAACV,MAAM,CAACK,GAAP,CAAW,YAAX,CAAD,CAnBO;AAoBzBd,MAAAA,QAAQ,EAAES,MAAM,CAACK,GAAP,CAAW,UAAX,CApBe;AAqBzBb,MAAAA,MAAM,EAAEkB,MAAM,CAACV,MAAM,CAACK,GAAP,CAAW,QAAX,CAAD;AArBW,KAA7B;AAuBAzC,IAAAA,aAAa,CAACS,eAAD,CAAb;AACA,WAAOA,eAAP;AACH,GA/BD;;AAiCA0C,EAAAA,OAAO,CAACC,GAAR,CAAYrD,UAAZ,EAAwB,YAAxB,EAAsCI,WAAtC,EAAmD,aAAnD,EAAkEE,cAAlE,EAAkF,gBAAlF,EAAoGE,YAApG,EAAkH,cAAlH;;AAEA,QAAM8C,WAAW,GAAG,MAAM;AACtB,QAAI,CAAC9C,YAAL,EAAmB;AAAE;AAAQ;;AAC7B,UAAMI,IAAI,GAAG,EAAE,GAAGN;AAAL,KAAb;AACAM,IAAAA,IAAI,CAAClB,IAAL,GAAYF,gBAAgB,CAACE,IAA7B;;AACA,QAAIM,UAAU,CAACa,UAAX,KAA0B,eAA9B,EAA+C;AAC3CtB,MAAAA,KAAK,CAAC2B,gBAAN,CAAuBN,IAAvB;AACH,KAFD,MAEO;AACHrB,MAAAA,KAAK,CAAC2C,kBAAN,CAAyBtB,IAAzB;AACH;AACJ,GATD;;AAWA/B,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACZ,UAAM0E,eAAe,GAAG,IAAIjB,eAAJ,oBAAoB/C,KAAK,CAACgD,OAA1B,6EAAoB,gBAAeR,QAAnC,0DAAoB,sBAAyBS,MAA7C,EAAqDE,GAArD,CAAyD,YAAzD,CAAxB;;AACA,QAAIlD,gBAAgB,CAACG,cAAjB,8BAAmCJ,KAAK,CAACiE,iBAAzC,0DAAmC,sBAAyBnC,MAA5D,CAAJ,EAAwE;AAAA;;AACpE,UAAI7B,gBAAgB,CAACE,IAAjB,KAA0B,CAA9B,EAAiC;AAC7BW,QAAAA,cAAc,CAACd,KAAK,CAACiE,iBAAP,CAAd;AACH,OAFD,MAEO;AACHnD,QAAAA,cAAc,CAAEoD,QAAD,IAAoB,CAAC,GAAGA,QAAJ,EAAc,GAAGlE,KAAK,CAACiE,iBAAvB,CAArB,CAAd;AACH;;AACD/D,MAAAA,mBAAmB,CAAEgE,QAAD,KAAoB,EAAE,GAAGA,QAAL;AAAe/D,QAAAA,IAAI,EAAE+D,QAAQ,CAAC/D,IAAT,GAAgB;AAArC,OAApB,CAAD,CAAnB;;AACA,UAAI,2BAAAH,KAAK,CAACiE,iBAAN,kFAAyBnC,MAAzB,IAAkC,EAAtC,EAA0C;AAAEZ,QAAAA,eAAe,CAAC,KAAD,CAAf;AAAyB;;AACrE;AACH;;AACD,QAAI8C,eAAe,KAAK,eAApB,8BAAuChE,KAAK,CAACmE,iBAA7C,0DAAuC,sBAAyBrC,MAAhE,CAAJ,EAA4E;AAAA;;AACxE,UAAI7B,gBAAgB,CAACE,IAAjB,KAA0B,CAA9B,EAAiC;AAC7BW,QAAAA,cAAc,CAACd,KAAK,CAACmE,iBAAP,CAAd;AACH,OAFD,MAEO;AACHrD,QAAAA,cAAc,CAAEoD,QAAD,IAAoB,CAAC,GAAGA,QAAJ,EAAc,GAAGlE,KAAK,CAACmE,iBAAvB,CAArB,CAAd;AACH;;AACDjE,MAAAA,mBAAmB,CAAEgE,QAAD,KAAoB,EAAE,GAAGA,QAAL;AAAe/D,QAAAA,IAAI,EAAE+D,QAAQ,CAAC/D,IAAT,GAAgB;AAArC,OAApB,CAAD,CAAnB;;AACA,UAAI,2BAAAH,KAAK,CAACmE,iBAAN,kFAAyBrC,MAAzB,IAAkC,EAAtC,EAA0C;AAAEZ,QAAAA,eAAe,CAAC,KAAD,CAAf;AAAyB;;AACrE;AACH,KATD,MASO,8BAAIlB,KAAK,CAACiE,iBAAV,2DAAI,uBAAyBnC,MAA7B,EAAqC;AAAA;;AACxC,UAAI7B,gBAAgB,CAACE,IAAjB,KAA0B,CAA9B,EAAiC;AAC7BW,QAAAA,cAAc,CAACd,KAAK,CAACiE,iBAAP,CAAd;AACH,OAFD,MAEO;AACHnD,QAAAA,cAAc,CAAEoD,QAAD,IAAoB,CAAC,GAAGA,QAAJ,EAAc,GAAGlE,KAAK,CAACiE,iBAAvB,CAArB,CAAd;AACH;;AACD/D,MAAAA,mBAAmB,CAAEgE,QAAD,KAAoB,EAAE,GAAGA,QAAL;AAAe/D,QAAAA,IAAI,EAAE+D,QAAQ,CAAC/D,IAAT,GAAgB;AAArC,OAApB,CAAD,CAAnB;;AACA,UAAI,2BAAAH,KAAK,CAACiE,iBAAN,kFAAyBnC,MAAzB,IAAkC,EAAtC,EAA0C;AAAEZ,QAAAA,eAAe,CAAC,KAAD,CAAf;AAAyB;AACxE;AACJ,GA9BQ,EA8BN,CAAClB,KAAK,CAACiE,iBAAP,EAA0BjE,KAAK,CAACmE,iBAAhC,CA9BM,CAAT;;AAgCA,QAAM/D,cAAc,GAAIgE,cAAD,IAAyB;AAAA;;AAC5C,UAAMC,aAAa,GAAGjD,kBAAkB,EAAxC;;AACA,QAAIgD,cAAc,KAAK,sBAAvB,EAA+C;AAC3C,YAAM/C,IAAI,GAAG;AACTlB,QAAAA,IAAI,EAAE,CADG;AAEToB,QAAAA,IAAI,EAAE8C,aAAa,CAAC7C,WAFX;AAGTC,QAAAA,GAAG,EAAE4C,aAAa,CAAC3C;AAHV,OAAb;AAKA1B,MAAAA,KAAK,CAAC2B,gBAAN,CAAuBN,IAAvB;AACArB,MAAAA,KAAK,CAACgD,OAAN,CAAcsB,OAAd,CAAuB,2DAA0DD,aAAa,CAAC3C,UAAW,gBAAe2C,aAAa,CAAC7C,WAAY,EAAnJ;AACAJ,MAAAA,kBAAkB;AAClBlB,MAAAA,mBAAmB,CAAEgE,QAAD,KAAoB,EAAE,GAAGA,QAAL;AAAe9D,QAAAA,cAAc,EAAE,KAA/B;AAAsCD,QAAAA,IAAI,EAAE;AAA5C,OAApB,CAAD,CAAnB;AACA;AACH;;AACD,QAAIoE,WAAmB,GAAG,EAA1B;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAYM,cAAZ,EAA4B,gBAA5B,EAA8CC,aAA9C;;AAEA,iCAAIA,aAAa,CAACxC,OAAlB,0DAAI,sBAAuBC,MAA3B,EAAmC;AAC/B,aAAOuC,aAAa,CAACxC,OAArB;AACH;;AACD,iCAAIwC,aAAa,CAACtC,QAAlB,0DAAI,sBAAwBD,MAA5B,EAAoC;AAChC,aAAOuC,aAAa,CAACtC,QAArB;AACH;;AACD,iCAAIsC,aAAa,CAACrC,gBAAlB,0DAAI,sBAAgCF,MAApC,EAA4C;AACxC,aAAOuC,aAAa,CAACrC,gBAArB;AACH;;AACD,QAAI,0BAAAoC,cAAc,CAACrC,QAAf,gFAAyBD,MAAzB,KAAmC,2BAACsC,cAAc,CAACvC,OAAhB,0DAAC,sBAAwBC,MAAzB,CAAvC,EAAwE;AAAA;;AACpEyC,MAAAA,WAAW,4BAAGvE,KAAK,CAACwE,eAAT,oFAAG,sBAAuBC,IAAvB,CAA6BC,CAAD,IAAYA,CAAC,CAACC,GAAF,KAAUP,cAAc,CAACrC,QAAf,CAAwB,CAAxB,CAAlD,CAAH,2DAAG,uBAA+E6C,IAA7F;AACA,aAAOP,aAAa,CAACV,SAArB;AACH;;AACD,QAAI,2BAAAS,cAAc,CAACvC,OAAf,kFAAwBC,MAAxB,KAAkC,2BAACsC,cAAc,CAACpC,gBAAhB,0DAAC,sBAAiCF,MAAlC,CAAtC,EAAgF;AAAA;;AAC5EyC,MAAAA,WAAW,2BAAGvE,KAAK,CAAC6E,aAAT,kFAAG,qBAAqBJ,IAArB,CAA2BC,CAAD,IAAYA,CAAC,CAACC,GAAF,MAAUP,cAAV,aAAUA,cAAV,uBAAUA,cAAc,CAAEvC,OAAhB,CAAwB,CAAxB,CAAV,CAAtC,CAAH,0DAAG,sBAA6EiD,UAA3F;AACA,aAAOT,aAAa,CAACV,SAArB;AACH;;AAED,QAAItC,IAAI,GAAG,EACP,GAAGgD,aADI;AAEPZ,MAAAA,UAAU,EAAE,YAFL;AAGPnC,MAAAA,UAAU,EAAE,IAHL;AAIPM,MAAAA,UAAU,EAAE,IAJL;AAKP,UAAI,2BAAAwC,cAAc,CAACvC,OAAf,kFAAwBC,MAAxB,KAAkC;AAAED,QAAAA,OAAO,EAAEuC,cAAc,CAACvC;AAA1B,OAAtC,CALO;AAMP,UAAI,2BAAAuC,cAAc,CAACrC,QAAf,kFAAyBD,MAAzB,KAAmC;AAAEC,QAAAA,QAAQ,EAAEqC,cAAc,CAACrC;AAA3B,OAAvC,CANO;AAOP,UAAK,2BAAAqC,cAAc,CAACrC,QAAf,kFAAyBD,MAAzB,KAAmC,4BAACsC,cAAc,CAACvC,OAAhB,2DAAC,uBAAwBC,MAAzB,CAApC,IAAwE;AAAER,QAAAA,UAAU,EAAE;AAAd,OAA5E,CAPO;AAQP,UAAK,2BAAA8C,cAAc,CAACrC,QAAf,kFAAyBD,MAAzB,KAAmC,4BAACsC,cAAc,CAACvC,OAAhB,2DAAC,uBAAwBC,MAAzB,CAApC,IAAwE;AAAE4B,QAAAA,OAAO,EAAEa;AAAX,OAA5E,CARO;AASP,UAAK,2BAAAH,cAAc,CAACvC,OAAf,kFAAwBC,MAAxB,KAAkC,4BAACsC,cAAc,CAACpC,gBAAhB,2DAAC,uBAAiCF,MAAlC,CAAnC,IAAgF;AAAER,QAAAA,UAAU,EAAE;AAAd,OAApF,CATO;AAUP,UAAK,2BAAA8C,cAAc,CAACvC,OAAf,kFAAwBC,MAAxB,KAAkC,4BAACsC,cAAc,CAACpC,gBAAhB,2DAAC,uBAAiCF,MAAlC,CAAnC,IAAgF;AAAE4B,QAAAA,OAAO,EAAEa;AAAX,OAApF,CAVO;AAWP,UAAI,2BAAAH,cAAc,CAACpC,gBAAf,kFAAiCF,MAAjC,KAA2C;AAAEE,QAAAA,gBAAgB,EAAEoC,cAAc,CAACpC;AAAnC,OAA/C,CAXO;AAYP,UAAIoC,cAAc,CAACjC,UAAf,IAA6B,CAA7B,IAAkCiC,cAAc,CAAChC,UAAf,GAA4B,CAA9D,IAAmE;AAAEC,QAAAA,QAAQ,EAAE+B,cAAc,CAAC/B;AAA3B,OAAvE,CAZO;AAaP,UAAI+B,cAAc,CAACjC,UAAf,IAA6B,CAA7B,IAAkCiC,cAAc,CAAChC,UAAf,GAA4B,CAA9D,IAAmE;AAAED,QAAAA,UAAU,EAAEiC,cAAc,CAACjC;AAA7B,OAAvE,CAbO;AAcP,UAAIiC,cAAc,CAACjC,UAAf,IAA6B,CAA7B,IAAkCiC,cAAc,CAAChC,UAAf,GAA4B,CAA9D,IAAmE;AAAEA,QAAAA,UAAU,EAAEgC,cAAc,CAAChC;AAA7B,OAAvE,CAdO;AAeP,UAAI,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU2C,QAAV,CAAmBX,cAAc,CAAC9B,MAAlC,KAA6C;AAAEA,QAAAA,MAAM,EAAE8B,cAAc,CAAC9B;AAAzB,OAAjD;AAfO,KAAX;;AAkBA,QAAI8B,cAAc,CAAC9B,MAAf,KAA0B,GAA9B,EAAmC;AAC/B,aAAOjB,IAAI,CAACiB,MAAZ;AACH;;AACD,QAAIjB,IAAI,CAACsC,SAAT,EAAoB;AAChB,aAAOtC,IAAI,CAACqC,OAAZ;AACA,aAAOrC,IAAI,CAACC,UAAZ;AACH;;AACD,QAAI8C,cAAc,CAAChC,UAAf,KAA8B,CAAlC,EAAqC;AACjC,aAAOf,IAAI,CAACc,UAAZ;AACA,aAAOd,IAAI,CAACe,UAAZ;AACA,aAAOf,IAAI,CAACgB,QAAZ;AACH;;AACD,QAAI,CAAA+B,cAAc,SAAd,IAAAA,cAAc,WAAd,sCAAAA,cAAc,CAAEpC,gBAAhB,kFAAkCF,MAAlC,MAA4CsC,cAA5C,aAA4CA,cAA5C,iDAA4CA,cAAc,CAAEvC,OAA5D,2DAA4C,uBAAyBC,MAArE,CAAJ,EAAiF;AAAA;;AAC7E,YAAMkD,kBAAkB,4BAAGhF,KAAK,CAAC6E,aAAT,mFAAG,sBAAqBJ,IAArB,CAA2BC,CAAD,IAAYA,CAAC,CAACC,GAAF,MAAUP,cAAV,aAAUA,cAAV,uBAAUA,cAAc,CAAEvC,OAAhB,CAAwB,CAAxB,CAAV,CAAtC,CAAH,0DAAG,sBAA6EoD,eAAxG;AACA,YAAMC,kBAAkB,GAAGF,kBAAH,aAAGA,kBAAH,gDAAGA,kBAAkB,CAAEP,IAApB,CAA0BC,CAAD,IAAYA,CAAC,CAACC,GAAF,MAAUP,cAAV,aAAUA,cAAV,uBAAUA,cAAc,CAAEpC,gBAAhB,CAAiC,CAAjC,CAAV,CAArC,CAAH,0DAAG,sBAAqF4C,IAAhH;;AACA,UAAIM,kBAAJ,EAAwB;AACpB7D,QAAAA,IAAI,GAAG,EACH,GAAGA,IADA;AAEHsC,UAAAA,SAAS,EAAEuB;AAFR,SAAP;AAIH;AACJ;;AAED,UAAMC,UAAU,GAAG;AACfhF,MAAAA,IAAI,EAAE,CADS;AAEfyB,MAAAA,UAAU,EAAE,IAFG;AAGf,UAAIP,IAAI,CAACiB,MAAL,IAAe;AAAEA,QAAAA,MAAM,EAAEjB,IAAI,CAACiB;AAAf,OAAnB,CAHe;AAIf,UAAIjB,IAAI,CAACQ,OAAL,IAAgB;AAAEA,QAAAA,OAAO,EAAER,IAAI,CAACQ;AAAhB,OAApB,CAJe;AAKf,UAAIR,IAAI,CAACW,gBAAL,IAAyB;AAAEA,QAAAA,gBAAgB,EAAEX,IAAI,CAACW;AAAzB,OAA7B,CALe;AAMf,UAAIX,IAAI,CAACY,SAAL,IAAkB;AAAEA,QAAAA,SAAS,EAAEZ,IAAI,CAACY;AAAlB,OAAtB,CANe;AAOf,UAAIZ,IAAI,CAACa,OAAL,IAAgB;AAAEA,QAAAA,OAAO,EAAEb,IAAI,CAACa;AAAhB,OAApB,CAPe;AAQf,UAAIb,IAAI,CAACU,QAAL,IAAiB;AAAEA,QAAAA,QAAQ,EAAEV,IAAI,CAACU;AAAjB,OAArB,CARe;AASf,UAAIV,IAAI,CAACc,UAAL,IAAmB,CAAnB,IAAwBd,IAAI,CAACe,UAAL,GAAkB,CAA1C,IAA+C;AAAEC,QAAAA,QAAQ,EAAEhB,IAAI,CAACgB;AAAjB,OAAnD,CATe;AAUf,UAAIhB,IAAI,CAACc,UAAL,IAAmB,CAAnB,IAAwBd,IAAI,CAACe,UAAL,GAAkB,CAA1C,IAA+C;AAAED,QAAAA,UAAU,EAAEd,IAAI,CAACc;AAAnB,OAAnD,CAVe;AAWf,UAAId,IAAI,CAACc,UAAL,IAAmB,CAAnB,IAAwBd,IAAI,CAACe,UAAL,GAAkB,CAA1C,IAA+C;AAAEA,QAAAA,UAAU,EAAEf,IAAI,CAACe;AAAnB,OAAnD,CAXe;AAYf,UAAI,CAACf,IAAI,CAACqB,OAAL,IAAgB0B,cAAc,CAAC9B,MAAf,KAA0B,CAA3C,KAAiD;AACjDE,QAAAA,QAAQ,EAAE;AACNC,UAAAA,WAAW,EAAE,CAACpB,IAAI,CAACE,IAAL,GAAYF,IAAI,CAACE,IAAjB,GAAwBF,IAAI,CAACG,WAA9B,EAA2CH,IAAI,CAACI,GAAL,GAAWJ,IAAI,CAACI,GAAhB,GAAsBJ,IAAI,CAACK,UAAtE;AADP;AADuC,OAArD,CAZe,CAiBf;;AAjBe,KAAnB;AAmBA0D,IAAAA,MAAM,CAACC,IAAP,CAAYhE,IAAZ,EAAkBiE,OAAlB,CAA0BC,GAAG,IAAI,CAAClE,IAAI,CAACkE,GAAD,CAAJ,KAAcC,SAAd,IAA2BnE,IAAI,CAACkE,GAAD,CAAJ,KAAc,IAAzC,IAAiDlE,IAAI,CAACkE,GAAD,CAAJ,KAAc,CAA/D,IAAoElE,IAAI,CAACkE,GAAD,CAAJ,KAAc,GAAnF,KAA2F,OAAOlE,IAAI,CAACkE,GAAD,CAAvI;AACA,QAAIE,GAAG,GAAG,qBAAV;;AACA,SAAK,IAAI,CAACF,GAAD,EAAMG,KAAN,CAAT,IAAyBN,MAAM,CAACO,OAAP,CAAetE,IAAf,CAAzB,EAA+C;AAC3CwC,MAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAZ,EAAiBG,KAAjB;AACAD,MAAAA,GAAG,IAAK,GAAEF,GAAI,IAAGG,KAAM,GAAvB;AACH;;AACD,UAAME,MAAM,GAAGH,GAAG,CAACI,KAAJ,CAAU,CAAV,EAAaJ,GAAG,CAAC3D,MAAJ,GAAa,CAA1B,CAAf;AACA9B,IAAAA,KAAK,CAAC2C,kBAAN,CAAyBwC,UAAzB;AACAnF,IAAAA,KAAK,CAACgD,OAAN,CAAcsB,OAAd,CAAsBsB,MAAtB;AACA9E,IAAAA,cAAc,CAAC,EAAD,CAAd;AACAJ,IAAAA,aAAa,CAACW,IAAD,CAAb;AACAL,IAAAA,iBAAiB,CAACmE,UAAD,CAAjB;AACAjF,IAAAA,mBAAmB,CAAEgE,QAAD,KAAoB,EAAE,GAAGA,QAAL;AAAe/D,MAAAA,IAAI,EAAE,CAArB;AAAwBC,MAAAA,cAAc,EAAE;AAAxC,KAApB,CAAD,CAAnB;AACAc,IAAAA,eAAe,CAAC,IAAD,CAAf;AACA2C,IAAAA,OAAO,CAACC,GAAR,CAAY8B,MAAZ,EAAoB,QAApB,EAA8BvE,IAA9B,EAAoC,MAApC,EAA4C8D,UAA5C,EAAwD,YAAxD,EAAsEd,aAAtE;AACH,GA9GD,CArIgD,CAqPhD;AACA;AACA;AACA;;;AAEA,QAAMyB,aAAa,GAAIzE,IAAD,IAAe;AACjCP,IAAAA,cAAc,CAAC,EAAD,CAAd;AACAM,IAAAA,kBAAkB;AAClBJ,IAAAA,iBAAiB,CAACK,IAAD,CAAjB;AACAnB,IAAAA,mBAAmB,CAAEgE,QAAD,KAAoB,EAAE,GAAGA,QAAL;AAAe/D,MAAAA,IAAI,EAAE,CAArB;AAAwBE,MAAAA,gBAAgB,EAAE;AAA1C,KAApB,CAAD,CAAnB;AACAa,IAAAA,eAAe,CAAC,IAAD,CAAf;AACH,GAND;;AAQA,QAAM6E,kBAAkB,GAAIL,KAAD,IAAoB;AAAE9E,IAAAA,qBAAqB,CAAC8E,KAAD,CAArB;AAA8B,GAA/E;;AAEA,sBACI,QAAC,cAAD;AACI,IAAA,UAAU,EAAE7E,WAAW,CAACiB,MAD5B;AAEI,IAAA,IAAI,EAAEiC,WAFV;AAGI,IAAA,OAAO,EAAE,IAHb;AAII,IAAA,MAAM,eAAE;AAAA;AAAA;AAAA;AAAA,YAJZ;AAAA,2BAMI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAG,cAAapD,oBAAoB,GAAG,QAAH,GAAc,EAAG,EAAnE;AAAA,+BACI,QAAC,YAAD,OACQX,KADR;AAEI,UAAA,kBAAkB,EAAE+F,kBAFxB;AAGI,UAAA,UAAU,EAAEtF,UAHhB;AAII,UAAA,aAAa,EAAEqF;AAJnB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eASI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,oCAEI;AAAK,cAAA,SAAS,EAAC,0BAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,gBAAA,SAAS,EAAC,0BAAf;AAAA,uCACI;AAAQ,kBAAA,OAAO,EAAE,MAAM;AAAElF,oBAAAA,qBAAqB,CAAC,IAAD,CAArB;AAA6B,mBAAtD;AAAwD,kBAAA,SAAS,EAAC,0BAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eASI;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAC,eAAf;AAAA,0CAEI;AAAM,oBAAA,SAAS,EAAC,OAAhB;AAAA,+BAAyBH,UAAU,CAACa,UAAX,KAA0B,eAA1B,GAA4C,eAA5C,GAA8Db,UAAU,CAACa,UAAX,KAA0B,aAA1B,GAA0Cb,UAAU,CAACiD,OAArD,GAA+DjD,UAAU,CAACkD,SAAX,GAAwB,GAAElD,UAAU,CAACkD,SAAU,GAAE,0BAAAlD,UAAU,CAACuB,gBAAX,gFAA6BF,MAA7B,KAAuC,CAAvC,GAA4C,KAAI,2BAAArB,UAAU,CAACuB,gBAAX,kFAA6BF,MAA7B,IAAsC,CAAE,EAAxF,GAA4F,EAAG,EAAhJ,GAAoJ,EAA1S,eACI;AAAM,sBAAA,SAAS,EAAC,OAAhB;AAAA,gCAA0B,GAAEjB,WAAW,CAACiB,MAAZ,IAAsB,CAAE;AAApD;AAAA;AAAA;AAAA;AAAA,4BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAKI,QAAC,mBAAD;AACI,oBAAA,cAAc,EAAE1B,cADpB;AAEI,oBAAA,gBAAgB,EAAEH,gBAAgB,CAACI,gBAFvC;AAGI,oBAAA,OAAO,EAAEL,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEgD;AAHpB;AAAA;AAAA;AAAA;AAAA,0BALJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAYKnC,WAAW,CAACiB,MAAZ,GAAqB,CAArB,IAA0B,CAACxB,OAAO,CAACE,OAAnC,iBAA8C;AAAK,kBAAA,SAAS,EAAC,0BAAf;AAAA,yCAC3C;AAAG,oBAAA,SAAS,EAAC,SAAb;AAAuB,oBAAA,OAAO,EAAE,MAAMD,UAAU,CAAE2D,QAAD,KAAoB,EAAE,GAAGA,QAAL;AAAe1D,sBAAAA,OAAO,EAAE,CAAC0D,QAAQ,CAAC1D;AAAlC,qBAApB,CAAD,CAAhD;AAAA,4CACI;AAAK,sBAAA,GAAG,EAAEZ,OAAV;AAAmB,sBAAA,GAAG,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA,4BADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAD2C;AAAA;AAAA;AAAA;AAAA,wBAZnD;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBATJ,eA6BI;AAAK,cAAA,SAAS,EAAC,sBAAf;AAAA,yBAEKU,OAAO,CAACE,OAAR,gBAAkB;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,0BACdK,WAAW,CAACiB,MAAZ,GAAqB,CAArB,GACIjB,WAAW,CAACmF,GAAZ,CAAiBC,OAAD,IAAkB;AAC/B,sCAAO,eAAC,gBAAD;AAAkB,oBAAA,IAAI,EAAEA,OAAxB;AAAA,uBAAqCjG,KAArC;AAA4C,oBAAA,GAAG,EAAEiG,OAAO,CAACC,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACH,iBAFA,CADJ,gBAIG;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,0CACI;AAAQ,oBAAA,SAAS,EAAC,QAAlB;AAAA,2CACI;AAAK,sBAAA,GAAG,EAAErG,MAAV;AAAkB,sBAAA,GAAG,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AALW;AAAA;AAAA;AAAA;AAAA,sBAAlB,GAWSgB,WAAW,CAACiB,MAAZ,GAAqB,CAArB,IAA0B9B,KAAK,CAACmG,SAAjC,GACJtF,WAAW,CAACmF,GAAZ,CAAiBC,OAAD,IAAkB;AAC/B,oCAAO,eAAC,gBAAD;AAAkB,kBAAA,IAAI,EAAEA,OAAxB;AAAA,qBAAqCjG,KAArC;AAA4C,kBAAA,GAAG,EAAEiG,OAAO,CAACC,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AACH,eAFA,CADI,gBAGC;AAAK,gBAAA,SAAS,EAAC,WAAf;AAAA,wCACF;AAAQ,kBAAA,SAAS,EAAC,QAAlB;AAAA,yCACI;AAAK,oBAAA,GAAG,EAAErG,MAAV;AAAkB,oBAAA,GAAG,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBADE,eAIF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJE;AAAA;AAAA;AAAA;AAAA;AAAA,sBAhBd,eAsBK;AAAK,gBAAA,SAAS,EAAC,SAAf;AAAyB,gBAAA,KAAK,EAAE,CAACS,OAAO,CAACE,OAAT,GAAmB;AAAE4F,kBAAAA,OAAO,EAAE;AAAX,iBAAnB,GAAyC,EAAzE;AAAA,uCACG;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,0CACI;AAAM,oBAAA,SAAS,EAAC,WAAhB;AAA4B,oBAAA,OAAO,EAAE,MAAM7F,UAAU,CAAE2D,QAAD,KAAoB,EAAE,GAAGA,QAAL;AAAe1D,sBAAAA,OAAO,EAAE,CAAC0D,QAAQ,CAAC1D;AAAlC,qBAApB,CAAD,CAArD;AAAA,2CACI;AAAK,sBAAA,GAAG,EAAEV,QAAV;AAAoB,sBAAA,GAAG,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BADJ,eAII,QAAC,SAAD,OAAeE,KAAf;AAAsB,oBAAA,cAAc,EAAEC,gBAAgB,CAACG;AAAvD;AAAA;AAAA;AAAA;AAAA,0BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,sBAtBL;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAoFH,CAxVD;;GAAML,qB;;KAAAA,qB;AA0VN,eAAeA,qBAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport BannerSearch from '../../common/tradieBannerSearch/index';\nimport TradieJobInfoBox from '../../common/tradieJobInfoBox';\nimport SearchResultFilters from '../searchResultFilters/index';\nimport RenderMap from './renderMap';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport mapIcon from '../../assets/images/map.png';\nimport noData from '../../assets/images/no-search-data.png';\nimport closeMap from '../../assets/images/close-white.png';\n\ninterface PropsType {\n    history: any,\n    location?: any,\n    isLoading: boolean,\n    tradeListData: Array<any>,\n    jobTypeListData: Array<any>,\n    viewNearByJobData: Array<any>,\n    homeSearchJobData: Array<any>,\n    getViewNearByJob: (data: any) => void,\n    postHomeSearchData: (data: any) => void,\n    resetHomeSearchJobData: () => void,\n    resetViewNearByJobData: () => void,\n}\n\nconst TradieSearchJobResult = (props: PropsType) => {\n    const [searchResultData, setSearchResultData] = useState({\n        page: 1,\n        searchByFilter: false,\n        cleanFiltersData: false\n    })\n    const [mapData, setMapData] = useState<any>({\n        showMap: false\n    })\n    const [paramsData, setParamsData] = useState<any>({});\n    const [isToggleModifySearch, setToggleModifySearch] = useState<boolean>(false);\n    const [jobListData, setJobListData] = useState<Array<any>>([]);\n    const [apiRequestData, setApiRequestData] = useState<any>({});\n    const [hasMoreItems, setHasMoreItems] = useState<boolean>(true);\n\n    useEffect(() => {\n        var queryParamsData = getQueryParamsData();\n        let data: any = {};\n\n        if (queryParamsData.jobResults === 'viewNearByJob') {\n            data = {\n                page: 1,\n                long: queryParamsData.defaultLong,\n                lat: queryParamsData.defaultLat\n            }\n            props.getViewNearByJob(data);\n        } else {\n            data = {\n                page: 1,\n                ...(queryParamsData.isFiltered ? { isFiltered: true } : { isFiltered: false }),\n                ...(queryParamsData.tradeId?.length && { tradeId: queryParamsData.tradeId }),\n                ...(queryParamsData.jobTypes?.length && { jobTypes: queryParamsData.jobTypes }),\n                ...(queryParamsData.specializationId?.length && { specializationId: queryParamsData.specializationId }),\n                ...(queryParamsData.from_date && { from_date: queryParamsData.from_date }),\n                ...(queryParamsData.to_date && { to_date: queryParamsData.to_date }),\n                ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && { pay_type: queryParamsData.pay_type }),\n                ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && { min_budget: queryParamsData.min_budget }),\n                ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && { max_budget: queryParamsData.max_budget }),\n                ...(queryParamsData.sortBy && { sortBy: queryParamsData.sortBy }),\n                ...((queryParamsData.addres || queryParamsData.sortBy === 2) && {\n                    location: {\n                        coordinates: [queryParamsData.long ? queryParamsData.long : queryParamsData.defaultLong, queryParamsData.lat ? queryParamsData.lat : queryParamsData.defaultLat]\n                    }\n                }),\n                ...(queryParamsData.addres && queryParamsData.address && { address: queryParamsData.address })\n            }\n            props.postHomeSearchData(data);\n        }\n        setApiRequestData(data);\n        return () => {\n            props.resetViewNearByJobData();\n            props.resetHomeSearchJobData();\n        }\n    }, []);\n\n    const getQueryParamsData = () => {\n        const params = new URLSearchParams(props.history?.location?.search);\n        const specializationString = params.get('specializationId')\n        const specializationArray = specializationString?.split(',');\n        const tradeIdArray = params.get('tradeId') ? [params.get('tradeId')] : null;\n        const jobTypesArray = params.get('jobTypes') ? [params.get('jobTypes')] : null;\n        const queryParamsData: any = {\n            page: Number(params.get('page')),\n            isFiltered: params.get('isFiltered') === \"true\",\n            isFilterOn: params.get('isFilterOn'),\n            tradeId: tradeIdArray,\n            specializationId: specializationArray,\n            lat: Number(params.get('lat')),\n            long: Number(params.get('long')),\n            defaultLat: Number(params.get('defaultLat')),\n            defaultLong: Number(params.get('defaultLong')),\n            addres: params.get('addres'),\n            address: params.get('address'),\n            from_date: params.get('from_date'),\n            to_date: params.get('to_date'),\n            jobResults: params.get('jobResults'),\n            heading: params.get('heading'),\n            jobTypes: jobTypesArray,\n            searchJob: params.get('searchJob')?.replaceAll(\"xxx\", \"&\"),\n            min_budget: Number(params.get('min_budget')),\n            max_budget: Number(params.get('max_budget')),\n            pay_type: params.get('pay_type'),\n            sortBy: Number(params.get('sortBy'))\n        }\n        setParamsData(queryParamsData);\n        return queryParamsData;\n    }\n\n    console.log(paramsData, \"paramsData\", jobListData, \"jobListData\", apiRequestData, \"apiRequestData\", hasMoreItems, \"hasMoreItems\");\n\n    const callJobList = () => {\n        if (!hasMoreItems) { return }\n        const data = { ...apiRequestData };\n        data.page = searchResultData.page;\n        if (paramsData.jobResults === 'viewNearByJob') {\n            props.getViewNearByJob(data);\n        } else {\n            props.postHomeSearchData(data);\n        }\n    }\n\n    useEffect(() => {\n        const jobResultsParam = new URLSearchParams(props.history?.location?.search).get('jobResults');\n        if (searchResultData.searchByFilter && props.homeSearchJobData?.length) {\n            if (searchResultData.page === 1) {\n                setJobListData(props.homeSearchJobData);\n            } else {\n                setJobListData((prevData: any) => ([...prevData, ...props.homeSearchJobData]));\n            }\n            setSearchResultData((prevData: any) => ({ ...prevData, page: prevData.page + 1 }));\n            if (props.homeSearchJobData?.length < 10) { setHasMoreItems(false); }\n            return;\n        }\n        if (jobResultsParam === 'viewNearByJob' && props.viewNearByJobData?.length) {\n            if (searchResultData.page === 1) {\n                setJobListData(props.viewNearByJobData);\n            } else {\n                setJobListData((prevData: any) => ([...prevData, ...props.viewNearByJobData]));\n            }\n            setSearchResultData((prevData: any) => ({ ...prevData, page: prevData.page + 1 }));\n            if (props.viewNearByJobData?.length < 10) { setHasMoreItems(false); }\n            return;\n        } else if (props.homeSearchJobData?.length) {\n            if (searchResultData.page === 1) {\n                setJobListData(props.homeSearchJobData);\n            } else {\n                setJobListData((prevData: any) => ([...prevData, ...props.homeSearchJobData]));\n            }\n            setSearchResultData((prevData: any) => ({ ...prevData, page: prevData.page + 1 }));\n            if (props.homeSearchJobData?.length < 10) { setHasMoreItems(false); }\n        }\n    }, [props.homeSearchJobData, props.viewNearByJobData]);\n\n    const searchByFilter = (allFiltersData: any) => {\n        const newParamsData = getQueryParamsData();\n        if (allFiltersData === \"callViewNearByJobApi\") {\n            const data = {\n                page: 1,\n                long: newParamsData.defaultLong,\n                lat: newParamsData.defaultLat\n            }\n            props.getViewNearByJob(data);\n            props.history.replace(`/search-job-results?jobResults=viewNearByJob&defaultLat=${newParamsData.defaultLat}&defaultLong=${newParamsData.defaultLong}`);\n            getQueryParamsData();\n            setSearchResultData((prevData: any) => ({ ...prevData, searchByFilter: false, page: 1 }));\n            return;\n        }\n        var headingType: string = '';\n        console.log(allFiltersData, 'allFiltersData', newParamsData);\n\n        if (newParamsData.tradeId?.length) {\n            delete newParamsData.tradeId;\n        }\n        if (newParamsData.jobTypes?.length) {\n            delete newParamsData.jobTypes;\n        }\n        if (newParamsData.specializationId?.length) {\n            delete newParamsData.specializationId;\n        }\n        if (allFiltersData.jobTypes?.length && !allFiltersData.tradeId?.length) {\n            headingType = props.jobTypeListData?.find((i: any) => i._id === allFiltersData.jobTypes[0])?.name;\n            delete newParamsData.searchJob;\n        }\n        if (allFiltersData.tradeId?.length && !allFiltersData.specializationId?.length) {\n            headingType = props.tradeListData?.find((i: any) => i._id === allFiltersData?.tradeId[0])?.trade_name;\n            delete newParamsData.searchJob;\n        }\n\n        var data = {\n            ...newParamsData,\n            isFilterOn: \"isFilterOn\",\n            jobResults: null,\n            isFiltered: true,\n            ...(allFiltersData.tradeId?.length && { tradeId: allFiltersData.tradeId }),\n            ...(allFiltersData.jobTypes?.length && { jobTypes: allFiltersData.jobTypes }),\n            ...((allFiltersData.jobTypes?.length && !allFiltersData.tradeId?.length) && { jobResults: 'jobTypeList' }),\n            ...((allFiltersData.jobTypes?.length && !allFiltersData.tradeId?.length) && { heading: headingType }),\n            ...((allFiltersData.tradeId?.length && !allFiltersData.specializationId?.length) && { jobResults: 'jobTypeList' }),\n            ...((allFiltersData.tradeId?.length && !allFiltersData.specializationId?.length) && { heading: headingType }),\n            ...(allFiltersData.specializationId?.length && { specializationId: allFiltersData.specializationId }),\n            ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && { pay_type: allFiltersData.pay_type }),\n            ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && { min_budget: allFiltersData.min_budget }),\n            ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && { max_budget: allFiltersData.max_budget }),\n            ...([1, 2, 3].includes(allFiltersData.sortBy) && { sortBy: allFiltersData.sortBy })\n        }\n\n        if (allFiltersData.sortBy === 400) {\n            delete data.sortBy;\n        }\n        if (data.searchJob) {\n            delete data.heading;\n            delete data.jobResults;\n        }\n        if (allFiltersData.max_budget === 0) {\n            delete data.min_budget;\n            delete data.max_budget;\n            delete data.pay_type;\n        }\n        if (allFiltersData?.specializationId?.length && allFiltersData?.tradeId?.length) {\n            const specializationList = props.tradeListData?.find((i: any) => i._id === allFiltersData?.tradeId[0])?.specialisations;\n            const specializationName = specializationList?.find((i: any) => i._id === allFiltersData?.specializationId[0])?.name;\n            if (specializationName) {\n                data = {\n                    ...data,\n                    searchJob: specializationName\n                }\n            }\n        }\n\n        const newObjData = {\n            page: 1,\n            isFiltered: true,\n            ...(data.sortBy && { sortBy: data.sortBy }),\n            ...(data.tradeId && { tradeId: data.tradeId }),\n            ...(data.specializationId && { specializationId: data.specializationId }),\n            ...(data.from_date && { from_date: data.from_date }),\n            ...(data.to_date && { to_date: data.to_date }),\n            ...(data.jobTypes && { jobTypes: data.jobTypes }),\n            ...(data.min_budget >= 0 && data.max_budget > 0 && { pay_type: data.pay_type }),\n            ...(data.min_budget >= 0 && data.max_budget > 0 && { min_budget: data.min_budget }),\n            ...(data.min_budget >= 0 && data.max_budget > 0 && { max_budget: data.max_budget }),\n            ...((data.address || allFiltersData.sortBy === 2) && {\n                location: {\n                    coordinates: [data.long ? data.long : data.defaultLong, data.lat ? data.lat : data.defaultLat]\n                }\n            }),\n            // ...(data.addres && data.address && { address: data.address })\n        }\n        Object.keys(data).forEach(key => (data[key] === undefined || data[key] === null || data[key] === 0 || data[key] === \"0\") && delete data[key]);\n        var url = 'search-job-results?';\n        for (let [key, value] of Object.entries(data)) {\n            console.log(key, value);\n            url += `${key}=${value}&`\n        }\n        const newUrl = url.slice(0, url.length - 1);\n        props.postHomeSearchData(newObjData);\n        props.history.replace(newUrl);\n        setJobListData([]);\n        setParamsData(data);\n        setApiRequestData(newObjData);\n        setSearchResultData((prevData: any) => ({ ...prevData, page: 1, searchByFilter: true }));\n        setHasMoreItems(true);\n        console.log(newUrl, \"newUrl\", data, \"data\", newObjData, \"newObjData\", newParamsData);\n    }\n\n    // const cleanFiltersHandler = (isFiltersClean: boolean) => {\n    //     setSearchResultData((prevData: any) => ({ ...prevData, cleanFiltersData: isFiltersClean }));\n    //     if (isFiltersClean) { getQueryParamsData(); }\n    // }\n\n    const refreshParams = (data: any) => {\n        setJobListData([]);\n        getQueryParamsData();\n        setApiRequestData(data);\n        setSearchResultData((prevData: any) => ({ ...prevData, page: 1, cleanFiltersData: true }));\n        setHasMoreItems(true);\n    }\n\n    const handleChangeToggle = (value: boolean) => { setToggleModifySearch(value) }\n\n    return (\n        <InfiniteScroll\n            dataLength={jobListData.length}\n            next={callJobList}\n            hasMore={true}\n            loader={<h4></h4>}\n        >\n            <div className=\"app_wrapper\" >\n                <div className={`top_search ${isToggleModifySearch ? 'active' : ''}`}>\n                    <BannerSearch\n                        {...props}\n                        handleChangeToggle={handleChangeToggle}\n                        paramsData={paramsData}\n                        refreshParams={refreshParams}\n                    />\n                </div>\n                <div className=\"search_result\">\n                    <div className=\"section_wrapper\">\n                        <div className=\"custom_container\">\n\n                            <div className=\"flex_row mob_srch_option\">\n                                <div className=\"flex_col_sm_6\"></div>\n                                <div className=\"flex_col_sm_6 text-right\">\n                                    <button onClick={() => { setToggleModifySearch(true) }} className=\"fill_grey_btn btn-effect\">Modify Search</button>\n                                </div>\n                            </div>\n\n                            <div className=\"result_heading\">\n                                <div className=\"flex_row\">\n                                    <div className=\"flex_col_sm_8\">\n                                        {/* <span className=\"title\">{paramsData.jobResults == 'viewNearByJob' ? 'All around me' : paramsData.jobResults == 'jobTypeList' ? paramsData.heading : paramsData.searchJob ? `${paramsData.searchJob}${paramsData.specializationId?.length == 2 ? ' + 1 other' : paramsData.specializationId?.length >= 3 ? ` + ${paramsData.specializationId?.length - 1} others` : ''}` : ''} */}\n                                        <span className=\"title\">{paramsData.jobResults === 'viewNearByJob' ? 'All around me' : paramsData.jobResults === 'jobTypeList' ? paramsData.heading : paramsData.searchJob ? `${paramsData.searchJob}${paramsData.specializationId?.length >= 2 ? ` +${paramsData.specializationId?.length - 1}` : ''}` : ''}\n                                            <span className=\"count\">{`${jobListData.length || 0} result(s)`}</span>\n                                        </span>\n                                        <SearchResultFilters\n                                            searchByFilter={searchByFilter}\n                                            cleanFiltersData={searchResultData.cleanFiltersData}\n                                            history={props?.history}\n                                        />\n                                    </div>\n                                    {jobListData.length > 0 && !mapData.showMap && <div className=\"flex_col_sm_4 text-right\">\n                                        <a className=\"map_btn\" onClick={() => setMapData((prevData: any) => ({ ...prevData, showMap: !prevData.showMap }))}>\n                                            <img src={mapIcon} alt=\"map\" /> Map\n                                        </a>\n                                    </div>}\n                                </div>\n                            </div>\n                            <div className=\"flex_row tradies_row\">\n                                {/* If the map does not come, then this div not only class (card_col) will be hidden */}\n                                {mapData.showMap ? <div className=\"card_col\">\n                                    {jobListData.length > 0 ?\n                                        (jobListData.map((jobData: any) => {\n                                            return <TradieJobInfoBox item={jobData} {...props} key={jobData.jobId} />\n                                        })) :\n                                        <div className=\"no_record\">\n                                            <figure className=\"no_img\">\n                                                <img src={noData} alt=\"data not found\" />\n                                            </figure>\n                                            <span>No Data Found</span>\n                                        </div>}\n                                </div> : (jobListData.length > 0 || props.isLoading) ?\n                                    (jobListData.map((jobData: any) => {\n                                        return <TradieJobInfoBox item={jobData} {...props} key={jobData.jobId} />\n                                    })) : <div className=\"no_record\">\n                                        <figure className=\"no_img\">\n                                            <img src={noData} alt=\"data not found\" />\n                                        </figure>\n                                        <span>No Data Found</span>\n                                    </div>}\n                                {<div className=\"map_col\" style={!mapData.showMap ? { display: \"none\" } : {}}>\n                                    <div className=\"map_stick\">\n                                        <span className=\"close_map\" onClick={() => setMapData((prevData: any) => ({ ...prevData, showMap: !prevData.showMap }))}>\n                                            <img src={closeMap} alt=\"close-map\" />\n                                        </span>\n                                        <RenderMap {...props} searchByFilter={searchResultData.searchByFilter} />\n                                    </div>\n                                </div>}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </InfiniteScroll>\n    )\n}\n\nexport default TradieSearchJobResult;\n"]},"metadata":{},"sourceType":"module"}