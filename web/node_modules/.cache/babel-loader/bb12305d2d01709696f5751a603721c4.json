{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/jobDetails.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport dummy from '../../../assets/images/u_placeholder.jpg';\nimport question from '../../../assets/images/ic-question.png';\nimport editIconBlue from '../../../assets/images/ic-edit-blue.png';\nimport leftIcon from '../../../assets/images/ic-back-arrow-line.png';\nimport rightIcon from '../../../assets/images/ic-next-arrow-line.png';\nimport { createPostJob, publishJobAgain } from '../../../redux/jobs/actions';\nimport moment from 'moment';\nimport jobDummyImage from '../../../assets/images/ic-placeholder-detail.png';\nimport OwlCarousel from 'react-owl-carousel';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport { renderTimeWithFormat } from '../../../utils/common';\nimport { useHistory } from \"react-router-dom\"; //@ts-ignore\n\nimport FsLightbox from 'fslightbox-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst options = {\n  items: 1,\n  nav: true,\n  navText: [`<div class='nav-btn prev-slide'> <img src=\"${leftIcon}\"> </div>`, `<div class='nav-btn next-slide'> <img src=\"${rightIcon}\"> </div>`],\n  rewind: true,\n  autoplay: false,\n  slideBy: 1,\n  dots: true,\n  dotsEach: true,\n  dotData: true,\n  responsive: {\n    0: {\n      items: 1\n    },\n    600: {\n      items: 1\n    },\n    1000: {\n      items: 1\n    }\n  }\n};\nconst imageFormats = [\"jpeg\", \"jpg\", \"png\"];\nconst videoFormats = [\"mp4\", \"wmv\", \"avi\"];\n\nconst JobDetails = ({\n  data,\n  milestones,\n  categories,\n  builderProfile,\n  jobTypes,\n  stepCompleted,\n  updateDetailScreen,\n  handleStepForward,\n  handleStepComplete,\n  clearParentStates,\n  handleStepBack,\n  jobId\n}) => {\n  _s();\n\n  var _data_clone$urls5, _categorySelected$job, _categorySelected$job2, _categorySelected$cat, _categorySelected$cat2;\n\n  const [categorySelected, setSelected] = useState({\n    category: {},\n    job_type: {}\n  });\n  const [isEnablePopup, setPopUp] = useState(false);\n  const [toggler, setToggler] = useState(false);\n  const [selectedSlide, setSelectSlide] = useState(1);\n  const history = useHistory();\n\n  const findSelectedCategory = () => {\n    var _data$categories, _data$job_type, _data$specialization;\n\n    let preSelectedItem = null;\n    let preSelectedJobType = null;\n    let preSelectedSpecialization = null;\n\n    if ((data === null || data === void 0 ? void 0 : data.categories) && (data === null || data === void 0 ? void 0 : (_data$categories = data.categories) === null || _data$categories === void 0 ? void 0 : _data$categories.length)) {\n      preSelectedItem = data === null || data === void 0 ? void 0 : data.categories[0];\n    }\n\n    if ((data === null || data === void 0 ? void 0 : data.job_type) && (data === null || data === void 0 ? void 0 : (_data$job_type = data.job_type) === null || _data$job_type === void 0 ? void 0 : _data$job_type.length)) {\n      preSelectedJobType = data === null || data === void 0 ? void 0 : data.job_type[0];\n    }\n\n    if ((data === null || data === void 0 ? void 0 : data.specialization) && (data === null || data === void 0 ? void 0 : (_data$specialization = data.specialization) === null || _data$specialization === void 0 ? void 0 : _data$specialization.length)) {\n      preSelectedSpecialization = data === null || data === void 0 ? void 0 : data.specialization;\n    }\n\n    if ((categories === null || categories === void 0 ? void 0 : categories.length) && preSelectedItem && preSelectedJobType) {\n      var _filterItem$specialis;\n\n      let filterItem = categories.find(item => item._id === preSelectedItem);\n      let filter_specialization = [];\n\n      if ((filterItem === null || filterItem === void 0 ? void 0 : filterItem.specialisations) && (filterItem === null || filterItem === void 0 ? void 0 : (_filterItem$specialis = filterItem.specialisations) === null || _filterItem$specialis === void 0 ? void 0 : _filterItem$specialis.length)) {\n        var _filterItem$specialis2;\n\n        filter_specialization = filterItem === null || filterItem === void 0 ? void 0 : (_filterItem$specialis2 = filterItem.specialisations) === null || _filterItem$specialis2 === void 0 ? void 0 : _filterItem$specialis2.filter(item => {\n          if (preSelectedSpecialization.includes(item._id)) {\n            return item;\n          }\n        });\n      }\n\n      let filterJobType = jobTypes.find(item => item._id === preSelectedJobType);\n\n      if (filterJobType || filter_specialization) {\n        setSelected({\n          category: filter_specialization,\n          // specialisations\n          job_type: filterJobType\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateDetailScreen(null);\n\n    if (categorySelected !== undefined && categorySelected !== null && !Object.keys(categorySelected === null || categorySelected === void 0 ? void 0 : categorySelected.category).length || categorySelected !== undefined && categorySelected !== null && !Object.keys(categorySelected === null || categorySelected === void 0 ? void 0 : categorySelected.job_type).length) {\n      findSelectedCategory();\n    }\n  }, [categories, jobTypes, stepCompleted]);\n\n  const forwardScreenStep = (id, data) => {\n    updateDetailScreen({\n      currentScreen: id,\n      data\n    });\n    handleStepForward(id);\n  };\n\n  const renderByFileFormat = data => {\n    var _data_clone$urls;\n\n    let data_clone = data;\n\n    if (data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$urls = data_clone.urls) === null || _data_clone$urls === void 0 ? void 0 : _data_clone$urls.length) {\n      var _data_clone$urls2;\n\n      let format_items = data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$urls2 = data_clone.urls) === null || _data_clone$urls2 === void 0 ? void 0 : _data_clone$urls2.map(item => {\n        var _item$link;\n\n        let split_item_format = item === null || item === void 0 ? void 0 : (_item$link = item.link) === null || _item$link === void 0 ? void 0 : _item$link.split('.');\n        let get_split_fromat = split_item_format[split_item_format.length - 1];\n\n        if (imageFormats.includes(get_split_fromat) || videoFormats.includes(get_split_fromat)) {\n          return {\n            url: item === null || item === void 0 ? void 0 : item.link,\n            format: get_split_fromat,\n            posture: (item === null || item === void 0 ? void 0 : item.base64) || ''\n          };\n        }\n      }).filter(item => item !== undefined);\n      let filterItems = [];\n      console.log({\n        format_items\n      });\n\n      if (format_items === null || format_items === void 0 ? void 0 : format_items.length) {\n        format_items.forEach((item, index) => {\n          let render_item = null;\n\n          if (imageFormats.includes(item === null || item === void 0 ? void 0 : item.format)) {\n            render_item = /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: () => {\n                setToggler(prev => !prev);\n                setSelectSlide(index + 1);\n              },\n              alt: \"\",\n              src: item === null || item === void 0 ? void 0 : item.url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this);\n          }\n\n          if (videoFormats.includes(item === null || item === void 0 ? void 0 : item.format)) {\n            render_item = /*#__PURE__*/_jsxDEV(\"video\", {\n              onClick: () => {\n                setToggler(prev => !prev);\n                setSelectSlide(index + 1);\n              },\n              poster: item === null || item === void 0 ? void 0 : item.posture,\n              preload: \"metadata\",\n              src: item === null || item === void 0 ? void 0 : item.url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this);\n          }\n\n          if (render_item) {\n            filterItems.push( /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: e => {\n                  e.preventDefault();\n                  handleStepForward(13);\n                },\n                className: \"edit_icon\",\n                title: \"Edit\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: editIconBlue,\n                  alt: \"edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this), render_item]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this));\n          }\n        });\n      } else {\n        filterItems.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: e => {\n              e.preventDefault();\n              handleStepForward(13);\n            },\n            className: \"edit_icon\",\n            title: \"Edit\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: editIconBlue,\n              alt: \"edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: jobDummyImage,\n            alt: \"item-url\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this));\n      }\n\n      return filterItems;\n    }\n  };\n\n  const handlePost = async e => {\n    var _data_clone$urls3;\n\n    e.preventDefault();\n    let data_clone = data;\n    let milestones_clone = milestones;\n    let filter_milestones = milestones_clone.filter((item, index) => {\n      if (Object.keys(item).length) {\n        var _item$to_date, _item$from_date;\n\n        if (!(item === null || item === void 0 ? void 0 : (_item$to_date = item.to_date) === null || _item$to_date === void 0 ? void 0 : _item$to_date.length)) {\n          item === null || item === void 0 ? true : delete item.to_date;\n        }\n\n        if (!(item === null || item === void 0 ? void 0 : (_item$from_date = item.from_date) === null || _item$from_date === void 0 ? void 0 : _item$from_date.length) || (item === null || item === void 0 ? void 0 : item.from_date) === \"Invalid date\") {\n          item === null || item === void 0 ? true : delete item.from_date;\n        }\n\n        item['order'] = index + 1;\n        return item;\n      }\n    });\n    data_clone['milestones'] = filter_milestones;\n    let from_date = data_clone === null || data_clone === void 0 ? void 0 : data_clone.from_date;\n    let to_date = data_clone === null || data_clone === void 0 ? void 0 : data_clone.to_date;\n    console.log({\n      from_date,\n      to_date\n    });\n\n    if (moment(from_date).isSame(moment(to_date))) {\n      data_clone === null || data_clone === void 0 ? true : delete data_clone.to_date;\n    }\n\n    if (!(to_date === null || to_date === void 0 ? void 0 : to_date.length)) {\n      data_clone === null || data_clone === void 0 ? true : delete data_clone.to_date;\n    }\n\n    if (!(data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$urls3 = data_clone.urls) === null || _data_clone$urls3 === void 0 ? void 0 : _data_clone$urls3.length)) {\n      data_clone === null || data_clone === void 0 ? true : delete data_clone.urls;\n    } else {\n      let urls_ = data_clone === null || data_clone === void 0 ? void 0 : data_clone.urls;\n      let filteredItems = [];\n\n      if (urls_ && Array.isArray(urls_) && (urls_ === null || urls_ === void 0 ? void 0 : urls_.length)) {\n        filteredItems = urls_.map(item_dt => {\n          if (item_dt === null || item_dt === void 0 ? void 0 : item_dt.base64) {\n            item_dt === null || item_dt === void 0 ? true : delete item_dt.base64;\n          }\n\n          return item_dt;\n        });\n        data_clone['urls'] = filteredItems;\n      }\n    }\n\n    if (jobId) {\n      data_clone.jobId = jobId;\n    }\n\n    const createJob = jobId ? publishJobAgain : createPostJob;\n    let response = await createJob(data_clone);\n\n    if (response === null || response === void 0 ? void 0 : response.success) {\n      clearParentStates();\n      handleStepForward(12);\n    } // console.log({data: data_clone, filter_milestones });\n\n  };\n\n  let data_clone = data;\n\n  const renderFilteredItems = () => {\n    var _data_clone$urls4;\n\n    let sources = [];\n    let types = [];\n\n    if (data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$urls4 = data_clone.urls) === null || _data_clone$urls4 === void 0 ? void 0 : _data_clone$urls4.length) {\n      data_clone === null || data_clone === void 0 ? void 0 : data_clone.urls.forEach(item => {\n        if ((item === null || item === void 0 ? void 0 : item.mediaType) === 2) {\n          sources.push(item.link);\n          types.push('video');\n        }\n\n        if ((item === null || item === void 0 ? void 0 : item.mediaType) === 1) {\n          sources.push(item.link);\n          types.push('image');\n        }\n      });\n    }\n\n    return {\n      sources,\n      types\n    };\n  };\n\n  const renderTime = data => {\n    let format = 'YYYY-MM-DD';\n    let current_date = moment().startOf('day').toDate();\n    let start_date = moment(data === null || data === void 0 ? void 0 : data.from_date, format).isValid() ? moment(data === null || data === void 0 ? void 0 : data.from_date, format).startOf('day').toDate() : false;\n    let end_date = moment(data === null || data === void 0 ? void 0 : data.to_date, format).isValid() ? moment(data === null || data === void 0 ? void 0 : data.to_date, format).startOf('day').toDate() : false;\n    let result = null;\n\n    if (start_date && end_date) {\n      if (moment(start_date).isSame(moment(end_date))) {\n        end_date = false;\n      }\n\n      if (moment(start_date).isSame(moment(current_date))) {\n        result = 'Today';\n      }\n\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), 'days');\n        result = `${days_diff} days`;\n      }\n    }\n\n    if (start_date && !end_date) {\n      if (moment(start_date).isSame(moment(current_date))) {\n        result = 'Today';\n      }\n\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), 'days');\n        result = `${days_diff} days`;\n      }\n    }\n\n    if (start_date) {\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), 'days');\n        result = `${days_diff} days`;\n      }\n    }\n\n    return result;\n  };\n\n  const format = 'MM-DD-YYYY';\n  const {\n    sources,\n    types\n  } = renderFilteredItems();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: [/*#__PURE__*/_jsxDEV(FsLightbox, {\n          toggler: toggler,\n          slide: selectedSlide,\n          sources: sources,\n          types: types\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vid_img_wrapper pt-20\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8 relative\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleStepBack,\n                className: \"back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8\",\n              children: /*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"vid_img_thumb\",\n                children: (data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$urls5 = data_clone.urls) === null || _data_clone$urls5 === void 0 ? void 0 : _data_clone$urls5.length) ? /*#__PURE__*/_jsxDEV(OwlCarousel, {\n                  className: \"owl-theme\",\n                  ...options,\n                  children: renderByFileFormat(data)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: jobDummyImage,\n                  alt: \"item-url\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_4 relative\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail_card\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title line-3 pr-20\",\n                  title: data === null || data === void 0 ? void 0 : data.jobName,\n                  children: [data === null || data === void 0 ? void 0 : data.jobName, /*#__PURE__*/_jsxDEV(\"span\", {\n                    onClick: () => {\n                      forwardScreenStep(1);\n                    },\n                    className: \"edit_icon\",\n                    title: \"Edit\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: editIconBlue,\n                      alt: \"edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tagg\",\n                  children: \"Job details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job_info\",\n                  children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"icon calendar\",\n                      children: renderTime(data)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"icon dollar\",\n                      children: [\"$\", data === null || data === void 0 ? void 0 : data.amount, \" \", (data === null || data === void 0 ? void 0 : data.pay_type) === \"Fixed price\" ? 'f/p' : 'p/h', \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"icon location line-1\",\n                      title: data === null || data === void 0 ? void 0 : data.location_name,\n                      children: data === null || data === void 0 ? void 0 : data.location_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handlePost,\n                  className: \"fill_btn full_btn btn-effect mt-15\",\n                  children: jobId ? 'Republish job' : 'Post job'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"description\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sub_title\",\n                  children: ['Details', /*#__PURE__*/_jsxDEV(\"span\", {\n                    onClick: () => {\n                      forwardScreenStep(1);\n                    },\n                    className: \"edit_icon\",\n                    title: \"Edit\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: editIconBlue,\n                      alt: \"edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"commn_para\",\n                  children: data === null || data === void 0 ? void 0 : data.job_description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sub_title\",\n                children: ['Job milestones', /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => {\n                    forwardScreenStep(6);\n                  },\n                  className: \"edit_icon\",\n                  title: \"Edit\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: editIconBlue,\n                    alt: \"edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"job_milestone\",\n                children: [console.log({\n                  milestones\n                }), (milestones === null || milestones === void 0 ? void 0 : milestones.length) ? milestones.map((item, index) => (item === null || item === void 0 ? void 0 : item.milestone_name) && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: `${index + 1}. ${item === null || item === void 0 ? void 0 : item.milestone_name}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: renderTimeWithFormat(item === null || item === void 0 ? void 0 : item.from_date, item === null || item === void 0 ? void 0 : item.to_date, format)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 45\n                }, this)) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                // onClick={() => {\n                //     setShowToast(true, 'Under development.')\n                // }}\n                style: {\n                  cursor: 'default'\n                },\n                className: \"fill_grey_btn ques_btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: question,\n                  alt: \"question\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 37\n                }, this), '0 questions']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"sub_title\",\n                    children: ['Job type', /*#__PURE__*/_jsxDEV(\"span\", {\n                      onClick: () => {\n                        forwardScreenStep(2);\n                      },\n                      className: \"edit_icon\",\n                      title: \"Edit\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: editIconBlue,\n                        alt: \"edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 463,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"job_categories\",\n                    children: /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"draw\",\n                      children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                        className: \"type_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: categorySelected === null || categorySelected === void 0 ? void 0 : (_categorySelected$job = categorySelected.job_type) === null || _categorySelected$job === void 0 ? void 0 : _categorySelected$job.image,\n                          alt: \"icon\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 469,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 468,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"name\",\n                        children: categorySelected === null || categorySelected === void 0 ? void 0 : (_categorySelected$job2 = categorySelected.job_type) === null || _categorySelected$job2 === void 0 ? void 0 : _categorySelected$job2.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 471,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"sub_title\",\n                    children: ['Specialisations needed', /*#__PURE__*/_jsxDEV(\"span\", {\n                      onClick: () => {\n                        forwardScreenStep(2);\n                      },\n                      className: \"edit_icon\",\n                      title: \"Edit\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: editIconBlue,\n                        alt: \"edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tags_wrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                      children: (categorySelected === null || categorySelected === void 0 ? void 0 : (_categorySelected$cat = categorySelected.category) === null || _categorySelected$cat === void 0 ? void 0 : _categorySelected$cat.length) ? categorySelected === null || categorySelected === void 0 ? void 0 : (_categorySelected$cat2 = categorySelected.category) === null || _categorySelected$cat2 === void 0 ? void 0 : _categorySelected$cat2.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: item === null || item === void 0 ? void 0 : item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 487,\n                        columnNumber: 57\n                      }, this)) : null\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section_wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sub_title\",\n              children: \"Posted by\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => {\n                    history.push(`/builder-info?builderId=${builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.userId}`);\n                  },\n                  className: \"tradie_card posted_by view_more \",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"chat circle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"user_wrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                      className: \"u_img\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: (builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.userImage) || dummy,\n                        alt: \"traide-img\",\n                        onError: e => {\n                          var _e$target, _e$target2;\n\n                          if (e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.onerror) {\n                            e.target.onerror = null;\n                          }\n\n                          if (e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.src) {\n                            e.target.src = dummy;\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 510,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 509,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"details\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"name\",\n                        children: builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.userName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 524,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"rating\",\n                        children: [(builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.rating) || 0, \" , \", (builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.reviews) || 0, \" reviews\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 525,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 523,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 9\n  }, this); // return (\n  //     <div className=\"app_wrapper\">\n  //         <div className=\"section_wrapper\">\n  //             <div className=\"custom_container\">\n  //                 <div className=\"form_field\">\n  //                     <div className=\"flex_row\">\n  //                         <div className=\"flex_col_sm_5\">\n  //                             <div className=\"relate\">\n  //                                 <button className=\"back\" onClick={handleStepBack}></button>\n  //                                 {/* <span className=\"title\">Milestone Templates</span> */}\n  //                             </div>\n  //                             {/* <p className=\"commn_para\">How mach will you pay for a job</p> */}\n  //                         </div>\n  //                     </div>\n  //                 </div>\n  //             </div>\n  //         </div>\n  //     </div>\n  // )\n};\n\n_s(JobDetails, \"2W9U5Jx3EaFTVbekwOSnNO4q6FI=\", false, function () {\n  return [useHistory];\n});\n\n_c = JobDetails;\nexport default JobDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"JobDetails\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/jobDetails.tsx"],"names":["React","useEffect","useState","dummy","question","editIconBlue","leftIcon","rightIcon","createPostJob","publishJobAgain","moment","jobDummyImage","OwlCarousel","renderTimeWithFormat","useHistory","FsLightbox","options","items","nav","navText","rewind","autoplay","slideBy","dots","dotsEach","dotData","responsive","imageFormats","videoFormats","JobDetails","data","milestones","categories","builderProfile","jobTypes","stepCompleted","updateDetailScreen","handleStepForward","handleStepComplete","clearParentStates","handleStepBack","jobId","categorySelected","setSelected","category","job_type","isEnablePopup","setPopUp","toggler","setToggler","selectedSlide","setSelectSlide","history","findSelectedCategory","preSelectedItem","preSelectedJobType","preSelectedSpecialization","length","specialization","filterItem","find","item","_id","filter_specialization","specialisations","filter","includes","filterJobType","undefined","Object","keys","forwardScreenStep","id","currentScreen","renderByFileFormat","data_clone","urls","format_items","map","split_item_format","link","split","get_split_fromat","url","format","posture","base64","filterItems","console","log","forEach","index","render_item","prev","push","e","preventDefault","handlePost","milestones_clone","filter_milestones","to_date","from_date","isSame","urls_","filteredItems","Array","isArray","item_dt","createJob","response","success","renderFilteredItems","sources","types","mediaType","renderTime","current_date","startOf","toDate","start_date","isValid","end_date","result","isAfter","days_diff","diff","jobName","amount","pay_type","location_name","job_description","milestone_name","cursor","image","name","userId","userImage","target","onerror","src","userName","rating","reviews"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,0CAAlB;AAEA,OAAOC,QAAP,MAAqB,wCAArB;AAEA,OAAOC,YAAP,MAAyB,yCAAzB;AACA,OAAOC,QAAP,MAAqB,+CAArB;AACA,OAAOC,SAAP,MAAsB,+CAAtB;AACA,SAASC,aAAT,EAAwBC,eAAxB,QAA+C,6BAA/C;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,aAAP,MAA0B,kDAA1B;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAO,2CAAP;AACA,OAAO,gDAAP;AAGA,SAAqBC,oBAArB,QAAiD,uBAAjD;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,kBAAvB;;AAgBA,MAAMC,OAAO,GAAG;AACZC,EAAAA,KAAK,EAAE,CADK;AAEZC,EAAAA,GAAG,EAAE,IAFO;AAGZC,EAAAA,OAAO,EAAE,CAAE,8CAA6Cb,QAAS,WAAxD,EAAqE,8CAA6CC,SAAU,WAA5H,CAHG;AAIZa,EAAAA,MAAM,EAAE,IAJI;AAKZC,EAAAA,QAAQ,EAAE,KALE;AAMZC,EAAAA,OAAO,EAAE,CANG;AAOZC,EAAAA,IAAI,EAAE,IAPM;AAQZC,EAAAA,QAAQ,EAAE,IARE;AASZC,EAAAA,OAAO,EAAE,IATG;AAUZC,EAAAA,UAAU,EAAE;AACR,OAAG;AACCT,MAAAA,KAAK,EAAE;AADR,KADK;AAIR,SAAK;AACDA,MAAAA,KAAK,EAAE;AADN,KAJG;AAOR,UAAM;AACFA,MAAAA,KAAK,EAAE;AADL;AAPE;AAVA,CAAhB;AAuBA,MAAMU,YAAwB,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,CAAjC;AACA,MAAMC,YAAwB,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,CAAjC;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAChBC,EAAAA,IADgB;AAEhBC,EAAAA,UAFgB;AAGhBC,EAAAA,UAHgB;AAIhBC,EAAAA,cAJgB;AAKhBC,EAAAA,QALgB;AAMhBC,EAAAA,aANgB;AAOhBC,EAAAA,kBAPgB;AAQhBC,EAAAA,iBARgB;AAShBC,EAAAA,kBATgB;AAUhBC,EAAAA,iBAVgB;AAWhBC,EAAAA,cAXgB;AAYhBC,EAAAA;AAZgB,CAAD,KAaF;AAAA;;AAAA;;AACb,QAAM,CAACC,gBAAD,EAAmBC,WAAnB,IAAkCzC,QAAQ,CAA2B;AAAE0C,IAAAA,QAAQ,EAAE,EAAZ;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAA3B,CAAhD;AACA,QAAM,CAACC,aAAD,EAAgBC,QAAhB,IAA4B7C,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAAC8C,OAAD,EAAUC,UAAV,IAAwB/C,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACgD,aAAD,EAAgBC,cAAhB,IAAkCjD,QAAQ,CAAC,CAAD,CAAhD;AAEA,QAAMkD,OAAO,GAAGtC,UAAU,EAA1B;;AAGA,QAAMuC,oBAAoB,GAAG,MAAM;AAAA;;AAC/B,QAAIC,eAAoB,GAAG,IAA3B;AACA,QAAIC,kBAAuB,GAAG,IAA9B;AACA,QAAIC,yBAA8B,GAAG,IAArC;;AAEA,QAAI,CAAA1B,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEE,UAAN,MAAoBF,IAApB,aAAoBA,IAApB,2CAAoBA,IAAI,CAAEE,UAA1B,qDAAoB,iBAAkByB,MAAtC,CAAJ,EAAkD;AAC9CH,MAAAA,eAAe,GAAGxB,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEE,UAAN,CAAiB,CAAjB,CAAlB;AACH;;AAED,QAAI,CAAAF,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEe,QAAN,MAAkBf,IAAlB,aAAkBA,IAAlB,yCAAkBA,IAAI,CAAEe,QAAxB,mDAAkB,eAAgBY,MAAlC,CAAJ,EAA8C;AAC1CF,MAAAA,kBAAkB,GAAGzB,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEe,QAAN,CAAe,CAAf,CAArB;AACH;;AAED,QAAI,CAAAf,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAE4B,cAAN,MAAwB5B,IAAxB,aAAwBA,IAAxB,+CAAwBA,IAAI,CAAE4B,cAA9B,yDAAwB,qBAAsBD,MAA9C,CAAJ,EAA0D;AACtDD,MAAAA,yBAAyB,GAAG1B,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAE4B,cAAlC;AACH;;AAED,QAAI,CAAA1B,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEyB,MAAZ,KAAsBH,eAAtB,IAAyCC,kBAA7C,EAAiE;AAAA;;AAC7D,UAAII,UAAU,GAAG3B,UAAU,CAAC4B,IAAX,CAAiBC,IAAD,IAAeA,IAAI,CAACC,GAAL,KAAaR,eAA5C,CAAjB;AACA,UAAIS,qBAAqB,GAAG,EAA5B;;AACA,UAAI,CAAAJ,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEK,eAAZ,MAA+BL,UAA/B,aAA+BA,UAA/B,gDAA+BA,UAAU,CAAEK,eAA3C,0DAA+B,sBAA6BP,MAA5D,CAAJ,EAAwE;AAAA;;AACpEM,QAAAA,qBAAqB,GAAGJ,UAAH,aAAGA,UAAH,iDAAGA,UAAU,CAAEK,eAAf,2DAAG,uBAA6BC,MAA7B,CAAqCJ,IAAD,IAAe;AACvE,cAAIL,yBAAyB,CAACU,QAA1B,CAAmCL,IAAI,CAACC,GAAxC,CAAJ,EAAkD;AAC9C,mBAAOD,IAAP;AACH;AACJ,SAJuB,CAAxB;AAKH;;AAED,UAAIM,aAAa,GAAGjC,QAAQ,CAAC0B,IAAT,CAAeC,IAAD,IAAeA,IAAI,CAACC,GAAL,KAAaP,kBAA1C,CAApB;;AACA,UAAIY,aAAa,IAAIJ,qBAArB,EAA4C;AACxCpB,QAAAA,WAAW,CAAC;AACRC,UAAAA,QAAQ,EAAEmB,qBADF;AACyB;AACjClB,UAAAA,QAAQ,EAAEsB;AAFF,SAAD,CAAX;AAIH;AACJ;AACJ,GApCD;;AAsCAlE,EAAAA,SAAS,CAAC,MAAM;AACZmC,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;;AACA,QAAKM,gBAAgB,KAAK0B,SAArB,IACD1B,gBAAgB,KAAK,IADpB,IAED,CAAC2B,MAAM,CAACC,IAAP,CAAY5B,gBAAZ,aAAYA,gBAAZ,uBAAYA,gBAAgB,CAAEE,QAA9B,EAAwCa,MAFzC,IAEqDf,gBAAgB,KAAK0B,SAArB,IAAkC1B,gBAAgB,KAAK,IAAvD,IAA+D,CAAC2B,MAAM,CAACC,IAAP,CAAY5B,gBAAZ,aAAYA,gBAAZ,uBAAYA,gBAAgB,CAAEG,QAA9B,EAAwCY,MAFjK,EAE0K;AACtKJ,MAAAA,oBAAoB;AACvB;AACJ,GAPQ,EAON,CAACrB,UAAD,EAAaE,QAAb,EAAuBC,aAAvB,CAPM,CAAT;;AASA,QAAMoC,iBAAiB,GAAG,CAACC,EAAD,EAAU1C,IAAV,KAAyB;AAC/CM,IAAAA,kBAAkB,CAAC;AAAEqC,MAAAA,aAAa,EAAED,EAAjB;AAAqB1C,MAAAA;AAArB,KAAD,CAAlB;AACAO,IAAAA,iBAAiB,CAACmC,EAAD,CAAjB;AACH,GAHD;;AAKA,QAAME,kBAAkB,GAAI5C,IAAD,IAAe;AAAA;;AACtC,QAAI6C,UAAe,GAAG7C,IAAtB;;AACA,QAAI6C,UAAJ,aAAIA,UAAJ,2CAAIA,UAAU,CAAEC,IAAhB,qDAAI,iBAAkBnB,MAAtB,EAA8B;AAAA;;AAC1B,UAAIoB,YAAY,GAAGF,UAAH,aAAGA,UAAH,4CAAGA,UAAU,CAAEC,IAAf,sDAAG,kBAAkBE,GAAlB,CAAuBjB,IAAD,IAAe;AAAA;;AACpD,YAAIkB,iBAAiB,GAAGlB,IAAH,aAAGA,IAAH,qCAAGA,IAAI,CAAEmB,IAAT,+CAAG,WAAYC,KAAZ,CAAkB,GAAlB,CAAxB;AACA,YAAIC,gBAAgB,GAAGH,iBAAiB,CAACA,iBAAiB,CAACtB,MAAlB,GAA2B,CAA5B,CAAxC;;AAEA,YAAI9B,YAAY,CAACuC,QAAb,CAAsBgB,gBAAtB,KAA2CtD,YAAY,CAACsC,QAAb,CAAsBgB,gBAAtB,CAA/C,EAAwF;AACpF,iBAAO;AACHC,YAAAA,GAAG,EAAEtB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEmB,IADR;AAEHI,YAAAA,MAAM,EAAEF,gBAFL;AAGHG,YAAAA,OAAO,EAAE,CAAAxB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEyB,MAAN,KAAgB;AAHtB,WAAP;AAKH;AACJ,OAXkB,EAWhBrB,MAXgB,CAWRJ,IAAD,IAAeA,IAAI,KAAMO,SAXhB,CAAnB;AAaA,UAAImB,WAAgB,GAAG,EAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEZ,QAAAA;AAAF,OAAZ;;AACA,UAAIA,YAAJ,aAAIA,YAAJ,uBAAIA,YAAY,CAAEpB,MAAlB,EAA0B;AACtBoB,QAAAA,YAAY,CAACa,OAAb,CAAqB,CAAC7B,IAAD,EAAY8B,KAAZ,KAA8B;AAC/C,cAAIC,WAAgB,GAAG,IAAvB;;AACA,cAAIjE,YAAY,CAACuC,QAAb,CAAsBL,IAAtB,aAAsBA,IAAtB,uBAAsBA,IAAI,CAAEuB,MAA5B,CAAJ,EAAyC;AACrCQ,YAAAA,WAAW,gBACP;AACI,cAAA,OAAO,EAAE,MAAM;AACX3C,gBAAAA,UAAU,CAAE4C,IAAD,IAAe,CAACA,IAAjB,CAAV;AACA1C,gBAAAA,cAAc,CAACwC,KAAK,GAAG,CAAT,CAAd;AACH,eAJL;AAKI,cAAA,GAAG,EAAC,EALR;AAMI,cAAA,GAAG,EAAE9B,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEsB;AANf;AAAA;AAAA;AAAA;AAAA,oBADJ;AASH;;AAED,cAAIvD,YAAY,CAACsC,QAAb,CAAsBL,IAAtB,aAAsBA,IAAtB,uBAAsBA,IAAI,CAAEuB,MAA5B,CAAJ,EAAyC;AACrCQ,YAAAA,WAAW,gBACP;AACI,cAAA,OAAO,EAAE,MAAM;AACX3C,gBAAAA,UAAU,CAAE4C,IAAD,IAAe,CAACA,IAAjB,CAAV;AACA1C,gBAAAA,cAAc,CAACwC,KAAK,GAAG,CAAT,CAAd;AACH,eAJL;AAKI,cAAA,MAAM,EAAE9B,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEwB,OALlB;AAMI,cAAA,OAAO,EAAC,UANZ;AAOI,cAAA,GAAG,EAAExB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEsB;AAPf;AAAA;AAAA;AAAA;AAAA,oBADJ;AAUH;;AAED,cAAIS,WAAJ,EAAiB;AACbL,YAAAA,WAAW,CAACO,IAAZ,eACI;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,sCACI;AACI,gBAAA,OAAO,EAAGC,CAAD,IAAY;AACjBA,kBAAAA,CAAC,CAACC,cAAF;AACA3D,kBAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACH,iBAJL;AAKI,gBAAA,SAAS,EAAC,WALd;AAK0B,gBAAA,KAAK,EAAC,MALhC;AAAA,uCAMI;AAAK,kBAAA,GAAG,EAAEhC,YAAV;AAAwB,kBAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,sBADJ,EASKuF,WATL;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ;AAaH;AACJ,SA1CD;AA2CH,OA5CD,MA4CO;AACHL,QAAAA,WAAW,CAACO,IAAZ,eACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,kCACI;AACI,YAAA,OAAO,EAAGC,CAAD,IAAY;AACjBA,cAAAA,CAAC,CAACC,cAAF;AACA3D,cAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACH,aAJL;AAKI,YAAA,SAAS,EAAC,WALd;AAK0B,YAAA,KAAK,EAAC,MALhC;AAAA,mCAMI;AAAK,cAAA,GAAG,EAAEhC,YAAV;AAAwB,cAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eASK;AAAK,YAAA,GAAG,EAAEM,aAAV;AAAyB,YAAA,GAAG,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA,kBATL;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ;AAaH;;AAED,aAAO4E,WAAP;AACH;AACJ,GAhFD;;AAkFA,QAAMU,UAAU,GAAG,MAAOF,CAAP,IAAkB;AAAA;;AACjCA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIrB,UAAe,GAAG7C,IAAtB;AACA,QAAIoE,gBAAqB,GAAGnE,UAA5B;AACA,QAAIoE,iBAAiB,GAAGD,gBAAgB,CAACjC,MAAjB,CAAwB,CAACJ,IAAD,EAAY8B,KAAZ,KAA2B;AACvE,UAAItB,MAAM,CAACC,IAAP,CAAYT,IAAZ,EAAkBJ,MAAtB,EAA8B;AAAA;;AAC1B,YAAI,EAACI,IAAD,aAACA,IAAD,wCAACA,IAAI,CAAEuC,OAAP,kDAAC,cAAe3C,MAAhB,CAAJ,EAA4B;AACjBI,UAAAA,IAAP,aAAOA,IAAP,4BAAOA,IAAI,CAAEuC,OAAb;AACH;;AAED,YAAI,EAACvC,IAAD,aAACA,IAAD,0CAACA,IAAI,CAAEwC,SAAP,oDAAC,gBAAiB5C,MAAlB,KAA4B,CAAAI,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEwC,SAAN,MAAoB,cAApD,EAAoE;AACzDxC,UAAAA,IAAP,aAAOA,IAAP,4BAAOA,IAAI,CAAEwC,SAAb;AACH;;AAGDxC,QAAAA,IAAI,CAAC,OAAD,CAAJ,GAAgB8B,KAAK,GAAG,CAAxB;AACA,eAAO9B,IAAP;AACH;AACJ,KAduB,CAAxB;AAgBAc,IAAAA,UAAU,CAAC,YAAD,CAAV,GAA2BwB,iBAA3B;AACA,QAAIE,SAAS,GAAG1B,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAE0B,SAA5B;AACA,QAAID,OAAO,GAAGzB,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEyB,OAA1B;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEY,MAAAA,SAAF;AAAaD,MAAAA;AAAb,KAAZ;;AACA,QAAI1F,MAAM,CAAC2F,SAAD,CAAN,CAAkBC,MAAlB,CAAyB5F,MAAM,CAAC0F,OAAD,CAA/B,CAAJ,EAA+C;AACpCzB,MAAAA,UAAP,aAAOA,UAAP,4BAAOA,UAAU,CAAEyB,OAAnB;AACH;;AAED,QAAI,EAACA,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAE3C,MAAV,CAAJ,EAAsB;AACXkB,MAAAA,UAAP,aAAOA,UAAP,4BAAOA,UAAU,CAAEyB,OAAnB;AACH;;AAED,QAAI,EAACzB,UAAD,aAACA,UAAD,4CAACA,UAAU,CAAEC,IAAb,sDAAC,kBAAkBnB,MAAnB,CAAJ,EAA+B;AACpBkB,MAAAA,UAAP,aAAOA,UAAP,4BAAOA,UAAU,CAAEC,IAAnB;AACH,KAFD,MAEO;AACH,UAAI2B,KAAU,GAAG5B,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEC,IAA7B;AACA,UAAI4B,aAAkB,GAAG,EAAzB;;AACA,UAAID,KAAK,IAAIE,KAAK,CAACC,OAAN,CAAcH,KAAd,CAAT,KAAiCA,KAAjC,aAAiCA,KAAjC,uBAAiCA,KAAK,CAAE9C,MAAxC,CAAJ,EAAoD;AAChD+C,QAAAA,aAAa,GAAGD,KAAK,CAACzB,GAAN,CAAW6B,OAAD,IAAkB;AACxC,cAAIA,OAAJ,aAAIA,OAAJ,uBAAIA,OAAO,CAAErB,MAAb,EAAqB;AACVqB,YAAAA,OAAP,aAAOA,OAAP,4BAAOA,OAAO,CAAErB,MAAhB;AACH;;AACD,iBAAOqB,OAAP;AACH,SALe,CAAhB;AAMAhC,QAAAA,UAAU,CAAC,MAAD,CAAV,GAAqB6B,aAArB;AACH;AACJ;;AAED,QAAI/D,KAAJ,EAAW;AACPkC,MAAAA,UAAU,CAAClC,KAAX,GAAmBA,KAAnB;AACH;;AAED,UAAMmE,SAAS,GAAGnE,KAAK,GAAGhC,eAAH,GAAqBD,aAA5C;AAEA,QAAIqG,QAAa,GAAG,MAAMD,SAAS,CAACjC,UAAD,CAAnC;;AACA,QAAIkC,QAAJ,aAAIA,QAAJ,uBAAIA,QAAQ,CAAEC,OAAd,EAAuB;AACnBvE,MAAAA,iBAAiB;AACjBF,MAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACH,KA1DgC,CA2DjC;;AACH,GA5DD;;AA8DA,MAAIsC,UAAe,GAAG7C,IAAtB;;AACA,QAAMiF,mBAAmB,GAAG,MAAM;AAAA;;AAC9B,QAAIC,OAAY,GAAG,EAAnB;AACA,QAAIC,KAAU,GAAG,EAAjB;;AAEA,QAAItC,UAAJ,aAAIA,UAAJ,4CAAIA,UAAU,CAAEC,IAAhB,sDAAI,kBAAkBnB,MAAtB,EAA8B;AAC1BkB,MAAAA,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEC,IAAZ,CAAiBc,OAAjB,CAA0B7B,IAAD,IAAe;AACpC,YAAI,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqD,SAAN,MAAoB,CAAxB,EAA2B;AACvBF,UAAAA,OAAO,CAAClB,IAAR,CAAajC,IAAI,CAACmB,IAAlB;AACAiC,UAAAA,KAAK,CAACnB,IAAN,CAAW,OAAX;AACH;;AACD,YAAI,CAAAjC,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqD,SAAN,MAAoB,CAAxB,EAA2B;AACvBF,UAAAA,OAAO,CAAClB,IAAR,CAAajC,IAAI,CAACmB,IAAlB;AACAiC,UAAAA,KAAK,CAACnB,IAAN,CAAW,OAAX;AACH;AACJ,OATD;AAUH;;AAED,WAAO;AAAEkB,MAAAA,OAAF;AAAWC,MAAAA;AAAX,KAAP;AACH,GAlBD;;AAoBA,QAAME,UAAU,GAAIrF,IAAD,IAAe;AAC9B,QAAIsD,MAAM,GAAG,YAAb;AACA,QAAIgC,YAAY,GAAG1G,MAAM,GAAG2G,OAAT,CAAiB,KAAjB,EAAwBC,MAAxB,EAAnB;AACA,QAAIC,UAAU,GAAG7G,MAAM,CAACoB,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEuE,SAAP,EAAkBjB,MAAlB,CAAN,CAAgCoC,OAAhC,KAA4C9G,MAAM,CAACoB,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEuE,SAAP,EAAkBjB,MAAlB,CAAN,CAAgCiC,OAAhC,CAAwC,KAAxC,EAA+CC,MAA/C,EAA5C,GAAsG,KAAvH;AACA,QAAIG,QAAQ,GAAG/G,MAAM,CAACoB,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEsE,OAAP,EAAgBhB,MAAhB,CAAN,CAA8BoC,OAA9B,KAA0C9G,MAAM,CAACoB,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEsE,OAAP,EAAgBhB,MAAhB,CAAN,CAA8BiC,OAA9B,CAAsC,KAAtC,EAA6CC,MAA7C,EAA1C,GAAkG,KAAjH;AACA,QAAII,MAAM,GAAG,IAAb;;AAEA,QAAIH,UAAU,IAAIE,QAAlB,EAA4B;AACxB,UAAI/G,MAAM,CAAC6G,UAAD,CAAN,CAAmBjB,MAAnB,CAA0B5F,MAAM,CAAC+G,QAAD,CAAhC,CAAJ,EAAiD;AAC7CA,QAAAA,QAAQ,GAAG,KAAX;AACH;;AAED,UAAI/G,MAAM,CAAC6G,UAAD,CAAN,CAAmBjB,MAAnB,CAA0B5F,MAAM,CAAC0G,YAAD,CAAhC,CAAJ,EAAqD;AACjDM,QAAAA,MAAM,GAAG,OAAT;AACH;;AAED,UAAIhH,MAAM,CAAC6G,UAAD,CAAN,CAAmBI,OAAnB,CAA2BjH,MAAM,CAAC0G,YAAD,CAAjC,CAAJ,EAAsD;AAClD,YAAIQ,SAAS,GAAGlH,MAAM,CAAC6G,UAAD,CAAN,CAAmBM,IAAnB,CAAwBnH,MAAM,CAAC0G,YAAD,CAA9B,EAA8C,MAA9C,CAAhB;AACAM,QAAAA,MAAM,GAAI,GAAEE,SAAU,OAAtB;AACH;AACJ;;AAED,QAAIL,UAAU,IAAI,CAACE,QAAnB,EAA6B;AACzB,UAAI/G,MAAM,CAAC6G,UAAD,CAAN,CAAmBjB,MAAnB,CAA0B5F,MAAM,CAAC0G,YAAD,CAAhC,CAAJ,EAAqD;AACjDM,QAAAA,MAAM,GAAG,OAAT;AACH;;AAED,UAAIhH,MAAM,CAAC6G,UAAD,CAAN,CAAmBI,OAAnB,CAA2BjH,MAAM,CAAC0G,YAAD,CAAjC,CAAJ,EAAsD;AAClD,YAAIQ,SAAS,GAAGlH,MAAM,CAAC6G,UAAD,CAAN,CAAmBM,IAAnB,CAAwBnH,MAAM,CAAC0G,YAAD,CAA9B,EAA8C,MAA9C,CAAhB;AACAM,QAAAA,MAAM,GAAI,GAAEE,SAAU,OAAtB;AACH;AACJ;;AAED,QAAIL,UAAJ,EAAgB;AACZ,UAAI7G,MAAM,CAAC6G,UAAD,CAAN,CAAmBI,OAAnB,CAA2BjH,MAAM,CAAC0G,YAAD,CAAjC,CAAJ,EAAsD;AAClD,YAAIQ,SAAS,GAAGlH,MAAM,CAAC6G,UAAD,CAAN,CAAmBM,IAAnB,CAAwBnH,MAAM,CAAC0G,YAAD,CAA9B,EAA8C,MAA9C,CAAhB;AACAM,QAAAA,MAAM,GAAI,GAAEE,SAAU,OAAtB;AACH;AACJ;;AAED,WAAOF,MAAP;AACH,GAzCD;;AA2CA,QAAMtC,MAAM,GAAG,YAAf;AACA,QAAM;AAAE4B,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAqBF,mBAAmB,EAA9C;AACA,sBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCAEI,QAAC,UAAD;AACI,UAAA,OAAO,EAAE/D,OADb;AAEI,UAAA,KAAK,EAAEE,aAFX;AAGI,UAAA,OAAO,EAAE8D,OAHb;AAII,UAAA,KAAK,EAAEC;AAJX;AAAA;AAAA;AAAA;AAAA,gBAFJ,eASI;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,wBAAf;AAAA,qCACI;AACI,gBAAA,OAAO,EAAEzE,cADb;AAEI,gBAAA,SAAS,EAAC;AAFd;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAQI;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,qCACI;AAAQ,gBAAA,SAAS,EAAC,eAAlB;AAAA,0BACK,CAAAmC,UAAU,SAAV,IAAAA,UAAU,WAAV,iCAAAA,UAAU,CAAEC,IAAZ,wEAAkBnB,MAAlB,iBACG,QAAC,WAAD;AAAa,kBAAA,SAAS,EAAC,WAAvB;AAAA,qBAAuCzC,OAAvC;AAAA,4BACK0D,kBAAkB,CAAC5C,IAAD;AADvB;AAAA;AAAA;AAAA;AAAA,wBADH,gBAKG;AAAK,kBAAA,GAAG,EAAEnB,aAAV;AAAyB,kBAAA,GAAG,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA;AANR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAYI;AAAK,cAAA,SAAS,EAAC,wBAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,aAAf;AAAA,wCACI;AAAM,kBAAA,SAAS,EAAC,oBAAhB;AAAqC,kBAAA,KAAK,EAAEmB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEgG,OAAlD;AAAA,6BAA4DhG,IAA5D,aAA4DA,IAA5D,uBAA4DA,IAAI,CAAEgG,OAAlE,eACI;AAAM,oBAAA,OAAO,EAAE,MAAM;AAAEvD,sBAAAA,iBAAiB,CAAC,CAAD,CAAjB;AAAsB,qBAA7C;AAA+C,oBAAA,SAAS,EAAC,WAAzD;AAAqE,oBAAA,KAAK,EAAC,MAA3E;AAAA,2CACI;AAAK,sBAAA,GAAG,EAAElE,YAAV;AAAwB,sBAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAMI;AAAM,kBAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBANJ,eAOI;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,yCACI;AAAA,4CAEI;AAAI,sBAAA,SAAS,EAAC,eAAd;AAAA,gCACK8G,UAAU,CAACrF,IAAD;AADf;AAAA;AAAA;AAAA;AAAA,4BAFJ,eASI;AAAI,sBAAA,SAAS,EAAC,aAAd;AAAA,sCAA8BA,IAA9B,aAA8BA,IAA9B,uBAA8BA,IAAI,CAAEiG,MAApC,OAA6C,CAAAjG,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEkG,QAAN,MAAmB,aAAnB,GAAmC,KAAnC,GAA2C,KAAxF;AAAA;AAAA;AAAA;AAAA;AAAA,4BATJ,eAUI;AAAI,sBAAA,SAAS,EAAC,sBAAd;AAAqC,sBAAA,KAAK,EAAElG,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEmG,aAAlD;AAAA,gCAAkEnG,IAAlE,aAAkEA,IAAlE,uBAAkEA,IAAI,CAAEmG;AAAxE;AAAA;AAAA;AAAA;AAAA,4BAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAPJ,eAqBI;AACI,kBAAA,OAAO,EAAEhC,UADb;AAEI,kBAAA,SAAS,EAAC,oCAFd;AAAA,4BAEoDxD,KAAK,GAAG,eAAH,GAAqB;AAF9E;AAAA;AAAA;AAAA;AAAA,wBArBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,eAgDI;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,aAAf;AAAA,wCACI;AAAM,kBAAA,SAAS,EAAC,WAAhB;AAAA,6BACK,SADL,eAEI;AAAM,oBAAA,OAAO,EAAE,MAAM;AAAE8B,sBAAAA,iBAAiB,CAAC,CAAD,CAAjB;AAAsB,qBAA7C;AAA+C,oBAAA,SAAS,EAAC,WAAzD;AAAqE,oBAAA,KAAK,EAAC,MAA3E;AAAA,2CACI;AAAK,sBAAA,GAAG,EAAElE,YAAV;AAAwB,sBAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAOI;AAAG,kBAAA,SAAS,EAAC,YAAb;AAAA,4BACKyB,IADL,aACKA,IADL,uBACKA,IAAI,CAAEoG;AADX;AAAA;AAAA;AAAA;AAAA,wBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAhDJ,eA+DI;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,sCACI;AAAM,gBAAA,SAAS,EAAC,WAAhB;AAAA,2BAA6B,gBAA7B,eACI;AAAM,kBAAA,OAAO,EAAE,MAAM;AAAE3D,oBAAAA,iBAAiB,CAAC,CAAD,CAAjB;AAAsB,mBAA7C;AAA+C,kBAAA,SAAS,EAAC,WAAzD;AAAqE,kBAAA,KAAK,EAAC,MAA3E;AAAA,yCACI;AAAK,oBAAA,GAAG,EAAElE,YAAV;AAAwB,oBAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBADJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAMI;AAAI,gBAAA,SAAS,EAAC,eAAd;AAAA,2BACKmF,OAAO,CAACC,GAAR,CAAY;AAAE1D,kBAAAA;AAAF,iBAAZ,CADL,EAEK,CAAAA,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAE0B,MAAZ,IACG1B,UAAU,CAAC+C,GAAX,CAAe,CAACjB,IAAD,EAAY8B,KAAZ,KAA2B,CAAA9B,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEsE,cAAN,kBACtC;AAAA,0CACI;AAAA,8BAAQ,GAAExC,KAAK,GAAG,CAAE,KAAI9B,IAAjB,aAAiBA,IAAjB,uBAAiBA,IAAI,CAAEsE,cAAe;AAA7C;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAA,8BAAOtH,oBAAoB,CAACgD,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEwC,SAAP,EAAkBxC,IAAlB,aAAkBA,IAAlB,uBAAkBA,IAAI,CAAEuC,OAAxB,EAAiChB,MAAjC;AAA3B;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADH,GAYK,IAdV;AAAA;AAAA;AAAA;AAAA;AAAA,sBANJ,eAwBI;AACI;AACA;AACA;AACA,gBAAA,KAAK,EAAE;AAAEgD,kBAAAA,MAAM,EAAE;AAAV,iBAJX;AAKI,gBAAA,SAAS,EAAC,wBALd;AAAA,wCAMI;AAAK,kBAAA,GAAG,EAAEhI,QAAV;AAAoB,kBAAA,GAAG,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,wBANJ,EAOK,aAPL;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAoCI;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,gBAAf;AAAA,0CACI;AAAM,oBAAA,SAAS,EAAC,WAAhB;AAAA,+BAA6B,UAA7B,eACI;AAAM,sBAAA,OAAO,EAAE,MAAM;AAAEmE,wBAAAA,iBAAiB,CAAC,CAAD,CAAjB;AAAsB,uBAA7C;AAA+C,sBAAA,SAAS,EAAC,WAAzD;AAAqE,sBAAA,KAAK,EAAC,MAA3E;AAAA,6CACI;AAAK,wBAAA,GAAG,EAAElE,YAAV;AAAwB,wBAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAMI;AAAI,oBAAA,SAAS,EAAC,gBAAd;AAAA,2CACI;AAAI,sBAAA,SAAS,EAAC,MAAd;AAAA,8CACI;AAAQ,wBAAA,SAAS,EAAC,WAAlB;AAAA,+CACI;AAAK,0BAAA,GAAG,EAAEqC,gBAAF,aAAEA,gBAAF,gDAAEA,gBAAgB,CAAEG,QAApB,0DAAE,sBAA4BwF,KAAtC;AAA6C,0BAAA,GAAG,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,8BADJ,eAII;AAAM,wBAAA,SAAS,EAAC,MAAhB;AAAA,kCAAwB3F,gBAAxB,aAAwBA,gBAAxB,iDAAwBA,gBAAgB,CAAEG,QAA1C,2DAAwB,uBAA4ByF;AAApD;AAAA;AAAA;AAAA;AAAA,8BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAkBI;AAAK,gBAAA,SAAS,EAAC,UAAf;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,gBAAf;AAAA,0CACI;AAAM,oBAAA,SAAS,EAAC,WAAhB;AAAA,+BAA6B,wBAA7B,eACI;AAAM,sBAAA,OAAO,EAAE,MAAM;AAAE/D,wBAAAA,iBAAiB,CAAC,CAAD,CAAjB;AAAsB,uBAA7C;AAA+C,sBAAA,SAAS,EAAC,WAAzD;AAAqE,sBAAA,KAAK,EAAC,MAA3E;AAAA,6CACI;AAAK,wBAAA,GAAG,EAAElE,YAAV;AAAwB,wBAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAMI;AAAK,oBAAA,SAAS,EAAC,WAAf;AAAA,2CACI;AAAA,gCACK,CAAAqC,gBAAgB,SAAhB,IAAAA,gBAAgB,WAAhB,qCAAAA,gBAAgB,CAAEE,QAAlB,gFAA4Ba,MAA5B,IACGf,gBADH,aACGA,gBADH,iDACGA,gBAAgB,CAAEE,QADrB,2DACG,uBAA4BkC,GAA5B,CAAiCjB,IAAD,iBAC5B;AAAA,kCAAKA,IAAL,aAAKA,IAAL,uBAAKA,IAAI,CAAEyE;AAAX;AAAA;AAAA;AAAA;AAAA,8BADJ,CADH,GAIK;AALV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBApCJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/DJ,eA2II;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,oCACI;AAAM,cAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,cAAA,SAAS,EAAC,UAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA,uCACI;AACI,kBAAA,OAAO,EAAE,MAAM;AACXlF,oBAAAA,OAAO,CAAC0C,IAAR,CAAc,2BAA0B7D,cAA3B,aAA2BA,cAA3B,uBAA2BA,cAAc,CAAEsG,MAAO,EAA/D;AACH,mBAHL;AAII,kBAAA,SAAS,EAAC,kCAJd;AAAA,0CAKI;AAAM,oBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,0BALJ,eAMI;AAAK,oBAAA,SAAS,EAAC,WAAf;AAAA,4CACI;AAAQ,sBAAA,SAAS,EAAC,OAAlB;AAAA,6CACI;AACI,wBAAA,GAAG,EAAE,CAAAtG,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEuG,SAAhB,KAA6BrI,KADtC;AAEI,wBAAA,GAAG,EAAC,YAFR;AAGI,wBAAA,OAAO,EAAG4F,CAAD,IAAY;AAAA;;AACjB,8BAAIA,CAAJ,aAAIA,CAAJ,oCAAIA,CAAC,CAAE0C,MAAP,8CAAI,UAAWC,OAAf,EAAwB;AACpB3C,4BAAAA,CAAC,CAAC0C,MAAF,CAASC,OAAT,GAAmB,IAAnB;AACH;;AACD,8BAAI3C,CAAJ,aAAIA,CAAJ,qCAAIA,CAAC,CAAE0C,MAAP,+CAAI,WAAWE,GAAf,EAAoB;AAChB5C,4BAAAA,CAAC,CAAC0C,MAAF,CAASE,GAAT,GAAexI,KAAf;AACH;AACJ;AAVL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BADJ,eAeI;AAAK,sBAAA,SAAS,EAAC,SAAf;AAAA,8CACI;AAAM,wBAAA,SAAS,EAAC,MAAhB;AAAA,kCAAwB8B,cAAxB,aAAwBA,cAAxB,uBAAwBA,cAAc,CAAE2G;AAAxC;AAAA;AAAA;AAAA;AAAA,8BADJ,eAEI;AAAM,wBAAA,SAAS,EAAC,QAAhB;AAAA,mCAA0B,CAAA3G,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAE4G,MAAhB,KAA0B,CAApD,SAA0D,CAAA5G,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAE6G,OAAhB,KAA2B,CAArF;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,4BAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3IJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ,CA/Qa,CA+cb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CA/eD;;GAAMjH,U;UAmBcf,U;;;KAnBde,U;AAifN,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport dummy from '../../../assets/images/u_placeholder.jpg';\nimport thumb from '../../../assets/images/job-posted-bg.jpg';\nimport question from '../../../assets/images/ic-question.png';\nimport locations from '../../../assets/images/ic-location.png';\nimport editIconBlue from '../../../assets/images/ic-edit-blue.png';\nimport leftIcon from '../../../assets/images/ic-back-arrow-line.png'\nimport rightIcon from '../../../assets/images/ic-next-arrow-line.png'\nimport { createPostJob, publishJobAgain } from '../../../redux/jobs/actions';\nimport moment from 'moment';\nimport jobDummyImage from '../../../assets/images/ic-placeholder-detail.png';\nimport OwlCarousel from 'react-owl-carousel';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport { setShowToast } from '../../../redux/common/actions';\n\nimport { renderTime, renderTimeWithFormat } from '../../../utils/common';\nimport { useHistory } from \"react-router-dom\";\n\n//@ts-ignore\nimport FsLightbox from 'fslightbox-react';\ninterface Proptypes {\n    data: any;\n    milestones: any;\n    builderProfile: any;\n    stepCompleted: Boolean;\n    categories: any;\n    jobTypes: any;\n    handleStepComplete: (data: any) => void;\n    handleStepForward: (data: any) => void;\n    handleStepBack: () => void;\n    clearParentStates: () => void;\n    updateDetailScreen: (data: any) => void;\n    jobId: string;\n}\n\nconst options = {\n    items: 1,\n    nav: true,\n    navText: [`<div class='nav-btn prev-slide'> <img src=\"${leftIcon}\"> </div>`, `<div class='nav-btn next-slide'> <img src=\"${rightIcon}\"> </div>`],\n    rewind: true,\n    autoplay: false,\n    slideBy: 1,\n    dots: true,\n    dotsEach: true,\n    dotData: true,\n    responsive: {\n        0: {\n            items: 1,\n        },\n        600: {\n            items: 1,\n        },\n        1000: {\n            items: 1,\n        },\n    },\n};\n\nconst imageFormats: Array<any> = [\"jpeg\", \"jpg\", \"png\"];\nconst videoFormats: Array<any> = [\"mp4\", \"wmv\", \"avi\"];\n\nconst JobDetails = ({\n    data,\n    milestones,\n    categories,\n    builderProfile,\n    jobTypes,\n    stepCompleted,\n    updateDetailScreen,\n    handleStepForward,\n    handleStepComplete,\n    clearParentStates,\n    handleStepBack,\n    jobId,\n}: Proptypes) => {\n    const [categorySelected, setSelected] = useState<{ [index: string]: any }>({ category: {}, job_type: {} });\n    const [isEnablePopup, setPopUp] = useState(false);\n    const [toggler, setToggler] = useState(false);\n    const [selectedSlide, setSelectSlide] = useState(1);\n\n    const history = useHistory();\n\n\n    const findSelectedCategory = () => {\n        let preSelectedItem: any = null;\n        let preSelectedJobType: any = null;\n        let preSelectedSpecialization: any = null\n\n        if (data?.categories && data?.categories?.length) {\n            preSelectedItem = data?.categories[0];\n        }\n\n        if (data?.job_type && data?.job_type?.length) {\n            preSelectedJobType = data?.job_type[0];\n        }\n\n        if (data?.specialization && data?.specialization?.length) {\n            preSelectedSpecialization = data?.specialization;\n        }\n\n        if (categories?.length && preSelectedItem && preSelectedJobType) {\n            let filterItem = categories.find((item: any) => item._id === preSelectedItem);\n            let filter_specialization = [];\n            if (filterItem?.specialisations && filterItem?.specialisations?.length) {\n                filter_specialization = filterItem?.specialisations?.filter((item: any) => {\n                    if (preSelectedSpecialization.includes(item._id)) {\n                        return item;\n                    }\n                })\n            }\n\n            let filterJobType = jobTypes.find((item: any) => item._id === preSelectedJobType);\n            if (filterJobType || filter_specialization) {\n                setSelected({\n                    category: filter_specialization, // specialisations\n                    job_type: filterJobType\n                })\n            }\n        }\n    }\n\n    useEffect(() => {\n        updateDetailScreen(null);\n        if ((categorySelected !== undefined &&\n            categorySelected !== null &&\n            !Object.keys(categorySelected?.category).length) || (categorySelected !== undefined && categorySelected !== null && !Object.keys(categorySelected?.job_type).length)) {\n            findSelectedCategory();\n        }\n    }, [categories, jobTypes, stepCompleted])\n\n    const forwardScreenStep = (id: any, data?: any) => {\n        updateDetailScreen({ currentScreen: id, data });\n        handleStepForward(id);\n    }\n\n    const renderByFileFormat = (data: any) => {\n        let data_clone: any = data;\n        if (data_clone?.urls?.length) {\n            let format_items = data_clone?.urls?.map((item: any) => {\n                let split_item_format = item?.link?.split('.');\n                let get_split_fromat = split_item_format[split_item_format.length - 1];\n\n                if (imageFormats.includes(get_split_fromat) || videoFormats.includes(get_split_fromat)) {\n                    return {\n                        url: item?.link,\n                        format: get_split_fromat,\n                        posture: item?.base64 || ''\n                    };\n                }\n            }).filter((item: any) => item! !== undefined);\n\n            let filterItems: any = [];\n            console.log({ format_items })\n            if (format_items?.length) {\n                format_items.forEach((item: any, index: number) => {\n                    let render_item: any = null;\n                    if (imageFormats.includes(item?.format)) {\n                        render_item = (\n                            <img\n                                onClick={() => {\n                                    setToggler((prev: any) => !prev);\n                                    setSelectSlide(index + 1);\n                                }}\n                                alt=\"\"\n                                src={item?.url}\n                            />)\n                    }\n\n                    if (videoFormats.includes(item?.format)) {\n                        render_item = (\n                            <video\n                                onClick={() => {\n                                    setToggler((prev: any) => !prev);\n                                    setSelectSlide(index + 1);\n                                }}\n                                poster={item?.posture}\n                                preload=\"metadata\"\n                                src={item?.url}\n                            />)\n                    }\n\n                    if (render_item) {\n                        filterItems.push(\n                            <div className='item' >\n                                <span\n                                    onClick={(e: any) => {\n                                        e.preventDefault();\n                                        handleStepForward(13);\n                                    }}\n                                    className=\"edit_icon\" title=\"Edit\">\n                                    <img src={editIconBlue} alt=\"edit\" />\n                                </span>\n                                {render_item}\n                            </div>\n                        )\n                    }\n                })\n            } else {\n                filterItems.push(\n                    <div className='item' >\n                        <span\n                            onClick={(e: any) => {\n                                e.preventDefault();\n                                handleStepForward(13);\n                            }}\n                            className=\"edit_icon\" title=\"Edit\">\n                            <img src={editIconBlue} alt=\"edit\" />\n                        </span>\n                        {<img src={jobDummyImage} alt=\"item-url\" />}\n                    </div>\n                )\n            }\n\n            return filterItems;\n        }\n    }\n\n    const handlePost = async (e: any) => {\n        e.preventDefault();\n        let data_clone: any = data;\n        let milestones_clone: any = milestones;\n        let filter_milestones = milestones_clone.filter((item: any, index: any) => {\n            if (Object.keys(item).length) {\n                if (!item?.to_date?.length) {\n                    delete item?.to_date;\n                }\n\n                if (!item?.from_date?.length || item?.from_date === \"Invalid date\") {\n                    delete item?.from_date;\n                }\n\n\n                item['order'] = index + 1;\n                return item;\n            }\n        });\n\n        data_clone['milestones'] = filter_milestones;\n        let from_date = data_clone?.from_date;\n        let to_date = data_clone?.to_date;\n        console.log({ from_date, to_date })\n        if (moment(from_date).isSame(moment(to_date))) {\n            delete data_clone?.to_date;\n        }\n\n        if (!to_date?.length) {\n            delete data_clone?.to_date;\n        }\n\n        if (!data_clone?.urls?.length) {\n            delete data_clone?.urls\n        } else {\n            let urls_: any = data_clone?.urls;\n            let filteredItems: any = [];\n            if (urls_ && Array.isArray(urls_) && urls_?.length) {\n                filteredItems = urls_.map((item_dt: any) => {\n                    if (item_dt?.base64) {\n                        delete item_dt?.base64;\n                    }\n                    return item_dt;\n                });\n                data_clone['urls'] = filteredItems;\n            }\n        }\n\n        if (jobId) {\n            data_clone.jobId = jobId;\n        }\n\n        const createJob = jobId ? publishJobAgain : createPostJob;\n\n        let response: any = await createJob(data_clone);\n        if (response?.success) {\n            clearParentStates();\n            handleStepForward(12);\n        }\n        // console.log({data: data_clone, filter_milestones });\n    }\n\n    let data_clone: any = data;\n    const renderFilteredItems = () => {\n        let sources: any = [];\n        let types: any = [];\n\n        if (data_clone?.urls?.length) {\n            data_clone?.urls.forEach((item: any) => {\n                if (item?.mediaType === 2) {\n                    sources.push(item.link);\n                    types.push('video');\n                }\n                if (item?.mediaType === 1) {\n                    sources.push(item.link);\n                    types.push('image');\n                }\n            })\n        }\n\n        return { sources, types };\n    }\n\n    const renderTime = (data: any) => {\n        let format = 'YYYY-MM-DD';\n        let current_date = moment().startOf('day').toDate();\n        let start_date = moment(data?.from_date, format).isValid() ? moment(data?.from_date, format).startOf('day').toDate() : false;\n        let end_date = moment(data?.to_date, format).isValid() ? moment(data?.to_date, format).startOf('day').toDate() : false;\n        let result = null;\n\n        if (start_date && end_date) {\n            if (moment(start_date).isSame(moment(end_date))) {\n                end_date = false;\n            }\n\n            if (moment(start_date).isSame(moment(current_date))) {\n                result = 'Today';\n            }\n\n            if (moment(start_date).isAfter(moment(current_date))) {\n                let days_diff = moment(start_date).diff(moment(current_date), 'days');\n                result = `${days_diff} days`;\n            }\n        }\n\n        if (start_date && !end_date) {\n            if (moment(start_date).isSame(moment(current_date))) {\n                result = 'Today';\n            }\n\n            if (moment(start_date).isAfter(moment(current_date))) {\n                let days_diff = moment(start_date).diff(moment(current_date), 'days');\n                result = `${days_diff} days`;\n            }\n        }\n\n        if (start_date) {\n            if (moment(start_date).isAfter(moment(current_date))) {\n                let days_diff = moment(start_date).diff(moment(current_date), 'days');\n                result = `${days_diff} days`;\n            }\n        }\n\n        return result;\n    }\n\n    const format = 'MM-DD-YYYY';\n    const { sources, types } = renderFilteredItems();\n    return (\n        <div className=\"app_wrapper\">\n            <div className=\"section_wrapper\">\n                <div className=\"custom_container\">\n\n                    <FsLightbox\n                        toggler={toggler}\n                        slide={selectedSlide}\n                        sources={sources}\n                        types={types}\n                    />\n\n                    <div className=\"vid_img_wrapper pt-20\">\n                        <div className=\"flex_row\">\n                            <div className=\"flex_col_sm_8 relative\">\n                                <button\n                                    onClick={handleStepBack}\n                                    className=\"back\"></button>\n                            </div>\n                        </div>\n                        <div className=\"flex_row\">\n                            <div className=\"flex_col_sm_8\">\n                                <figure className=\"vid_img_thumb\">\n                                    {data_clone?.urls?.length ? (\n                                        <OwlCarousel className='owl-theme' {...options}>\n                                            {renderByFileFormat(data)}\n                                        </OwlCarousel>\n                                    ) : (\n                                        <img src={jobDummyImage} alt=\"item-url\" />\n                                    )}\n                                </figure>\n                            </div>\n                            <div className=\"flex_col_sm_4 relative\">\n                                <div className=\"detail_card\">\n                                    <span className=\"title line-3 pr-20\" title={data?.jobName}>{data?.jobName}\n                                        <span onClick={() => { forwardScreenStep(1) }} className=\"edit_icon\" title=\"Edit\">\n                                            <img src={editIconBlue} alt=\"edit\" />\n                                        </span>\n                                    </span>\n                                    <span className=\"tagg\">Job details</span>\n                                    <div className=\"job_info\">\n                                        <ul>\n                                            {/* <li className=\"icon clock\">0 minutes ago</li> */}\n                                            <li className=\"icon calendar\">\n                                                {renderTime(data)}\n                                                {/* {data?.from_date?.length && !data?.to_date?.length ? '0 days' :\n                                                    data?.from_date?.length && data?.to_date?.length ?\n                                                        `${(moment(data?.to_date)).diff(moment(data.from_date), 'days')} days`\n                                                        : '0 days'} */}\n                                            </li>\n                                            <li className=\"icon dollar\">${data?.amount} {data?.pay_type === \"Fixed price\" ? 'f/p' : 'p/h'} </li>\n                                            <li className=\"icon location line-1\" title={data?.location_name}>{data?.location_name}</li>\n                                        </ul>\n                                    </div>\n                                    <button\n                                        onClick={handlePost}\n                                        className=\"fill_btn full_btn btn-effect mt-15\">{jobId ? 'Republish job' : 'Post job'}</button>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"flex_row\">\n                            <div className=\"flex_col_sm_8\">\n                                <div className=\"description\">\n                                    <span className=\"sub_title\">\n                                        {'Details'}\n                                        <span onClick={() => { forwardScreenStep(1) }} className=\"edit_icon\" title=\"Edit\">\n                                            <img src={editIconBlue} alt=\"edit\" />\n                                        </span>\n                                    </span>\n                                    <p className=\"commn_para\">\n                                        {data?.job_description}\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"flex_row\">\n                            <div className=\"flex_col_sm_4\">\n                                <span className=\"sub_title\">{'Job milestones'}\n                                    <span onClick={() => { forwardScreenStep(6) }} className=\"edit_icon\" title=\"Edit\">\n                                        <img src={editIconBlue} alt=\"edit\" />\n                                    </span>\n                                </span>\n                                <ul className=\"job_milestone\">\n                                    {console.log({ milestones })}\n                                    {milestones?.length ?\n                                        milestones.map((item: any, index: any) => item?.milestone_name && (\n                                            <li>\n                                                <span>{`${index + 1}. ${item?.milestone_name}`}</span>\n                                                <span>{renderTimeWithFormat(item?.from_date, item?.to_date, format)}</span>\n                                                {/* <span>{moment(item?.from_date,'MM-DD-YYYY').isValid() && !moment(item?.to_date,'MM-DD-YYYY').isValid()  ?\n                                                    `${moment(item?.from_date,'MM-DD-YYYY').format('MMM-DD')}` :\n                                                    moment(item?.from_date,'MM-DD-YYYY').isValid() && moment(item?.to_date,'MM-DD-YYYY').isValid() ?\n                                                        `${moment(item?.from_date,'MM-DD-YYYY').format('MMM DD')}-${moment(item?.to_date,'MM-DD-YYYY').format('DD')}` : ''\n                                                }</span> */}\n                                            </li>\n                                        ))\n                                        : null}\n\n\n                                </ul>\n                                <button\n                                    // onClick={() => {\n                                    //     setShowToast(true, 'Under development.')\n                                    // }}\n                                    style={{ cursor: 'default' }}\n                                    className=\"fill_grey_btn ques_btn\">\n                                    <img src={question} alt=\"question\" />\n                                    {'0 questions'}\n                                </button>\n                            </div>\n\n                            <div className=\"flex_col_sm_8\">\n                                <div className=\"flex_row\">\n                                    <div className=\"flex_col_sm_12\">\n                                        <span className=\"sub_title\">{'Job type'}\n                                            <span onClick={() => { forwardScreenStep(2) }} className=\"edit_icon\" title=\"Edit\">\n                                                <img src={editIconBlue} alt=\"edit\" />\n                                            </span>\n                                        </span>\n                                        <ul className=\"job_categories\">\n                                            <li className=\"draw\">\n                                                <figure className=\"type_icon\">\n                                                    <img src={categorySelected?.job_type?.image} alt=\"icon\" />\n                                                </figure>\n                                                <span className=\"name\">{categorySelected?.job_type?.name}</span>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                                <div className=\"flex_row\">\n                                    <div className=\"flex_col_sm_12\">\n                                        <span className=\"sub_title\">{'Specialisations needed'}\n                                            <span onClick={() => { forwardScreenStep(2) }} className=\"edit_icon\" title=\"Edit\">\n                                                <img src={editIconBlue} alt=\"edit\" />\n                                            </span>\n                                        </span>\n                                        <div className=\"tags_wrap\">\n                                            <ul>\n                                                {categorySelected?.category?.length ?\n                                                    categorySelected?.category?.map((item: any) => (\n                                                        <li>{item?.name}</li>\n                                                    ))\n                                                    : null}\n\n                                            </ul>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"section_wrapper\">\n                            <span className=\"sub_title\">Posted by</span>\n                            <div className=\"flex_row\">\n                                <div className=\"flex_col_sm_3\">\n                                    <div\n                                        onClick={() => {\n                                            history.push(`/builder-info?builderId=${builderProfile?.userId}`);\n                                        }}\n                                        className=\"tradie_card posted_by view_more \">\n                                        <span className=\"chat circle\"></span>\n                                        <div className=\"user_wrap\">\n                                            <figure className=\"u_img\">\n                                                <img\n                                                    src={builderProfile?.userImage || dummy}\n                                                    alt=\"traide-img\"\n                                                    onError={(e: any) => {\n                                                        if (e?.target?.onerror) {\n                                                            e.target.onerror = null;\n                                                        }\n                                                        if (e?.target?.src) {\n                                                            e.target.src = dummy;\n                                                        }\n                                                    }}\n                                                />\n                                            </figure>\n                                            <div className=\"details\">\n                                                <span className=\"name\">{builderProfile?.userName}</span>\n                                                <span className=\"rating\">{builderProfile?.rating || 0} , {builderProfile?.reviews || 0} reviews</span>\n                                                {/* <span className=\"prof\">Project Manager</span> */}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n    // return (\n    //     <div className=\"app_wrapper\">\n    //         <div className=\"section_wrapper\">\n    //             <div className=\"custom_container\">\n    //                 <div className=\"form_field\">\n    //                     <div className=\"flex_row\">\n    //                         <div className=\"flex_col_sm_5\">\n    //                             <div className=\"relate\">\n    //                                 <button className=\"back\" onClick={handleStepBack}></button>\n    //                                 {/* <span className=\"title\">Milestone Templates</span> */}\n    //                             </div>\n    //                             {/* <p className=\"commn_para\">How mach will you pay for a job</p> */}\n    //                         </div>\n    //                     </div>\n    //                 </div>\n    //             </div>\n    //         </div>\n    //     </div>\n    // )\n}\n\nexport default JobDetails;\n"]},"metadata":{},"sourceType":"module"}