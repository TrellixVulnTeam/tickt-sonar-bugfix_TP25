{"ast":null,"code":"\"use strict\";function _typeof(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof(obj);}Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _Calendar=_interopRequireDefault(require(\"../Calendar\"));var _DayCell=require(\"../DayCell\");var _utils=require(\"../../utils\");var _max=_interopRequireDefault(require(\"date-fns/max\"));var _isWithinInterval=_interopRequireDefault(require(\"date-fns/isWithinInterval\"));var _min=_interopRequireDefault(require(\"date-fns/min\"));var _addDays=_interopRequireDefault(require(\"date-fns/addDays\"));var _differenceInCalendarDays=_interopRequireDefault(require(\"date-fns/differenceInCalendarDays\"));var _isBefore=_interopRequireDefault(require(\"date-fns/isBefore\"));var _classnames=_interopRequireDefault(require(\"classnames\"));var _styles=_interopRequireDefault(require(\"../../styles\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)===\"object\"||typeof call===\"function\")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var DateRange=/*#__PURE__*/function(_Component){_inherits(DateRange,_Component);var _super=_createSuper(DateRange);function DateRange(props,context){var _this;_classCallCheck(this,DateRange);_this=_super.call(this,props,context);_defineProperty(_assertThisInitialized(_this),\"calcNewSelection\",function(value){var isSingleValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var focusedRange=_this.props.focusedRange||_this.state.focusedRange;var _this$props=_this.props,ranges=_this$props.ranges,onChange=_this$props.onChange,maxDate=_this$props.maxDate,moveRangeOnFirstSelection=_this$props.moveRangeOnFirstSelection,retainEndDateOnFirstSelection=_this$props.retainEndDateOnFirstSelection,disabledDates=_this$props.disabledDates;var focusedRangeIndex=focusedRange[0];var selectedRange=ranges[focusedRangeIndex];if(!selectedRange||!onChange)return{};var startDate=selectedRange.startDate,endDate=selectedRange.endDate;var now=new Date();var nextFocusRange;if(!isSingleValue){startDate=value.startDate;endDate=value.endDate;}else if(focusedRange[1]===0){// startDate selection\nvar dayOffset=(0,_differenceInCalendarDays.default)(endDate||now,startDate);var calculateEndDate=function calculateEndDate(){if(moveRangeOnFirstSelection){return(0,_addDays.default)(value,dayOffset);}if(retainEndDateOnFirstSelection){if(!endDate||(0,_isBefore.default)(value,endDate)){return endDate;}return value;}return value||now;};startDate=value;endDate=calculateEndDate();if(maxDate)endDate=(0,_min.default)([endDate,maxDate]);nextFocusRange=[focusedRange[0],1];}else{endDate=value;}// reverse dates if startDate before endDate\nvar isStartDateSelected=focusedRange[1]===0;if((0,_isBefore.default)(endDate,startDate)){isStartDateSelected=!isStartDateSelected;var _ref=[endDate,startDate];startDate=_ref[0];endDate=_ref[1];}var inValidDatesWithinRange=disabledDates.filter(function(disabledDate){return(0,_isWithinInterval.default)(disabledDate,{start:startDate,end:endDate});});if(inValidDatesWithinRange.length>0){if(isStartDateSelected){startDate=(0,_addDays.default)((0,_max.default)(inValidDatesWithinRange),1);}else{endDate=(0,_addDays.default)((0,_min.default)(inValidDatesWithinRange),-1);}}if(!nextFocusRange){var nextFocusRangeIndex=(0,_utils.findNextRangeIndex)(_this.props.ranges,focusedRange[0]);nextFocusRange=[nextFocusRangeIndex,0];}return{wasValid:!(inValidDatesWithinRange.length>0),range:{startDate:startDate,endDate:endDate},nextFocusRange:nextFocusRange};});_defineProperty(_assertThisInitialized(_this),\"setSelection\",function(value,isSingleValue){var _this$props2=_this.props,onChange=_this$props2.onChange,ranges=_this$props2.ranges,onRangeFocusChange=_this$props2.onRangeFocusChange;var focusedRange=_this.props.focusedRange||_this.state.focusedRange;var focusedRangeIndex=focusedRange[0];var selectedRange=ranges[focusedRangeIndex];if(!selectedRange)return;var newSelection=_this.calcNewSelection(value,isSingleValue);onChange(_defineProperty({},selectedRange.key||\"range\".concat(focusedRangeIndex+1),_objectSpread(_objectSpread({},selectedRange),newSelection.range)));_this.setState({focusedRange:newSelection.nextFocusRange,preview:null});onRangeFocusChange&&onRangeFocusChange(newSelection.nextFocusRange);});_defineProperty(_assertThisInitialized(_this),\"handleRangeFocusChange\",function(focusedRange){_this.setState({focusedRange:focusedRange});_this.props.onRangeFocusChange&&_this.props.onRangeFocusChange(focusedRange);});_defineProperty(_assertThisInitialized(_this),\"updatePreview\",function(val){var _ranges$focusedRange$;if(!val){_this.setState({preview:null});return;}var _this$props3=_this.props,rangeColors=_this$props3.rangeColors,ranges=_this$props3.ranges;var focusedRange=_this.props.focusedRange||_this.state.focusedRange;var color=((_ranges$focusedRange$=ranges[focusedRange[0]])===null||_ranges$focusedRange$===void 0?void 0:_ranges$focusedRange$.color)||rangeColors[focusedRange[0]]||color;_this.setState({preview:_objectSpread(_objectSpread({},val.range),{},{color:color})});});_this.state={focusedRange:props.initialFocusedRange||[(0,_utils.findNextRangeIndex)(props.ranges),0],preview:null};_this.styles=(0,_utils.generateStyles)([_styles.default,props.classNames]);return _this;}_createClass(DateRange,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_react.default.createElement(_Calendar.default,_extends({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:function onPreviewChange(value){_this2.updatePreview(value?_this2.calcNewSelection(value):null);}},this.props,{displayMode:\"dateRange\",className:(0,_classnames.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:function updateRange(val){return _this2.setSelection(val,false);},ref:function ref(target){_this2.calendar=target;}}));}}]);return DateRange;}(_react.Component);DateRange.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:false,retainEndDateOnFirstSelection:false,rangeColors:['#3d91ff','#3ecf8e','#fed14c'],disabledDates:[]};DateRange.propTypes=_objectSpread(_objectSpread({},_Calendar.default.propTypes),{},{onChange:_propTypes.default.func,onRangeFocusChange:_propTypes.default.func,className:_propTypes.default.string,ranges:_propTypes.default.arrayOf(_DayCell.rangeShape),moveRangeOnFirstSelection:_propTypes.default.bool,retainEndDateOnFirstSelection:_propTypes.default.bool});var _default=DateRange;exports.default=_default;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/plugins/react-date-range/dist/components/DateRange/index.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_Calendar","_DayCell","_utils","_max","_isWithinInterval","_min","_addDays","_differenceInCalendarDays","_isBefore","_classnames","_styles","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","DateRange","_Component","_super","context","_this","isSingleValue","undefined","focusedRange","state","_this$props","ranges","onChange","maxDate","moveRangeOnFirstSelection","retainEndDateOnFirstSelection","disabledDates","focusedRangeIndex","selectedRange","startDate","endDate","now","Date","nextFocusRange","dayOffset","calculateEndDate","isStartDateSelected","_ref","inValidDatesWithinRange","disabledDate","start","end","nextFocusRangeIndex","findNextRangeIndex","wasValid","range","_this$props2","onRangeFocusChange","newSelection","calcNewSelection","concat","setState","preview","val","_ranges$focusedRange$","_this$props3","rangeColors","color","initialFocusedRange","styles","generateStyles","classNames","render","_this2","createElement","handleRangeFocusChange","onPreviewChange","updatePreview","displayMode","className","dateRangeWrapper","setSelection","updateRange","ref","calendar","Component","defaultProps","propTypes","func","string","arrayOf","rangeShape","bool","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Calendar = _interopRequireDefault(require(\"../Calendar\"));\n\nvar _DayCell = require(\"../DayCell\");\n\nvar _utils = require(\"../../utils\");\n\nvar _max = _interopRequireDefault(require(\"date-fns/max\"));\n\nvar _isWithinInterval = _interopRequireDefault(require(\"date-fns/isWithinInterval\"));\n\nvar _min = _interopRequireDefault(require(\"date-fns/min\"));\n\nvar _addDays = _interopRequireDefault(require(\"date-fns/addDays\"));\n\nvar _differenceInCalendarDays = _interopRequireDefault(require(\"date-fns/differenceInCalendarDays\"));\n\nvar _isBefore = _interopRequireDefault(require(\"date-fns/isBefore\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _styles = _interopRequireDefault(require(\"../../styles\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DateRange = /*#__PURE__*/function (_Component) {\n  _inherits(DateRange, _Component);\n\n  var _super = _createSuper(DateRange);\n\n  function DateRange(props, context) {\n    var _this;\n\n    _classCallCheck(this, DateRange);\n\n    _this = _super.call(this, props, context);\n\n    _defineProperty(_assertThisInitialized(_this), \"calcNewSelection\", function (value) {\n      var isSingleValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var focusedRange = _this.props.focusedRange || _this.state.focusedRange;\n      var _this$props = _this.props,\n          ranges = _this$props.ranges,\n          onChange = _this$props.onChange,\n          maxDate = _this$props.maxDate,\n          moveRangeOnFirstSelection = _this$props.moveRangeOnFirstSelection,\n          retainEndDateOnFirstSelection = _this$props.retainEndDateOnFirstSelection,\n          disabledDates = _this$props.disabledDates;\n      var focusedRangeIndex = focusedRange[0];\n      var selectedRange = ranges[focusedRangeIndex];\n      if (!selectedRange || !onChange) return {};\n      var startDate = selectedRange.startDate,\n          endDate = selectedRange.endDate;\n      var now = new Date();\n      var nextFocusRange;\n\n      if (!isSingleValue) {\n        startDate = value.startDate;\n        endDate = value.endDate;\n      } else if (focusedRange[1] === 0) {\n        // startDate selection\n        var dayOffset = (0, _differenceInCalendarDays.default)(endDate || now, startDate);\n\n        var calculateEndDate = function calculateEndDate() {\n          if (moveRangeOnFirstSelection) {\n            return (0, _addDays.default)(value, dayOffset);\n          }\n\n          if (retainEndDateOnFirstSelection) {\n            if (!endDate || (0, _isBefore.default)(value, endDate)) {\n              return endDate;\n            }\n\n            return value;\n          }\n\n          return value || now;\n        };\n\n        startDate = value;\n        endDate = calculateEndDate();\n        if (maxDate) endDate = (0, _min.default)([endDate, maxDate]);\n        nextFocusRange = [focusedRange[0], 1];\n      } else {\n        endDate = value;\n      } // reverse dates if startDate before endDate\n\n\n      var isStartDateSelected = focusedRange[1] === 0;\n\n      if ((0, _isBefore.default)(endDate, startDate)) {\n        isStartDateSelected = !isStartDateSelected;\n        var _ref = [endDate, startDate];\n        startDate = _ref[0];\n        endDate = _ref[1];\n      }\n\n      var inValidDatesWithinRange = disabledDates.filter(function (disabledDate) {\n        return (0, _isWithinInterval.default)(disabledDate, {\n          start: startDate,\n          end: endDate\n        });\n      });\n\n      if (inValidDatesWithinRange.length > 0) {\n        if (isStartDateSelected) {\n          startDate = (0, _addDays.default)((0, _max.default)(inValidDatesWithinRange), 1);\n        } else {\n          endDate = (0, _addDays.default)((0, _min.default)(inValidDatesWithinRange), -1);\n        }\n      }\n\n      if (!nextFocusRange) {\n        var nextFocusRangeIndex = (0, _utils.findNextRangeIndex)(_this.props.ranges, focusedRange[0]);\n        nextFocusRange = [nextFocusRangeIndex, 0];\n      }\n\n      return {\n        wasValid: !(inValidDatesWithinRange.length > 0),\n        range: {\n          startDate: startDate,\n          endDate: endDate\n        },\n        nextFocusRange: nextFocusRange\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setSelection\", function (value, isSingleValue) {\n      var _this$props2 = _this.props,\n          onChange = _this$props2.onChange,\n          ranges = _this$props2.ranges,\n          onRangeFocusChange = _this$props2.onRangeFocusChange;\n      var focusedRange = _this.props.focusedRange || _this.state.focusedRange;\n      var focusedRangeIndex = focusedRange[0];\n      var selectedRange = ranges[focusedRangeIndex];\n      if (!selectedRange) return;\n\n      var newSelection = _this.calcNewSelection(value, isSingleValue);\n\n      onChange(_defineProperty({}, selectedRange.key || \"range\".concat(focusedRangeIndex + 1), _objectSpread(_objectSpread({}, selectedRange), newSelection.range)));\n\n      _this.setState({\n        focusedRange: newSelection.nextFocusRange,\n        preview: null\n      });\n\n      onRangeFocusChange && onRangeFocusChange(newSelection.nextFocusRange);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRangeFocusChange\", function (focusedRange) {\n      _this.setState({\n        focusedRange: focusedRange\n      });\n\n      _this.props.onRangeFocusChange && _this.props.onRangeFocusChange(focusedRange);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePreview\", function (val) {\n      var _ranges$focusedRange$;\n\n      if (!val) {\n        _this.setState({\n          preview: null\n        });\n\n        return;\n      }\n\n      var _this$props3 = _this.props,\n          rangeColors = _this$props3.rangeColors,\n          ranges = _this$props3.ranges;\n      var focusedRange = _this.props.focusedRange || _this.state.focusedRange;\n      var color = ((_ranges$focusedRange$ = ranges[focusedRange[0]]) === null || _ranges$focusedRange$ === void 0 ? void 0 : _ranges$focusedRange$.color) || rangeColors[focusedRange[0]] || color;\n\n      _this.setState({\n        preview: _objectSpread(_objectSpread({}, val.range), {}, {\n          color: color\n        })\n      });\n    });\n\n    _this.state = {\n      focusedRange: props.initialFocusedRange || [(0, _utils.findNextRangeIndex)(props.ranges), 0],\n      preview: null\n    };\n    _this.styles = (0, _utils.generateStyles)([_styles.default, props.classNames]);\n    return _this;\n  }\n\n  _createClass(DateRange, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_react.default.createElement(_Calendar.default, _extends({\n        focusedRange: this.state.focusedRange,\n        onRangeFocusChange: this.handleRangeFocusChange,\n        preview: this.state.preview,\n        onPreviewChange: function onPreviewChange(value) {\n          _this2.updatePreview(value ? _this2.calcNewSelection(value) : null);\n        }\n      }, this.props, {\n        displayMode: \"dateRange\",\n        className: (0, _classnames.default)(this.styles.dateRangeWrapper, this.props.className),\n        onChange: this.setSelection,\n        updateRange: function updateRange(val) {\n          return _this2.setSelection(val, false);\n        },\n        ref: function ref(target) {\n          _this2.calendar = target;\n        }\n      }));\n    }\n  }]);\n\n  return DateRange;\n}(_react.Component);\n\nDateRange.defaultProps = {\n  classNames: {},\n  ranges: [],\n  moveRangeOnFirstSelection: false,\n  retainEndDateOnFirstSelection: false,\n  rangeColors: ['#3d91ff', '#3ecf8e', '#fed14c'],\n  disabledDates: []\n};\nDateRange.propTypes = _objectSpread(_objectSpread({}, _Calendar.default.propTypes), {}, {\n  onChange: _propTypes.default.func,\n  onRangeFocusChange: _propTypes.default.func,\n  className: _propTypes.default.string,\n  ranges: _propTypes.default.arrayOf(_DayCell.rangeShape),\n  moveRangeOnFirstSelection: _propTypes.default.bool,\n  retainEndDateOnFirstSelection: _propTypes.default.bool\n});\nvar _default = DateRange;\nexports.default = _default;"]},"metadata":{},"sourceType":"module"}