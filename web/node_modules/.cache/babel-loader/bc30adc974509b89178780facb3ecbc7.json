{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/searchTradieResult/searchResultTradie.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom'; // import TradieJobInfoBox from '../../common/tradieJobInfoBox';\n\nimport SearchFilters from './searchFilters'; // import RenderMap from './renderMap';\n// import filterUnselected from '../../assets/images/ic-filter-unselected.png';\n// import filterSelected from '../../assets/images/ic-filter-selected.png';\n// import mapIcon from '../../assets/images/map.png';\n\nimport noData from '../../assets/images/no-search-data.png';\n// import BannerSearch from '../shared/bannerSearch'\nimport BannerSearchProps from '../shared/bannerSearchProps';\nimport TradieBox from '../shared/tradieBox';\nimport moment from 'moment'; // name\n// tradeId\n// specializations\n// location\n// calender\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SearchResultTradie = props => {\n  _s();\n\n  const location = useLocation();\n  const [stateData, setStateData] = useState(location.state);\n  const [isToggle, setToggleSearch] = useState(false);\n  const [localInfo, setLocalInfo] = useState({}); // localInfo\n\n  const [loading, setLoading] = useState(false);\n  const [localData, setLocalData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const {\n    homeSearchJobData\n  } = props; // props here.\n\n  useEffect(() => {\n    var _props$location, _props$location$state, _stateData$calender, _stateData$calender3, _stateData$specializa, _data$address;\n\n    props.getRecentSearchList();\n    let data = {\n      page: 1,\n      isFiltered: false\n    };\n\n    if (stateData === null || stateData === void 0 ? void 0 : stateData.tradeId) {\n      data['tradeId'] = stateData === null || stateData === void 0 ? void 0 : stateData.tradeId;\n    }\n\n    if (stateData === null || stateData === void 0 ? void 0 : stateData.specializations) {\n      data['specializationId'] = stateData === null || stateData === void 0 ? void 0 : stateData.specializations;\n    } // tradeId: stateData?.tradeId,\n    // specializationId: stateData?.specializations,\n\n\n    console.log({\n      location: stateData === null || stateData === void 0 ? void 0 : stateData.location\n    });\n\n    if (stateData === null || stateData === void 0 ? void 0 : stateData.location) {\n      data['location'] = stateData === null || stateData === void 0 ? void 0 : stateData.location;\n    }\n\n    if (props === null || props === void 0 ? void 0 : (_props$location = props.location) === null || _props$location === void 0 ? void 0 : (_props$location$state = _props$location.state) === null || _props$location$state === void 0 ? void 0 : _props$location$state.suggestionSelected) {\n      var _props$location2, _props$location2$stat;\n\n      data['address'] = JSON.stringify(props === null || props === void 0 ? void 0 : (_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : (_props$location2$stat = _props$location2.state) === null || _props$location2$stat === void 0 ? void 0 : _props$location2$stat.suggestionSelected);\n    }\n\n    if (stateData === null || stateData === void 0 ? void 0 : (_stateData$calender = stateData.calender) === null || _stateData$calender === void 0 ? void 0 : _stateData$calender.startDate) {\n      var _stateData$calender2;\n\n      data['from_date'] = moment(stateData === null || stateData === void 0 ? void 0 : (_stateData$calender2 = stateData.calender) === null || _stateData$calender2 === void 0 ? void 0 : _stateData$calender2.startDate).format('YYYY-MM-DD');\n    }\n\n    if (stateData === null || stateData === void 0 ? void 0 : (_stateData$calender3 = stateData.calender) === null || _stateData$calender3 === void 0 ? void 0 : _stateData$calender3.endDate) {\n      var _stateData$calender4;\n\n      data['to_date'] = moment(stateData === null || stateData === void 0 ? void 0 : (_stateData$calender4 = stateData.calender) === null || _stateData$calender4 === void 0 ? void 0 : _stateData$calender4.endDate).format('YYYY-MM-DD');\n    }\n\n    let spec_count = stateData === null || stateData === void 0 ? void 0 : (_stateData$specializa = stateData.specializations) === null || _stateData$specializa === void 0 ? void 0 : _stateData$specializa.length;\n\n    if (!(data === null || data === void 0 ? void 0 : data.address) || !(data === null || data === void 0 ? void 0 : (_data$address = data.address) === null || _data$address === void 0 ? void 0 : _data$address.length)) {\n      data === null || data === void 0 ? true : delete data.address;\n    } // console.log({\n    //     stateData,\n    //     suggestionSelected: props?.location?.state?.suggestionSelected?.mainText,\n    //     address: props?.location?.state?.address\n    // })\n\n\n    setLocalInfo({\n      name: stateData === null || stateData === void 0 ? void 0 : stateData.name,\n      count: spec_count === 1 ? 0 : spec_count,\n      tradeId: data.tradeId,\n      specializationId: data.specializationId,\n      location: data.location,\n      doingLocalChanges: false,\n      suggestionSelected: stateData === null || stateData === void 0 ? void 0 : stateData.suggestionSelected\n    });\n\n    if (data === null || data === void 0 ? void 0 : data.address) {\n      return;\n    }\n\n    console.log({\n      data\n    }, '----------------->><<---------------'); // if (!stateData?.suggestionSelected || (data?.location?.coordinates && Array.isArray(data?.location?.coordinates) && data?.location?.coordinates?.length)) {\n\n    props.postHomeSearchData(data); // }\n  }, []);\n\n  const getTitleInfo = info => {\n    setLocalInfo(info);\n  };\n  /*\n  useEffect(() => {\n      let home: any = props.homeSearchJobData?.length ? true : false;\n      if (home) {\n          setLocalData(props.homeSearchJobData)\n      } else {\n          setLocalData([])\n      }\n  }, [props])\n  */\n\n\n  const checkIfExist = data => {\n    if (data && Array.isArray(data) && (data === null || data === void 0 ? void 0 : data.length)) {\n      let element_id = data[0].tradieId;\n      let response = localData.find(item => item.tradieId === element_id);\n\n      if (response) {\n        console.log({\n          response\n        }, 'duplicate');\n        return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  };\n\n  useEffect(() => {\n    var _local_info$tradeId, _local_info_tradeId, _localTradeId;\n\n    let newProps = homeSearchJobData;\n    let propsPage = 1;\n    let propsTradeId = '';\n    let localTradeId = '';\n    let local_info = localInfo;\n    let local_info_tradeId = '';\n\n    if ((local_info === null || local_info === void 0 ? void 0 : local_info.tradeId) && Array.isArray(local_info === null || local_info === void 0 ? void 0 : local_info.tradeId) && (local_info === null || local_info === void 0 ? void 0 : (_local_info$tradeId = local_info.tradeId) === null || _local_info$tradeId === void 0 ? void 0 : _local_info$tradeId.length)) {\n      local_info_tradeId = local_info === null || local_info === void 0 ? void 0 : local_info.tradeId[0];\n    }\n\n    if (!hasMore) {\n      setHasMore(prev => !prev);\n    }\n\n    if (homeSearchJobData && Array.isArray(homeSearchJobData) && (homeSearchJobData === null || homeSearchJobData === void 0 ? void 0 : homeSearchJobData.length)) {\n      var _homeSearchJobData$, _homeSearchJobData$$t, _homeSearchJobData$2;\n\n      propsTradeId = (_homeSearchJobData$ = homeSearchJobData[0]) === null || _homeSearchJobData$ === void 0 ? void 0 : (_homeSearchJobData$$t = _homeSearchJobData$.tradeData[0]) === null || _homeSearchJobData$$t === void 0 ? void 0 : _homeSearchJobData$$t.tradeId;\n      propsPage = (_homeSearchJobData$2 = homeSearchJobData[0]) === null || _homeSearchJobData$2 === void 0 ? void 0 : _homeSearchJobData$2.page;\n    }\n\n    if (localData && Array.isArray(localData) && (localData === null || localData === void 0 ? void 0 : localData.length)) {\n      var _localData$, _localData$$tradeData;\n\n      localTradeId = (_localData$ = localData[0]) === null || _localData$ === void 0 ? void 0 : (_localData$$tradeData = _localData$.tradeData[0]) === null || _localData$$tradeData === void 0 ? void 0 : _localData$$tradeData.tradeId;\n    }\n\n    let cp = currentPage * 10;\n\n    if (!((_local_info_tradeId = local_info_tradeId) === null || _local_info_tradeId === void 0 ? void 0 : _local_info_tradeId.length) && ((_localTradeId = localTradeId) === null || _localTradeId === void 0 ? void 0 : _localTradeId.length)) {\n      getTitleInfo({\n        name: '',\n        count: 0,\n        tradeId: [],\n        specializationId: [],\n        location: null,\n        doingLocalChanges: false,\n        suggestionSelected: ''\n      });\n    }\n\n    if (propsPage) {\n      var _local_info_tradeId2, _localTradeId2;\n\n      if (((_local_info_tradeId2 = local_info_tradeId) === null || _local_info_tradeId2 === void 0 ? void 0 : _local_info_tradeId2.length) && ((_localTradeId2 = localTradeId) === null || _localTradeId2 === void 0 ? void 0 : _localTradeId2.length)) {\n        var _propsTradeId;\n\n        if (!((_propsTradeId = propsTradeId) === null || _propsTradeId === void 0 ? void 0 : _propsTradeId.length) && local_info_tradeId === localTradeId) {\n          return;\n        }\n      }\n\n      if (propsPage === 1 && currentPage === 1) {\n        setLocalData(newProps);\n        setCurrentPage(propsPage);\n      } else if (propsPage > 1 && currentPage > 1 && currentPage === propsPage) {\n        if (!checkIfExist(newProps)) {\n          setLocalData(prev => [...prev, ...newProps]);\n        }\n      } else if (propsPage === 1 && currentPage > 1) {\n        setLocalData(newProps);\n        setCurrentPage(propsPage);\n      } else {\n        var _local_info_tradeId3, _localTradeId3, _propsTradeId2;\n\n        if (!((_local_info_tradeId3 = local_info_tradeId) === null || _local_info_tradeId3 === void 0 ? void 0 : _local_info_tradeId3.length) && ((_localTradeId3 = localTradeId) === null || _localTradeId3 === void 0 ? void 0 : _localTradeId3.length) && ((_propsTradeId2 = propsTradeId) === null || _propsTradeId2 === void 0 ? void 0 : _propsTradeId2.length)) {\n          if (localTradeId === propsTradeId) {\n            setLocalData(newProps);\n            setCurrentPage(propsPage);\n          }\n        }\n      }\n    }\n  }, [homeSearchJobData]);\n\n  const handleChangeToggle = value => {\n    setToggleSearch(value);\n  }; // let homeSearchJobData: any = props.homeSearchJobData;\n\n\n  let local_info = localInfo;\n  let isLoading = props.isLoading;\n  console.log({\n    localData,\n    homeSearchJobData,\n    props\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `top_search ${isToggle ? 'active' : ''}`,\n      children: /*#__PURE__*/_jsxDEV(BannerSearchProps, { ...props,\n        getTitleInfo: getTitleInfo,\n        localInfo: localInfo,\n        handleChangeToggle: handleChangeToggle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search_result\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section_wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row mob_srch_option\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_6 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setToggleSearch(true);\n                },\n                className: \"fill_grey_btn btn-effect\",\n                children: \"Modify Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result_heading\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_8\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title\",\n                  children: [`${(local_info === null || local_info === void 0 ? void 0 : local_info.name) || ''} ${(local_info === null || local_info === void 0 ? void 0 : local_info.count) > 1 ? `+${(local_info === null || local_info === void 0 ? void 0 : local_info.count) - 1}` : ''}`, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"count\",\n                    children: `${(localData === null || localData === void 0 ? void 0 : localData.length) || 0} result(s)`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SearchFilters, { ...props,\n                  localInfo: localInfo,\n                  getTitleInfo: getTitleInfo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n            dataLength: localData === null || localData === void 0 ? void 0 : localData.length,\n            next: () => {\n              console.log('callable');\n\n              if ((localData === null || localData === void 0 ? void 0 : localData.length) < currentPage * 10) {// setHasMore(false);\n              } else {\n                var _local_info$tradeId2, _local_info$specializ, _props$location3, _props$location3$stat, _props$location4, _props$location4$stat;\n\n                let cp = currentPage + 1;\n                setCurrentPage(prev => prev + 1);\n                let local_info = localInfo;\n                console.log({\n                  local_info\n                });\n                let data = {\n                  page: cp,\n                  isFiltered: false\n                };\n\n                if (local_info === null || local_info === void 0 ? void 0 : local_info.location) {\n                  data['location'] = local_info === null || local_info === void 0 ? void 0 : local_info.location;\n                }\n\n                if (local_info === null || local_info === void 0 ? void 0 : (_local_info$tradeId2 = local_info.tradeId) === null || _local_info$tradeId2 === void 0 ? void 0 : _local_info$tradeId2.length) {\n                  data['tradeId'] = local_info === null || local_info === void 0 ? void 0 : local_info.tradeId;\n                }\n\n                if (local_info === null || local_info === void 0 ? void 0 : (_local_info$specializ = local_info.specializationId) === null || _local_info$specializ === void 0 ? void 0 : _local_info$specializ.length) {\n                  data['specializationId'] = local_info === null || local_info === void 0 ? void 0 : local_info.specializationId;\n                }\n\n                if ((props === null || props === void 0 ? void 0 : (_props$location3 = props.location) === null || _props$location3 === void 0 ? void 0 : (_props$location3$stat = _props$location3.state) === null || _props$location3$stat === void 0 ? void 0 : _props$location3$stat.suggestionSelected) && (props === null || props === void 0 ? void 0 : (_props$location4 = props.location) === null || _props$location4 === void 0 ? void 0 : (_props$location4$stat = _props$location4.state) === null || _props$location4$stat === void 0 ? void 0 : _props$location4$stat.suggestionSelected) !== \"{}\") {\n                  var _props$location5, _props$location5$stat;\n\n                  data['address'] = JSON.stringify(props === null || props === void 0 ? void 0 : (_props$location5 = props.location) === null || _props$location5 === void 0 ? void 0 : (_props$location5$stat = _props$location5.state) === null || _props$location5$stat === void 0 ? void 0 : _props$location5$stat.suggestionSelected);\n                }\n\n                if (local_info === null || local_info === void 0 ? void 0 : local_info.from_date) {\n                  data['from_date'] = local_info === null || local_info === void 0 ? void 0 : local_info.from_date;\n                }\n\n                if (local_info === null || local_info === void 0 ? void 0 : local_info.to_date) {\n                  data['to_date'] = local_info === null || local_info === void 0 ? void 0 : local_info.to_date;\n                }\n\n                if ((local_info === null || local_info === void 0 ? void 0 : local_info.sortBy) > 0) {\n                  data['sortBy'] = local_info === null || local_info === void 0 ? void 0 : local_info.sortBy;\n                } // if (!data?.hasOwnProperty('tradeId') && !data?.hasOwnProperty('specializationId') && !data?.hasOwnProperty('location')) {\n                //     data['location'] = { coordinates: [144.9631, -37.8136] }\n                // }\n\n\n                if (!(data === null || data === void 0 ? void 0 : data.hasOwnProperty('specializationId'))) {\n                  data['isFiltered'] = true;\n                }\n\n                console.log({\n                  local_info,\n                  data,\n                  cp\n                });\n                props.postHomeSearchData(data);\n              }\n            },\n            hasMore: hasMore,\n            loader: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false),\n            className: \"flex_row tradies_row\",\n            children: (localData === null || localData === void 0 ? void 0 : localData.length) ? localData.map((item, index) => /*#__PURE__*/_jsxDEV(TradieBox, {\n              item: item,\n              index: index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 37\n            }, this)) : !isLoading && !(localData === null || localData === void 0 ? void 0 : localData.length) ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no_record\",\n              children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"no_img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: noData,\n                  alt: \"data not found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: 'No Data Found'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 37\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SearchResultTradie, \"1wzW2z3DrCcOlce3Mt03kPs2Ehs=\", false, function () {\n  return [useLocation];\n});\n\n_c = SearchResultTradie;\nexport default SearchResultTradie;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResultTradie\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/searchTradieResult/searchResultTradie.tsx"],"names":["useState","useEffect","useLocation","SearchFilters","noData","BannerSearchProps","TradieBox","moment","InfiniteScroll","SearchResultTradie","props","location","stateData","setStateData","state","isToggle","setToggleSearch","localInfo","setLocalInfo","loading","setLoading","localData","setLocalData","currentPage","setCurrentPage","hasMore","setHasMore","homeSearchJobData","getRecentSearchList","data","page","isFiltered","tradeId","specializations","console","log","suggestionSelected","JSON","stringify","calender","startDate","format","endDate","spec_count","length","address","name","count","specializationId","doingLocalChanges","postHomeSearchData","getTitleInfo","info","checkIfExist","Array","isArray","element_id","tradieId","response","find","item","newProps","propsPage","propsTradeId","localTradeId","local_info","local_info_tradeId","prev","tradeData","cp","handleChangeToggle","value","isLoading","from_date","to_date","sortBy","hasOwnProperty","map","index"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\n\n// import TradieJobInfoBox from '../../common/tradieJobInfoBox';\nimport SearchFilters from './searchFilters';\n// import RenderMap from './renderMap';\n\n// import filterUnselected from '../../assets/images/ic-filter-unselected.png';\n// import filterSelected from '../../assets/images/ic-filter-selected.png';\n// import mapIcon from '../../assets/images/map.png';\nimport noData from '../../assets/images/no-search-data.png';\nimport closeMap from '../../assets/images/close-white.png';\n\n// import BannerSearch from '../shared/bannerSearch'\nimport BannerSearchProps from '../shared/bannerSearchProps'\nimport TradieBox from '../shared/tradieBox'\nimport moment from 'moment';\n// name\n// tradeId\n// specializations\n// location\n// calender\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { addListener } from 'process';\n\nconst SearchResultTradie = (props: any) => {\n    const location: any = useLocation();\n    const [stateData, setStateData] = useState(location.state);\n    const [isToggle, setToggleSearch] = useState(false);\n    const [localInfo, setLocalInfo] = useState({}); // localInfo\n    const [loading, setLoading] = useState(false);\n    const [localData, setLocalData] = useState<any>([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [hasMore, setHasMore] = useState(true);\n\n    const { homeSearchJobData } = props; // props here.\n\n    useEffect(() => {\n        props.getRecentSearchList();\n\n        let data: any = {\n            page: 1,\n            isFiltered: false,\n        }\n\n        if (stateData?.tradeId) {\n            data['tradeId'] = stateData?.tradeId\n        }\n\n        if (stateData?.specializations) {\n            data['specializationId'] = stateData?.specializations;\n        }\n        // tradeId: stateData?.tradeId,\n        // specializationId: stateData?.specializations,\n        console.log({\n            location: stateData?.location\n        })\n        if (stateData?.location) {\n            data['location'] = stateData?.location;\n        }\n\n        if (props?.location?.state?.suggestionSelected) {\n            data['address'] = JSON.stringify(props?.location?.state?.suggestionSelected);\n        }\n\n        if (stateData?.calender?.startDate) {\n            data['from_date'] = moment(stateData?.calender?.startDate).format('YYYY-MM-DD')\n        }\n        if (stateData?.calender?.endDate) {\n            data['to_date'] = moment(stateData?.calender?.endDate).format('YYYY-MM-DD')\n        }\n        let spec_count: any = stateData?.specializations?.length;\n\n        if (!data?.address || !data?.address?.length) {\n            delete data?.address;\n        }\n\n        // console.log({\n        //     stateData,\n        //     suggestionSelected: props?.location?.state?.suggestionSelected?.mainText,\n        //     address: props?.location?.state?.address\n        // })\n\n        setLocalInfo({\n            name: stateData?.name,\n            count: spec_count === 1 ? 0 : spec_count,\n            tradeId: data.tradeId,\n            specializationId: data.specializationId,\n            location: data.location,\n            doingLocalChanges: false,\n            suggestionSelected: stateData?.suggestionSelected\n        });\n\n        if (data?.address) {\n            return\n        }\n\n        console.log({\n            data\n        }, '----------------->><<---------------')\n\n        // if (!stateData?.suggestionSelected || (data?.location?.coordinates && Array.isArray(data?.location?.coordinates) && data?.location?.coordinates?.length)) {\n        props.postHomeSearchData(data);\n        // }\n\n    }, []);\n\n    const getTitleInfo = (info: any) => {\n        setLocalInfo(info)\n    }\n\n    /*\n    useEffect(() => {\n        let home: any = props.homeSearchJobData?.length ? true : false;\n        if (home) {\n            setLocalData(props.homeSearchJobData)\n        } else {\n            setLocalData([])\n        }\n    }, [props])\n    */\n\n\n    const checkIfExist = (data: any) => {\n        if (data && Array.isArray(data) && data?.length) {\n            let element_id = data[0].tradieId;\n            let response = localData.find((item: any) => item.tradieId === element_id);\n            if (response) {\n                console.log({ response }, 'duplicate');\n                return true;\n            }\n            return false;\n        }\n        return false;\n    }\n\n    useEffect(() => {\n        let newProps = homeSearchJobData;\n        let propsPage = 1;\n        let propsTradeId = '';\n        let localTradeId = '';\n        let local_info: any = localInfo;\n        let local_info_tradeId = '';\n        if (local_info?.tradeId && Array.isArray(local_info?.tradeId) && local_info?.tradeId?.length) {\n            local_info_tradeId = local_info?.tradeId[0];\n        }\n\n        if (!hasMore) {\n            setHasMore((prev: any) => !prev);\n        }\n\n        if (homeSearchJobData && Array.isArray(homeSearchJobData) && homeSearchJobData?.length) {\n            propsTradeId = homeSearchJobData[0]?.tradeData[0]?.tradeId;\n            propsPage = homeSearchJobData[0]?.page;\n        }\n\n        if (localData && Array.isArray(localData) && localData?.length) {\n            localTradeId = localData[0]?.tradeData[0]?.tradeId;\n        }\n\n        let cp = currentPage * 10;\n\n        if (!local_info_tradeId?.length && localTradeId?.length) {\n            getTitleInfo({\n                name: '',\n                count: 0,\n                tradeId: [],\n                specializationId: [],\n                location: null,\n                doingLocalChanges: false,\n                suggestionSelected: ''\n            })\n        }\n\n        if (propsPage) {\n            if (local_info_tradeId?.length && localTradeId?.length) {\n                if (!propsTradeId?.length && local_info_tradeId === localTradeId) {\n                    return\n                }\n            }\n\n            if (propsPage === 1 && currentPage === 1) {\n                setLocalData(newProps);\n                setCurrentPage(propsPage);\n            } else if (propsPage > 1 && currentPage > 1 && currentPage === propsPage) {\n                if (!checkIfExist(newProps)) {\n                    setLocalData((prev: any) => [...prev, ...newProps]);\n                }\n            } else if (propsPage === 1 && currentPage > 1) {\n                setLocalData(newProps);\n                setCurrentPage(propsPage);\n            } else {\n                if (!local_info_tradeId?.length && localTradeId?.length && propsTradeId?.length) {\n                    if (localTradeId === propsTradeId) {\n                        setLocalData(newProps);\n                        setCurrentPage(propsPage);\n                    }\n                }\n            }\n        }\n    }, [homeSearchJobData]);\n\n    const handleChangeToggle = (value: any) => { setToggleSearch(value) }\n\n    // let homeSearchJobData: any = props.homeSearchJobData;\n    let local_info: any = localInfo;\n    let isLoading: any = props.isLoading;\n    console.log({ localData, homeSearchJobData, props })\n    return (\n        <div className=\"app_wrapper\" >\n            <div className={`top_search ${isToggle ? 'active' : ''}`}>\n                <BannerSearchProps\n                    {...props}\n                    getTitleInfo={getTitleInfo}\n                    localInfo={localInfo}\n                    handleChangeToggle={handleChangeToggle} />\n            </div>\n            <div className=\"search_result\">\n                <div className=\"section_wrapper\">\n                    <div className=\"custom_container\">\n\n                        <div className=\"flex_row mob_srch_option\">\n                            <div className=\"flex_col_sm_6\"></div>\n                            <div className=\"flex_col_sm_6 text-right\">\n                                <button onClick={() => { setToggleSearch(true) }} className=\"fill_grey_btn btn-effect\">Modify Search</button>\n                            </div>\n                        </div>\n\n                        <div className=\"result_heading\">\n                            <div className=\"flex_row\">\n                                <div className=\"flex_col_sm_8\">\n                                    <span className=\"title\">\n                                        {`${local_info?.name || ''} ${local_info?.count > 1 ? `+${local_info?.count - 1}` : ''}`}\n                                        <span className=\"count\">\n                                            {`${localData?.length || 0} result(s)`}\n                                        </span>\n                                    </span>\n                                    <SearchFilters\n                                        {...props}\n                                        localInfo={localInfo}\n                                        getTitleInfo={getTitleInfo}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n\n                        <InfiniteScroll\n                            dataLength={localData?.length}\n                            next={() => {\n                                console.log('callable');\n                                if (localData?.length < currentPage * 10) {\n                                    // setHasMore(false);\n                                } else {\n                                    let cp = currentPage + 1;\n                                    setCurrentPage((prev: any) => prev + 1);\n                                    let local_info: any = localInfo;\n                                    console.log({ local_info });\n                                    let data: any = {\n                                        page: cp,\n                                        isFiltered: false,\n                                    }\n\n                                    if (local_info?.location) {\n                                        data['location'] = local_info?.location;\n                                    }\n\n                                    if (local_info?.tradeId?.length) {\n                                        data['tradeId'] = local_info?.tradeId\n                                    }\n\n                                    if (local_info?.specializationId?.length) {\n                                        data['specializationId'] = local_info?.specializationId;\n                                    }\n\n                                    if (props?.location?.state?.suggestionSelected && props?.location?.state?.suggestionSelected !== \"{}\") {\n                                        data['address'] = JSON.stringify(props?.location?.state?.suggestionSelected);\n                                    }\n\n                                    if (local_info?.from_date) {\n                                        data['from_date'] = local_info?.from_date;\n                                    }\n\n                                    if (local_info?.to_date) {\n                                        data['to_date'] = local_info?.to_date;\n                                    }\n\n                                    if (local_info?.sortBy > 0) {\n                                        data['sortBy'] = local_info?.sortBy;\n                                    }\n\n                                    // if (!data?.hasOwnProperty('tradeId') && !data?.hasOwnProperty('specializationId') && !data?.hasOwnProperty('location')) {\n                                    //     data['location'] = { coordinates: [144.9631, -37.8136] }\n                                    // }\n\n                                    if (!data?.hasOwnProperty('specializationId')) {\n                                        data['isFiltered'] = true;\n                                    }\n\n                                    console.log({\n                                        local_info,\n                                        data,\n                                        cp\n                                    });\n                                    props.postHomeSearchData(data);\n                                }\n                            }}\n                            hasMore={hasMore}\n                            loader={<></>}\n                            className=\"flex_row tradies_row\">\n                            {localData?.length ?\n                                localData.map((item: any, index: number) => (\n                                    <TradieBox item={item} index={index} />\n                                ))\n                                :\n                                !isLoading && !localData?.length ?\n                                    <div className=\"no_record\">\n                                        <figure className=\"no_img\">\n                                            <img src={noData} alt=\"data not found\" />\n                                        </figure>\n                                        <span>{'No Data Found'}</span>\n                                    </div> : null}\n                        </InfiniteScroll>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SearchResultTradie\n"]},"metadata":{},"sourceType":"module"}