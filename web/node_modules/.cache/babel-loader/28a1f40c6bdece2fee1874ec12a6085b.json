{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/popularBuilders/popularBuilders.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { getPopularBuilder } from '../../redux/homeSearch/actions';\nimport dummy from '../../assets/images/u_placeholder.jpg';\nimport menu from '../../assets/images/menu-line-blue.png';\nimport noData from '../../assets/images/no-search-data.png';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PopularBuilders = props => {\n  _s();\n\n  var _props$history, _props$history$locati, _props$history$locati2, _props$history2, _props$history2$locat, _props$history2$locat2, _props$history3, _props$history3$locat, _props$history3$locat2, _props$history4, _props$history4$locat, _props$history4$locat2;\n\n  const [buildersList, setBuildersList] = useState([]);\n  const [totalCount, setTotalCount] = useState(1);\n  const [pageNo, setPageNo] = useState(1);\n  const [hasMoreItems, setHasMoreItems] = useState(true);\n  const lat = ((_props$history = props.history) === null || _props$history === void 0 ? void 0 : (_props$history$locati = _props$history.location) === null || _props$history$locati === void 0 ? void 0 : (_props$history$locati2 = _props$history$locati.state) === null || _props$history$locati2 === void 0 ? void 0 : _props$history$locati2.coordinates[1]) ? (_props$history2 = props.history) === null || _props$history2 === void 0 ? void 0 : (_props$history2$locat = _props$history2.location) === null || _props$history2$locat === void 0 ? void 0 : (_props$history2$locat2 = _props$history2$locat.state) === null || _props$history2$locat2 === void 0 ? void 0 : _props$history2$locat2.coordinates[1] : -37.8136;\n  const long = ((_props$history3 = props.history) === null || _props$history3 === void 0 ? void 0 : (_props$history3$locat = _props$history3.location) === null || _props$history3$locat === void 0 ? void 0 : (_props$history3$locat2 = _props$history3$locat.state) === null || _props$history3$locat2 === void 0 ? void 0 : _props$history3$locat2.coordinates[0]) ? (_props$history4 = props.history) === null || _props$history4 === void 0 ? void 0 : (_props$history4$locat = _props$history4.location) === null || _props$history4$locat === void 0 ? void 0 : (_props$history4$locat2 = _props$history4$locat.state) === null || _props$history4$locat2 === void 0 ? void 0 : _props$history4$locat2.coordinates[0] : 144.9631;\n  useEffect(() => {\n    callJobList();\n  }, []);\n\n  const callJobList = async () => {\n    if (buildersList.length >= totalCount) {\n      setHasMoreItems(false);\n      return;\n    }\n\n    const data = {\n      long: long,\n      lat: lat,\n      page: pageNo,\n      perPage: 10\n    };\n    const res = await getPopularBuilder(data);\n\n    if (res.success) {\n      var _res$result, _res$result2, _res$result2$data, _res$result3;\n\n      const allBuilders = [...buildersList, ...((_res$result = res.result) === null || _res$result === void 0 ? void 0 : _res$result.data)];\n\n      if (((_res$result2 = res.result) === null || _res$result2 === void 0 ? void 0 : (_res$result2$data = _res$result2.data) === null || _res$result2$data === void 0 ? void 0 : _res$result2$data.length) < 10) {\n        setHasMoreItems(false);\n      }\n\n      setBuildersList(allBuilders);\n      setPageNo(pageNo + 1);\n\n      if (((_res$result3 = res.result) === null || _res$result3 === void 0 ? void 0 : _res$result3.totalCount) !== totalCount) {\n        var _res$result4;\n\n        setTotalCount((_res$result4 = res.result) === null || _res$result4 === void 0 ? void 0 : _res$result4.totalCount);\n      }\n    }\n  };\n\n  const backButtonClicked = () => {\n    var _props$history5;\n\n    (_props$history5 = props.history) === null || _props$history5 === void 0 ? void 0 : _props$history5.goBack();\n  };\n\n  console.log('props: ', props, buildersList.length, \"zzz\", totalCount);\n  return /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n    dataLength: buildersList.length,\n    next: callJobList,\n    style: {\n      overflowX: 'hidden'\n    },\n    hasMore: hasMoreItems,\n    loader: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section_wrapper bg_gray\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relate\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"back\",\n              onClick: backButtonClicked\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title\",\n              children: \"Popular builders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row tradies_row\",\n            children: (buildersList === null || buildersList === void 0 ? void 0 : buildersList.length) > 0 || props.isLoading ? buildersList.map(item => {\n              var _item$rating, _item$trade, _item$trade2, _item$trade3, _item$trade4, _item$trade5, _item$specializations;\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tradie_card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"javascript:void(0)\",\n                    className: \"more_detail circle\",\n                    onClick: e => {\n                      e.preventDefault();\n                      props.history.push(`/builder-info?builderId=${item._id}`);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"user_wrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                      className: \"u_img\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: item.user_image || dummy,\n                        onError: e => {\n                          let e_ = e;\n                          e_.target.src = dummy;\n                        },\n                        alt: \"img\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 80,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"details\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"name\",\n                        children: item.firstName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 89,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"rating\",\n                        children: `${item.reviewCount ? `${item.rating % 1 === 0 ? item.rating : (_item$rating = item.rating) === null || _item$rating === void 0 ? void 0 : _item$rating.toFixed(2)}, ${item.review} reviews` : `0, 0 reviews`}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 90,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tags_wrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                      children: [((_item$trade = item.trade) === null || _item$trade === void 0 ? void 0 : _item$trade.length) ? item.trade.map(({\n                        _id,\n                        selected_url,\n                        trade_name\n                      }) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"main\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: selected_url || menu,\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 97,\n                          columnNumber: 61\n                        }, this), trade_name || '']\n                      }, _id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 57\n                      }, this)) : /*#__PURE__*/_jsxDEV(\"i\", {\n                        style: {\n                          color: '#929292'\n                        },\n                        children: 'No Trade Found'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 67\n                      }, this), ((_item$trade2 = item.trade) === null || _item$trade2 === void 0 ? void 0 : _item$trade2.length) > 0 && item.specializations.slice(0, 5 - ((_item$trade3 = item.trade) === null || _item$trade3 === void 0 ? void 0 : _item$trade3.length)).map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: item.name\n                      }, item._id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 153\n                      }, this)), ((_item$trade4 = item.trade) === null || _item$trade4 === void 0 ? void 0 : _item$trade4.length) > 0 && ((_item$trade5 = item.trade) === null || _item$trade5 === void 0 ? void 0 : _item$trade5.length) + ((_item$specializations = item.specializations) === null || _item$specializations === void 0 ? void 0 : _item$specializations.length) > 5 && /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"More\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 139\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 37\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no_record\",\n              children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"no_img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: noData,\n                  alt: \"data not found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"No Data Found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PopularBuilders, \"/FDUqMM8IYQCjfG/dXMCU4aXHwY=\");\n\n_c = PopularBuilders;\n\nconst mapStateToProps = state => {\n  return {\n    isLoading: state.common.isLoading\n  };\n};\n\nexport default connect(mapStateToProps, null)(PopularBuilders);\n\nvar _c;\n\n$RefreshReg$(_c, \"PopularBuilders\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/popularBuilders/popularBuilders.tsx"],"names":["useState","useEffect","connect","InfiniteScroll","getPopularBuilder","dummy","menu","noData","PopularBuilders","props","buildersList","setBuildersList","totalCount","setTotalCount","pageNo","setPageNo","hasMoreItems","setHasMoreItems","lat","history","location","state","coordinates","long","callJobList","length","data","page","perPage","res","success","allBuilders","result","backButtonClicked","goBack","console","log","overflowX","isLoading","map","item","e","preventDefault","push","_id","user_image","e_","target","src","firstName","reviewCount","rating","toFixed","review","trade","selected_url","trade_name","color","specializations","slice","name","mapStateToProps","common"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,SAASC,iBAAT,QAAkC,gCAAlC;AAEA,OAAOC,KAAP,MAAkB,uCAAlB;AACA,OAAOC,IAAP,MAAiB,wCAAjB;AAEA,OAAOC,MAAP,MAAmB,wCAAnB;;;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAgB;AAAA;;AAAA;;AACpC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAa,EAAb,CAAhD;AACA,QAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAS,CAAT,CAA5C;AACA,QAAM,CAACc,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAS,CAAT,CAApC;AACA,QAAM,CAACgB,YAAD,EAAeC,eAAf,IAAkCjB,QAAQ,CAAU,IAAV,CAAhD;AACA,QAAMkB,GAAW,GAAG,mBAAAT,KAAK,CAACU,OAAN,2FAAeC,QAAf,0GAAyBC,KAAzB,kFAAgCC,WAAhC,CAA4C,CAA5C,wBAAiDb,KAAK,CAACU,OAAvD,6EAAiD,gBAAeC,QAAhE,oFAAiD,sBAAyBC,KAA1E,2DAAiD,uBAAgCC,WAAhC,CAA4C,CAA5C,CAAjD,GAAkG,CAAC,OAAvH;AACA,QAAMC,IAAY,GAAG,oBAAAd,KAAK,CAACU,OAAN,6FAAeC,QAAf,0GAAyBC,KAAzB,kFAAgCC,WAAhC,CAA4C,CAA5C,wBAAiDb,KAAK,CAACU,OAAvD,6EAAiD,gBAAeC,QAAhE,oFAAiD,sBAAyBC,KAA1E,2DAAiD,uBAAgCC,WAAhC,CAA4C,CAA5C,CAAjD,GAAkG,QAAvH;AAEArB,EAAAA,SAAS,CAAC,MAAM;AACZuB,IAAAA,WAAW;AACd,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,WAAW,GAAG,YAAY;AAC5B,QAAId,YAAY,CAACe,MAAb,IAAuBb,UAA3B,EAAuC;AACnCK,MAAAA,eAAe,CAAC,KAAD,CAAf;AACA;AACH;;AACD,UAAMS,IAAI,GAAG;AACTH,MAAAA,IAAI,EAAEA,IADG;AAETL,MAAAA,GAAG,EAAEA,GAFI;AAGTS,MAAAA,IAAI,EAAEb,MAHG;AAITc,MAAAA,OAAO,EAAE;AAJA,KAAb;AAMA,UAAMC,GAAG,GAAG,MAAMzB,iBAAiB,CAACsB,IAAD,CAAnC;;AACA,QAAIG,GAAG,CAACC,OAAR,EAAiB;AAAA;;AACb,YAAMC,WAAW,GAAG,CAAC,GAAGrB,YAAJ,EAAkB,mBAAGmB,GAAG,CAACG,MAAP,gDAAG,YAAYN,IAAf,CAAlB,CAApB;;AACA,UAAI,iBAAAG,GAAG,CAACG,MAAJ,mFAAYN,IAAZ,wEAAkBD,MAAlB,IAA2B,EAA/B,EAAmC;AAC/BR,QAAAA,eAAe,CAAC,KAAD,CAAf;AACH;;AACDN,MAAAA,eAAe,CAACoB,WAAD,CAAf;AACAhB,MAAAA,SAAS,CAACD,MAAM,GAAG,CAAV,CAAT;;AACA,UAAI,iBAAAe,GAAG,CAACG,MAAJ,8DAAYpB,UAAZ,MAA2BA,UAA/B,EAA2C;AAAA;;AACvCC,QAAAA,aAAa,iBAACgB,GAAG,CAACG,MAAL,iDAAC,aAAYpB,UAAb,CAAb;AACH;AACJ;AACJ,GAvBD;;AAwBA,QAAMqB,iBAAiB,GAAG,MAAM;AAAA;;AAC5B,uBAAAxB,KAAK,CAACU,OAAN,oEAAee,MAAf;AACH,GAFD;;AAIAC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB3B,KAAvB,EAA8BC,YAAY,CAACe,MAA3C,EAAmD,KAAnD,EAA0Db,UAA1D;AAEA,sBACI,QAAC,cAAD;AACI,IAAA,UAAU,EAAEF,YAAY,CAACe,MAD7B;AAEI,IAAA,IAAI,EAAED,WAFV;AAGI,IAAA,KAAK,EAAE;AAAEa,MAAAA,SAAS,EAAE;AAAb,KAHX;AAII,IAAA,OAAO,EAAErB,YAJb;AAKI,IAAA,MAAM,eAAE,qCALZ;AAAA,2BAOI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,QAAf;AAAA,oCACI;AAAQ,cAAA,SAAS,EAAC,MAAlB;AAAyB,cAAA,OAAO,EAAEiB;AAAlC;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAM,cAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAK,YAAA,SAAS,EAAC,sBAAf;AAAA,sBACM,CAAAvB,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEe,MAAd,IAAuB,CAAvB,IAA4BhB,KAAK,CAAC6B,SAAnC,GAAgD5B,YAAY,CAAC6B,GAAb,CAAkBC,IAAD,IAAe;AAAA;;AAC7E,kCACI;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,aAAf;AAAA,0CACI;AAAG,oBAAA,IAAI,EAAC,oBAAR;AAA6B,oBAAA,SAAS,EAAC,oBAAvC;AACI,oBAAA,OAAO,EAAGC,CAAD,IAAY;AACjBA,sBAAAA,CAAC,CAACC,cAAF;AACAjC,sBAAAA,KAAK,CAACU,OAAN,CAAcwB,IAAd,CAAoB,2BAA0BH,IAAI,CAACI,GAAI,EAAvD;AACH;AAJL;AAAA;AAAA;AAAA;AAAA,0BADJ,eAMI;AAAK,oBAAA,SAAS,EAAC,WAAf;AAAA,4CACI;AAAQ,sBAAA,SAAS,EAAC,OAAlB;AAAA,6CACI;AACI,wBAAA,GAAG,EAAEJ,IAAI,CAACK,UAAL,IAAmBxC,KAD5B;AAEI,wBAAA,OAAO,EAAGoC,CAAD,IAAY;AACjB,8BAAIK,EAAO,GAAGL,CAAd;AACAK,0BAAAA,EAAE,CAACC,MAAH,CAAUC,GAAV,GAAgB3C,KAAhB;AACH,yBALL;AAMI,wBAAA,GAAG,EAAC;AANR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BADJ,eAUI;AAAK,sBAAA,SAAS,EAAC,SAAf;AAAA,8CACI;AAAM,wBAAA,SAAS,EAAC,MAAhB;AAAA,kCAAwBmC,IAAI,CAACS;AAA7B;AAAA;AAAA;AAAA;AAAA,8BADJ,eAEI;AAAM,wBAAA,SAAS,EAAC,QAAhB;AAAA,kCAA2B,GAAET,IAAI,CAACU,WAAL,GAAoB,GAAEV,IAAI,CAACW,MAAL,GAAc,CAAd,KAAoB,CAApB,GAAwBX,IAAI,CAACW,MAA7B,mBAAsCX,IAAI,CAACW,MAA3C,iDAAsC,aAAaC,OAAb,CAAqB,CAArB,CAAwB,KAAIZ,IAAI,CAACa,MAAO,UAApG,GAAiH,cAAc;AAA5J;AAAA;AAAA;AAAA;AAAA,8BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,4BAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BANJ,eAqBI;AAAK,oBAAA,SAAS,EAAC,WAAf;AAAA,2CACI;AAAA,iCACK,gBAAAb,IAAI,CAACc,KAAL,4DAAY7B,MAAZ,IAAqBe,IAAI,CAACc,KAAL,CAAWf,GAAX,CAAe,CAAC;AAAEK,wBAAAA,GAAF;AAAOW,wBAAAA,YAAP;AAAqBC,wBAAAA;AAArB,uBAAD,kBACjC;AAAc,wBAAA,SAAS,EAAC,MAAxB;AAAA,gDACI;AAAK,0BAAA,GAAG,EAAED,YAAY,IAAIjD,IAA1B;AAAgC,0BAAA,GAAG,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA,gCADJ,EAC8CkD,UAAU,IAAI,EAD5D;AAAA,yBAASZ,GAAT;AAAA;AAAA;AAAA;AAAA,8BADkB,CAArB,gBAGa;AAAG,wBAAA,KAAK,EAAE;AAAEa,0BAAAA,KAAK,EAAE;AAAT,yBAAV;AAAA,kCACT;AADS;AAAA;AAAA;AAAA;AAAA,8BAJlB,EAOK,iBAAAjB,IAAI,CAACc,KAAL,8DAAY7B,MAAZ,IAAqB,CAArB,IAA0Be,IAAI,CAACkB,eAAL,CAAqBC,KAArB,CAA2B,CAA3B,EAA8B,qBAAInB,IAAI,CAACc,KAAT,iDAAI,aAAY7B,MAAhB,CAA9B,EAAsDc,GAAtD,CAA2DC,IAAD,iBAAe;AAAA,kCAAoBA,IAAI,CAACoB;AAAzB,yBAASpB,IAAI,CAACI,GAAd;AAAA;AAAA;AAAA;AAAA,8BAAzE,CAP/B,EAQK,iBAAAJ,IAAI,CAACc,KAAL,8DAAY7B,MAAZ,IAAqB,CAArB,IAA2B,iBAAAe,IAAI,CAACc,KAAL,8DAAY7B,MAAZ,8BAAqBe,IAAI,CAACkB,eAA1B,0DAAqB,sBAAsBjC,MAA3C,IAAoD,CAA/E,iBAAqF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAR1F;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BArBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ;AAqCH,aAtCgD,CAAhD,gBAsCI;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,sCACD;AAAQ,gBAAA,SAAS,EAAC,QAAlB;AAAA,uCACI;AAAK,kBAAA,GAAG,EAAElB,MAAV;AAAkB,kBAAA,GAAG,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADC,eAID;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJC;AAAA;AAAA;AAAA;AAAA;AAAA;AAvCT;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAkEH,CA5GD;;GAAMC,e;;KAAAA,e;;AA8GN,MAAMqD,eAAe,GAAIxC,KAAD,IAAgB;AACpC,SAAO;AACHiB,IAAAA,SAAS,EAAEjB,KAAK,CAACyC,MAAN,CAAaxB;AADrB,GAAP;AAGH,CAJD;;AAMA,eAAepC,OAAO,CAAC2D,eAAD,EAAkB,IAAlB,CAAP,CAA+BrD,eAA/B,CAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { getPopularBuilder } from '../../redux/homeSearch/actions';\n\nimport dummy from '../../assets/images/u_placeholder.jpg';\nimport menu from '../../assets/images/menu-line-blue.png';\n\nimport noData from '../../assets/images/no-search-data.png';\n\nconst PopularBuilders = (props: any) => {\n    const [buildersList, setBuildersList] = useState<Array<any>>([]);\n    const [totalCount, setTotalCount] = useState<number>(1);\n    const [pageNo, setPageNo] = useState<number>(1);\n    const [hasMoreItems, setHasMoreItems] = useState<boolean>(true);\n    const lat: string = props.history?.location?.state?.coordinates[1] ? props.history?.location?.state?.coordinates[1] : -37.8136;\n    const long: string = props.history?.location?.state?.coordinates[0] ? props.history?.location?.state?.coordinates[0] : 144.9631;\n\n    useEffect(() => {\n        callJobList();\n    }, []);\n\n    const callJobList = async () => {\n        if (buildersList.length >= totalCount) {\n            setHasMoreItems(false);\n            return;\n        }\n        const data = {\n            long: long,\n            lat: lat,\n            page: pageNo,\n            perPage: 10\n        }\n        const res = await getPopularBuilder(data);\n        if (res.success) {\n            const allBuilders = [...buildersList, ...res.result?.data];\n            if (res.result?.data?.length < 10) {\n                setHasMoreItems(false);\n            }\n            setBuildersList(allBuilders);\n            setPageNo(pageNo + 1);\n            if (res.result?.totalCount !== totalCount) {\n                setTotalCount(res.result?.totalCount);\n            }\n        }\n    }\n    const backButtonClicked = () => {\n        props.history?.goBack();\n    }\n\n    console.log('props: ', props, buildersList.length, \"zzz\", totalCount);\n\n    return (\n        <InfiniteScroll\n            dataLength={buildersList.length}\n            next={callJobList}\n            style={{ overflowX: 'hidden' }}\n            hasMore={hasMoreItems}\n            loader={<></>}\n        >\n            <div className=\"app_wrapper\">\n                <div className=\"section_wrapper bg_gray\">\n                    <div className=\"custom_container\">\n                        <div className=\"relate\">\n                            <button className=\"back\" onClick={backButtonClicked}></button>\n                            <span className=\"title\">Popular builders</span>\n                        </div>\n                        <div className=\"flex_row tradies_row\">\n                            {(buildersList?.length > 0 || props.isLoading) ? buildersList.map((item: any) => {\n                                return (\n                                    <div className=\"flex_col_sm_4\">\n                                        <div className=\"tradie_card\">\n                                            <a href=\"javascript:void(0)\" className=\"more_detail circle\"\n                                                onClick={(e: any) => {\n                                                    e.preventDefault();\n                                                    props.history.push(`/builder-info?builderId=${item._id}`)\n                                                }} />\n                                            <div className=\"user_wrap\">\n                                                <figure className=\"u_img\">\n                                                    <img\n                                                        src={item.user_image || dummy}\n                                                        onError={(e: any) => {\n                                                            let e_: any = e;\n                                                            e_.target.src = dummy;\n                                                        }}\n                                                        alt=\"img\" />\n                                                </figure>\n                                                <div className=\"details\">\n                                                    <span className=\"name\">{item.firstName}</span>\n                                                    <span className=\"rating\">{`${item.reviewCount ? `${item.rating % 1 === 0 ? item.rating : item.rating?.toFixed(2)}, ${item.review} reviews` : `0, 0 reviews`}`}</span>\n                                                </div>\n                                            </div>\n                                            <div className=\"tags_wrap\">\n                                                <ul>\n                                                    {item.trade?.length ? item.trade.map(({ _id, selected_url, trade_name }: { _id: string, selected_url: string, trade_name: string }) => (\n                                                        <li key={_id} className=\"main\">\n                                                            <img src={selected_url || menu} alt=\"\" />{trade_name || ''}\n                                                        </li>)) : <i style={{ color: '#929292' }}>\n                                                        {'No Trade Found'}\n                                                    </i>}\n                                                    {item.trade?.length > 0 && item.specializations.slice(0, 5 - item.trade?.length).map((item: any) => <li key={item._id}>{item.name}</li>)}\n                                                    {item.trade?.length > 0 && (item.trade?.length + item.specializations?.length > 5) && <li>More</li>}\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>)\n                            }) : <div className=\"no_record\">\n                                <figure className=\"no_img\">\n                                    <img src={noData} alt=\"data not found\" />\n                                </figure>\n                                <span>No Data Found</span>\n                            </div>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </InfiniteScroll>\n    )\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        isLoading: state.common.isLoading,\n    }\n}\n\nexport default connect(mapStateToProps, null)(PopularBuilders);\n"]},"metadata":{},"sourceType":"module"}