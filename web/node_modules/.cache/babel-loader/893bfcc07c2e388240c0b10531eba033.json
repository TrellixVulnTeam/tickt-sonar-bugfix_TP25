{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/postNewJob.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Constants from '../../../utils/constants';\nimport { useLocation } from \"react-router-dom\"; //@ts-ignore\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PostNewJob = ({\n  data,\n  jobUpdateParam,\n  editDetailPage,\n  stepCompleted,\n  handleStepJustUpdate,\n  handleStepForward,\n  handleStepComplete\n}) => {\n  _s();\n\n  const {\n    errorStrings\n  } = Constants;\n  const [basicDetails, setBasicDetails] = useState({\n    jobName: '',\n    job_description: ''\n  });\n  const [errors, setErrors] = useState({\n    jobName: '',\n    job_description: ''\n  });\n  const [continueClicked, setContinueClicked] = useState(false);\n  const {\n    jobName,\n    job_description\n  } = basicDetails;\n  let location = useLocation();\n  let jobId = null;\n\n  if (location.search) {\n    let urlParams = new URLSearchParams(location.search);\n    jobId = urlParams.get('jobId');\n  }\n\n  useEffect(() => {\n    if (stepCompleted) {\n      setBasicDetails({\n        jobName: data === null || data === void 0 ? void 0 : data.jobName,\n        job_description: data === null || data === void 0 ? void 0 : data.job_description\n      });\n    }\n  }, [stepCompleted, data]); // for error messages\n\n  const label = {\n    jobName: 'Job Name',\n    job_description: 'Job Details'\n  }; // const isEmpty = (name: string, value: string) => !value ? errorStrings.pleaseEnter + label[name] : '';\n\n  const isInvalid = (name, value) => {\n    switch (name) {\n      case 'jobName':\n        return !value.length ? `${label[name]} is required.` : value.length > 100 ? 'Maximum 100 characters are allowed.' : '';\n\n      case 'job_description':\n        return !value.length ? `${label[name]} is required.` : value.length > 250 ? 'Maximum 250 characters are allowed.' : '';\n    }\n  }; // return isEmpty(name, value);\n\n\n  const capitalize = str => {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  const handleChange = ({\n    target: {\n      value,\n      name\n    }\n  }) => {\n    let valueElem = value.trimLeft();\n\n    if (name === \"jobName\" || name === \"job_description\") {\n      if (name === \"jobName\") {\n        valueElem = valueElem.replace(/[^a-zA-Z|0-9 ]/g, \"\");\n      }\n\n      valueElem = capitalize(valueElem); //.charAt(0).toUpperCase() + valueElem.substring(1);\n    } // if (stepCompleted || continueClicked) {\n\n\n    setErrors(prevErrors => ({ ...prevErrors,\n      [name]: isInvalid(name, valueElem)\n    })); // }\n\n    setBasicDetails(prevDetails => ({ ...prevDetails,\n      [name]: valueElem\n    }));\n  };\n\n  const handleContinue = () => {\n    let hasErrors;\n\n    if (!continueClicked) {\n      setContinueClicked(true);\n      hasErrors = Object.keys(basicDetails).reduce((prevError, name) => {\n        const hasError = !!isInvalid(name, basicDetails[name]);\n        setErrors(prevErrors => ({ ...prevErrors,\n          [name]: isInvalid(name, basicDetails[name])\n        }));\n        return hasError || prevError;\n      }, false);\n    }\n\n    if (!hasErrors) {\n      if (editDetailPage === null || editDetailPage === void 0 ? void 0 : editDetailPage.currentScreen) {\n        handleStepJustUpdate(basicDetails, true);\n      } else {\n        handleStepComplete(basicDetails);\n      }\n    } else {\n      setContinueClicked(false);\n    }\n  };\n\n  const checkErrors = () => {\n    let error_1 = isInvalid('jobName', basicDetails['jobName']);\n    let error_2 = isInvalid('job_description', basicDetails['job_description']);\n\n    if (!(error_1 === null || error_1 === void 0 ? void 0 : error_1.length) && !(error_2 === null || error_2 === void 0 ? void 0 : error_2.length)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  console.log({\n    jobUpdateParam,\n    jobId\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_5\",\n              children: (editDetailPage === null || editDetailPage === void 0 ? void 0 : editDetailPage.currentScreen) ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relate\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"back\",\n                    onClick: () => {\n                      handleStepForward(14);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"title\",\n                    children: !jobUpdateParam && jobId ? 'Republish a job' : 'Post new job'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"commn_para\",\n                  children: \"Write the job name and try to describe all details for better comprehension.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title\",\n                  children: !jobUpdateParam && jobId ? 'Republish a job' : 'Post new job'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"commn_para\",\n                  children: \"Write the job name and try to describe all details for better comprehension.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_field\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"xs_sub_title\",\n                children: \"Job\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form_label\",\n                children: \"Job Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text_field\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Enter Job Name\",\n                  name: \"jobName\",\n                  value: jobName,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error_msg\",\n                children: errors.jobName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form_label\",\n                children: \"Job Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text_field\",\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  placeholder: \"This Job...\",\n                  name: \"job_description\",\n                  value: job_description,\n                  onChange: handleChange,\n                  onBlur: () => {\n                    if (job_description === null || job_description === void 0 ? void 0 : job_description.length) {\n                      let stringItem = job_description.split('.').map(capitalize).join('.');\n                      setBasicDetails(prev => ({ ...prev,\n                        job_description: stringItem\n                      }));\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 20\n                }, this), job_description.length ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"char_count\",\n                  children: `character length : ${job_description.length} / 250`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this) : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error_msg\",\n                children: errors.job_description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_field\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `fill_btn full_btn btn-effect ${checkErrors() ? 'disable_btn' : ''}`,\n                onClick: handleContinue,\n                children: 'Continue'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PostNewJob, \"iFkqm1lVreWZDC4oY+SJbK3QcEo=\", false, function () {\n  return [useLocation];\n});\n\n_c = PostNewJob;\nexport default PostNewJob;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostNewJob\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/postNewJob.tsx"],"names":["React","useEffect","useState","Constants","useLocation","PostNewJob","data","jobUpdateParam","editDetailPage","stepCompleted","handleStepJustUpdate","handleStepForward","handleStepComplete","errorStrings","basicDetails","setBasicDetails","jobName","job_description","errors","setErrors","continueClicked","setContinueClicked","location","jobId","search","urlParams","URLSearchParams","get","label","isInvalid","name","value","length","capitalize","str","charAt","toUpperCase","slice","handleChange","target","valueElem","trimLeft","replace","prevErrors","prevDetails","handleContinue","hasErrors","Object","keys","reduce","prevError","hasError","currentScreen","checkErrors","error_1","error_2","console","log","stringItem","split","map","join","prev"],"mappings":"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","sourcesContent":["import id from 'date-fns/esm/locale/id/index.js';\nimport { isError } from 'lodash';\nimport React, { useEffect, useState, useRef } from 'react';\nimport Constants from '../../../utils/constants';\nimport { useHistory, useLocation } from \"react-router-dom\";\n//@ts-ignore\nimport _ from 'lodash';\ninterface Proptypes {\n  data: any,\n  jobUpdateParam?: any,\n  editDetailPage: any,\n  stepCompleted: Boolean,\n  handleStepComplete: (data: any) => void,\n  handleStepJustUpdate: (data: any, goto: any) => void,\n  handleStepForward: (data: any) => void,\n}\n\nconst PostNewJob = ({\n  data,\n  jobUpdateParam,\n  editDetailPage,\n  stepCompleted,\n  handleStepJustUpdate,\n  handleStepForward,\n  handleStepComplete\n}: Proptypes) => {\n  const { errorStrings } = Constants;\n\n  const [basicDetails, setBasicDetails] = useState<{ [index: string]: string }>({ jobName: '', job_description: '' });\n  const [errors, setErrors] = useState({ jobName: '', job_description: '' });\n  const [continueClicked, setContinueClicked] = useState(false);\n  const { jobName, job_description } = basicDetails;\n\n  let location = useLocation();\n  let jobId: any = null;\n\n  if (location.search) {\n    let urlParams = new URLSearchParams(location.search);\n    jobId = urlParams.get('jobId');\n  }\n\n  useEffect(() => {\n    if (stepCompleted) {\n      setBasicDetails({\n        jobName: data?.jobName,\n        job_description: data?.job_description\n      });\n    }\n  }, [stepCompleted, data]);\n\n\n  // for error messages\n  const label: { [index: string]: string } = {\n    jobName: 'Job Name',\n    job_description: 'Job Details',\n  }\n\n  // const isEmpty = (name: string, value: string) => !value ? errorStrings.pleaseEnter + label[name] : '';\n\n  const isInvalid = (name: string, value: string) => {\n    switch (name) {\n      case 'jobName':\n        return !value.length ? `${label[name]} is required.` : value.length > 100 ? 'Maximum 100 characters are allowed.' : '';\n      case 'job_description':\n        return !value.length ? `${label[name]} is required.` : value.length > 250 ? 'Maximum 250 characters are allowed.' : '';\n    }\n  }\n  // return isEmpty(name, value);\n\n\n  const capitalize = (str: any) => {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }\n\n  const handleChange = ({ target: { value, name } }: { target: { value: string, name: string } }) => {\n    let valueElem: any = (value).trimLeft()\n    if (name === \"jobName\" || name === \"job_description\") {\n      if(name === \"jobName\"){\n        valueElem = valueElem.replace(/[^a-zA-Z|0-9 ]/g, \"\");\n      }\n      valueElem = capitalize(valueElem) //.charAt(0).toUpperCase() + valueElem.substring(1);\n    }\n\n    // if (stepCompleted || continueClicked) {\n    setErrors((prevErrors) => ({\n      ...prevErrors,\n      [name]: isInvalid(name, valueElem),\n    }));\n    // }\n\n    setBasicDetails((prevDetails) => ({\n      ...prevDetails,\n      [name]: valueElem,\n    }));\n  };\n\n  const handleContinue = () => {\n    let hasErrors;\n\n    if (!continueClicked) {\n      setContinueClicked(true);\n\n      hasErrors = Object.keys(basicDetails).reduce((prevError, name) => {\n        const hasError = !!isInvalid(name, basicDetails[name]);\n\n        setErrors((prevErrors) => ({\n          ...prevErrors,\n          [name]: isInvalid(name, basicDetails[name]),\n        }));\n\n        return hasError || prevError;\n      }, false);\n    }\n\n    if (!hasErrors) {\n      if (editDetailPage?.currentScreen) {\n        handleStepJustUpdate(basicDetails, true);\n      } else {\n        handleStepComplete(basicDetails);\n      }\n    } else {\n      setContinueClicked(false);\n    }\n  };\n\n  const checkErrors = () => {\n    let error_1 = isInvalid('jobName', basicDetails['jobName']);\n    let error_2 = isInvalid('job_description', basicDetails['job_description']);\n    if (!error_1?.length && !error_2?.length) {\n      return false;\n    }\n    return true;\n  }\n\n\n  console.log({ jobUpdateParam, jobId })\n  return (\n    <div className=\"app_wrapper\">\n      <div className=\"section_wrapper\">\n        <div className=\"custom_container\">\n          <div className=\"form_field\">\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_5\">\n                {editDetailPage?.currentScreen ?\n                  <React.Fragment>\n                    <div className=\"relate\">\n                      <button className=\"back\" onClick={() => { handleStepForward(14) }}></button>\n                      <span className=\"title\">\n                        {!jobUpdateParam && jobId ? 'Republish a job' : 'Post new job'}\n                      </span>\n                    </div>\n                    <p className=\"commn_para\">Write the job name and try to describe all details for better comprehension.</p>\n                  </React.Fragment>\n                  : (\n                    <React.Fragment>\n                      <span className=\"title\">\n                        {!jobUpdateParam && jobId ? 'Republish a job' : 'Post new job'}\n                      </span>\n                      <p className=\"commn_para\">Write the job name and try to describe all details for better comprehension.</p>\n                    </React.Fragment>\n                  )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex_row\">\n            <div className=\"flex_col_sm_5\">\n              <div className=\"form_field\">\n                <span className=\"xs_sub_title\">Job</span>\n              </div>\n              <div className=\"form_field\">\n                <label className=\"form_label\">Job Name</label>\n                <div className=\"text_field\">\n                  <input type=\"text\" placeholder=\"Enter Job Name\" name=\"jobName\" value={jobName} onChange={handleChange} />\n                </div>\n                <span className=\"error_msg\">{errors.jobName}</span>\n              </div>\n              <div className=\"form_field\">\n                <label className=\"form_label\">Job Details</label>\n                <div className=\"text_field\">\n                   <textarea\n                    placeholder=\"This Job...\"\n                    name=\"job_description\"\n                    value={job_description}\n                    onChange={handleChange}\n                    onBlur={() => {\n                      if (job_description?.length) {\n                        let stringItem = job_description.split('.').map(capitalize).join('.');\n                        setBasicDetails((prev: any) => ({\n                          ...prev,\n                          job_description: stringItem\n                        }))\n                      }\n                    }}\n                  /> \n\n                  {/* <CKEditor\n                    editor={ClassicEditor}\n                    data=\"<p>Hello from CKEditor 5!  xxx</p>\"\n                    onReady={(editor: any) => {\n                      // You can store the \"editor\" and use when it is needed.\n                      console.log('Editor is ready to use!', editor);\n                    }}\n                    onChange={(event: any, editor: any) => {\n                      const data = editor.getData();\n                      console.log({ event, editor, data });\n                    }}\n                    onBlur={(event: any, editor: any) => {\n                      console.log('Blur.', editor);\n                    }}\n                    onFocus={(event: any, editor: any) => {\n                      console.log('Focus.', editor);\n                    }}\n                  /> */}\n\n                  {job_description.length ?\n                    <span className=\"char_count\">\n                      {`character length : ${job_description.length} / 250`}\n                    </span>\n                    : ''}\n                </div>\n                <span className=\"error_msg\">{errors.job_description}</span>\n              </div>\n              <div className=\"form_field\">\n                <button\n                  className={`fill_btn full_btn btn-effect ${checkErrors() ? 'disable_btn' : ''}`}\n                  onClick={handleContinue}>{'Continue'}</button>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PostNewJob\n"]},"metadata":{},"sourceType":"module"}