{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/builderJobDasboard/components/quoteJobs/viewQuote.tsx\";\nimport React, { Component } from 'react';\nimport dummy from '../../../../assets/images/u_placeholder.jpg';\nimport noDataFound from '../../../../assets/images/no-search-data.png';\nimport jobTypePlaceholder from '../../../../assets/images/job-type-placeholder.png';\nimport { renderTime } from '../../../../utils/common';\nimport NumberFormat from 'react-number-format';\nimport { moengage, mixPanel } from '../../../../services/analyticsTools';\nimport { MoEConstants } from '../../../../utils/constants';\nimport { getAcceptDeclineTradie, quoteByJobId } from '../../../../redux/quotes/actions';\nimport { setShowToast } from '../../../../redux/common/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ViewQuote extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      toggle: false,\n      dataItems: []\n    };\n\n    this.handleSubmit = async (item, status) => {\n      const {\n        jobId,\n        userId\n      } = item;\n      let data = {\n        \"jobId\": jobId,\n        \"tradieId\": userId,\n        \"status\": status\n      };\n      let response = await getAcceptDeclineTradie(data);\n\n      if (response.success) {\n        if (status == 1) {\n          this.props.history.push('/quote-job-accepted');\n          moengage.moE_SendEvent(MoEConstants.ACCEPT_QUOTE, {\n            timeStamp: moengage.getCurrentTimeStamp()\n          });\n          mixPanel.mixP_SendEvent(MoEConstants.ACCEPT_QUOTE, {\n            timeStamp: moengage.getCurrentTimeStamp()\n          });\n        }\n\n        if (status == 2) {\n          this.props.setJobLabel('open');\n          this.props.history.push('/jobs?active=open');\n          setShowToast(true, response.msg);\n        }\n      }\n    };\n\n    this.preFetchForQuotes = () => {\n      var _props$history, _props$history$locati;\n\n      const props = this.props;\n      const params = new URLSearchParams(props === null || props === void 0 ? void 0 : (_props$history = props.history) === null || _props$history === void 0 ? void 0 : (_props$history$locati = _props$history.location) === null || _props$history$locati === void 0 ? void 0 : _props$history$locati.search);\n      const quotes_param = params.get('quotes');\n      const viewQuotesParam = params.get('viewQuotes');\n      const jobId = params.get('jobId');\n      const tradieId = params.get('tradieId');\n\n      if ((jobId === null || jobId === void 0 ? void 0 : jobId.length) && !tradieId) {\n        if (quotes_param === \"true\") {\n          this.fetchQuotesById({\n            jobId: jobId,\n            sortBy: 1\n          });\n        } else {\n          this.fetchQuotesById({\n            jobId: jobId,\n            sortBy: 1\n          });\n        }\n      } else {\n        if (tradieId === null || tradieId === void 0 ? void 0 : tradieId.length) {\n          console.log({\n            tradieId\n          });\n          this.fetchQuotesById({\n            jobId: jobId,\n            sortBy: 1,\n            tradieId: tradieId\n          });\n        }\n      }\n    };\n\n    this.fetchQuotesById = async ({\n      jobId,\n      sortBy,\n      tradieId\n    }) => {\n      var _result;\n\n      let result = null;\n      console.log({\n        tradieId\n      }, 'tradieId');\n\n      if (tradieId) {\n        result = await quoteByJobId({\n          jobId,\n          tradieId\n        });\n      } else {\n        result = await quoteByJobId({\n          jobId,\n          sortBy\n        });\n      }\n\n      if ((_result = result) === null || _result === void 0 ? void 0 : _result.success) {\n        var _result2, _result2$data;\n\n        let data = (_result2 = result) === null || _result2 === void 0 ? void 0 : (_result2$data = _result2.data) === null || _result2$data === void 0 ? void 0 : _result2$data.resultData;\n\n        if (data) {\n          this.setState({\n            dataItems: data\n          });\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.preFetchForQuotes();\n    moengage.moE_SendEvent(MoEConstants.VIEW_QUOTE, {\n      timeStamp: moengage.getCurrentTimeStamp()\n    });\n    mixPanel.mixP_SendEvent(MoEConstants.VIEW_QUOTE, {\n      timeStamp: moengage.getCurrentTimeStamp()\n    });\n  }\n\n  render() {\n    var _props$history2, _props$history2$locat, _item, _item2, _item3, _item4, _item5, _item6, _item7, _item8, _item11, _item12, _item13, _item14, _item15, _item16, _item16$quote_item, _item17, _item18, _item19, _quotesData$, _quotesData$$status;\n\n    const styleItem = {\n      listStyle: 'none',\n      display: 'inline-block',\n      width: 'calc(100% / 3)',\n      height: '50px',\n      textAlign: 'center',\n      paddingTop: '20px'\n    };\n    let {\n      dataItems\n    } = this.state;\n    const props = this.props;\n    const quotesData = dataItems || [];\n    const params = new URLSearchParams(props === null || props === void 0 ? void 0 : (_props$history2 = props.history) === null || _props$history2 === void 0 ? void 0 : (_props$history2$locat = _props$history2.location) === null || _props$history2$locat === void 0 ? void 0 : _props$history2$locat.search);\n    const id = params.get('id');\n    const jobId = params.get('jobId');\n    const tradieId = params.get('tradieId');\n    const activeType = params.get('active');\n    let item = {};\n\n    if ((tradieId === null || tradieId === void 0 ? void 0 : tradieId.length) && Array.isArray(quotesData) && (quotesData === null || quotesData === void 0 ? void 0 : quotesData.length)) {\n      item = quotesData[0];\n    } else {\n      if (quotesData && Array.isArray(quotesData) && (quotesData === null || quotesData === void 0 ? void 0 : quotesData.length)) {\n        item = quotesData.find(item => item._id === id);\n      }\n    }\n\n    console.log({\n      dataItems\n    }, 'dataItems');\n    let CASE_1 = ['open', 'applicant'].includes(activeType);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex_row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_col_sm_5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relate\",\n            style: {\n              marginBottom: '50px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (CASE_1) {\n                  this.props.setJobLabel('listQuote');\n                  props.history.replace(`/jobs?active=${activeType}&quote=true&jobId=${jobId}`);\n                }\n\n                if (activeType == \"active\") {\n                  this.props.setJobLabel('active');\n                  this.props.history.goBack();\n                }\n              },\n              className: \"back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '24px'\n              },\n              className: \"title\",\n              children: \"Quote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), props.isLoading ? null : quotesData.length === 0 || !props.isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row tradies_row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                minHeight: '180px'\n              },\n              className: \"tradie_card aos-init aos-animate\",\n              \"data-aos\": \"fade-in\",\n              \"data-aos-delay\": \"250\",\n              \"data-aos-duration\": \"1000\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user_wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"u_img\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: ((_item = item) === null || _item === void 0 ? void 0 : _item.selected_url) || jobTypePlaceholder,\n                    alt: \"traide-img\",\n                    onError: e => {\n                      var _e$target, _e$target2;\n\n                      if (e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.onerror) {\n                        e.target.onerror = null;\n                      }\n\n                      if (e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.src) {\n                        e.target.src = jobTypePlaceholder;\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"name\",\n                    children: [(_item2 = item) === null || _item2 === void 0 ? void 0 : _item2.trade_name, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"commn_para\",\n                    children: (_item3 = item) === null || _item3 === void 0 ? void 0 : _item3.jobName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"job_info\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon clock\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: renderTime((_item4 = item) === null || _item4 === void 0 ? void 0 : _item4.from_date, (_item5 = item) === null || _item5 === void 0 ? void 0 : _item5.to_date)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon dollar\",\n                    children: (_item6 = item) === null || _item6 === void 0 ? void 0 : _item6.amount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon location\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: (_item7 = item) === null || _item7 === void 0 ? void 0 : _item7.location_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon calendar\",\n                    children: (_item8 = item) === null || _item8 === void 0 ? void 0 : _item8.duration\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row tradies_row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                minHeight: '180px'\n              },\n              className: \"tradie_card posted_by\",\n              \"data-aos\": \"fade-in\",\n              \"data-aos-delay\": \"250\",\n              \"data-aos-duration\": \"1000\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => {\n                  var _item9, _item10;\n\n                  props.history.push(`/tradie-info?jobId=${(_item9 = item) === null || _item9 === void 0 ? void 0 : _item9.jobId}&tradeId=${(_item10 = item) === null || _item10 === void 0 ? void 0 : _item10.userId}`);\n                },\n                className: \"more_detail circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user_wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"u_img\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: ((_item11 = item) === null || _item11 === void 0 ? void 0 : _item11.tradieImage) || dummy,\n                    alt: \"traide-img\",\n                    onError: e => {\n                      var _e$target3, _e$target4;\n\n                      if (e === null || e === void 0 ? void 0 : (_e$target3 = e.target) === null || _e$target3 === void 0 ? void 0 : _e$target3.onerror) {\n                        e.target.onerror = null;\n                      }\n\n                      if (e === null || e === void 0 ? void 0 : (_e$target4 = e.target) === null || _e$target4 === void 0 ? void 0 : _e$target4.src) {\n                        e.target.src = dummy;\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"name\",\n                    children: (_item12 = item) === null || _item12 === void 0 ? void 0 : _item12.tradieName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"commn_para\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"rating\",\n                      children: [((_item13 = item) === null || _item13 === void 0 ? void 0 : _item13.rating) ? ((_item14 = item) === null || _item14 === void 0 ? void 0 : _item14.rating).toFixed(1) : '0', \" | \", (_item15 = item) === null || _item15 === void 0 ? void 0 : _item15.reviewCount, \" reviews\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 33\n            }, this), ((_item16 = item) === null || _item16 === void 0 ? void 0 : (_item16$quote_item = _item16.quote_item) === null || _item16$quote_item === void 0 ? void 0 : _item16$quote_item.length) ? (_item17 = item) === null || _item17 === void 0 ? void 0 : _item17.quote_item.map(quote_item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"change_req\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_2\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form_label\",\n                    children: \"Item\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_6\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form_label\",\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_4\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form_label\",\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_2\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"show_label\",\n                    children: ` ${quote_item === null || quote_item === void 0 ? void 0 : quote_item.item_number}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_6\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"show_label line-1\",\n                    children: ` ${quote_item === null || quote_item === void 0 ? void 0 : quote_item.description}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_4\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"show_label\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: `$ ${quote_item === null || quote_item === void 0 ? void 0 : quote_item.price}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 41\n            }, this)) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total_quote\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fill_grey_btn\",\n                children: [`Total : `, /*#__PURE__*/_jsxDEV(NumberFormat, {\n                  value: !!((_item18 = item) === null || _item18 === void 0 ? void 0 : _item18.totalQuoteAmount) ? (_item19 = item) === null || _item19 === void 0 ? void 0 : _item19.totalQuoteAmount : '0',\n                  displayType: 'text',\n                  prefix: '$',\n                  thousandSeparator: true,\n                  isNumericString: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this), CASE_1 && ((_quotesData$ = quotesData[0]) === null || _quotesData$ === void 0 ? void 0 : (_quotesData$$status = _quotesData$.status) === null || _quotesData$$status === void 0 ? void 0 : _quotesData$$status.toLowerCase()) === 'pending' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form_field\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    this.handleSubmit(item, 1);\n                  },\n                  className: \"fill_btn w100per btn-effect\",\n                  children: 'Accept Quote'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form_field\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    this.handleSubmit(item, 2);\n                  },\n                  className: \"fill_grey_btn w100per btn-effect\",\n                  children: 'Decline Quote'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no_record  m-t-vh\",\n        children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n          className: \"no_img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: noDataFound,\n            alt: \"data not found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: 'No Data Found'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ViewQuote;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/builderJobDasboard/components/quoteJobs/viewQuote.tsx"],"names":["React","Component","dummy","noDataFound","jobTypePlaceholder","renderTime","NumberFormat","moengage","mixPanel","MoEConstants","getAcceptDeclineTradie","quoteByJobId","setShowToast","ViewQuote","state","toggle","dataItems","handleSubmit","item","status","jobId","userId","data","response","success","props","history","push","moE_SendEvent","ACCEPT_QUOTE","timeStamp","getCurrentTimeStamp","mixP_SendEvent","setJobLabel","msg","preFetchForQuotes","params","URLSearchParams","location","search","quotes_param","get","viewQuotesParam","tradieId","length","fetchQuotesById","sortBy","console","log","result","resultData","setState","componentDidMount","VIEW_QUOTE","render","styleItem","listStyle","display","width","height","textAlign","paddingTop","quotesData","id","activeType","Array","isArray","find","_id","CASE_1","includes","marginBottom","replace","goBack","fontSize","isLoading","minHeight","selected_url","e","target","onerror","src","trade_name","jobName","from_date","to_date","amount","location_name","duration","tradieImage","tradieName","rating","toFixed","reviewCount","quote_item","map","item_number","description","price","totalQuoteAmount","toLowerCase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport dummy from '../../../../assets/images/u_placeholder.jpg';\nimport noDataFound from '../../../../assets/images/no-search-data.png';\nimport jobTypePlaceholder from '../../../../assets/images/job-type-placeholder.png';\nimport { renderTime } from '../../../../utils/common';\nimport NumberFormat from 'react-number-format';\nimport { moengage, mixPanel } from '../../../../services/analyticsTools';\nimport { MoEConstants } from '../../../../utils/constants';\n\nimport {\n    getAcceptDeclineTradie,\n    quoteByJobId\n} from '../../../../redux/quotes/actions';\nimport { setShowToast } from '../../../../redux/common/actions';\n\ntype State = {\n    toggle: boolean,\n    dataItems: any\n}\n\ntype Props = {\n    // quotes_param: any,\n    history: any,\n    setJobLabel: any\n    // quotesData: any\n}\n\nclass ViewQuote extends Component<Props, State> {\n    state: State = {\n        toggle: false,\n        dataItems: []\n    };\n\n    handleSubmit = async (item: any, status: number) => {\n        const { jobId, userId } = item;\n        let data = {\n            \"jobId\": jobId,\n            \"tradieId\": userId,\n            \"status\": status\n        };\n        let response = await getAcceptDeclineTradie(data);\n        if (response.success) {\n            if (status == 1) {\n                this.props.history.push('/quote-job-accepted');\n                moengage.moE_SendEvent(MoEConstants.ACCEPT_QUOTE, { timeStamp: moengage.getCurrentTimeStamp() });\n                mixPanel.mixP_SendEvent(MoEConstants.ACCEPT_QUOTE, { timeStamp: moengage.getCurrentTimeStamp() });\n            }\n\n            if (status == 2) {\n                this.props.setJobLabel('open');\n                this.props.history.push('/jobs?active=open');\n                setShowToast(true, response.msg);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.preFetchForQuotes();\n        moengage.moE_SendEvent(MoEConstants.VIEW_QUOTE, { timeStamp: moengage.getCurrentTimeStamp() });\n        mixPanel.mixP_SendEvent(MoEConstants.VIEW_QUOTE, { timeStamp: moengage.getCurrentTimeStamp() });\n    }\n\n    preFetchForQuotes = () => {\n        const props: any = this.props;\n        const params = new URLSearchParams(props?.history?.location?.search);\n        const quotes_param: any = params.get('quotes');\n        const viewQuotesParam: any = params.get('viewQuotes');\n        const jobId: any = params.get('jobId');\n        const tradieId: any = params.get('tradieId');\n        if (jobId?.length && !tradieId) {\n            if (quotes_param === \"true\") {\n                this.fetchQuotesById({ jobId: jobId, sortBy: 1 })\n            } else {\n                this.fetchQuotesById({ jobId: jobId, sortBy: 1 })\n            }\n        } else {\n            if (tradieId?.length) {\n                console.log({ tradieId })\n                this.fetchQuotesById({ jobId: jobId, sortBy: 1, tradieId: tradieId })\n            }\n        }\n    }\n\n    fetchQuotesById = async ({ jobId, sortBy, tradieId }: { jobId: String, sortBy: Number, tradieId?: String }) => {\n        let result = null;\n        console.log({ tradieId }, 'tradieId');\n        if (tradieId) {\n            result = await quoteByJobId({ jobId, tradieId });\n        } else {\n            result = await quoteByJobId({ jobId, sortBy });\n        }\n\n        if (result?.success) {\n            let data = result?.data?.resultData;\n            if (data) {\n                this.setState({ dataItems: data })\n            }\n        }\n    }\n\n\n    render() {\n        const styleItem = {\n            listStyle: 'none',\n            display: 'inline-block',\n            width: 'calc(100% / 3)',\n            height: '50px',\n            textAlign: 'center',\n            paddingTop: '20px'\n        }\n        let { dataItems } = this.state;\n        const props: any = this.props;\n        const quotesData = dataItems || [];\n        const params = new URLSearchParams(props?.history?.location?.search);\n        const id = params.get('id');\n        const jobId = params.get('jobId');\n        const tradieId = params.get('tradieId');\n        const activeType: any = params.get('active');\n\n        let item: any = {};\n        if (tradieId?.length && Array.isArray(quotesData) && quotesData?.length) {\n            item = quotesData[0];\n        } else {\n            if (quotesData && Array.isArray(quotesData) && quotesData?.length) {\n                item = quotesData.find((item: any) => item._id === id);\n            }\n        }\n        console.log({ dataItems }, 'dataItems')\n        let CASE_1 = ['open', 'applicant'].includes(activeType);\n        return (\n            <React.Fragment>\n                <div className=\"flex_row\">\n                    <div className=\"flex_col_sm_5\">\n                        <div className=\"relate\" style={{ marginBottom: '50px' }}>\n                            <button\n                                onClick={() => {\n                                    if (CASE_1) {\n                                        this.props.setJobLabel('listQuote');\n                                        props.history.replace(`/jobs?active=${activeType}&quote=true&jobId=${jobId}`)\n                                    }\n\n                                    if (activeType == \"active\") {\n                                        this.props.setJobLabel('active');\n                                        this.props.history.goBack();\n                                    }\n                                }}\n                                className=\"back\"></button>\n                            <span style={{ fontSize: '24px' }} className=\"title\">Quote</span>\n                        </div>\n                    </div>\n                </div>\n\n                {props.isLoading ? null : (quotesData.length === 0 || !props.isLoading) ?\n                    <>\n                        <div className=\"flex_row tradies_row\">\n                            <div className=\"flex_col_sm_6\">\n                                <div\n                                    style={{ minHeight: '180px' }}\n                                    className=\"tradie_card aos-init aos-animate\"\n                                    data-aos=\"fade-in\"\n                                    data-aos-delay=\"250\"\n                                    data-aos-duration=\"1000\">\n                                    {/* <span className=\"more_detail circle\"></span> */}\n                                    <div className=\"user_wrap\">\n                                        <figure className=\"u_img\">\n                                            <img src={item?.selected_url || jobTypePlaceholder}\n                                                alt=\"traide-img\"\n                                                onError={(e: any) => {\n                                                    if (e?.target?.onerror) {\n                                                        e.target.onerror = null;\n                                                    }\n                                                    if (e?.target?.src) {\n                                                        e.target.src = jobTypePlaceholder;\n                                                    }\n                                                }}\n                                            />\n                                        </figure>\n                                        <div className=\"details\">\n                                            <span className=\"name\">{item?.trade_name} </span>\n                                            <p className=\"commn_para\">{item?.jobName}</p>\n                                        </div>\n                                    </div>\n                                    <div className=\"job_info\">\n                                        <ul>\n                                            <li className=\"icon clock\">\n                                                <span>\n                                                    {renderTime(item?.from_date, item?.to_date)}\n                                                </span>\n                                            </li>\n                                            <li className=\"icon dollar\">{item?.amount}</li>\n                                            <li className=\"icon location\">\n                                                <span>\n                                                    {item?.location_name}\n                                                </span>\n                                            </li>\n                                            <li className=\"icon calendar\">{item?.duration}</li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n\n                        <div className=\"flex_row tradies_row\">\n                            <div className=\"flex_col_sm_6\">\n                                <div\n                                    style={{ minHeight: '180px' }}\n                                    className=\"tradie_card posted_by\" data-aos=\"fade-in\" data-aos-delay=\"250\" data-aos-duration=\"1000\">\n                                    <span\n                                        onClick={() => {\n                                            props.history.push(`/tradie-info?jobId=${item?.jobId}&tradeId=${item?.userId}`)\n                                        }}\n                                        className=\"more_detail circle\">\n                                    </span>\n                                    <div className=\"user_wrap\">\n                                        <figure className=\"u_img\">\n                                            <img\n                                                src={item?.tradieImage || dummy}\n                                                alt=\"traide-img\"\n                                                onError={(e: any) => {\n                                                    if (e?.target?.onerror) {\n                                                        e.target.onerror = null;\n                                                    }\n                                                    if (e?.target?.src) {\n                                                        e.target.src = dummy;\n                                                    }\n                                                }}\n                                            />\n                                        </figure>\n                                        <div className=\"details\">\n                                            <span className=\"name\">{item?.tradieName}</span>\n                                            <p className=\"commn_para\">\n                                                <span className=\"rating\">{item?.rating ? (item?.rating).toFixed(1) : '0'} | {item?.reviewCount} reviews</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                                {item?.quote_item?.length ?\n                                    item?.quote_item.map((quote_item: any) => (\n                                        <div className=\"change_req\">\n                                            <div className=\"flex_row\">\n                                                <div className=\"flex_col_sm_2\">\n                                                    <label className=\"form_label\">Item</label></div>\n                                                <div className=\"flex_col_sm_6\">\n                                                    <label className=\"form_label\">Description</label>\n                                                </div>\n                                                <div className=\"flex_col_sm_4\">\n                                                    <label className=\"form_label\">Price</label>\n                                                </div>\n                                                <div className=\"flex_col_sm_2\">\n                                                    <span className=\"show_label\">\n                                                        {` ${quote_item?.item_number}`}\n                                                    </span>\n                                                </div>\n                                                <div className=\"flex_col_sm_6\">\n                                                    <span className=\"show_label line-1\">\n                                                        {` ${quote_item?.description}`}\n                                                    </span>\n                                                </div>\n                                                <div className=\"flex_col_sm_4\">\n                                                    <span className=\"show_label\">\n                                                        <span>\n                                                            {`$ ${quote_item?.price}`}\n                                                        </span>\n                                                    </span>\n                                                </div>\n\n                                            </div>\n                                        </div>\n                                    )) : null}\n                                <div className=\"total_quote\">\n                                    <span className=\"fill_grey_btn\">\n                                        {`Total : `}\n                                        {<NumberFormat\n                                            value={!!item?.totalQuoteAmount ? item?.totalQuoteAmount : '0'}\n                                            displayType={'text'}\n                                            prefix={'$'}\n                                            thousandSeparator={true}\n                                            isNumericString={true}\n                                        />}\n                                    </span>\n                                </div>\n\n                                {CASE_1 && quotesData[0]?.status?.toLowerCase() === 'pending' && (\n                                    <>\n                                        <div className=\"form_field\">\n                                            <button\n                                                onClick={() => { this.handleSubmit(item, 1) }}\n                                                className=\"fill_btn w100per btn-effect\">\n                                                {'Accept Quote'}\n                                            </button>\n                                        </div>\n                                        <div className=\"form_field\">\n                                            <button\n                                                onClick={() => { this.handleSubmit(item, 2) }}\n                                                className=\"fill_grey_btn w100per btn-effect\">\n                                                {'Decline Quote'}\n                                            </button>\n                                        </div>\n                                    </>\n                                )}\n                            </div>\n                        </div>\n                    </> :\n                    <div className=\"no_record  m-t-vh\">\n                        <figure className=\"no_img\">\n                            <img src={noDataFound} alt=\"data not found\" />\n                        </figure>\n                        <span>{'No Data Found'}</span>\n                    </div>}\n            </React.Fragment >\n        )\n    }\n}\n\n\nexport default ViewQuote;"]},"metadata":{},"sourceType":"module"}