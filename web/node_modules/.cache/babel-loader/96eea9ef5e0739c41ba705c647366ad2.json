{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/mostViewedJobs/mostViewedJobs.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport TradieJobInfoBox from '../../common/tradieJobInfoBox';\nimport { getMostViewedJobs } from '../../redux/homeSearch/actions';\nimport noData from '../../assets/images/no-search-data.png';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\n\nconst MostViewedJobs = props => {\n  _s();\n\n  const [jobList, setJobList] = useState([]);\n  const [totalCount, setTotalCount] = useState(1);\n  const [pageNo, setPageNo] = useState(1);\n  const [hasMoreItems, setHasMoreItems] = useState(true);\n  useEffect(() => {\n    callJobList();\n  }, []);\n\n  const callJobList = async () => {\n    if (jobList.length >= totalCount) {\n      setHasMoreItems(false);\n      return;\n    }\n\n    const data = {\n      page: pageNo,\n      perPage: 10\n    };\n    const res = await getMostViewedJobs(data);\n\n    if (res.success) {\n      var _res$result, _res$result2, _res$result3;\n\n      const allJobs = [...jobList, ...((_res$result = res.result) === null || _res$result === void 0 ? void 0 : _res$result.data)];\n\n      if (((_res$result2 = res.result) === null || _res$result2 === void 0 ? void 0 : _res$result2.length) < 10) {\n        setHasMoreItems(false);\n      }\n\n      setJobList(allJobs);\n      setPageNo(pageNo + 1);\n\n      if (((_res$result3 = res.result) === null || _res$result3 === void 0 ? void 0 : _res$result3.totalCount) !== totalCount) {\n        var _res$result4;\n\n        setTotalCount((_res$result4 = res.result) === null || _res$result4 === void 0 ? void 0 : _res$result4.totalCount);\n      }\n    }\n  };\n\n  const backButtonClicked = () => {\n    var _props$history;\n\n    (_props$history = props.history) === null || _props$history === void 0 ? void 0 : _props$history.goBack();\n  }; // const mostViewJobsData = props.jobDataWithJobTypeLatLong?.most_viewed_jobs;\n\n\n  return /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n    dataLength: jobList.length,\n    next: callJobList,\n    style: {\n      overflowX: 'hidden'\n    },\n    hasMore: hasMoreItems,\n    loader: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'app_wrapper',\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section_wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relate\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"back\",\n              onClick: backButtonClicked\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title\",\n              children: \"Most viewed jobs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row tradies_row\",\n            children: (jobList === null || jobList === void 0 ? void 0 : jobList.length) > 0 || props.isLoading ? jobList === null || jobList === void 0 ? void 0 : jobList.map(jobData => {\n              return /*#__PURE__*/_createElement(TradieJobInfoBox, {\n                item: jobData,\n                ...props,\n                key: jobData.jobId,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 44\n                }\n              });\n            }) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no_record\",\n              children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"no_img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: noData,\n                  alt: \"data not found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"No Data Found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MostViewedJobs, \"qJUTK140Dpvf4+O/Zw9I3necEUc=\");\n\n_c = MostViewedJobs;\n\nconst mapStateToProps = state => {\n  return {\n    isLoading: state.common.isLoading\n  };\n};\n\nexport default connect(mapStateToProps, null)(MostViewedJobs);\n\nvar _c;\n\n$RefreshReg$(_c, \"MostViewedJobs\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/mostViewedJobs/mostViewedJobs.tsx"],"names":["useState","useEffect","connect","InfiniteScroll","TradieJobInfoBox","getMostViewedJobs","noData","MostViewedJobs","props","jobList","setJobList","totalCount","setTotalCount","pageNo","setPageNo","hasMoreItems","setHasMoreItems","callJobList","length","data","page","perPage","res","success","allJobs","result","backButtonClicked","history","goBack","overflowX","isLoading","map","jobData","jobId","mapStateToProps","state","common"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport TradieJobInfoBox from '../../common/tradieJobInfoBox';\nimport { getMostViewedJobs } from '../../redux/homeSearch/actions';\n\nimport noData from '../../assets/images/no-search-data.png';\n\nconst MostViewedJobs = (props: any) => {\n    const [jobList, setJobList] = useState<Array<any>>([]);\n    const [totalCount, setTotalCount] = useState<number>(1);\n    const [pageNo, setPageNo] = useState<number>(1);\n    const [hasMoreItems, setHasMoreItems] = useState<boolean>(true);\n\n    useEffect(() => {\n        callJobList();\n    }, []);\n\n    const callJobList = async () => {\n        if (jobList.length >= totalCount) {\n            setHasMoreItems(false);\n            return;\n        }\n        const data = {\n            page: pageNo,\n            perPage: 10\n        }\n        const res = await getMostViewedJobs(data);\n        if (res.success) {\n            const allJobs = [...jobList, ...res.result?.data];\n            if (res.result?.length < 10) {\n                setHasMoreItems(false);\n            }\n            setJobList(allJobs);\n            setPageNo(pageNo + 1);\n            if (res.result?.totalCount !== totalCount) {\n                setTotalCount(res.result?.totalCount);\n            }\n        }\n    }\n\n    const backButtonClicked = () => {\n        props.history?.goBack();\n    }\n    // const mostViewJobsData = props.jobDataWithJobTypeLatLong?.most_viewed_jobs;\n\n    return (\n        <InfiniteScroll\n            dataLength={jobList.length}\n            next={callJobList}\n            style={{ overflowX: 'hidden' }}\n            hasMore={hasMoreItems}\n            loader={<></>}\n        >\n            <div className={'app_wrapper'} >\n                <div className=\"section_wrapper\">\n                    <div className=\"custom_container\">\n                        <div className=\"relate\">\n                            <button className=\"back\" onClick={backButtonClicked}></button>\n                            <span className=\"title\">Most viewed jobs</span>\n                        </div>\n                        <div className=\"flex_row tradies_row\">\n                            {(jobList?.length > 0 || props.isLoading) ?\n                                (jobList?.map((jobData: any) => {\n                                    return <TradieJobInfoBox item={jobData} {...props} key={jobData.jobId} />\n                                })) : <div className=\"no_record\">\n                                    <figure className=\"no_img\">\n                                        <img src={noData} alt=\"data not found\" />\n                                    </figure>\n                                    <span>No Data Found</span>\n                                </div>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </InfiniteScroll>\n    )\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        isLoading: state.common.isLoading,\n    }\n}\n\nexport default connect(mapStateToProps, null)(MostViewedJobs);\n"]},"metadata":{},"sourceType":"module"}