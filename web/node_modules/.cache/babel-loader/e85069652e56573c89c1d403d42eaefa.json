{"ast":null,"code":"import _toConsumableArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{setShowToast}from'../../../redux/common/actions';import spherePlaceholder from\"../../../assets/images/tick-grey.svg\";import noData from'../../../assets/images/no-search-data.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SelectCategories=function SelectCategories(props){var _props$tradeListData;var _useState=useState(props.trade),_useState2=_slicedToArray(_useState,2),trade=_useState2[0],setTrade=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),imgPath=_useState4[0],setimagePath=_useState4[1];var _onClick=function onClick(item){if(item==trade){return setTrade('');}setTrade(item);};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(trade){props.updateSteps(props.step+1,{trade:trade});}else{setShowToast(true,\"Please select a trade\");}case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var onImageError=function onImageError(index){var tmp=_toConsumableArray(imgPath);tmp[index]=true;setimagePath(tmp);};return/*#__PURE__*/_jsxs(\"div\",{className:\"select_sphere form_wrapper\",children:[/*#__PURE__*/_jsx(\"ul\",{children:((_props$tradeListData=props.tradeListData)===null||_props$tradeListData===void 0?void 0:_props$tradeListData.length)?props.tradeListData.map(function(item,index){var active=trade===item._id;// const imgSrc = (item.selected_url && !imgPath[index]) ? item.selected_url : spherePlaceholder\nvar imgSrc=spherePlaceholder;// console.log(index,imgSrc, \"imgSrc\")\nreturn/*#__PURE__*/_jsxs(\"li\",{className:active?'active':'',onClick:function onClick(){return _onClick(item._id);},children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{onError:function onError(){return onImageError(index);},src:imgSrc})}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:item.trade_name})]},item._id);}):/*#__PURE__*/_jsx(\"li\",{className:\"no_data\",children:/*#__PURE__*/_jsx(\"img\",{src:noData,alt:\"no-data\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn btn-effect\",onClick:onSubmit,children:\"Next\"})]});};export default SelectCategories;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/selectYourSphere.tsx"],"names":["useState","setShowToast","noData","SelectCategories","props","trade","setTrade","imgPath","setimagePath","onClick","item","onSubmit","e","preventDefault","updateSteps","step","onImageError","index","tmp","tradeListData","length","map","active","_id","imgSrc","spherePlaceholder","trade_name"],"mappings":"qpBAAA,OAASA,QAAT,KAAyB,OAAzB,CAEA,OAASC,YAAT,KAA6B,+BAA7B,C,oEAEA,MAAOC,CAAAA,MAAP,KAAmB,2CAAnB,C,wFASA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAsB,0BAC3C,cAA0BJ,QAAQ,CAACI,KAAK,CAACC,KAAP,CAAlC,wCAAOA,KAAP,eAAcC,QAAd,eACA,eAAgCN,QAAQ,CAAM,EAAN,CAAxC,yCAAOO,OAAP,eAAgBC,YAAhB,eAEA,GAAMC,CAAAA,QAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAkB,CAC9B,GAAIA,IAAI,EAAIL,KAAZ,CAAmB,CACf,MAAOC,CAAAA,QAAQ,CAAC,EAAD,CAAf,CACH,CACDA,QAAQ,CAACI,IAAD,CAAR,CACH,CALD,CAOA,GAAMC,CAAAA,QAAQ,0FAAG,iBAAOC,CAAP,kHACbA,CAAC,CAACC,cAAF,GACA,GAAIR,KAAJ,CAAW,CACPD,KAAK,CAACU,WAAN,CAAkBV,KAAK,CAACW,IAAN,CAAa,CAA/B,CAAkC,CAAEV,KAAK,CAALA,KAAF,CAAlC,EACH,CAFD,IAEO,CACHJ,YAAY,CAAC,IAAD,CAAO,uBAAP,CAAZ,CACH,CANY,sDAAH,kBAARU,CAAAA,QAAQ,4CAAd,CASA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAmB,CACpC,GAAIC,CAAAA,GAAG,oBAAOX,OAAP,CAAP,CACAW,GAAG,CAACD,KAAD,CAAH,CAAa,IAAb,CACAT,YAAY,CAACU,GAAD,CAAZ,CACH,CAJD,CAMA,mBACI,aAAK,SAAS,CAAC,4BAAf,wBACI,oBACK,uBAAAd,KAAK,CAACe,aAAN,oEAAqBC,MAArB,EAA8BhB,KAAK,CAACe,aAAN,CAAoBE,GAApB,CAAwB,SAACX,IAAD,CAAOO,KAAP,CAAiB,CACpE,GAAMK,CAAAA,MAAM,CAAGjB,KAAK,GAAKK,IAAI,CAACa,GAA9B,CACA;AACA,GAAMC,CAAAA,MAAM,CAAGC,iBAAf,CAEA;AACA,mBACI,YAAmB,SAAS,CAAEH,MAAM,CAAG,QAAH,CAAc,EAAlD,CAAsD,OAAO,CAAE,yBAAMb,CAAAA,QAAO,CAACC,IAAI,CAACa,GAAN,CAAb,EAA/D,wBACI,qCACI,YAAK,OAAO,CAAE,yBAAMP,CAAAA,YAAY,CAACC,KAAD,CAAlB,EAAd,CAAyC,GAAG,CAAEO,MAA9C,EADJ,EADJ,cAII,aAAM,SAAS,CAAC,MAAhB,UAAwBd,IAAI,CAACgB,UAA7B,EAJJ,GAAShB,IAAI,CAACa,GAAd,CADJ,CAQH,CAd8B,CAA9B,cAcI,WAAI,SAAS,CAAC,SAAd,uBACD,YAAK,GAAG,CAAErB,MAAV,CAAkB,GAAG,CAAC,SAAtB,EADC,EAfT,EADJ,cAoBI,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAES,QAAjD,kBApBJ,GADJ,CAwBH,CAlDD,CAoDA,cAAeR,CAAAA,gBAAf","sourcesContent":["import { useState } from 'react';\nimport Constants from '../../../utils/constants';\nimport { setShowToast } from '../../../redux/common/actions';\nimport spherePlaceholder from '../../../assets/images/tick-grey.svg';\nimport noData from '../../../assets/images/no-search-data.png';\n\ninterface Propstype {\n    updateSteps: (num: number, data: any) => void\n    step: number\n    tradeListData: Array<any>,\n    trade: string,\n}\n\nconst SelectCategories = (props: Propstype) => {\n    const [trade, setTrade] = useState(props.trade);\n    const [imgPath, setimagePath] = useState<any>([]);\n\n    const onClick = (item: string) => {\n        if (item == trade) {\n            return setTrade('')\n        }\n        setTrade(item)\n    }\n\n    const onSubmit = async (e: any) => {\n        e.preventDefault();\n        if (trade) {\n            props.updateSteps(props.step + 1, { trade })\n        } else {\n            setShowToast(true, \"Please select a trade\")\n        }\n    }\n\n    const onImageError = (index: number) => {\n        let tmp = [...imgPath]\n        tmp[index] = true\n        setimagePath(tmp)\n    }\n\n    return (\n        <div className=\"select_sphere form_wrapper\">\n            <ul>\n                {props.tradeListData?.length ? props.tradeListData.map((item, index) => {\n                    const active = trade === item._id;\n                    // const imgSrc = (item.selected_url && !imgPath[index]) ? item.selected_url : spherePlaceholder\n                    const imgSrc = spherePlaceholder\n\n                    // console.log(index,imgSrc, \"imgSrc\")\n                    return (\n                        <li key={item._id} className={active ? 'active' : ''} onClick={() => onClick(item._id)}>\n                            <figure>\n                                <img onError={() => onImageError(index)} src={imgSrc} />\n                            </figure>\n                            <span className=\"name\">{item.trade_name}</span>\n                        </li>\n                    )\n                }) : <li className='no_data'>\n                    <img src={noData} alt=\"no-data\" />\n                </li>}\n            </ul>\n            <button className=\"fill_btn btn-effect\" onClick={onSubmit}>Next</button>\n        </div>\n    )\n}\n\nexport default SelectCategories\n"]},"metadata":{},"sourceType":"module"}