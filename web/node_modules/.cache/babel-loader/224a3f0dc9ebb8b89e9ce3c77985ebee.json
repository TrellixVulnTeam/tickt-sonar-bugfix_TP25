{"ast":null,"code":"import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import rateStar from'../../../assets/images/ic-star-fill.png';import noDataFound from'../../../assets/images/no-search-data.png';import jobTypePlaceholder from'../../../assets/images/job-type-placeholder.png';import RateThisJob from'./ratethisJob/index';import{useLocation}from\"react-router-dom\";import{renderTime}from'../../../utils/common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PastJobs=function PastJobs(props){var dataItems=props.dataItems,jobType=props.jobType,isLoading=props.isLoading;var listData=dataItems;var _useState=useState({data:{},isTrue:false}),_useState2=_slicedToArray(_useState,2),enableRateJob=_useState2[0],setRateJob=_useState2[1];// toggle-rate-job\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEnable=_useState6[0],setEnable=_useState6[1];var location=useLocation();var redirectToInfo=function redirectToInfo(_ref){var jobId=_ref.jobId,status=_ref.status;if((jobId===null||jobId===void 0?void 0:jobId.length)&&(status===null||status===void 0?void 0:status.length)){// let urlEncode: any = window.btoa(`?jobId=${jobId}&status=${status}&job=past&activeType=${props?.activeType}`)\nvar urlEncode=\"?jobId=\".concat(jobId,\"&status=\").concat(status,\"&job=past&activeType=\").concat(props===null||props===void 0?void 0:props.activeType);props.history.push(\"/job-detail?\".concat(urlEncode));}};var backToScreen=function backToScreen(){props.history.replace('/jobs?active=past');setRateJob(function(prev){return{data:{},isTrue:!prev.isTrue};});};useEffect(function(){var urlSearchParams=new URLSearchParams(location.search);var params=Object.fromEntries(urlSearchParams.entries());if(params===null||params===void 0?void 0:params.jobId){var jobId_=params===null||params===void 0?void 0:params.jobId;if(listData===null||listData===void 0?void 0:listData.length){var result=listData.find(function(item){return(item===null||item===void 0?void 0:item.jobId)===jobId_;});if(result){setRateJob({data:result,isTrue:true});}}}},[props]);useEffect(function(){if(isLoading===false){setEnable(true);}},[isLoading]);if(enableRateJob===null||enableRateJob===void 0?void 0:enableRateJob.isTrue){return/*#__PURE__*/_jsx(RateThisJob,{backToScreen:backToScreen,data:enableRateJob.data,history:null,location:null});}if(!isEnable){return null;}// \"60dadb661fed05158f8745e3\"\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"sub_title\",children:[jobType.charAt(0).toUpperCase()+jobType.slice(1),\" Jobs\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row tradies_row\",children:(listData===null||listData===void 0?void 0:listData.length)?listData.map(function(_ref2){var amount=_ref2.amount,fromDate=_ref2.fromDate,jobData=_ref2.jobData,jobId=_ref2.jobId,isRated=_ref2.isRated,jobName=_ref2.jobName,locationName=_ref2.locationName,isPublishedAgain=_ref2.isPublishedAgain,milestoneNumber=_ref2.milestoneNumber,specializationId=_ref2.specializationId,specializationName=_ref2.specializationName,status=_ref2.status,toDate=_ref2.toDate,totalMilestones=_ref2.totalMilestones,tradeId=_ref2.tradeId,tradieId=_ref2.tradieId,tradeName=_ref2.tradeName,tradeSelectedUrl=_ref2.tradeSelectedUrl,tradieData=_ref2.tradieData;return/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tradie_card\",\"data-aos\":\"fade-in\",\"data-aos-delay\":\"250\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){redirectToInfo({jobId:jobId,status:status});},className:\"more_detail circle\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_wrap\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"u_img icon\",children:/*#__PURE__*/_jsx(\"img\",{src:(jobData===null||jobData===void 0?void 0:jobData.tradeSelectedUrl)||jobTypePlaceholder,alt:\"traide-img\",onError:function onError(e){var _e$target,_e$target2;if(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.onerror){e.target.onerror=null;}if(e===null||e===void 0?void 0:(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.src){e.target.src=jobTypePlaceholder;}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:tradeName}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para\",children:jobName})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"job_info\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"icon calendar\",children:renderTime(fromDate,toDate)}),/*#__PURE__*/_jsx(\"li\",{className:\"icon dollar\",children:amount}),/*#__PURE__*/_jsx(\"li\",{className:\"icon location line-1\",children:locationName}),/*#__PURE__*/_jsx(\"li\",{className:\"job_status\",children:status})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"job_progress_wrap\",id:\"scroll-progress-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress_wrapper\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"completed-digit\",id:\"digit-progress\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Job Milestones \".concat(milestoneNumber,\" \")}),\"of \".concat(totalMilestones)]}),/*#__PURE__*/_jsx(\"span\",{className:\"progress_bar\",children:/*#__PURE__*/_jsx(\"input\",{className:\"done_progress\",id:\"progress-bar\",type:\"range\",min:\"0\",value:milestoneNumber/totalMilestones>0?milestoneNumber/totalMilestones*100:0})})]}),status===\"COMPLETED\"?!isRated&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setRateJob(function(prev){return{data:{amount:amount,fromDate:fromDate,jobData:jobData,jobId:jobId,jobName:jobName,locationName:locationName,milestoneNumber:milestoneNumber,specializationId:specializationId,specializationName:specializationName,status:status,toDate:toDate,totalMilestones:totalMilestones,tradeId:tradeId,tradieId:tradieId,tradeName:tradeName,tradeSelectedUrl:tradeSelectedUrl,tradieData:tradieData},isTrue:!prev.isTrue};});},className:\"fill_grey_btn full_btn\",children:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:rateStar,alt:\"rating-star\"}),'Rate this tradesperson']})}):status===\"EXPIRED\"&&!isPublishedAgain&&/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn full_btn\",onClick:function onClick(){return redirectToInfo({jobId:jobId,status:status});},children:\"Publish again\"})]})]})});}):!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"no_record  m-t-vh\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"no_img\",children:/*#__PURE__*/_jsx(\"img\",{src:noDataFound,alt:\"data not found\"})}),/*#__PURE__*/_jsx(\"span\",{children:'No Data Found'})]})})]});};export default PastJobs;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/builderJobDasboard/components/pastJobs.tsx"],"names":["React","useState","useEffect","rateStar","noDataFound","jobTypePlaceholder","RateThisJob","useLocation","renderTime","PastJobs","props","dataItems","jobType","isLoading","listData","data","isTrue","enableRateJob","setRateJob","currentPage","setCurrentPage","isEnable","setEnable","location","redirectToInfo","jobId","status","length","urlEncode","activeType","history","push","backToScreen","replace","prev","urlSearchParams","URLSearchParams","search","params","Object","fromEntries","entries","jobId_","result","find","item","charAt","toUpperCase","slice","map","amount","fromDate","jobData","isRated","jobName","locationName","isPublishedAgain","milestoneNumber","specializationId","specializationName","toDate","totalMilestones","tradeId","tradieId","tradeName","tradeSelectedUrl","tradieData","e","target","onerror","src"],"mappings":"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","sourcesContent":["import React, { ReactElement, useState, useEffect } from 'react'\nimport dummy from '../../../assets/images/u_placeholder.jpg';\nimport approved from '../../../assets/images/approved.png';\nimport rateStar from '../../../assets/images/ic-star-fill.png';\nimport noDataFound from '../../../assets/images/no-search-data.png';\nimport jobTypePlaceholder from '../../../assets/images/job-type-placeholder.png';\nimport moment from 'moment';\nimport RateThisJob from './ratethisJob/index';\n\nimport { useLocation } from \"react-router-dom\";\n\nimport { renderTime } from '../../../utils/common';\ninterface Post {\n    amount: any,\n    fromDate: any,\n    jobData: any,\n    jobId: any,\n    isRated: any,\n    jobName: any,\n    locationName: any,\n    milestoneNumber: any,\n    specializationId: any,\n    specializationName: any,\n    status: any,\n    toDate: any,\n    totalMilestones: any,\n    isPublishedAgain: boolean,\n    tradeId: any,\n    tradieId: any,\n    tradeName: any,\n    tradeSelectedUrl: any,\n    isLoading: any,\n    tradieData: any,\n}\n\n\nconst PastJobs = (props: any) => {\n    const { dataItems, jobType, isLoading } = props;\n    let listData: any = dataItems;\n    const [enableRateJob, setRateJob] = useState({ data: {}, isTrue: false }); // toggle-rate-job\n    const [currentPage, setCurrentPage] = useState(1);\n    let [isEnable, setEnable] = useState<any>(false);\n\n    const location = useLocation();\n\n    const redirectToInfo = ({ jobId, status }: any) => {\n        if (jobId?.length && status?.length) {\n            // let urlEncode: any = window.btoa(`?jobId=${jobId}&status=${status}&job=past&activeType=${props?.activeType}`)\n            let urlEncode: any = `?jobId=${jobId}&status=${status}&job=past&activeType=${props?.activeType}`\n            props.history.push(`/job-detail?${urlEncode}`);\n        }\n    }\n\n    const backToScreen = () => {\n        props.history.replace('/jobs?active=past');\n        setRateJob((prev: any) => ({\n            data: {},\n            isTrue: !prev.isTrue\n        }));\n    }\n\n    useEffect(() => {\n        const urlSearchParams = new URLSearchParams(location.search);\n        const params = Object.fromEntries(urlSearchParams.entries());\n\n        if (params?.jobId) {\n            let jobId_ = params?.jobId;\n            if (listData?.length) {\n                let result = listData.find((item: any) => item?.jobId === jobId_);\n                if (result) {\n                    setRateJob({\n                        data: result,\n                        isTrue: true\n                    });\n                }\n            }\n        }\n    }, [props]);\n\n\n    useEffect(() => {\n        if (isLoading === false) {\n            setEnable(true);\n        }\n    }, [isLoading])\n\n    if (enableRateJob?.isTrue) {\n        return (\n            <RateThisJob\n                backToScreen={backToScreen}\n                data={enableRateJob.data}\n                history={null}\n                location={null}\n            />\n        )\n    }\n\n    if (!isEnable) {\n        return null;\n    }\n    // \"60dadb661fed05158f8745e3\"\n    return (\n        <React.Fragment>\n            <span className=\"sub_title\">{jobType.charAt(0).toUpperCase() + jobType.slice(1)} Jobs</span>\n            <div className=\"flex_row tradies_row\">\n                {listData?.length ?\n                    listData.map(({\n                        amount,\n                        fromDate,\n                        jobData,\n                        jobId,\n                        isRated,\n                        jobName,\n                        locationName,\n                        isPublishedAgain,\n                        milestoneNumber,\n                        specializationId,\n                        specializationName,\n                        status,\n                        toDate,\n                        totalMilestones,\n                        tradeId,\n                        tradieId,\n                        tradeName,\n                        tradeSelectedUrl,\n                        tradieData,\n                    }: Post) => (\n                        <div className=\"flex_col_sm_6\">\n                            <div className=\"tradie_card\" data-aos=\"fade-in\" data-aos-delay=\"250\" data-aos-duration=\"1000\">\n                                <span\n                                    onClick={() => {\n                                        redirectToInfo({ jobId, status })\n                                    }}\n                                    className=\"more_detail circle\">\n                                </span>\n                                <div className=\"user_wrap\">\n                                    <figure className=\"u_img icon\">\n                                        <img\n                                            src={jobData?.tradeSelectedUrl || jobTypePlaceholder}\n                                            alt=\"traide-img\"\n                                            onError={(e: any) => {\n                                                if (e?.target?.onerror) {\n                                                    e.target.onerror = null;\n                                                }\n                                                if (e?.target?.src) {\n                                                    e.target.src = jobTypePlaceholder;\n                                                }\n                                            }}\n                                            />\n                                    </figure>\n                                    <div className=\"details\">\n                                        <span className=\"name\">{tradeName}</span>\n                                        <p className=\"commn_para\">{jobName}</p>\n                                    </div>\n                                </div>\n                                <div className=\"job_info\">\n                                    <ul>\n                                        <li className=\"icon calendar\">{renderTime(fromDate, toDate)}</li>\n                                        <li className=\"icon dollar\">{amount}</li>\n                                        <li className=\"icon location line-1\">{locationName}</li>\n                                        <li className=\"job_status\">{status}</li>\n                                    </ul>\n                                </div>\n                                <div className=\"job_progress_wrap\" id=\"scroll-progress-bar\">\n                                    <div className=\"progress_wrapper\">\n                                        <span className=\"completed-digit\" id=\"digit-progress\">\n                                            <b>{`Job Milestones ${milestoneNumber} `}</b>{`of ${totalMilestones}`}\n                                        </span>\n                                        <span className=\"progress_bar\">\n                                            <input\n                                                className=\"done_progress\"\n                                                id=\"progress-bar\"\n                                                type=\"range\"\n                                                min=\"0\"\n                                                value={(milestoneNumber / totalMilestones) > 0 ? milestoneNumber / totalMilestones * 100 : 0}\n                                            />\n                                        </span>\n                                    </div>\n                                    {status === \"COMPLETED\" ?\n                                        !isRated && (<button\n                                            onClick={() => {\n                                                setRateJob((prev: any) => ({\n                                                    data: {\n                                                        amount,\n                                                        fromDate,\n                                                        jobData,\n                                                        jobId,\n                                                        jobName,\n                                                        locationName,\n                                                        milestoneNumber,\n                                                        specializationId,\n                                                        specializationName,\n                                                        status,\n                                                        toDate,\n                                                        totalMilestones,\n                                                        tradeId,\n                                                        tradieId,\n                                                        tradeName,\n                                                        tradeSelectedUrl,\n                                                        tradieData,\n                                                    },\n                                                    isTrue: !prev.isTrue\n                                                }));\n                                            }}\n                                            className=\"fill_grey_btn full_btn\">\n                                            <React.Fragment>\n                                                <img src={rateStar} alt=\"rating-star\" />\n                                                {'Rate this tradesperson'}\n                                            </React.Fragment>\n                                        </button>\n                                        )\n                                        : (status === \"EXPIRED\" && !isPublishedAgain) && (\n                                            <button\n                                                className=\"fill_grey_btn full_btn\"\n                                                onClick={() => redirectToInfo({ jobId, status })}>\n                                                {\"Publish again\"}\n                                            </button>\n                                        )}\n                                </div>\n                            </div>\n                        </div>\n                    )) : !isLoading && (\n                        <div className=\"no_record  m-t-vh\">\n                            <figure className=\"no_img\">\n                                <img src={noDataFound} alt=\"data not found\" />\n                            </figure>\n                            <span>{'No Data Found'}</span>\n                        </div>\n                    )}\n            </div>\n        </React.Fragment>\n    )\n}\n\n\nexport default PastJobs;"]},"metadata":{},"sourceType":"module"}