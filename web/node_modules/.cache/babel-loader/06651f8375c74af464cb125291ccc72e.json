{"ast":null,"code":"import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable eqeqeq */ /* eslint-disable jsx-a11y/anchor-is-valid */import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{callTradeList}from\"./../../redux/auth/actions\";import{getJobWithJobTypeLatLong,getJobTypeList}from\"../../redux/homeSearch/actions\";import{useState,useEffect}from\"react\";import Menu from\"@material-ui/core/Menu\";import Modal from\"@material-ui/core/Modal\";import filterUnselected from\"../../assets/images/ic-filter-unselected.png\";import filterSelected from\"../../assets/images/ic-filter-selected.png\";import cancel from\"../../assets/images/ic-cancel.png\";import spherePlaceholder from\"../../assets/images/ic_categories_placeholder.svg\";import{moengage,mixPanel}from\"../../services/analyticsTools\";import{MoEConstants}from\"../../utils/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchFilter=function SearchFilter(props){var _props$tradeListData5,_props$tradeListData6,_props$tradeListData7;var setSortByFilter=props.setSortByFilter,sortByFilter=props.sortByFilter,filterChangeHandler=props.filterChangeHandler;// const { data, searchText, selectedAddress, selectedTrade, exta } = props.selectedItem;\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),priceAnchorEl=_useState4[0],setPriceAnchorEl=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),filterAnchorEl=_useState6[0],setFilterAnchorEl=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),sortingAnchorEl=_useState8[0],setSortingAnchorEl=_useState8[1];var _useState9=useState({page:1}),_useState10=_slicedToArray(_useState9,2),filterState=_useState10[0],setFilterState=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),filterEnable=_useState12[0],setFilterEnable=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),prevLocal=_useState14[0],setPrevLocal=_useState14[1];var _useState15=useState({priceFilterClicked:false,payTypeClicked:false,pay_type:\"Fixed price\",max_budget:\"\"}),_useState16=_slicedToArray(_useState15,2),sortByPrice=_useState16[0],setSortByPrice=_useState16[1];//   const [sortByFilter, setSortByFilter] = useState<any>({\n//     sortByFilterClicked: false,\n//     tradeId: [],\n//     sortChanged: false,\n//     specializationId: [],\n//     specializationName: [],\n//     allSpecializationClicked: false,\n//   });\n// jobTypes: [],\nvar _useState17=useState({sortBySorting:false,sortBy:0}),_useState18=_slicedToArray(_useState17,2),sortBySorting=_useState18[0],setSortBySorting=_useState18[1];useEffect(function(){var _props$jobTypeListDat,_props$tradeListData;if(((_props$jobTypeListDat=props.jobTypeListData)===null||_props$jobTypeListDat===void 0?void 0:_props$jobTypeListDat.length)===0)props.getJobTypeList();if(((_props$tradeListData=props.tradeListData)===null||_props$tradeListData===void 0?void 0:_props$tradeListData.length)===0)props.callTradeList();setPrevLocal(props.localInfo);},[]);useEffect(function(){var _props$localInfo,_props$localInfo$trad;if(props===null||props===void 0?void 0:(_props$localInfo=props.localInfo)===null||_props$localInfo===void 0?void 0:(_props$localInfo$trad=_props$localInfo.tradeId)===null||_props$localInfo$trad===void 0?void 0:_props$localInfo$trad.length){// setSortByFilter((prev: any) => ({\n//     ...prev,\n//     tradeId: props.localInfo.tradeId,\n//     specializationId: props.localInfo.specializationId\n// }));\n}console.log({props:props});},[props]);var sortByPriceClick=function sortByPriceClick(event){setPriceAnchorEl(event.currentTarget);setSortByPrice(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{priceFilterClicked:true});});};var sortByPriceClose=function sortByPriceClose(){setPriceAnchorEl(null);setSortByPrice(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{priceFilterClicked:false});});};var sortByFilterClick=function sortByFilterClick(event){setFilterAnchorEl(event.currentTarget);setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortByFilterClicked:true,sortChanged:true});});};var sortByFilterClose=function sortByFilterClose(){setFilterAnchorEl(null);setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortByFilterClicked:false});});};var sortBySortingClick=function sortBySortingClick(event){setSortingAnchorEl(event.currentTarget);setSortBySorting(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortBySorting:true});});};var sortBySortingClose=function sortBySortingClose(){setSortingAnchorEl(null);setSortBySorting(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortBySorting:false});});};var sortByButtonClicked=function sortByButtonClicked(num){setSortBySorting(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortBy:num});});sortBySortingClose();updateOnChange(num);};var setSameOnClick=function setSameOnClick(){setSortBySorting(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortBy:0});});sortBySortingClose();updateOnChange(0);};//   const filterChangeHandler = (id: any, name: string, newName?: string) => {\n//     if (name === \"jobTypes\") {\n//       if (sortByFilter.jobTypes[0] == id) {\n//         setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [] }));\n//       } else {\n//         setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [id] }));\n//       }\n//     } else if (name === \"specializationId\") {\n//       console.log(\"149 => \", newName);\n//       setSortByFilter((prevData: any) => {\n//         console.log(\"-------prevData =>  \", prevData);\n//         var newData: any = [];\n//         var newNameData: any = [];\n//         if (\n//           Array.isArray(prevData.specializationId) &&\n//           prevData?.specializationId?.length\n//         ) {\n//           newData = [...prevData.specializationId];\n//         }\n//         console.log(\"prevData => \", prevData);\n//         if (\n//           Array.isArray(prevData.specializationName) &&\n//           prevData?.specializationName?.length\n//         ) {\n//           newNameData = [...prevData.specializationName];\n//         }\n//         if (sortByFilter.allSpecializationClicked) {\n//           newData = [];\n//           newNameData = [];\n//         }\n//         const itemIndex = newData.indexOf(id);\n//         const itemnameIndex = newData.indexOf(newName);\n//         if (newData.indexOf(id) < 0) {\n//           newData.push(id);\n//         } else {\n//           newData.splice(itemIndex, 1);\n//         }\n//         if (newData.indexOf(newName) < 0) {\n//           newNameData.push(newName);\n//         } else {\n//           newNameData.splice(itemnameIndex, 1);\n//         }\n//         console.log(\n//           newNameData,\n//           \"-----------------------------------prevData =>  \",\n//           prevData\n//         );\n//         return {\n//           ...prevData,\n//           specializationId: newData,\n//           specializationName: newNameData,\n//           allSpecializationClicked: false,\n//         };\n//       });\n//     } else if (name == \"categories\") {\n//       if (sortByFilter.tradeId.length && sortByFilter.tradeId[0] == id) {\n//         setSortByFilter((prevData: any) => ({\n//           ...prevData,\n//           tradeId: [],\n//           specializationId: [],\n//           allSpecializationClicked: false,\n//         }));\n//       } else {\n//         setSortByFilter((prevData: any) => ({\n//           ...prevData,\n//           tradeId: [id],\n//           specializationId: [],\n//           allSpecializationClicked: false,\n//         }));\n//       }\n//     } else if (name == \"All Clicked\") {\n//       if (sortByFilter.allSpecializationClicked) {\n//         setSortByFilter((prevData: any) => ({\n//           ...prevData,\n//           allSpecializationClicked: false,\n//           specializationId: [],\n//         }));\n//       } else {\n//         const newSpecialization = id.map(({ _id }: { _id: string }) => {\n//           return _id;\n//         });\n//         setSortByFilter((prevData: any) => ({\n//           ...prevData,\n//           allSpecializationClicked: true,\n//           specializationId: newSpecialization,\n//         }));\n//       }\n//     } else if (name == \"Clear All\") {\n//       setSortByFilter((prevData: any) => ({\n//         ...prevData,\n//         allSpecializationClicked: false,\n//         jobTypes: [],\n//         specializationId: [],\n//         specializationName: [],\n//         tradeId: [],\n//       }));\n//     }\n//   };\nvar renderFilterButtons=function renderFilterButtons(){return/*#__PURE__*/_jsxs(\"ul\",{className:\"filters_row\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{className:filterEnable?\"active\":\"\",onClick:sortByFilterClick,children:[/*#__PURE__*/_jsx(\"img\",{src:filterEnable?filterSelected:filterUnselected,alt:\"filter\"}),\"Filter\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:sortBySorting.sortBy>0?\"active\":\"\",onClick:sortBySortingClick,children:\"Sorting\"})})]});};var showResultSearch=function showResultSearch(){var _sortByFilter$tradeId;if(!(sortByFilter===null||sortByFilter===void 0?void 0:(_sortByFilter$tradeId=sortByFilter.tradeId)===null||_sortByFilter$tradeId===void 0?void 0:_sortByFilter$tradeId.length)){updateOnChange(sortBySorting.sortBy);sortByFilterClose();setFilterEnable(false);return;}updateOnChange(sortBySorting.sortBy);sortByFilterClose();setFilterEnable(true);};var updateOnChange=function updateOnChange(sort){var _props$tradeListData2,_props$tradeListData3,_props$tradeListData4,_filteredItem,_data$address,_props$tradeListData$,_JSON$parse,_JSON$parse2;var local_info=props.localInfo;var sort_=sort;console.log({sort_:sort_,local_info:local_info},\"-------------------------->><<-------------- item_coord\");var tradeInfo=(_props$tradeListData2=props.tradeListData)===null||_props$tradeListData2===void 0?void 0:_props$tradeListData2.find(function(item){var _sortByFilter$tradeId2;return item._id===((_sortByFilter$tradeId2=sortByFilter.tradeId)===null||_sortByFilter$tradeId2===void 0?void 0:_sortByFilter$tradeId2[0]);});var specializationList=(_props$tradeListData3=props.tradeListData)===null||_props$tradeListData3===void 0?void 0:(_props$tradeListData4=_props$tradeListData3.find(function(_ref){var _sortByFilter$tradeId3;var _id=_ref._id;return _id===((_sortByFilter$tradeId3=sortByFilter.tradeId)===null||_sortByFilter$tradeId3===void 0?void 0:_sortByFilter$tradeId3[0]);}))===null||_props$tradeListData4===void 0?void 0:_props$tradeListData4.specialisations;var specializationId=sortByFilter.specializationId,tradeId=sortByFilter.tradeId,specializationName=sortByFilter.specializationName;console.log({specializationId:specializationId,sortByFilter:sortByFilter,props:props});// if (specializationId?.length) {\nvar filteredItem=[];// let name = specializationList[0].name;\nif(specializationList===null||specializationList===void 0?void 0:specializationList.length){filteredItem=specializationList.filter(function(item){if(Array.isArray(specializationId)&&(specializationId===null||specializationId===void 0?void 0:specializationId.length)){if(specializationId.includes(item._id)){return item;}}});}var name=\"\";if(Array.isArray(filteredItem)&&((_filteredItem=filteredItem)===null||_filteredItem===void 0?void 0:_filteredItem.length)&&filteredItem[0].name){name=filteredItem[0].name;}var data={page:1,isFiltered:true};if(sort_){data[\"sortBy\"]=sort_;}if(Array.isArray(tradeId)&&(tradeId===null||tradeId===void 0?void 0:tradeId.length)||!Array.isArray(tradeId)&&(tradeId===null||tradeId===void 0?void 0:tradeId.length)){data[\"tradeId\"]=Array.isArray(tradeId)?tradeId:[tradeId];}if(Array.isArray(specializationId)&&(specializationId===null||specializationId===void 0?void 0:specializationId.length)){data[\"specializationId\"]=specializationId;}if(Array.isArray(specializationName)&&(specializationName===null||specializationName===void 0?void 0:specializationName.length)){data[\"specializationName\"]=specializationName;}var get_position=localStorage.getItem(\"position\");if(sort_===2){var _local_info$location,_local_info$location$,_local_info$location2;var item_coord=!(local_info===null||local_info===void 0?void 0:(_local_info$location=local_info.location)===null||_local_info$location===void 0?void 0:(_local_info$location$=_local_info$location.coordinates)===null||_local_info$location$===void 0?void 0:_local_info$location$.length)?JSON.parse(get_position).reverse():local_info===null||local_info===void 0?void 0:(_local_info$location2=local_info.location)===null||_local_info$location2===void 0?void 0:_local_info$location2.coordinates;if(item_coord===null||item_coord===void 0?void 0:item_coord.length){data[\"location\"]={coordinates:item_coord};}}else{if(local_info===null||local_info===void 0?void 0:local_info.location){data[\"location\"]=local_info===null||local_info===void 0?void 0:local_info.location;}else{delete data.location;}}if(local_info===null||local_info===void 0?void 0:local_info.from_date){data[\"from_date\"]=local_info===null||local_info===void 0?void 0:local_info.from_date;}if(local_info===null||local_info===void 0?void 0:local_info.to_date){data[\"to_date\"]=local_info===null||local_info===void 0?void 0:local_info.to_date;}if(local_info===null||local_info===void 0?void 0:local_info.suggestionSelected){data[\"address\"]=JSON.stringify(local_info===null||local_info===void 0?void 0:local_info.suggestionSelected);if((data===null||data===void 0?void 0:data.address)===\"{}\"){delete data.address;}}if(!(data===null||data===void 0?void 0:data.address)||!(data===null||data===void 0?void 0:(_data$address=data.address)===null||_data$address===void 0?void 0:_data$address.length)){data===null||data===void 0?true:delete data.address;}props.postHomeSearchData(data);var mData=_objectSpread(_objectSpread(_objectSpread({timeStamp:moengage.getCurrentTimeStamp(),category:props===null||props===void 0?void 0:(_props$tradeListData$=props.tradeListData.find(function(i){return i._id===(data===null||data===void 0?void 0:data.tradeId[0]);}))===null||_props$tradeListData$===void 0?void 0:_props$tradeListData$.trade_name},data.address&&{location:\"\".concat((_JSON$parse=JSON.parse(data.address))===null||_JSON$parse===void 0?void 0:_JSON$parse.mainText,\" \").concat((_JSON$parse2=JSON.parse(data.address))===null||_JSON$parse2===void 0?void 0:_JSON$parse2.secondaryText)}),(data===null||data===void 0?void 0:data.from_date)&&{\"start date\":data===null||data===void 0?void 0:data.from_date}),(data===null||data===void 0?void 0:data.to_date)&&{\"end date\":data===null||data===void 0?void 0:data.to_date});moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES,mData);mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES,mData);var trade_name=tradeInfo===null||tradeInfo===void 0?void 0:tradeInfo.trade_name;var local_info_name=local_info===null||local_info===void 0?void 0:local_info.name;var local_info_count=local_info===null||local_info===void 0?void 0:local_info.count;var case_1=name?name:trade_name;var case_2=\"\".concat(local_info_name,\" \").concat(local_info_count>1?\"+\".concat(local_info_count-1):\"\");var name_=case_1?trade_name:local_info_name?case_2:\"\";props.getTitleInfo({name:name_,isTradeName:(tradeInfo===null||tradeInfo===void 0?void 0:tradeInfo.trade_name)?true:false,count:(specializationId===null||specializationId===void 0?void 0:specializationId.length)||0,tradeId:data.tradeId,specializationId:data.specializationId||[],sortBy:data.sortBy||0,to_date:(local_info===null||local_info===void 0?void 0:local_info.to_date)||\"\",from_date:(local_info===null||local_info===void 0?void 0:local_info.from_date)||\"\",doingLocalChanges:false});};var specializationList=(_props$tradeListData5=props.tradeListData)===null||_props$tradeListData5===void 0?void 0:(_props$tradeListData6=_props$tradeListData5.find(function(_ref2){var _sortByFilter$tradeId4;var _id=_ref2._id;return _id===((_sortByFilter$tradeId4=sortByFilter.tradeId)===null||_sortByFilter$tradeId4===void 0?void 0:_sortByFilter$tradeId4[0]);}))===null||_props$tradeListData6===void 0?void 0:_props$tradeListData6.specialisations;var checkIfAllSelected=false;if(specializationList){var _sortByFilter$special;checkIfAllSelected=((_sortByFilter$special=sortByFilter.specializationId)===null||_sortByFilter$special===void 0?void 0:_sortByFilter$special.length)===(specializationList===null||specializationList===void 0?void 0:specializationList.length);}var sortOnChange=function sortOnChange(num){if(sortBySorting.sortBy!==num){sortByButtonClicked(num);}};var sortOnClick=function sortOnClick(num){if(sortBySorting.sortBy==num){setSameOnClick();}};var checksForActive=function checksForActive(_ref3){var _sortByFilter$special2,_sortByFilter$tradeId5;var checkIfAllSelected=_ref3.checkIfAllSelected,sortByFilter=_ref3.sortByFilter;if(sortByFilter===null||sortByFilter===void 0?void 0:sortByFilter.allSpecializationClicked){return true;}if(sortByFilter===null||sortByFilter===void 0?void 0:(_sortByFilter$special2=sortByFilter.specializationId)===null||_sortByFilter$special2===void 0?void 0:_sortByFilter$special2.length){return false;}if(checkIfAllSelected||(sortByFilter===null||sortByFilter===void 0?void 0:(_sortByFilter$tradeId5=sortByFilter.tradeId)===null||_sortByFilter$tradeId5===void 0?void 0:_sortByFilter$tradeId5.length)){return true;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"filters_wrapr\",children:[renderFilterButtons(),sortByFilter.sortByFilterClicked&&/*#__PURE__*/_jsx(Modal,{className:\"custom_modal\",open:sortByFilter.sortByFilterClicked,onClose:sortByFilterClose,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh filter_modal\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Filter\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:sortByFilterClose,children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner_wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"Categories\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"select_sphere\",children:/*#__PURE__*/_jsx(\"ul\",{children:(_props$tradeListData7=props.tradeListData)===null||_props$tradeListData7===void 0?void 0:_props$tradeListData7.map(function(_ref4){var _sortByFilter$tradeId6;var _id=_ref4._id,trade_name=_ref4.trade_name,selected_url=_ref4.selected_url,specialisations=_ref4.specialisations;var active=((_sortByFilter$tradeId6=sortByFilter.tradeId)===null||_sortByFilter$tradeId6===void 0?void 0:_sortByFilter$tradeId6[0])===_id;return/*#__PURE__*/_jsxs(\"li\",{className:active?\"active\":\"\",onClick:function onClick(){return filterChangeHandler(_id,\"categories\");},children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:selected_url?selected_url:spherePlaceholder})}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:trade_name})]},_id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"Specialisation\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"tags_wrap\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[console.log({specializationList:specializationList,checkIfAllSelected:checkIfAllSelected,sortByFilter:sortByFilter.allSpecializationClicked}),(specializationList===null||specializationList===void 0?void 0:specializationList.length)>0&&/*#__PURE__*/_jsx(\"li\",{className:checksForActive({checkIfAllSelected:checkIfAllSelected,sortByFilter:sortByFilter})?\"selected\":\"\"// className={sortByFilter.allSpecializationClicked ? 'selected' : ''}\n,onClick:function onClick(){var items=props.tradeListData.find(function(dt){return dt._id==sortByFilter.tradeId;});if(items){filterChangeHandler(items===null||items===void 0?void 0:items.specialisations,\"All Clicked\");}},children:\"All\"}),specializationList===null||specializationList===void 0?void 0:specializationList.map(function(_ref5){var _sortByFilter$special3;var _id=_ref5._id,name=_ref5.name;// let active = sortByFilter.specializationId?.indexOf(_id) >= 0;\nvar active=false;if((specializationList===null||specializationList===void 0?void 0:specializationList.length)!==((_sortByFilter$special3=sortByFilter.specializationId)===null||_sortByFilter$special3===void 0?void 0:_sortByFilter$special3.length)){var _sortByFilter$special4;active=false;if(Array.isArray(sortByFilter.specializationId)&&((_sortByFilter$special4=sortByFilter.specializationId)===null||_sortByFilter$special4===void 0?void 0:_sortByFilter$special4.length)){active=sortByFilter.specializationId.includes(_id);}}return/*#__PURE__*/_jsx(\"li\",{className:active?\"selected\":\"\"// className={active && !sortByFilter.allSpecializationClicked ? 'selected' : ''}\n,onClick:function onClick(){if(checkIfAllSelected){var sort_by_spec=sortByFilter;sort_by_spec[\"specializationId\"]=[];setSortByFilter(sort_by_spec);}filterChangeHandler(_id,\"specializationId\",name);},children:name},_id);})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter_btn\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"link\",onClick:function onClick(){return filterChangeHandler(\"Clear All\",\"Clear All\",\"\");},children:\"Clear All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn full_btn btn-effect\",onClick:showResultSearch,children:\"Show Results\"})]})]})})}),sortBySorting.sortBySorting&&/*#__PURE__*/_jsxs(Menu// id=\"simple-menu\"\n,{className:\"fsp_modal range\",anchorEl:sortingAnchorEl,keepMounted:true,open:Boolean(sortingAnchorEl),onClose:sortBySortingClose,children:[/*#__PURE__*/_jsx(\"span\",{className:\"close_btn\",onClick:sortBySortingClose,children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Sort by\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio_wrap agree_check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"filter-type filled-in\",type:\"radio\",id:\"highestRated\",value:\"Highest rated\",checked:sortBySorting.sortBy===1,onClick:function onClick(){sortOnClick(1);},onChange:function onChange(){sortOnChange(1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"highestRated\",children:\"Highest rated\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio_wrap agree_check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"filter-type filled-in\",type:\"radio\",id:\"closest\",value:\"Closest to me\",checked:sortBySorting.sortBy===2,onClick:function onClick(){sortOnClick(2);},onChange:function onChange(){sortOnChange(2);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"closest\",children:\"Closest to me\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio_wrap agree_check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"filter-type filled-in\",type:\"radio\",id:\"mostJob\",value:\"Most jobs completed\",checked:sortBySorting.sortBy===3,onClick:function onClick(){sortOnClick(3);},onChange:function onChange(){sortOnChange(3);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mostJob\",children:\"Most jobs completed\"})]})]})]});};var mapStateToProps=function mapStateToProps(state){return{jobDataWithJobTypeLatLong:state.homeSearch.jobDataWithJobTypeLatLong,jobTypeListData:state.homeSearch.jobTypeListData,tradeListData:state.auth.tradeListData};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getJobWithJobTypeLatLong:getJobWithJobTypeLatLong,getJobTypeList:getJobTypeList,callTradeList:callTradeList},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(SearchFilter);","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/searchTradieResult/searchFilters.tsx"],"names":["connect","bindActionCreators","callTradeList","getJobWithJobTypeLatLong","getJobTypeList","useState","useEffect","Menu","Modal","filterUnselected","filterSelected","cancel","moengage","mixPanel","MoEConstants","SearchFilter","props","setSortByFilter","sortByFilter","filterChangeHandler","errors","setErrors","priceAnchorEl","setPriceAnchorEl","filterAnchorEl","setFilterAnchorEl","sortingAnchorEl","setSortingAnchorEl","page","filterState","setFilterState","filterEnable","setFilterEnable","prevLocal","setPrevLocal","priceFilterClicked","payTypeClicked","pay_type","max_budget","sortByPrice","setSortByPrice","sortBySorting","sortBy","setSortBySorting","jobTypeListData","length","tradeListData","localInfo","tradeId","console","log","sortByPriceClick","event","currentTarget","prevData","sortByPriceClose","sortByFilterClick","sortByFilterClicked","sortChanged","sortByFilterClose","sortBySortingClick","sortBySortingClose","sortByButtonClicked","num","updateOnChange","setSameOnClick","renderFilterButtons","showResultSearch","sort","local_info","sort_","tradeInfo","find","item","_id","specializationList","specialisations","specializationId","specializationName","filteredItem","filter","Array","isArray","includes","name","data","isFiltered","get_position","localStorage","getItem","item_coord","location","coordinates","JSON","parse","reverse","from_date","to_date","suggestionSelected","stringify","address","postHomeSearchData","mData","timeStamp","getCurrentTimeStamp","category","i","trade_name","mainText","secondaryText","moE_SendEvent","SEARCHED_FOR_TRADIES","mixP_SendEvent","local_info_name","local_info_count","count","case_1","case_2","name_","getTitleInfo","isTradeName","doingLocalChanges","checkIfAllSelected","sortOnChange","sortOnClick","checksForActive","allSpecializationClicked","map","selected_url","active","spherePlaceholder","items","dt","sort_by_spec","Boolean","mapStateToProps","state","jobDataWithJobTypeLatLong","homeSearch","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["/* eslint-disable eqeqeq */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { callTradeList } from \"./../../redux/auth/actions\";\nimport {\n  getJobWithJobTypeLatLong,\n  getJobTypeList,\n} from \"../../redux/homeSearch/actions\";\n\nimport { useState, useEffect } from \"react\";\nimport Constants from \"../../utils/constants\";\nimport { setShowToast } from \"../../redux/common/actions\";\nimport regex from \"../../utils/regex\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Modal from \"@material-ui/core/Modal\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport filterUnselected from \"../../assets/images/ic-filter-unselected.png\";\nimport filterSelected from \"../../assets/images/ic-filter-selected.png\";\nimport cancel from \"../../assets/images/ic-cancel.png\";\nimport spherePlaceholder from \"../../assets/images/ic_categories_placeholder.svg\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\n\nconst SearchFilter = (props: any) => {\n  const { setSortByFilter, sortByFilter, filterChangeHandler } = props;\n  // const { data, searchText, selectedAddress, selectedTrade, exta } = props.selectedItem;\n  const [errors, setErrors] = useState<any>({});\n  const [priceAnchorEl, setPriceAnchorEl] = useState(null);\n  const [filterAnchorEl, setFilterAnchorEl] = useState(null);\n  const [sortingAnchorEl, setSortingAnchorEl] = useState(null);\n  const [filterState, setFilterState] = useState({\n    page: 1,\n  });\n\n  const [filterEnable, setFilterEnable] = useState(false);\n\n  const [prevLocal, setPrevLocal] = useState(null);\n\n  const [sortByPrice, setSortByPrice] = useState<any>({\n    priceFilterClicked: false,\n    payTypeClicked: false,\n    pay_type: \"Fixed price\",\n    max_budget: \"\",\n  });\n\n  //   const [sortByFilter, setSortByFilter] = useState<any>({\n  //     sortByFilterClicked: false,\n  //     tradeId: [],\n  //     sortChanged: false,\n  //     specializationId: [],\n  //     specializationName: [],\n  //     allSpecializationClicked: false,\n  //   });\n  // jobTypes: [],\n\n  const [sortBySorting, setSortBySorting] = useState<any>({\n    sortBySorting: false,\n    sortBy: 0,\n  });\n\n  useEffect(() => {\n    if (props.jobTypeListData?.length === 0) props.getJobTypeList();\n    if (props.tradeListData?.length === 0) props.callTradeList();\n    setPrevLocal(props.localInfo);\n  }, []);\n\n  useEffect(() => {\n    if (props?.localInfo?.tradeId?.length) {\n      // setSortByFilter((prev: any) => ({\n      //     ...prev,\n      //     tradeId: props.localInfo.tradeId,\n      //     specializationId: props.localInfo.specializationId\n      // }));\n    }\n    console.log({ props });\n  }, [props]);\n\n  const sortByPriceClick = (event: any) => {\n    setPriceAnchorEl(event.currentTarget);\n    setSortByPrice((prevData: any) => ({\n      ...prevData,\n      priceFilterClicked: true,\n    }));\n  };\n\n  const sortByPriceClose = () => {\n    setPriceAnchorEl(null);\n    setSortByPrice((prevData: any) => ({\n      ...prevData,\n      priceFilterClicked: false,\n    }));\n  };\n\n  const sortByFilterClick = (event: any) => {\n    setFilterAnchorEl(event.currentTarget);\n    setSortByFilter((prevData: any) => ({\n      ...prevData,\n      sortByFilterClicked: true,\n      sortChanged: true,\n    }));\n  };\n\n  const sortByFilterClose = () => {\n    setFilterAnchorEl(null);\n    setSortByFilter((prevData: any) => ({\n      ...prevData,\n      sortByFilterClicked: false,\n    }));\n  };\n\n  const sortBySortingClick = (event: any) => {\n    setSortingAnchorEl(event.currentTarget);\n    setSortBySorting((prevData: any) => ({ ...prevData, sortBySorting: true }));\n  };\n\n  const sortBySortingClose = () => {\n    setSortingAnchorEl(null);\n    setSortBySorting((prevData: any) => ({\n      ...prevData,\n      sortBySorting: false,\n    }));\n  };\n\n  const sortByButtonClicked = (num: number) => {\n    setSortBySorting((prevData: any) => ({ ...prevData, sortBy: num }));\n    sortBySortingClose();\n    updateOnChange(num);\n  };\n\n  const setSameOnClick = () => {\n    setSortBySorting((prevData: any) => ({ ...prevData, sortBy: 0 }));\n    sortBySortingClose();\n    updateOnChange(0);\n  };\n\n  //   const filterChangeHandler = (id: any, name: string, newName?: string) => {\n  //     if (name === \"jobTypes\") {\n  //       if (sortByFilter.jobTypes[0] == id) {\n  //         setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [] }));\n  //       } else {\n  //         setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [id] }));\n  //       }\n  //     } else if (name === \"specializationId\") {\n  //       console.log(\"149 => \", newName);\n  //       setSortByFilter((prevData: any) => {\n  //         console.log(\"-------prevData =>  \", prevData);\n  //         var newData: any = [];\n  //         var newNameData: any = [];\n  //         if (\n  //           Array.isArray(prevData.specializationId) &&\n  //           prevData?.specializationId?.length\n  //         ) {\n  //           newData = [...prevData.specializationId];\n  //         }\n  //         console.log(\"prevData => \", prevData);\n  //         if (\n  //           Array.isArray(prevData.specializationName) &&\n  //           prevData?.specializationName?.length\n  //         ) {\n  //           newNameData = [...prevData.specializationName];\n  //         }\n  //         if (sortByFilter.allSpecializationClicked) {\n  //           newData = [];\n  //           newNameData = [];\n  //         }\n  //         const itemIndex = newData.indexOf(id);\n  //         const itemnameIndex = newData.indexOf(newName);\n  //         if (newData.indexOf(id) < 0) {\n  //           newData.push(id);\n  //         } else {\n  //           newData.splice(itemIndex, 1);\n  //         }\n  //         if (newData.indexOf(newName) < 0) {\n  //           newNameData.push(newName);\n  //         } else {\n  //           newNameData.splice(itemnameIndex, 1);\n  //         }\n  //         console.log(\n  //           newNameData,\n  //           \"-----------------------------------prevData =>  \",\n  //           prevData\n  //         );\n  //         return {\n  //           ...prevData,\n  //           specializationId: newData,\n  //           specializationName: newNameData,\n  //           allSpecializationClicked: false,\n  //         };\n  //       });\n  //     } else if (name == \"categories\") {\n  //       if (sortByFilter.tradeId.length && sortByFilter.tradeId[0] == id) {\n  //         setSortByFilter((prevData: any) => ({\n  //           ...prevData,\n  //           tradeId: [],\n  //           specializationId: [],\n  //           allSpecializationClicked: false,\n  //         }));\n  //       } else {\n  //         setSortByFilter((prevData: any) => ({\n  //           ...prevData,\n  //           tradeId: [id],\n  //           specializationId: [],\n  //           allSpecializationClicked: false,\n  //         }));\n  //       }\n  //     } else if (name == \"All Clicked\") {\n  //       if (sortByFilter.allSpecializationClicked) {\n  //         setSortByFilter((prevData: any) => ({\n  //           ...prevData,\n  //           allSpecializationClicked: false,\n  //           specializationId: [],\n  //         }));\n  //       } else {\n  //         const newSpecialization = id.map(({ _id }: { _id: string }) => {\n  //           return _id;\n  //         });\n  //         setSortByFilter((prevData: any) => ({\n  //           ...prevData,\n  //           allSpecializationClicked: true,\n  //           specializationId: newSpecialization,\n  //         }));\n  //       }\n  //     } else if (name == \"Clear All\") {\n  //       setSortByFilter((prevData: any) => ({\n  //         ...prevData,\n  //         allSpecializationClicked: false,\n  //         jobTypes: [],\n  //         specializationId: [],\n  //         specializationName: [],\n  //         tradeId: [],\n  //       }));\n  //     }\n  //   };\n\n  const renderFilterButtons = () => (\n    <ul className=\"filters_row\">\n      <li>\n        <a className={filterEnable ? \"active\" : \"\"} onClick={sortByFilterClick}>\n          <img\n            src={filterEnable ? filterSelected : filterUnselected}\n            alt=\"filter\"\n          />\n          {\"Filter\"}\n        </a>\n      </li>\n      <li>\n        <a\n          className={sortBySorting.sortBy > 0 ? \"active\" : \"\"}\n          onClick={sortBySortingClick}\n        >\n          {`Sorting`}\n        </a>\n      </li>\n    </ul>\n  );\n\n  const showResultSearch = () => {\n    if (!sortByFilter?.tradeId?.length) {\n      updateOnChange(sortBySorting.sortBy);\n      sortByFilterClose();\n      setFilterEnable(false);\n      return;\n    }\n\n    updateOnChange(sortBySorting.sortBy);\n    sortByFilterClose();\n    setFilterEnable(true);\n  };\n\n  const updateOnChange = (sort?: any) => {\n    let local_info: any = props.localInfo;\n    let sort_: any = sort;\n\n    console.log(\n      { sort_, local_info },\n      \"-------------------------->><<-------------- item_coord\"\n    );\n    const tradeInfo = props.tradeListData?.find(\n      (item: any) => item._id === sortByFilter.tradeId?.[0]\n    );\n    const specializationList = props.tradeListData?.find(\n      ({ _id }: { _id: string }) => _id === sortByFilter.tradeId?.[0]\n    )?.specialisations;\n\n    const { specializationId, tradeId, specializationName } = sortByFilter;\n\n    console.log({ specializationId, sortByFilter, props });\n    // if (specializationId?.length) {\n    let filteredItem: any = [];\n    // let name = specializationList[0].name;\n    if (specializationList?.length) {\n      filteredItem = specializationList.filter((item: any) => {\n        if (Array.isArray(specializationId) && specializationId?.length) {\n          if (specializationId.includes(item._id)) {\n            return item;\n          }\n        }\n      });\n    }\n    let name = \"\";\n\n    if (\n      Array.isArray(filteredItem) &&\n      filteredItem?.length &&\n      filteredItem[0].name\n    ) {\n      name = filteredItem[0].name;\n    }\n\n    let data: any = {\n      page: 1,\n      isFiltered: true,\n    };\n\n    if (sort_) {\n      data[\"sortBy\"] = sort_;\n    }\n\n    if (\n      (Array.isArray(tradeId) && tradeId?.length) ||\n      (!Array.isArray(tradeId) && tradeId?.length)\n    ) {\n      data[\"tradeId\"] = Array.isArray(tradeId) ? tradeId : [tradeId];\n    }\n\n    if (Array.isArray(specializationId) && specializationId?.length) {\n      data[\"specializationId\"] = specializationId;\n    }\n    if (Array.isArray(specializationName) && specializationName?.length) {\n      data[\"specializationName\"] = specializationName;\n    }\n    let get_position: any = localStorage.getItem(\"position\");\n    if (sort_ === 2) {\n      let item_coord: any = !local_info?.location?.coordinates?.length\n        ? JSON.parse(get_position).reverse()\n        : local_info?.location?.coordinates;\n      if (item_coord?.length) {\n        data[\"location\"] = {\n          coordinates: item_coord,\n        };\n      }\n    } else {\n      if (local_info?.location) {\n        data[\"location\"] = local_info?.location;\n      } else {\n        delete data.location;\n      }\n    }\n\n    if (local_info?.from_date) {\n      data[\"from_date\"] = local_info?.from_date;\n    }\n\n    if (local_info?.to_date) {\n      data[\"to_date\"] = local_info?.to_date;\n    }\n\n    if (local_info?.suggestionSelected) {\n      data[\"address\"] = JSON.stringify(local_info?.suggestionSelected);\n      if (data?.address === \"{}\") {\n        delete data.address;\n      }\n    }\n\n    if (!data?.address || !data?.address?.length) {\n      delete data?.address;\n    }\n\n    props.postHomeSearchData(data);\n\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: props?.tradeListData.find(\n        (i: any) => i._id === data?.tradeId[0]\n      )?.trade_name,\n      ...(data.address && {\n        location: `${JSON.parse(data.address)?.mainText} ${\n          JSON.parse(data.address)?.secondaryText\n        }`,\n      }),\n      //'length of hire': '',\n      ...(data?.from_date && { \"start date\": data?.from_date }),\n      ...(data?.to_date && { \"end date\": data?.to_date }),\n    };\n    moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n    let trade_name: any = tradeInfo?.trade_name;\n    let local_info_name: any = local_info?.name;\n    let local_info_count: any = local_info?.count;\n    let case_1 = name ? name : trade_name;\n    let case_2 = `${local_info_name} ${\n      local_info_count > 1 ? `+${local_info_count - 1}` : \"\"\n    }`;\n    let name_: any = case_1 ? trade_name : local_info_name ? case_2 : \"\";\n    props.getTitleInfo({\n      name: name_,\n      isTradeName: tradeInfo?.trade_name ? true : false,\n      count: specializationId?.length || 0,\n      tradeId: data.tradeId,\n      specializationId: data.specializationId || [],\n      sortBy: data.sortBy || 0,\n      to_date: local_info?.to_date || \"\",\n      from_date: local_info?.from_date || \"\",\n      doingLocalChanges: false,\n    });\n  };\n\n  const specializationList = props.tradeListData?.find(\n    ({ _id }: { _id: string }) => _id === sortByFilter.tradeId?.[0]\n  )?.specialisations;\n  let checkIfAllSelected = false;\n  if (specializationList) {\n    checkIfAllSelected =\n      sortByFilter.specializationId?.length === specializationList?.length;\n  }\n\n  const sortOnChange = (num: number) => {\n    if (sortBySorting.sortBy !== num) {\n      sortByButtonClicked(num);\n    }\n  };\n\n  const sortOnClick = (num: number) => {\n    if (sortBySorting.sortBy == num) {\n      setSameOnClick();\n    }\n  };\n\n  const checksForActive = ({ checkIfAllSelected, sortByFilter }: any) => {\n    if (sortByFilter?.allSpecializationClicked) {\n      return true;\n    }\n\n    if (sortByFilter?.specializationId?.length) {\n      return false;\n    }\n\n    if (checkIfAllSelected || sortByFilter?.tradeId?.length) {\n      return true;\n    }\n  };\n\n  return (\n    <div className=\"filters_wrapr\">\n      {renderFilterButtons()}\n\n      {sortByFilter.sortByFilterClicked && (\n        <Modal\n          className=\"custom_modal\"\n          open={sortByFilter.sortByFilterClicked}\n          onClose={sortByFilterClose}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        >\n          <>\n            <div\n              className=\"custom_wh filter_modal\"\n              data-aos=\"zoom-in\"\n              data-aos-delay=\"30\"\n              data-aos-duration=\"1000\"\n            >\n              <div className=\"heading\">\n                <span className=\"sub_title\">Filter</span>\n                <button className=\"close_btn\" onClick={sortByFilterClose}>\n                  <img src={cancel} alt=\"cancel\" />\n                </button>\n              </div>\n\n              <div className=\"inner_wrap\">\n                <div className=\"form_field\">\n                  <span className=\"xs_sub_title\">{\"Categories\"}</span>\n                </div>\n                <div className=\"select_sphere\">\n                  <ul>\n                    {props.tradeListData?.map(\n                      ({\n                        _id,\n                        trade_name,\n                        selected_url,\n                        specialisations,\n                      }: {\n                        _id: string;\n                        trade_name: string;\n                        selected_url: string;\n                        specialisations: [];\n                      }) => {\n                        const active = sortByFilter.tradeId?.[0] === _id;\n                        return (\n                          <li\n                            key={_id}\n                            className={active ? \"active\" : \"\"}\n                            onClick={() =>\n                              filterChangeHandler(_id, \"categories\")\n                            }\n                          >\n                            <figure>\n                              <img\n                                alt=\"\"\n                                src={\n                                  selected_url\n                                    ? selected_url\n                                    : spherePlaceholder\n                                }\n                              />\n                            </figure>\n                            <span className=\"name\">{trade_name}</span>\n                          </li>\n                        );\n                      }\n                    )}\n                  </ul>\n                  {/* <span className=\"error_msg\">{errors.categories}</span> */}\n                </div>\n\n                <div className=\"form_field\">\n                  <span className=\"xs_sub_title\">Specialisation</span>\n                </div>\n                <div className=\"tags_wrap\">\n                  <ul>\n                    {console.log({\n                      specializationList,\n                      checkIfAllSelected,\n                      sortByFilter: sortByFilter.allSpecializationClicked,\n                    })}\n                    {specializationList?.length > 0 && (\n                      <li\n                        className={\n                          checksForActive({ checkIfAllSelected, sortByFilter })\n                            ? \"selected\"\n                            : \"\"\n                        }\n                        // className={sortByFilter.allSpecializationClicked ? 'selected' : ''}\n                        onClick={() => {\n                          let items: any = props.tradeListData.find(\n                            (dt: any) => dt._id == sortByFilter.tradeId\n                          );\n                          if (items) {\n                            filterChangeHandler(\n                              items?.specialisations,\n                              \"All Clicked\"\n                            );\n                          }\n                        }}\n                      >\n                        {\"All\"}\n                      </li>\n                    )}\n                    {specializationList?.map(\n                      ({ _id, name }: { _id: string; name: string }) => {\n                        // let active = sortByFilter.specializationId?.indexOf(_id) >= 0;\n                        let active = false;\n                        if (\n                          specializationList?.length !==\n                          sortByFilter.specializationId?.length\n                        ) {\n                          active = false;\n                          if (\n                            Array.isArray(sortByFilter.specializationId) &&\n                            sortByFilter.specializationId?.length\n                          ) {\n                            active =\n                              sortByFilter.specializationId.includes(_id);\n                          }\n                        }\n                        return (\n                          <li\n                            key={_id}\n                            className={active ? \"selected\" : \"\"}\n                            // className={active && !sortByFilter.allSpecializationClicked ? 'selected' : ''}\n                            onClick={() => {\n                              if (checkIfAllSelected) {\n                                let sort_by_spec: any = sortByFilter;\n                                sort_by_spec[\"specializationId\"] = [];\n                                setSortByFilter(sort_by_spec);\n                              }\n                              filterChangeHandler(\n                                _id,\n                                \"specializationId\",\n                                name\n                              );\n                            }}\n                          >\n                            {name}\n                          </li>\n                        );\n                      }\n                    )}\n                  </ul>\n                  {/* <span className=\"error_msg\">{errors.specializationId}</span> */}\n                </div>\n              </div>\n              <div className=\"filter_btn\">\n                <a\n                  className=\"link\"\n                  onClick={() =>\n                    filterChangeHandler(\"Clear All\", \"Clear All\", \"\")\n                  }\n                >\n                  Clear All\n                </a>\n                <button\n                  className=\"fill_btn full_btn btn-effect\"\n                  onClick={showResultSearch}\n                >\n                  Show Results\n                </button>\n              </div>\n            </div>\n          </>\n        </Modal>\n      )}\n\n      {sortBySorting.sortBySorting && (\n        <Menu\n          // id=\"simple-menu\"\n          className=\"fsp_modal range\"\n          anchorEl={sortingAnchorEl}\n          keepMounted\n          open={Boolean(sortingAnchorEl)}\n          onClose={sortBySortingClose}\n        >\n          <span className=\"close_btn\" onClick={sortBySortingClose}>\n            <img src={cancel} alt=\"cancel\" />\n          </span>\n          <span className=\"sub_title\">{\"Sort by\"}</span>\n\n          <div className=\"radio_wrap agree_check\">\n            <input\n              className=\"filter-type filled-in\"\n              type=\"radio\"\n              id=\"highestRated\"\n              value=\"Highest rated\"\n              checked={sortBySorting.sortBy === 1}\n              onClick={() => {\n                sortOnClick(1);\n              }}\n              onChange={() => {\n                sortOnChange(1);\n              }}\n            />\n            <label htmlFor=\"highestRated\">Highest rated</label>\n          </div>\n          <div className=\"radio_wrap agree_check\">\n            <input\n              className=\"filter-type filled-in\"\n              type=\"radio\"\n              id=\"closest\"\n              value=\"Closest to me\"\n              checked={sortBySorting.sortBy === 2}\n              onClick={() => {\n                sortOnClick(2);\n              }}\n              onChange={() => {\n                sortOnChange(2);\n              }}\n            />\n            <label htmlFor=\"closest\">Closest to me</label>\n          </div>\n          <div className=\"radio_wrap agree_check\">\n            <input\n              className=\"filter-type filled-in\"\n              type=\"radio\"\n              id=\"mostJob\"\n              value=\"Most jobs completed\"\n              checked={sortBySorting.sortBy === 3}\n              onClick={() => {\n                sortOnClick(3);\n              }}\n              onChange={() => {\n                sortOnChange(3);\n              }}\n            />\n            <label htmlFor=\"mostJob\">{\"Most jobs completed\"}</label>\n          </div>\n        </Menu>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: any) => {\n  return {\n    jobDataWithJobTypeLatLong: state.homeSearch.jobDataWithJobTypeLatLong,\n    jobTypeListData: state.homeSearch.jobTypeListData,\n    tradeListData: state.auth.tradeListData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return bindActionCreators(\n    {\n      getJobWithJobTypeLatLong,\n      getJobTypeList,\n      callTradeList,\n    },\n    dispatch\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchFilter);\n"]},"metadata":{},"sourceType":"module"}