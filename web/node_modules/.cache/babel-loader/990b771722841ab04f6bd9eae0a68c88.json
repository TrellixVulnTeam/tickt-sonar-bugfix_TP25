{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/paymentHistory/paymentHistory.tsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport storageService from '../../utils/storageService';\nimport dummy from '../../assets/images/u_placeholder.jpg';\nimport searchIcon from '../../assets/images/main-search.png';\nimport more from '../../assets/images/icon-direction-right.png';\nimport loader from '../../assets/images/loader.gif';\nimport noData from '../../assets/images/no-search-data.png';\nimport moment from 'moment';\nimport { renderTime } from '../../utils/common';\nimport { debounce } from 'lodash';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport NumberFormat from 'react-number-format';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PaymentHistory = ({\n  isLoading,\n  searching,\n  paymentHistory,\n  paymentDetails,\n  getPaymentHistory,\n  getPaymentDetails\n}) => {\n  _s();\n\n  const history = useHistory();\n  const {\n    search\n  } = useLocation();\n  const [jobId, setJobId] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchActive, setSearchActive] = useState(false);\n  const [stateData, setStateData] = useState({\n    totalEarnings: 0,\n    totalJobs: 0,\n    revenueList: []\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  useEffect(() => {\n    const urlParams = new URLSearchParams(search);\n    const jobId = urlParams.get('jobId');\n    setJobId(jobId);\n\n    if (!jobId) {\n      getPaymentHistory(currentPage, '', true);\n    } else {\n      getPaymentDetails(jobId);\n    }\n  }, [search, getPaymentHistory, getPaymentDetails]);\n  const searchPayementHistory = useCallback(debounce(searchQuery => getPaymentHistory(1, searchQuery, false), 1000), []);\n  useEffect(() => {\n    console.log({\n      paymentHistory\n    });\n    const {\n      totalEarnings,\n      totalJobs,\n      revenue\n    } = paymentHistory;\n    let newValues = (revenue === null || revenue === void 0 ? void 0 : revenue.revenueList) || [];\n\n    if (newValues === null || newValues === void 0 ? void 0 : newValues.length) {\n      setStateData(prev => ({\n        totalEarnings,\n        totalJobs,\n        revenueList: currentPage > 1 ? [...(prev === null || prev === void 0 ? void 0 : prev.revenueList), ...newValues] : newValues\n      }));\n    } else {\n      var _stateData$revenueLis;\n\n      if (stateData === null || stateData === void 0 ? void 0 : (_stateData$revenueLis = stateData.revenueList) === null || _stateData$revenueLis === void 0 ? void 0 : _stateData$revenueLis.length) {\n        setHasMore(false);\n      }\n    }\n  }, [searchPayementHistory, paymentHistory]);\n\n  const handleSearch = ({\n    target: {\n      value\n    }\n  }) => {\n    setStateData({\n      totalEarnings: 0,\n      totalJobs: 0,\n      revenueList: []\n    });\n    setCurrentPage(1);\n    setHasMore(true);\n    setSearchQuery(value);\n    searchPayementHistory(value);\n  };\n\n  const userType = storageService.getItem('userType');\n  const {\n    totalEarnings = 0,\n    totalJobs = 0,\n    revenueList = []\n  } = stateData || {};\n  const {\n    status,\n    tradeId,\n    specialization,\n    tradieId,\n    tradieName,\n    tradieImage,\n    builderId,\n    builderName,\n    builderImage,\n    jobName,\n    from_date,\n    to_date,\n    totalEarning,\n    review,\n    rating,\n    milestones = []\n  } = paymentDetails || {};\n\n  if (isLoading) {\n    return null;\n  }\n\n  return jobId ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"revenue_detail\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"back\",\n                onClick: () => history.goBack()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"total_count_card\",\n                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex_row center_flex\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex_col_sm_7\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"img_txt_wrap\",\n                        children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                          className: \"job_img\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: (userType === 1 ? builderImage : tradieImage) || dummy,\n                            alt: \"job-img\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 113,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 112,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"details\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"inner_title\",\n                            children: jobName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 116,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"show_label\",\n                            children: status === 'Active' ? /*#__PURE__*/_jsxDEV(\"label\", {\n                              children: status\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 119,\n                              columnNumber: 81\n                            }, this) : renderTime(from_date, to_date, 'MM-DD-YYYY')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 119,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex_col_sm_5 text-right\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"sub_title\",\n                        children: totalEarning\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"milestones_check payment_check\",\n                  children: milestones.map(({\n                    _id,\n                    milestone_name,\n                    milestoneEarning,\n                    isPhotoevidence,\n                    from_date,\n                    to_date,\n                    status\n                  }) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: status !== 'Pending' && status !== 'Comming' ? 'check' : 'disabled',\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"circle_stepper\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"f_spacebw\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          children: milestone_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 141,\n                          columnNumber: 29\n                        }, this), isPhotoevidence && /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Photo evidence required\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: renderTime(from_date, to_date)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 145,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"xs_sub_title\",\n                        children: milestoneEarning\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 25\n                    }, this)]\n                  }, _id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_4 col_ruler\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sub_title\",\n                children: userType === 1 ? 'Posted by' : 'Tradesperson'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tradie_card posted_by \",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user_wrap\",\n                  onClick: () => history.push(`/${userType === 1 ? 'builder' : 'tradie'}-info?${userType === 1 ? 'builder' : 'trade'}Id=${userType === 1 ? builderId : tradieId}`),\n                  children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                    className: \"u_img\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: (userType === 1 ? builderImage : tradieImage) || dummy,\n                      alt: \"img\",\n                      onError: e => {\n                        var _e$target, _e$target2;\n\n                        if (e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.onerror) {\n                          e.target.onerror = null;\n                        }\n\n                        if (e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.src) {\n                          e.target.src = dummy;\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"name\",\n                      children: userType === 1 ? builderName : tradieName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"rating\",\n                      children: [rating ? rating.toFixed(1) : 0, \" | \", review || 0, \" reviews\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relate\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sub_title\",\n                  children: \"Job details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"edit_icon\",\n                  title: \"More\",\n                  onClick: () => history.push(`/job-details-page?jobId=${jobId}${userType === 1 ? `&tradeId=${tradeId}&specializationId=${specialization === null || specialization === void 0 ? void 0 : specialization[0]}` : ''}`),\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: more,\n                    alt: \"more\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relate\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back\",\n            onClick: () => history.goBack()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title\",\n            children: userType === 1 ? 'Payment history' : 'Transaction history'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"total_count_card\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"revenue\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"show_label\",\n              children: userType === 1 ? 'Total earnings' : 'Total payment sent'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title\",\n              children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                value: totalEarnings && (totalEarnings === null || totalEarnings === void 0 ? void 0 : totalEarnings.toFixed(2)) ? totalEarnings === null || totalEarnings === void 0 ? void 0 : totalEarnings.toFixed(2) : totalEarnings,\n                className: \"foo\",\n                displayType: 'text',\n                thousandSeparator: true,\n                prefix: '$'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"job\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"show_label\",\n              children: \"Total Jobs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title\",\n              children: totalJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row center_flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_2\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"xs_sub_title mb0\",\n              children: \"Last jobs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `search_bar${searchActive ? ' active' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search\",\n                value: searchQuery,\n                onChange: handleSearch\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detect_icon_ltr\",\n                onClick: () => setSearchActive(true),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: searchIcon,\n                  alt: \"search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"last_jobs\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"table-scrollable\",\n            className: \"table_wrap\",\n            children: /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n              dataLength: revenueList === null || revenueList === void 0 ? void 0 : revenueList.length,\n              next: () => {\n                console.log('Here!!!');\n                let cp = currentPage + 1;\n                setCurrentPage(prev => prev + 1); // \n\n                getPaymentHistory(cp, '', true);\n              },\n              hasMore: hasMore,\n              loader: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false),\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                cellPadding: \"0\",\n                cellSpacing: \"0\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"form_label\",\n                        children: \"Job\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 251,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"form_label\",\n                        children: \"Status\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 252,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"form_label\",\n                        children: [\"Hired \", userType === 1 ? 'by' : 'tradesperson']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 253,\n                        columnNumber: 28\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"form_label\",\n                        children: \"Start Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 254,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"form_label\",\n                        children: \"Price\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 28\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: searching ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: 5,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"no_record\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: loader,\n                          alt: \"loader\",\n                          width: \"130px\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 265,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this) : !(revenueList === null || revenueList === void 0 ? void 0 : revenueList.length) ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: 5,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"no_record\",\n                        children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                          className: \"no_img\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: noData,\n                            alt: \"data not found\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 274,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 273,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"No Data Found\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 276,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 23\n                  }, this) : revenueList.map(({\n                    _id,\n                    jobId,\n                    status,\n                    jobName,\n                    tradieName,\n                    tradieImage,\n                    tradeName,\n                    builderName,\n                    builderImage,\n                    from_date,\n                    earning\n                  }) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"img_txt_wrap\",\n                        children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                          className: \"job_img\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: (userType === 1 ? builderImage : tradieImage) || dummy,\n                            alt: \"job-img\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 297,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 296,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"details\",\n                          onClick: () => {\n                            history.push(`/payment-history?jobId=${jobId}`);\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"inner_title line-2\",\n                            children: tradeName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 300,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"xs_head line-1\",\n                            children: jobName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 303,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 299,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inner_title line-3\",\n                        children: status\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 309,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inner_title line-3\",\n                        children: userType === 1 ? builderName : tradieName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inner_title\",\n                        children: moment(from_date).format('DD.MM.YYYY')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inner_title\",\n                        children: earning\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 25\n                    }, this)]\n                  }, _id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PaymentHistory, \"sTouUAw4m89HSdijWlh4niov6ec=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = PaymentHistory;\nexport default PaymentHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaymentHistory\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/paymentHistory/paymentHistory.tsx"],"names":["useCallback","useEffect","useState","useHistory","useLocation","storageService","dummy","searchIcon","more","loader","noData","moment","renderTime","debounce","InfiniteScroll","NumberFormat","PaymentHistory","isLoading","searching","paymentHistory","paymentDetails","getPaymentHistory","getPaymentDetails","history","search","jobId","setJobId","searchQuery","setSearchQuery","searchActive","setSearchActive","stateData","setStateData","totalEarnings","totalJobs","revenueList","currentPage","setCurrentPage","hasMore","setHasMore","urlParams","URLSearchParams","get","searchPayementHistory","console","log","revenue","newValues","length","prev","handleSearch","target","value","userType","getItem","status","tradeId","specialization","tradieId","tradieName","tradieImage","builderId","builderName","builderImage","jobName","from_date","to_date","totalEarning","review","rating","milestones","goBack","map","_id","milestone_name","milestoneEarning","isPhotoevidence","push","e","onerror","src","toFixed","cp","tradeName","earning","format"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport storageService from '../../utils/storageService';\nimport dummy from '../../assets/images/u_placeholder.jpg';\nimport searchIcon from '../../assets/images/main-search.png';\nimport more from '../../assets/images/icon-direction-right.png';\nimport loader from '../../assets/images/loader.gif';\nimport noData from '../../assets/images/no-search-data.png';\nimport moment from 'moment';\nimport { renderTime } from '../../utils/common';\nimport { debounce } from 'lodash';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport NumberFormat from 'react-number-format';\n\ninterface Props {\n  isLoading: boolean,\n  searching: boolean,\n  paymentHistory: any;\n  paymentDetails: Array<any>;\n  getPaymentHistory: (page: number, search: string, init: boolean) => void;\n  getPaymentDetails: (jobId: string) => void;\n}\n\nconst PaymentHistory = ({\n  isLoading,\n  searching,\n  paymentHistory,\n  paymentDetails,\n  getPaymentHistory,\n  getPaymentDetails,\n}: Props) => {\n  const history = useHistory();\n  const { search } = useLocation();\n\n  const [jobId, setJobId] = useState<string | null>('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchActive, setSearchActive] = useState(false);\n\n  const [stateData, setStateData] = useState({\n    totalEarnings: 0,\n    totalJobs: 0,\n    revenueList: []\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(search);\n    const jobId = urlParams.get('jobId');\n    setJobId(jobId);\n\n    if (!jobId) {\n      getPaymentHistory(currentPage, '', true);\n    } else {\n      getPaymentDetails(jobId);\n    }\n  }, [search, getPaymentHistory, getPaymentDetails]);\n\n  const searchPayementHistory = useCallback(debounce((searchQuery) => getPaymentHistory(1, searchQuery, false), 1000), []);\n\n\n  useEffect(() => {\n    console.log({ paymentHistory })\n    const { totalEarnings, totalJobs, revenue } = paymentHistory;\n    let newValues = revenue?.revenueList || [];\n    if (newValues?.length) {\n      setStateData((prev: any) => ({\n        totalEarnings,\n        totalJobs,\n        revenueList: currentPage > 1 ? [...prev?.revenueList, ...newValues] : newValues\n      }));\n    } else {\n      if (stateData?.revenueList?.length) {\n        setHasMore(false);\n      }\n    }\n  }, [searchPayementHistory, paymentHistory]);\n\n  const handleSearch = ({ target: { value } }: any) => {\n    setStateData({\n      totalEarnings: 0,\n      totalJobs: 0,\n      revenueList: []\n    })\n    setCurrentPage(1);\n    setHasMore(true);\n    setSearchQuery(value);\n    searchPayementHistory(value);\n  };\n\n  const userType = storageService.getItem('userType');\n  const { totalEarnings = 0, totalJobs = 0, revenueList = [] } = stateData || {};\n  const { status, tradeId, specialization, tradieId, tradieName, tradieImage, builderId, builderName, builderImage, jobName, from_date, to_date, totalEarning, review, rating, milestones = [] }: any = paymentDetails || {};\n\n  if (isLoading) {\n    return null;\n  }\n\n  return jobId ? (\n    <div className=\"app_wrapper\">\n      <div className=\"section_wrapper\">\n        <div className=\"custom_container\">\n          <div className=\"revenue_detail\">\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8\">\n                <button className=\"back\" onClick={() => history.goBack()}></button>\n                <ul className=\"total_count_card\">\n                  <li>\n                    <div className=\"flex_row center_flex\">\n                      <div className=\"flex_col_sm_7\">\n                        <div className=\"img_txt_wrap\">\n                          <figure className=\"job_img\">\n                            <img src={(userType === 1 ? builderImage : tradieImage) || dummy} alt=\"job-img\" />\n                          </figure>\n                          <div className=\"details\">\n                            <span className=\"inner_title\">\n                              {jobName}\n                            </span>\n                            <span className=\"show_label\">{status === 'Active' ? <label>{status}</label> : renderTime(from_date, to_date, 'MM-DD-YYYY')}</span>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex_col_sm_5 text-right\">\n                        <span className=\"sub_title\">{totalEarning}</span>\n                      </div>\n                    </div>\n                  </li>\n                </ul>\n                <div>\n                  <ul className=\"milestones_check payment_check\">\n                    {milestones.map(({ _id, milestone_name, milestoneEarning, isPhotoevidence, from_date, to_date, status }: any) => (\n                      <li\n                        key={_id}\n                        className={status !== 'Pending' && status !== 'Comming' ? 'check' : 'disabled'}\n                      >\n                        <div className=\"circle_stepper\">\n                          <span></span>\n                        </div>\n                        <div className=\"f_spacebw\">\n                          <div className=\"info\">\n                            <label>{milestone_name}</label>\n                            {isPhotoevidence && (\n                              <span>Photo evidence required</span>\n                            )}\n                            <span>\n                              {renderTime(from_date, to_date)}\n                            </span>\n                          </div>\n                          <span className=\"xs_sub_title\">{milestoneEarning}</span>\n                        </div>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n              <div className=\"flex_col_sm_4 col_ruler\">\n                <span className=\"sub_title\">{userType === 1 ? 'Posted by' : 'Tradesperson'}</span>\n                <div className=\"tradie_card posted_by \">\n                  {/* <a href=\"javascript:void(0)\" className=\"chat circle\"></a> */}\n                  <div className=\"user_wrap\" onClick={() => history.push(`/${userType === 1 ? 'builder' : 'tradie'}-info?${userType === 1 ? 'builder' : 'trade'}Id=${userType === 1 ? builderId : tradieId}`)}>\n                    <figure className=\"u_img\">\n                      <img\n                        src={(userType === 1 ? builderImage : tradieImage) || dummy}\n                        alt=\"img\"\n                        onError={(e: any) => {\n                          if (e?.target?.onerror) {\n                            e.target.onerror = null;\n                          }\n                          if (e?.target?.src) {\n                            e.target.src = dummy;\n                          }\n                        }}\n                      />\n                    </figure>\n                    <div className=\"details\">\n                      <span className=\"name\">{userType === 1 ? builderName : tradieName}</span>\n                      <span className=\"rating\">{rating ? rating.toFixed(1) : 0} | {review || 0} reviews</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"relate\">\n                  <span className=\"sub_title\">Job details</span>\n                  <span className=\"edit_icon\" title=\"More\" onClick={() => history.push(`/job-details-page?jobId=${jobId}${userType === 1 ? `&tradeId=${tradeId}&specializationId=${specialization?.[0]}` : ''}`)}>\n                    <img src={more} alt=\"more\" />\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"app_wrapper\">\n      <div className=\"section_wrapper\">\n        <div className=\"custom_container\">\n          <div className=\"relate\">\n            <button className=\"back\" onClick={() => history.goBack()}></button>\n            <span className=\"title\">{userType === 1 ? 'Payment history' : 'Transaction history'}</span>\n          </div>\n          <ul className=\"total_count_card\">\n            <li className=\"revenue\">\n              <span className=\"show_label\">{userType === 1 ? 'Total earnings' : 'Total payment sent'}</span>\n              {/* <span className=\"title\">${totalEarnings && totalEarnings?.toFixed(2) ? totalEarnings?.toFixed(2) : totalEarnings}</span> */}\n              <span className=\"title\">\n                <NumberFormat\n                  value={totalEarnings && totalEarnings?.toFixed(2) ? totalEarnings?.toFixed(2) : totalEarnings}\n                  className=\"foo\"\n                  displayType={'text'}\n                  thousandSeparator={true}\n                  prefix={'$'}\n                />\n              </span>\n            </li>\n            <li className=\"job\">\n              <span className=\"show_label\">Total Jobs</span>\n              <span className=\"title\">{totalJobs}</span>\n            </li>\n          </ul>\n          <div className=\"flex_row center_flex\">\n            <div className=\"flex_col_sm_2\">\n              <span className=\"xs_sub_title mb0\">Last jobs</span>\n            </div>\n            <div className=\"flex_col_sm_4\">\n              <div className={`search_bar${searchActive ? ' active' : ''}`}>\n                <input type=\"text\" placeholder=\"Search\" value={searchQuery} onChange={handleSearch} />\n                <span className=\"detect_icon_ltr\" onClick={() => setSearchActive(true)}>\n                  <img src={searchIcon} alt=\"search\" />\n                </span>\n              </div>\n            </div>\n          </div>\n          <div className=\"last_jobs\">\n\n\n            <div id=\"table-scrollable\" className=\"table_wrap\">\n              <InfiniteScroll\n                dataLength={revenueList?.length}\n                next={() => {\n                  console.log('Here!!!');\n                  let cp = currentPage + 1;\n                  setCurrentPage((prev: any) => prev + 1);\n                  // \n                  getPaymentHistory(cp, '', true);\n                }}\n                hasMore={hasMore}\n                loader={<></>}>\n                <table cellPadding=\"0\" cellSpacing=\"0\">\n                  <thead>\n                    <tr>\n                      <th><span className=\"form_label\">Job</span></th>\n                      <th><span className=\"form_label\">Status</span></th>\n                      <th> <span className=\"form_label\">Hired {userType === 1 ? 'by' : 'tradesperson'}</span></th>\n                      <th><span className=\"form_label\">Start Date</span></th>\n                      <th> <span className=\"form_label\">Price</span></th>\n                    </tr>\n                  </thead>\n                  <tbody >\n\n\n                    {searching ? (\n                      <tr>\n                        <td colSpan={5}>\n                          <div className=\"no_record\">\n                            <img src={loader} alt=\"loader\" width=\"130px\" />\n                          </div>\n                        </td>\n                      </tr>\n                    ) : !revenueList?.length ? (\n                      <tr>\n                        <td colSpan={5}>\n                          <div className=\"no_record\">\n                            <figure className=\"no_img\">\n                              <img src={noData} alt=\"data not found\" />\n                            </figure>\n                            <span>No Data Found</span>\n                          </div>\n                        </td>\n                      </tr>\n                    ) : revenueList.map(({\n                      _id,\n                      jobId,\n                      status,\n                      jobName,\n                      tradieName,\n                      tradieImage,\n                      tradeName,\n                      builderName,\n                      builderImage,\n                      from_date,\n                      earning\n                    }: any) => (\n                      <tr key={_id}>\n                        <td>\n                          <div className=\"img_txt_wrap\">\n                            <figure className=\"job_img\">\n                              <img src={(userType === 1 ? builderImage : tradieImage) || dummy} alt=\"job-img\" />\n                            </figure>\n                            <div className=\"details\" onClick={() => { history.push(`/payment-history?jobId=${jobId}`); }}>\n                              <span className=\"inner_title line-2\">\n                                {tradeName}\n                              </span>\n                              <span className=\"xs_head line-1\">\n                                {jobName}\n                              </span>\n                            </div>\n                          </div>\n                        </td>\n                        <td><span className=\"inner_title line-3\">{status}</span></td>\n                        <td><span className=\"inner_title line-3\">{userType === 1 ? builderName : tradieName}</span></td>\n                        <td><span className=\"inner_title\">{moment(from_date).format('DD.MM.YYYY')}</span></td>\n                        {/* <td><span className=\"inner_title\">{renderTime(from_date, to_date)}</span></td> */}\n                        <td><span className=\"inner_title\">{earning}</span></td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </InfiniteScroll>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentHistory;\n"]},"metadata":{},"sourceType":"module"}