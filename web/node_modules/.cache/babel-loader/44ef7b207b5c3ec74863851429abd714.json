{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/common/header/header.tsx\",\n    _s2 = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useState, useEffect } from \"react\";\nimport { useLocation, withRouter, useHistory } from \"react-router-dom\";\nimport Joyride from \"react-joyride\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport storageService from \"../../utils/storageService\";\nimport AuthModal from \"../auth/authModal\";\nimport Urls, { urlFor } from \"../../network/Urls\";\nimport { useDispatch } from \"react-redux\";\nimport { setLoading, setShowNotification } from \"../../redux/common/actions\";\nimport { messaging, deleteToken, signOut } from \"../../services/firebase\";\nimport { onNotificationClick, formatNotificationTime } from \"../../utils/common\";\nimport { getNotificationList } from \"../../redux/homeSearch/actions\";\nimport { markNotifAsRead } from \"../../redux/auth/actions\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport colorLogo from \"../../assets/images/ic-logo-yellow.png\";\nimport menu from \"../../assets/images/menu-line-white.svg\";\nimport bell from \"../../assets/images/ic-notification.png\";\nimport cancel from \"../../assets/images/ic-cancel.png\";\nimport dummy from \"../../assets/images/u_placeholder.jpg\";\nimport profile from \"../../assets/images/ic-profile.png\";\nimport revenue from \"../../assets/images/ic-revenue.png\";\nimport guide from \"../../assets/images/ic-tutorial.png\";\nimport savedJobs from \"../../assets/images/ic-job.png\";\nimport notification from \"../../assets/images/notification.png\";\nimport skipBtn from \"../../assets/images/skip.png\";\nimport backBtn from \"../../assets/images/back.png\";\nimport nextBtn from \"../../assets/images/next.png\";\nimport doneBtn from \"../../assets/images/check-mark.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DISABLE_HEADER = [\"/signup\", \"/login\", \"/reset-password\", \"/404\", \"/email-updated-successfully\", \"/change-password-success\"];\n\nconst Header = props => {\n  _s2();\n\n  var _s = $RefreshSig$(),\n      _notificationData$lis3,\n      _notificationData$lis4,\n      _notificationData$lis5;\n\n  console.log(props, \"propsssssssssssssssssss\");\n  let window_ = window;\n  const dispatch = useDispatch();\n  let {\n    pathname\n  } = useLocation();\n  let history = useHistory();\n  let type = storageService.getItem(\"userType\");\n  const [userType, setUserType] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [anchorElNotif, setAnchorElNotif] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showHeader, setShowHeader] = useState(false);\n  const [toggleMenu, setToggleMenu] = useState(false);\n  const [activeLink, setActiveLink] = useState(\"discover\");\n  const [notificationData, setNotificationData] = useState({\n    count: 0,\n    list: [],\n    unreadCount: 0\n  });\n  const [notificationPgNo, setNotificationPgNo] = useState(1);\n  const [hasMoreNotif, setHasMoreNotif] = useState(true);\n  const [isIntercom, setIntercom] = useState(false);\n  const [startTour, setStartTour] = useState(false);\n  const [isFalse, setIsFalse] = useState(false);\n  const forceUpdate = useForceUpdate();\n  const [activeTarget, setActiveTarget] = useState(\"\");\n  const [logoutClicked, setLogoutClicked] = useState(false);\n  const [profileData, setProfileData] = useState(\"\");\n\n  function useForceUpdate() {\n    _s();\n\n    const [value, setValue] = useState(0); // integer state\n\n    return () => setValue(value => value + Math.random()); // update the state to force render\n  }\n\n  _s(useForceUpdate, \"qPBOvRc2Co1iWTsdTL0g7j/rpjU=\");\n\n  const onMessageListner = () => {\n    console.log(messaging, \"################################\");\n\n    if (messaging) {\n      console.log(\"hi#######%%%%%%%%%%\");\n      messaging.onMessage(payload => {\n        var _payload$data;\n\n        console.log(\"hi#######%%%%%%%%%%\", payload);\n        console.log(\"firebase notification received inside header : \", payload);\n        const title = payload.data.title;\n        const options = {\n          body: payload.data.notificationText\n        };\n        var notifications = new Notification(title, options);\n\n        notifications.onclick = function (event) {\n          console.log(\"event: \", event);\n          event.preventDefault(); // prevent the browser from focusing the Notification's tab\n\n          window.open(\"http://localhost:3000/active-jobs\", \"_self\");\n        };\n\n        setShowNotification(true, payload);\n\n        if (((_payload$data = payload.data) === null || _payload$data === void 0 ? void 0 : _payload$data.notificationType) !== \"25\") {\n          setNotificationData(prevData => {\n            let newPayLoad = { ...payload.data\n            };\n            newPayLoad.read = 0;\n            let newPushList = [...prevData.list];\n            newPushList.unshift(newPayLoad);\n            return { ...prevData,\n              unreadCount: prevData.unreadCount + 1,\n              list: newPushList\n            };\n          });\n        }\n      });\n    }\n  };\n\n  const callNotificationList = async (resetUnreadNotif, isInit) => {\n    var _notificationData$lis, _notificationData$lis2;\n\n    if (((_notificationData$lis = notificationData.list) === null || _notificationData$lis === void 0 ? void 0 : _notificationData$lis.length) > 0 && ((_notificationData$lis2 = notificationData.list) === null || _notificationData$lis2 === void 0 ? void 0 : _notificationData$lis2.length) > (notificationData === null || notificationData === void 0 ? void 0 : notificationData.count)) {\n      setHasMoreNotif(false);\n      return;\n    }\n\n    const res1 = await getNotificationList(resetUnreadNotif ? 1 : notificationPgNo, resetUnreadNotif && isInit ? false : resetUnreadNotif ? true : false);\n\n    if (res1.success) {\n      var _res1$data, _result$list;\n\n      const result = (_res1$data = res1.data) === null || _res1$data === void 0 ? void 0 : _res1$data.result;\n\n      if ((result === null || result === void 0 ? void 0 : (_result$list = result.list) === null || _result$list === void 0 ? void 0 : _result$list.length) < 10) {\n        setHasMoreNotif(false);\n      }\n\n      const notifList = resetUnreadNotif || isInit ? result === null || result === void 0 ? void 0 : result.list : [...notificationData.list, ...(result === null || result === void 0 ? void 0 : result.list)];\n      setNotificationData(prevData => ({ ...prevData,\n        count: result === null || result === void 0 ? void 0 : result.count,\n        list: notifList,\n        unreadCount: result === null || result === void 0 ? void 0 : result.unreadCount\n      }));\n\n      if (resetUnreadNotif) {\n        handleClose(\"notification\");\n        setNotificationPgNo(2);\n      } else {\n        setNotificationPgNo(notificationPgNo + 1);\n      }\n\n      if (props.recallHeaderNotif) {\n        props.recallHeaderNotification(false);\n      }\n    }\n  }; // console.log(\"notificationDataHeader: \", notificationData);\n\n\n  useEffect(() => {\n    var _URLSearchParams, _props$location;\n\n    onMessageListner();\n    setActiveLink(\"discover\");\n    setUserType(storageService.getItem(\"userType\"));\n    callOnPathChange();\n    const pushNotifId = (_URLSearchParams = new URLSearchParams((_props$location = props.location) === null || _props$location === void 0 ? void 0 : _props$location.search)) === null || _URLSearchParams === void 0 ? void 0 : _URLSearchParams.get(\"pushNotifId\");\n\n    if (pushNotifId) {\n      (async () => {\n        const res = await markNotifAsRead({\n          notificationId: pushNotifId\n        });\n\n        if (res.success) {\n          callNotificationList(true, true);\n        }\n      })();\n    }\n  }, []);\n\n  const callOnPathChange = () => {\n    var _props$tradeListData;\n\n    if (userType && !DISABLE_HEADER.includes(pathname) && pathname !== \"guest-user\") {\n      callNotificationList(true, true);\n\n      if (userType === 1) {\n        if (!profileData || profileData && !_.isEqual(props.tradieProfileData, profileData)) {\n          props.callTradieProfileData();\n        }\n      } else if (userType === 2) {\n        if (!profileData || profileData && !_.isEqual(props.builderProfile, profileData)) {\n          props.getProfileBuilder();\n        }\n      }\n    }\n\n    if (DISABLE_HEADER.includes(pathname)) {\n      setShowHeader(false);\n    } else {\n      setShowHeader(true);\n    }\n\n    setUserType(storageService.getItem(\"userType\"));\n\n    if (((_props$tradeListData = props.tradeListData) === null || _props$tradeListData === void 0 ? void 0 : _props$tradeListData.length) === 0) {\n      props.callTradeList();\n    }\n  };\n\n  useEffect(() => {\n    var _Object$keys, _Object$keys2;\n\n    if (props.tradieProfileData && ((_Object$keys = Object.keys(props.tradieProfileData)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length)) {\n      setProfileData(props.tradieProfileData);\n    }\n\n    if (props.builderProfile && ((_Object$keys2 = Object.keys(props.builderProfile)) === null || _Object$keys2 === void 0 ? void 0 : _Object$keys2.length)) {\n      setProfileData(props.builderProfile);\n    }\n  }, [props.tradieProfileData, props.builderProfile]);\n  useEffect(() => {\n    if ((props === null || props === void 0 ? void 0 : props.builderProfile) && Object.keys(props === null || props === void 0 ? void 0 : props.builderProfile).length && !isIntercom) {\n      setIntercom(true);\n      setHidden();\n    }\n\n    if ((props === null || props === void 0 ? void 0 : props.tradieProfileData) && Object.keys(props === null || props === void 0 ? void 0 : props.tradieProfileData).length && !isIntercom) {\n      setIntercom(true);\n      setHidden();\n    }\n  }, [props]);\n\n  const setHidden = () => {\n    let data = storageService.getItem(\"userInfo\");\n\n    if (data) {\n      if (!Object.values(data).includes([\"\"])) {\n        if (window_.Intercom) {\n          // window_.Intercom('shutdown');\n          window_.Intercom(\"update\", {\n            app_id: \"tvbm4bhr\",\n            name: data.userName,\n            email: data.email,\n            user_id: data._id\n          });\n        }\n      } else {\n        forceUpdate();\n        setIsFalse(true);\n        callOnPathChange(); // console.log({ type }, \"user_id\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (pathname === \"/login\") {// window_.Intercom('hide');\n    }\n\n    if (pathname === \"/\") {\n      var _props$location2, _props$location2$stat;\n\n      setActiveLink(\"discover\");\n      setHidden();\n\n      if ((props === null || props === void 0 ? void 0 : (_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : (_props$location2$stat = _props$location2.state) === null || _props$location2$stat === void 0 ? void 0 : _props$location2$stat.path) === \"/signup\") {\n        setStartTour(true);\n        props.history.replace(\"/\");\n      }\n    }\n\n    if ([\"/jobs\", \"/active-jobs\", \"/applied-jobs\", \"/past-jobs\", \"/new-jobs\", \"/approved-milestones\", \"/mark-milestone\", \"/review-builder\"].includes(pathname)) {\n      setActiveLink(\"jobs\");\n      setHidden();\n    }\n\n    if (pathname === \"/post-new-job\") {\n      setActiveLink(\"post\");\n      setHidden();\n    }\n\n    if (pathname === \"/chat\") {\n      setActiveLink(\"chat\");\n      setHidden();\n    }\n\n    if ([\"/builder-info\", \"/saved-tradespeople\", \"/search-tradie-results\"].includes(pathname)) {\n      setHidden();\n    }\n  }, [pathname]);\n  useEffect(() => {\n    callOnPathChange();\n  }, [pathname, userType, isFalse]);\n  useEffect(() => {\n    if (props.recallHeaderNotif) {\n      callOnPathChange();\n    }\n  }, [props.recallHeaderNotif]);\n  useEffect(() => {\n    if (startTour) {\n      document.body.classList.add(\"no-scroll\");\n    } else {\n      document.body.classList.remove(\"no-scroll\");\n    }\n  }, [startTour]);\n\n  const handleClick = (event, type) => {\n    if (type === \"notification\") {\n      setAnchorElNotif(event.currentTarget);\n    } else {\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  const handleClose = type => {\n    if (type === \"notification\") {\n      setAnchorElNotif(null);\n    } else {\n      setAnchorEl(null);\n    }\n  };\n\n  const logoutHandler = async () => {\n    var _storageService$getIt;\n\n    setLogoutClicked(false);\n    setLoading(true);\n    const response = await fetch(urlFor(`${Urls.logout}?deviceId=${(_storageService$getIt = storageService.getItem(\"userInfo\")) === null || _storageService$getIt === void 0 ? void 0 : _storageService$getIt.deviceId}`), {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: storageService.getItem(\"jwtToken\"),\n        timezone: moment.tz.guess()\n      }\n    });\n    const res = await response.json();\n    setLoading(false);\n\n    if (res.status_code === 200) {\n      moengage.moE_SendEvent(MoEConstants.LOG_OUT, {\n        success_status: true,\n        current_page: pathname\n      });\n      mixPanel.mixP_SendEvent(MoEConstants.LOG_OUT, {\n        success_status: true,\n        current_page: pathname\n      });\n      signOut();\n      deleteToken();\n      moengage.moE_LogoutEvent();\n    }\n\n    dispatch({\n      type: \"USER_LOGGED_OUT\"\n    });\n    storageService.clearAll();\n    history.push(\"/login\");\n  };\n\n  const postClicked = () => {\n    setToggleMenu(false);\n    setActiveLink(\"post\");\n    history.push(\"/post-new-job\");\n  };\n\n  const chatClicked = () => {\n    setToggleMenu(false);\n\n    if (userType === 1 || userType === 2) {\n      setActiveLink(\"chat\");\n      history.push(\"/chat\");\n    }\n  };\n\n  const jobClick = () => {\n    setToggleMenu(false);\n\n    if (userType === 1) {\n      setActiveLink(\"jobs\");\n      history.push(\"/active-jobs\");\n    } else if (userType === 2) {\n      setActiveLink(\"jobs\");\n      history.push(\"/jobs\");\n    }\n  };\n\n  const renderByType = ({\n    name\n  }) => {\n    if (userType === 1 || userType === 2) {\n      return profileData === null || profileData === void 0 ? void 0 : profileData[name];\n    }\n  };\n\n  const handleCallback = state => {\n    const {\n      action,\n      step: {\n        target\n      }\n    } = state;\n    const width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    setActiveTarget(target);\n\n    if (action === \"reset\") {\n      setStartTour(false);\n    } else if (action === \"start\" && width <= 650) {\n      setToggleMenu(true);\n    }\n\n    if (target === \".tour-profile\" && toggleMenu) {\n      setToggleMenu(false);\n    }\n  };\n\n  const tradieTour = [{\n    target: \".tour-discover a\",\n    content: `Hi ${renderByType({\n      name: \"userName\"\n    })}, here is your go-to for finding new jobs.`,\n    disableBeacon: true\n  }, {\n    target: \".tour-jobs a\",\n    content: \"Here you can find all your active jobs and keep on top of milestones!\"\n  }, {\n    target: \".tour-chat a\",\n    content: \"Chat with builders about job requirements\"\n  }, {\n    target: \".tour-profile\",\n    content: \"Manage your profile and settings\"\n  }, {\n    target: \".tour-notifications\",\n    content: \"Check notifications and stay on the front foot\"\n  }];\n  const builderTour = [{\n    target: \".tour-discover a\",\n    content: `Hi ${renderByType({\n      name: \"userName\"\n    })}, here is your go-to for finding tradespeople.`,\n    disableBeacon: true\n  }, {\n    target: \".tour-jobs a\",\n    content: \"Here you can find all your active jobs and keep on top of milestones!\"\n  }, {\n    target: \".tour-post a\",\n    content: \"Here you can post a new job\"\n  }, {\n    target: \".tour-chat a\",\n    content: \"Your chats for job and tradespeople are here\"\n  }, {\n    target: \".tour-profile\",\n    content: \"Manage your profile and settings\"\n  }, {\n    target: \".tour-notifications\",\n    content: \"Check notifications and stay on the front foot\"\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Joyride, {\n      run: startTour,\n      showProgress: true,\n      continuous: true,\n      showSkipButton: true,\n      scrollToFirstStep: true,\n      spotlightPadding: activeTarget === \".tour-notifications\" ? 12 : 0,\n      disableOverlayClose: true,\n      disableCloseOnEsc: true,\n      steps: userType === 1 ? tradieTour : builderTour,\n      styles: {\n        options: {\n          zIndex: 2000\n        },\n        overlay: {\n          background: \"#00000099\"\n        }\n      },\n      floaterProps: {\n        hideArrow: true\n      },\n      tooltipComponent: ({\n        continuous,\n        index,\n        step,\n        backProps,\n        skipProps,\n        primaryProps,\n        tooltipProps,\n        isLastStep,\n        size\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tour-tooltip\",\n        ...tooltipProps,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tour-tooltip-content\",\n          children: step.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tour-tooltip-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"\",\n            ...skipProps,\n            title: \"Skip\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: skipBtn,\n              alt: \"skip\",\n              className: \"skip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 15\n          }, this), index > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"\",\n            ...backProps,\n            title: \"Back\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: backBtn,\n              alt: \"back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 17\n          }, this), continuous &&\n          /*#__PURE__*/\n          // <button className=\"\" {...primaryProps} title={isLastStep ? 'Done' : 'Next'}>\n          //     {isLastStep ? 'Done' : 'Next'} {step.showProgress && `(${index + 1}/${size})`}\n          // </button>\n          _jsxDEV(\"button\", {\n            className: \"\",\n            ...primaryProps,\n            title: isLastStep ? \"Done\" : \"Next\",\n            children: [isLastStep ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: doneBtn,\n              alt: \"done\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: nextBtn,\n              alt: \"next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: step.showProgress && `(${index + 1}/${size})`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 11\n      }, this),\n      callback: handleCallback\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 7\n    }, this), showHeader && /*#__PURE__*/_jsxDEV(\"header\", {\n      id: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_headrow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brand_wrap\",\n            children: /*#__PURE__*/_jsxDEV(\"figure\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                onClick: () => {\n                  if (userType === 0) {\n                    return;\n                  }\n\n                  if (pathname === \"/\") {\n                    window.scrollTo({\n                      top: 0,\n                      left: 0,\n                      behavior: \"smooth\"\n                    });\n                    return;\n                  }\n\n                  setActiveLink(\"discover\");\n                  setToggleMenu(false);\n                  props.history.push(\"/\");\n                },\n                src: colorLogo,\n                alt: \"logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: `center_nav ${toggleMenu ? \"active\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"tour-discover\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: () => {\n                  if (userType === 1 || userType === 2) {\n                    setActiveLink(\"discover\");\n                    history.push(\"/\");\n                  } else {\n                    return;\n                  }\n                },\n                className: startTour ? activeTarget === \".tour-discover a\" ? \"active\" : \"\" : activeLink === \"discover\" ? \"active\" : \"\",\n                children: \"Discover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"tour-jobs\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: startTour ? activeTarget === \".tour-jobs a\" ? \"active\" : \"\" : activeLink === \"jobs\" ? \"active\" : \"\",\n                onClick: jobClick,\n                children: \"Jobs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this), userType === 2 && /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"tour-post\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: startTour ? activeTarget === \".tour-post a\" ? \"active\" : \"\" : activeLink === \"post\" ? \"active\" : \"\",\n                onClick: postClicked,\n                children: \"Post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"tour-chat\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: startTour ? activeTarget === \".tour-chat a\" ? \"active\" : \"\" : activeLink === \"chat\" ? \"active\" : \"\",\n                onClick: chatClicked,\n                children: [\"Chat\", props.unreadMessageCount !== 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"count\",\n                  children: props.unreadMessageCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 23\n                }, this) : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"side_nav\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mob_nav\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: menu,\n                alt: \"menu\",\n                onClick: () => {\n                  setToggleMenu(!toggleMenu);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile_notification\",\n              children: [storageService.getItem(\"jwtToken\") && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"notification_bell\",\n                onClick: event => handleClick(event, \"notification\"),\n                children: /*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"bell tour-notifications\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `${notificationData.unreadCount ? \"badge\" : \"\"}`,\n                    children: notificationData.unreadCount || \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 696,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: bell,\n                    alt: \"notify\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 703,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user_profile\",\n                children: [storageService.getItem(\"jwtToken\") && /*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"tour-profile\",\n                  \"aria-controls\": \"simple-menu\",\n                  \"aria-haspopup\": \"true\",\n                  onClick: event => handleClick(event, \"profile\"),\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: renderByType({\n                      name: \"userImage\"\n                    }) || dummy,\n                    alt: \"profile-img\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Menu, {\n                  className: \"sub_menu\",\n                  id: \"simple-menu\",\n                  anchorEl: anchorEl,\n                  keepMounted: true,\n                  open: Boolean(anchorEl),\n                  onClose: () => handleClose(\"profile\"),\n                  elevation: 0,\n                  getContentAnchorEl: null,\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"center\"\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"sub_title\",\n                    children: renderByType({\n                      name: \"userName\"\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 740,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose(\"pofile\");\n                      history.push(`/${props.userType === 1 ? \"tradie\" : \"builder\"}-info?${props.userType === 1 ? \"trade\" : \"builder\"}Id=${renderByType({\n                        name: \"userId\"\n                      })}`);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: profile,\n                        alt: \"profile\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 757,\n                        columnNumber: 27\n                      }, this), \"My Profile\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 756,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 744,\n                    columnNumber: 23\n                  }, this), [1, 2].includes(props.userType) && /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose(\"profile\");\n                      history.push(\"/payment-history\");\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: revenue,\n                        alt: \"revenue\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 769,\n                        columnNumber: 29\n                      }, this), props.userType === 1 ? \"Payment history\" : \"Transaction history\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 768,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 25\n                  }, this), [1, 2].includes(props.userType) && /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose(\"profile\");\n                      history.push(props.userType === 1 ? \"/saved-jobs\" : \"/saved-tradespeople\");\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: savedJobs,\n                        alt: \"savedJobs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 788,\n                        columnNumber: 29\n                      }, this), `Saved ${props.userType === 1 ? \"jobs\" : \"tradespeople\"}`]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 787,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 777,\n                    columnNumber: 25\n                  }, this), [1, 2].includes(props.userType) && /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose(\"profile\");\n                      setStartTour(true);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: guide,\n                        alt: \"guide\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 803,\n                        columnNumber: 29\n                      }, this), \"App Guide\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 802,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 796,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose(\"profile\");\n                      setLogoutClicked(true);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon logout\",\n                      children: \"Logout\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 814,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 808,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 722,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                  className: \"custom_modal\",\n                  open: logoutClicked,\n                  onClose: () => setLogoutClicked(false),\n                  \"aria-labelledby\": \"simple-modal-title\",\n                  \"aria-describedby\": \"simple-modal-description\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"custom_wh confirmation\",\n                    \"data-aos\": \"zoom-in\",\n                    \"data-aos-delay\": \"30\",\n                    \"data-aos-duration\": \"1000\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"heading\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"xs_sub_title\",\n                        children: `Logout Confirmation`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 833,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"close_btn\",\n                        onClick: () => setLogoutClicked(false),\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: cancel,\n                          alt: \"cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 838,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 834,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 832,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal_message\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: `Are you sure you want to logout?`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 842,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 841,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"dialog_actions\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"fill_btn btn-effect\",\n                        onClick: logoutHandler,\n                        children: \"Yes\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 845,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"fill_grey_btn btn-effect\",\n                        onClick: () => setLogoutClicked(false),\n                        children: \"No\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 851,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 844,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 826,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 819,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Menu, {\n                  className: \"sub_menu notifications\",\n                  id: \"simple-menu\",\n                  anchorEl: anchorElNotif,\n                  keepMounted: true,\n                  open: Boolean(anchorElNotif),\n                  onClose: () => handleClose(\"notification\"),\n                  elevation: 0,\n                  getContentAnchorEl: null,\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"center\"\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"sub_title\",\n                      children: \"Notifications\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 881,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"javascript:void(0)\",\n                      className: \"link mark_all\",\n                      onClick: () => {\n                        if (notificationData.unreadCount === 0) {\n                          handleClose(\"notification\");\n                          return;\n                        }\n\n                        callNotificationList(true);\n                      },\n                      children: \"Mark all as read\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 882,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 880,\n                    columnNumber: 23\n                  }, this), ((_notificationData$lis3 = notificationData.list) === null || _notificationData$lis3 === void 0 ? void 0 : _notificationData$lis3.length) > 0 && notificationData.list.map(item => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    className: `${item.read ? \"\" : \"unread\"}`,\n                    onClick: async () => {\n                      var _history$location, _history$location2;\n\n                      handleClose(\"notification\");\n                      const url1 = onNotificationClick(item);\n                      const url2 = ((_history$location = history.location) === null || _history$location === void 0 ? void 0 : _history$location.pathname) + ((_history$location2 = history.location) === null || _history$location2 === void 0 ? void 0 : _history$location2.search);\n\n                      if (item.read === 0) {\n                        const res = (item === null || item === void 0 ? void 0 : item.notificationType) === 13 || url1 === url2 && (item === null || item === void 0 ? void 0 : item.notificationType) === 9 ? await markNotifAsRead({\n                          notificationId: item === null || item === void 0 ? void 0 : item._id\n                        }) : markNotifAsRead({\n                          notificationId: item === null || item === void 0 ? void 0 : item._id\n                        });\n\n                        if ((item === null || item === void 0 ? void 0 : item.notificationType) === 13 && (res === null || res === void 0 ? void 0 : res.success)) {\n                          callNotificationList(true, true);\n                        }\n                      }\n\n                      if (url1 === url2 && item.read === 0 || url1 === url2 && (item === null || item === void 0 ? void 0 : item.notificationType) == 9) {\n                        var _window$location;\n\n                        (_window$location = window.location) === null || _window$location === void 0 ? void 0 : _window$location.reload();\n                        return;\n                      }\n\n                      props.history.push(url1);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"notif\",\n                      children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                        className: \"not_img\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: (item === null || item === void 0 ? void 0 : item.image) || dummy,\n                          alt: \"img\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 937,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `${item.read ? \"\" : \"dot\"}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 939,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 936,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          title: item.title,\n                          className: \"who line-1\",\n                          children: item.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 945,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          title: item.notificationText,\n                          className: \"line-1\",\n                          children: item.notificationText\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 948,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 943,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"time\",\n                        children: formatNotificationTime(item === null || item === void 0 ? void 0 : item.updatedAt, \"day\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 956,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 935,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 899,\n                    columnNumber: 27\n                  }, this)), hasMoreNotif && ((_notificationData$lis4 = notificationData.list) === null || _notificationData$lis4 === void 0 ? void 0 : _notificationData$lis4.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"more_notif\",\n                    onClick: () => callNotificationList(),\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"link\",\n                      children: \"View more\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 967,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 963,\n                    columnNumber: 25\n                  }, this), (notificationData === null || notificationData === void 0 ? void 0 : (_notificationData$lis5 = notificationData.list) === null || _notificationData$lis5 === void 0 ? void 0 : _notificationData$lis5.length) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"no_record\",\n                    children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                      children: /*#__PURE__*/_jsxDEV(\"figure\", {\n                        className: \"no_img\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: notification,\n                          alt: \"data not found\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 975,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 974,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 973,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"empty_screen_text\",\n                      children: \"You don't have any notification yet.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 979,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"notification_subtext\",\n                      children: \"Explore our local network\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 982,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"empty_screen_button\",\n                      onClick: () => history.push(\"/\"),\n                      children: \"Search tradespeople\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 985,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 972,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this), !storageService.getItem(\"jwtToken\") && /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"active\",\n                onClick: () => setShowModal(!showModal),\n                children: \"Log in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 998,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(AuthModal, {\n              showModal: showModal,\n              setShowModal: setShowModal,\n              history: props.history,\n              firstTimePopup: true,\n              children: props.children\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1007,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(Header, \"al+loQcyk8jJN5Y9UCSMK7fb5MQ=\", true, function () {\n  return [useDispatch, useLocation, useHistory];\n});\n\n_c = Header;\nexport default _c2 = withRouter(Header);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/common/header/header.tsx"],"names":["useState","useEffect","useLocation","withRouter","useHistory","Joyride","Modal","Menu","MenuItem","storageService","AuthModal","Urls","urlFor","useDispatch","setLoading","setShowNotification","messaging","deleteToken","signOut","onNotificationClick","formatNotificationTime","getNotificationList","markNotifAsRead","moengage","mixPanel","MoEConstants","moment","_","colorLogo","bell","cancel","dummy","profile","revenue","guide","savedJobs","notification","skipBtn","backBtn","nextBtn","doneBtn","DISABLE_HEADER","Header","props","console","log","window_","window","dispatch","pathname","history","type","getItem","userType","setUserType","anchorEl","setAnchorEl","anchorElNotif","setAnchorElNotif","showModal","setShowModal","showHeader","setShowHeader","toggleMenu","setToggleMenu","activeLink","setActiveLink","notificationData","setNotificationData","count","list","unreadCount","notificationPgNo","setNotificationPgNo","hasMoreNotif","setHasMoreNotif","isIntercom","setIntercom","startTour","setStartTour","isFalse","setIsFalse","forceUpdate","useForceUpdate","activeTarget","setActiveTarget","logoutClicked","setLogoutClicked","profileData","setProfileData","value","setValue","Math","random","onMessageListner","onMessage","payload","title","data","options","body","notificationText","notifications","Notification","onclick","event","preventDefault","open","notificationType","prevData","newPayLoad","read","newPushList","unshift","callNotificationList","resetUnreadNotif","isInit","length","res1","success","result","notifList","handleClose","recallHeaderNotif","recallHeaderNotification","callOnPathChange","pushNotifId","URLSearchParams","location","search","get","res","notificationId","includes","isEqual","tradieProfileData","callTradieProfileData","builderProfile","getProfileBuilder","tradeListData","callTradeList","Object","keys","setHidden","values","Intercom","app_id","name","userName","email","user_id","_id","state","path","replace","document","classList","add","remove","handleClick","currentTarget","logoutHandler","response","fetch","logout","deviceId","method","headers","Authorization","timezone","tz","guess","json","status_code","moE_SendEvent","LOG_OUT","success_status","current_page","mixP_SendEvent","moE_LogoutEvent","clearAll","push","postClicked","chatClicked","jobClick","renderByType","handleCallback","action","step","target","width","innerWidth","documentElement","clientWidth","tradieTour","content","disableBeacon","builderTour","zIndex","overlay","background","hideArrow","continuous","index","backProps","skipProps","primaryProps","tooltipProps","isLastStep","size","showProgress","scrollTo","top","left","behavior","unreadMessageCount","menu","Boolean","vertical","horizontal","map","item","url1","url2","reload","image","updatedAt","children"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useState, useEffect } from \"react\";\nimport { useLocation, withRouter, useHistory } from \"react-router-dom\";\nimport Joyride from \"react-joyride\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport storageService from \"../../utils/storageService\";\nimport AuthModal from \"../auth/authModal\";\nimport Urls, { urlFor } from \"../../network/Urls\";\nimport { useDispatch } from \"react-redux\";\nimport { setLoading, setShowNotification } from \"../../redux/common/actions\";\nimport { messaging, deleteToken, signOut,get } from \"../../services/firebase\";\nimport {\n  onNotificationClick,\n  formatNotificationTime,\n} from \"../../utils/common\";\nimport { getNotificationList } from \"../../redux/homeSearch/actions\";\nimport { markNotifAsRead } from \"../../redux/auth/actions\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\n\nimport moment from \"moment\";\nimport _ from \"lodash\";\n\nimport colorLogo from \"../../assets/images/ic-logo-yellow.png\";\nimport menu from \"../../assets/images/menu-line-white.svg\";\nimport bell from \"../../assets/images/ic-notification.png\";\nimport cancel from \"../../assets/images/ic-cancel.png\";\nimport dummy from \"../../assets/images/u_placeholder.jpg\";\nimport profile from \"../../assets/images/ic-profile.png\";\nimport revenue from \"../../assets/images/ic-revenue.png\";\nimport guide from \"../../assets/images/ic-tutorial.png\";\nimport savedJobs from \"../../assets/images/ic-job.png\";\nimport notification from \"../../assets/images/notification.png\";\n\nimport skipBtn from \"../../assets/images/skip.png\";\nimport backBtn from \"../../assets/images/back.png\";\nimport nextBtn from \"../../assets/images/next.png\";\nimport doneBtn from \"../../assets/images/check-mark.png\";\n\nconst DISABLE_HEADER = [\n  \"/signup\",\n  \"/login\",\n  \"/reset-password\",\n  \"/404\",\n  \"/email-updated-successfully\",\n  \"/change-password-success\",\n];\n\nconst Header = (props: any) => {\n  console.log(props, \"propsssssssssssssssssss\");\n  let window_: any = window;\n  const dispatch = useDispatch();\n  let { pathname } = useLocation();\n  let history = useHistory();\n  let type = storageService.getItem(\"userType\");\n\n  const [userType, setUserType] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [anchorElNotif, setAnchorElNotif] = useState(null);\n  const [showModal, setShowModal] = useState<boolean>(false);\n  const [showHeader, setShowHeader] = useState<boolean>(false);\n  const [toggleMenu, setToggleMenu] = useState(false);\n  const [activeLink, setActiveLink] = useState(\"discover\");\n  const [notificationData, setNotificationData] = useState<any>({\n    count: 0,\n    list: [],\n    unreadCount: 0,\n  });\n  const [notificationPgNo, setNotificationPgNo] = useState<number>(1);\n  const [hasMoreNotif, setHasMoreNotif] = useState<boolean>(true);\n  const [isIntercom, setIntercom] = useState(false);\n  const [startTour, setStartTour] = useState(false);\n  const [isFalse, setIsFalse] = useState(false);\n  const forceUpdate = useForceUpdate();\n  const [activeTarget, setActiveTarget] = useState(\"\");\n  const [logoutClicked, setLogoutClicked] = useState(false);\n  const [profileData, setProfileData] = useState(\"\");\n\n  function useForceUpdate() {\n    const [value, setValue] = useState(0); // integer state\n    return () => setValue((value) => value + Math.random()); // update the state to force render\n  }\n\n  const onMessageListner = () => {\n    console.log(messaging, \"################################\");\n    if (messaging) {\n      console.log(\"hi#######%%%%%%%%%%\");\n      messaging.onMessage((payload: any) => {\n        console.log(\"hi#######%%%%%%%%%%\", payload);\n        console.log(\"firebase notification received inside header : \", payload);\n        const title = payload.data.title;\n        const options = {\n          body: payload.data.notificationText,\n        };\n        var notifications = new Notification(title, options);\n        notifications.onclick = function (event) {\n          console.log(\"event: \", event);\n          event.preventDefault(); // prevent the browser from focusing the Notification's tab\n          window.open(\"http://localhost:3000/active-jobs\", \"_self\");\n        };\n\n        setShowNotification(true, payload);\n        if (payload.data?.notificationType !== \"25\") {\n          setNotificationData((prevData: any) => {\n            let newPayLoad = { ...payload.data };\n            newPayLoad.read = 0;\n            let newPushList = [...prevData.list];\n            newPushList.unshift(newPayLoad);\n            return {\n              ...prevData,\n              unreadCount: prevData.unreadCount + 1,\n              list: newPushList,\n            };\n          });\n        }\n      });\n    }\n  };\n\n  const callNotificationList = async (\n    resetUnreadNotif?: boolean,\n    isInit?: boolean\n  ) => {\n    if (\n      notificationData.list?.length > 0 &&\n      notificationData.list?.length > notificationData?.count\n    ) {\n      setHasMoreNotif(false);\n      return;\n    }\n    const res1 = await getNotificationList(\n      resetUnreadNotif ? 1 : notificationPgNo,\n      resetUnreadNotif && isInit ? false : resetUnreadNotif ? true : false\n    );\n    if (res1.success) {\n      const result = res1.data?.result;\n      if (result?.list?.length < 10) {\n        setHasMoreNotif(false);\n      }\n      const notifList: any =\n        resetUnreadNotif || isInit\n          ? result?.list\n          : [...notificationData.list, ...result?.list];\n\n      setNotificationData((prevData: any) => ({\n        ...prevData,\n        count: result?.count,\n        list: notifList,\n        unreadCount: result?.unreadCount,\n      }));\n      if (resetUnreadNotif) {\n        handleClose(\"notification\");\n        setNotificationPgNo(2);\n      } else {\n        setNotificationPgNo(notificationPgNo + 1);\n      }\n      if (props.recallHeaderNotif) {\n        props.recallHeaderNotification(false);\n      }\n    }\n  };\n  // console.log(\"notificationDataHeader: \", notificationData);\n\n  useEffect(() => {\n    onMessageListner();\n    setActiveLink(\"discover\");\n    setUserType(storageService.getItem(\"userType\"));\n    callOnPathChange();\n\n    const pushNotifId = new URLSearchParams(props.location?.search)?.get(\n      \"pushNotifId\"\n    );\n    if (pushNotifId) {\n      (async () => {\n        const res: any = await markNotifAsRead({ notificationId: pushNotifId });\n        if (res.success) {\n          callNotificationList(true, true);\n        }\n      })();\n    }\n  }, []);\n\n  const callOnPathChange = () => {\n    if (\n      userType &&\n      !DISABLE_HEADER.includes(pathname) &&\n      pathname !== \"guest-user\"\n    ) {\n      callNotificationList(true, true);\n      if (userType === 1) {\n        if (\n          !profileData ||\n          (profileData && !_.isEqual(props.tradieProfileData, profileData))\n        ) {\n          props.callTradieProfileData();\n        }\n      } else if (userType === 2) {\n        if (\n          !profileData ||\n          (profileData && !_.isEqual(props.builderProfile, profileData))\n        ) {\n          props.getProfileBuilder();\n        }\n      }\n    }\n    if (DISABLE_HEADER.includes(pathname)) {\n      setShowHeader(false);\n    } else {\n      setShowHeader(true);\n    }\n    setUserType(storageService.getItem(\"userType\"));\n    if (props.tradeListData?.length === 0) {\n      props.callTradeList();\n    }\n  };\n\n  useEffect(() => {\n    if (\n      props.tradieProfileData &&\n      Object.keys(props.tradieProfileData)?.length\n    ) {\n      setProfileData(props.tradieProfileData);\n    }\n    if (props.builderProfile && Object.keys(props.builderProfile)?.length) {\n      setProfileData(props.builderProfile);\n    }\n  }, [props.tradieProfileData, props.builderProfile]);\n\n  useEffect(() => {\n    if (\n      props?.builderProfile &&\n      Object.keys(props?.builderProfile).length &&\n      !isIntercom\n    ) {\n      setIntercom(true);\n      setHidden();\n    }\n    if (\n      props?.tradieProfileData &&\n      Object.keys(props?.tradieProfileData).length &&\n      !isIntercom\n    ) {\n      setIntercom(true);\n      setHidden();\n    }\n  }, [props]);\n\n  const setHidden = () => {\n    let data: any = storageService.getItem(\"userInfo\");\n    if (data) {\n      if (!Object.values(data).includes([\"\"])) {\n        if (window_.Intercom) {\n          // window_.Intercom('shutdown');\n          window_.Intercom(\"update\", {\n            app_id: \"tvbm4bhr\",\n            name: data.userName,\n            email: data.email,\n            user_id: data._id,\n          });\n        }\n      } else {\n        forceUpdate();\n        setIsFalse(true);\n        callOnPathChange();\n        // console.log({ type }, \"user_id\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (pathname === \"/login\") {\n      // window_.Intercom('hide');\n    }\n    if (pathname === \"/\") {\n      setActiveLink(\"discover\");\n      setHidden();\n      if (props?.location?.state?.path === \"/signup\") {\n        setStartTour(true);\n        props.history.replace(\"/\");\n      }\n    }\n    if (\n      [\n        \"/jobs\",\n        \"/active-jobs\",\n        \"/applied-jobs\",\n        \"/past-jobs\",\n        \"/new-jobs\",\n        \"/approved-milestones\",\n        \"/mark-milestone\",\n        \"/review-builder\",\n      ].includes(pathname)\n    ) {\n      setActiveLink(\"jobs\");\n      setHidden();\n    }\n    if (pathname === \"/post-new-job\") {\n      setActiveLink(\"post\");\n      setHidden();\n    }\n    if (pathname === \"/chat\") {\n      setActiveLink(\"chat\");\n      setHidden();\n    }\n    if (\n      [\n        \"/builder-info\",\n        \"/saved-tradespeople\",\n        \"/search-tradie-results\",\n      ].includes(pathname)\n    ) {\n      setHidden();\n    }\n  }, [pathname]);\n\n  useEffect(() => {\n    callOnPathChange();\n  }, [pathname, userType, isFalse]);\n\n  useEffect(() => {\n    if (props.recallHeaderNotif) {\n      callOnPathChange();\n    }\n  }, [props.recallHeaderNotif]);\n\n  useEffect(() => {\n    if (startTour) {\n      document.body.classList.add(\"no-scroll\");\n    } else {\n      document.body.classList.remove(\"no-scroll\");\n    }\n  }, [startTour]);\n\n  const handleClick = (event: any, type: string) => {\n    if (type === \"notification\") {\n      setAnchorElNotif(event.currentTarget);\n    } else {\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  const handleClose = (type: string) => {\n    if (type === \"notification\") {\n      setAnchorElNotif(null);\n    } else {\n      setAnchorEl(null);\n    }\n  };\n\n  const logoutHandler = async () => {\n    setLogoutClicked(false);\n    setLoading(true);\n    const response = await fetch(\n      urlFor(\n        `${Urls.logout}?deviceId=${\n          storageService.getItem(\"userInfo\")?.deviceId\n        }`\n      ),\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: storageService.getItem(\"jwtToken\"),\n          timezone: moment.tz.guess(),\n        },\n      }\n    );\n    const res = await response.json();\n    setLoading(false);\n    if (res.status_code === 200) {\n      moengage.moE_SendEvent(MoEConstants.LOG_OUT, {\n        success_status: true,\n        current_page: pathname,\n      });\n      mixPanel.mixP_SendEvent(MoEConstants.LOG_OUT, {\n        success_status: true,\n        current_page: pathname,\n      });\n      signOut();\n      deleteToken();\n      moengage.moE_LogoutEvent();\n    }\n    dispatch({ type: \"USER_LOGGED_OUT\" });\n    storageService.clearAll();\n    history.push(\"/login\");\n  };\n\n  const postClicked = () => {\n    setToggleMenu(false);\n    setActiveLink(\"post\");\n    history.push(\"/post-new-job\");\n  };\n\n  const chatClicked = () => {\n    setToggleMenu(false);\n    if (userType === 1 || userType === 2) {\n      setActiveLink(\"chat\");\n      history.push(\"/chat\");\n    }\n  };\n\n  const jobClick = () => {\n    setToggleMenu(false);\n    if (userType === 1) {\n      setActiveLink(\"jobs\");\n      history.push(\"/active-jobs\");\n    } else if (userType === 2) {\n      setActiveLink(\"jobs\");\n      history.push(\"/jobs\");\n    }\n  };\n\n  const renderByType = ({ name }: any) => {\n    if (userType === 1 || userType === 2) {\n      return profileData?.[name];\n    }\n  };\n\n  const handleCallback = (state: any) => {\n    const {\n      action,\n      step: { target },\n    } = state;\n    const width =\n      window.innerWidth ||\n      document.documentElement.clientWidth ||\n      document.body.clientWidth;\n\n    setActiveTarget(target);\n\n    if (action === \"reset\") {\n      setStartTour(false);\n    } else if (action === \"start\" && width <= 650) {\n      setToggleMenu(true);\n    }\n\n    if (target === \".tour-profile\" && toggleMenu) {\n      setToggleMenu(false);\n    }\n  };\n\n  const tradieTour = [\n    {\n      target: \".tour-discover a\",\n      content: `Hi ${renderByType({\n        name: \"userName\",\n      })}, here is your go-to for finding new jobs.`,\n      disableBeacon: true,\n    },\n    {\n      target: \".tour-jobs a\",\n      content:\n        \"Here you can find all your active jobs and keep on top of milestones!\",\n    },\n    {\n      target: \".tour-chat a\",\n      content: \"Chat with builders about job requirements\",\n    },\n    {\n      target: \".tour-profile\",\n      content: \"Manage your profile and settings\",\n    },\n    {\n      target: \".tour-notifications\",\n      content: \"Check notifications and stay on the front foot\",\n    },\n  ];\n\n  const builderTour = [\n    {\n      target: \".tour-discover a\",\n      content: `Hi ${renderByType({\n        name: \"userName\",\n      })}, here is your go-to for finding tradespeople.`,\n      disableBeacon: true,\n    },\n    {\n      target: \".tour-jobs a\",\n      content:\n        \"Here you can find all your active jobs and keep on top of milestones!\",\n    },\n    {\n      target: \".tour-post a\",\n      content: \"Here you can post a new job\",\n    },\n    {\n      target: \".tour-chat a\",\n      content: \"Your chats for job and tradespeople are here\",\n    },\n    {\n      target: \".tour-profile\",\n      content: \"Manage your profile and settings\",\n    },\n    {\n      target: \".tour-notifications\",\n      content: \"Check notifications and stay on the front foot\",\n    },\n  ];\n\n  return (\n    <>\n      <Joyride\n        run={startTour}\n        showProgress\n        continuous\n        showSkipButton\n        scrollToFirstStep\n        spotlightPadding={activeTarget === \".tour-notifications\" ? 12 : 0}\n        disableOverlayClose\n        disableCloseOnEsc\n        steps={userType === 1 ? tradieTour : builderTour}\n        styles={{\n          options: {\n            zIndex: 2000,\n          },\n          overlay: {\n            background: \"#00000099\",\n          },\n        }}\n        floaterProps={{\n          hideArrow: true,\n        }}\n        tooltipComponent={({\n          continuous,\n          index,\n          step,\n          backProps,\n          skipProps,\n          primaryProps,\n          tooltipProps,\n          isLastStep,\n          size,\n        }) => (\n          <div className=\"tour-tooltip\" {...tooltipProps}>\n            <div className=\"tour-tooltip-content\">{step.content}</div>\n            <div className=\"tour-tooltip-footer\">\n              <button className=\"\" {...skipProps} title=\"Skip\">\n                <img src={skipBtn} alt=\"skip\" className=\"skip\" />\n              </button>\n              {index > 0 && (\n                <button className=\"\" {...backProps} title=\"Back\">\n                  <img src={backBtn} alt=\"back\" />\n                </button>\n              )}\n              {continuous && (\n                // <button className=\"\" {...primaryProps} title={isLastStep ? 'Done' : 'Next'}>\n                //     {isLastStep ? 'Done' : 'Next'} {step.showProgress && `(${index + 1}/${size})`}\n                // </button>\n\n                <button\n                  className=\"\"\n                  {...primaryProps}\n                  title={isLastStep ? \"Done\" : \"Next\"}\n                >\n                  {isLastStep ? (\n                    <img src={doneBtn} alt=\"done\" />\n                  ) : (\n                    <img src={nextBtn} alt=\"next\" />\n                  )}\n                  <span>{step.showProgress && `(${index + 1}/${size})`}</span>\n                </button>\n              )}\n            </div>\n          </div>\n        )}\n        callback={handleCallback}\n      />\n      {showHeader && (\n        <header id=\"header\">\n          <div className=\"custom_container\">\n            <div className=\"flex_headrow\">\n              <div className=\"brand_wrap\">\n                <figure>\n                  <img\n                    onClick={() => {\n                      if (userType === 0) {\n                        return;\n                      }\n                      if (pathname === \"/\") {\n                        window.scrollTo({\n                          top: 0,\n                          left: 0,\n                          behavior: \"smooth\",\n                        });\n                        return;\n                      }\n                      setActiveLink(\"discover\");\n                      setToggleMenu(false);\n                      props.history.push(\"/\");\n                    }}\n                    src={colorLogo}\n                    alt=\"logo\"\n                  />\n                </figure>\n              </div>\n              <ul className={`center_nav ${toggleMenu ? \"active\" : \"\"}`}>\n                <li className=\"tour-discover\">\n                  <a\n                    onClick={() => {\n                      if (userType === 1 || userType === 2) {\n                        setActiveLink(\"discover\");\n                        history.push(\"/\");\n                      } else {\n                        return;\n                      }\n                    }}\n                    className={\n                      startTour\n                        ? activeTarget === \".tour-discover a\"\n                          ? \"active\"\n                          : \"\"\n                        : activeLink === \"discover\"\n                        ? \"active\"\n                        : \"\"\n                    }\n                  >\n                    {\"Discover\"}\n                  </a>\n                </li>\n                <li className=\"tour-jobs\">\n                  <a\n                    className={\n                      startTour\n                        ? activeTarget === \".tour-jobs a\"\n                          ? \"active\"\n                          : \"\"\n                        : activeLink === \"jobs\"\n                        ? \"active\"\n                        : \"\"\n                    }\n                    onClick={jobClick}\n                  >\n                    {\"Jobs\"}\n                  </a>\n                </li>\n\n                {userType === 2 && (\n                  <li className=\"tour-post\">\n                    <a\n                      className={\n                        startTour\n                          ? activeTarget === \".tour-post a\"\n                            ? \"active\"\n                            : \"\"\n                          : activeLink === \"post\"\n                          ? \"active\"\n                          : \"\"\n                      }\n                      onClick={postClicked}\n                    >\n                      {\"Post\"}\n                    </a>\n                  </li>\n                )}\n                <li className=\"tour-chat\">\n                  <a\n                    className={\n                      startTour\n                        ? activeTarget === \".tour-chat a\"\n                          ? \"active\"\n                          : \"\"\n                        : activeLink === \"chat\"\n                        ? \"active\"\n                        : \"\"\n                    }\n                    onClick={chatClicked}\n                  >\n                    {\"Chat\"}\n                    {props.unreadMessageCount !== 0 ? (\n                      <span className=\"count\">{props.unreadMessageCount}</span>\n                    ) : (\n                      \"\"\n                    )}\n                  </a>\n                </li>\n              </ul>\n              <ul className=\"side_nav\">\n                <li className=\"mob_nav\">\n                  <img\n                    src={menu}\n                    alt=\"menu\"\n                    onClick={() => {\n                      setToggleMenu(!toggleMenu);\n                    }}\n                  />\n                </li>\n                <div className=\"profile_notification\">\n                  {storageService.getItem(\"jwtToken\") && (\n                    <div\n                      className=\"notification_bell\"\n                      onClick={(event) => handleClick(event, \"notification\")}\n                    >\n                      <figure className=\"bell tour-notifications\">\n                        <span\n                          className={`${\n                            notificationData.unreadCount ? \"badge\" : \"\"\n                          }`}\n                        >\n                          {notificationData.unreadCount || \"\"}\n                        </span>\n                        <img src={bell} alt=\"notify\" />\n                      </figure>\n                    </div>\n                  )}\n                  <div className=\"user_profile\">\n                    {storageService.getItem(\"jwtToken\") && (\n                      <figure\n                        className=\"tour-profile\"\n                        aria-controls=\"simple-menu\"\n                        aria-haspopup=\"true\"\n                        onClick={(event) => handleClick(event, \"profile\")}\n                      >\n                        <img\n                          src={renderByType({ name: \"userImage\" }) || dummy}\n                          alt=\"profile-img\"\n                        />\n                      </figure>\n                    )}\n\n                    <Menu\n                      className=\"sub_menu\"\n                      id=\"simple-menu\"\n                      anchorEl={anchorEl}\n                      keepMounted\n                      open={Boolean(anchorEl)}\n                      onClose={() => handleClose(\"profile\")}\n                      elevation={0}\n                      getContentAnchorEl={null}\n                      anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"center\",\n                      }}\n                      transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"right\",\n                      }}\n                    >\n                      <span className=\"sub_title\">\n                        {renderByType({ name: \"userName\" })}\n                      </span>\n\n                      <MenuItem\n                        onClick={() => {\n                          handleClose(\"pofile\");\n                          history.push(\n                            `/${\n                              props.userType === 1 ? \"tradie\" : \"builder\"\n                            }-info?${\n                              props.userType === 1 ? \"trade\" : \"builder\"\n                            }Id=${renderByType({ name: \"userId\" })}`\n                          );\n                        }}\n                      >\n                        <span className=\"setting_icon\">\n                          <img src={profile} alt=\"profile\" />\n                          {\"My Profile\"}\n                        </span>\n                      </MenuItem>\n                      {[1, 2].includes(props.userType) && (\n                        <MenuItem\n                          onClick={() => {\n                            handleClose(\"profile\");\n                            history.push(\"/payment-history\");\n                          }}\n                        >\n                          <span className=\"setting_icon\">\n                            <img src={revenue} alt=\"revenue\" />\n                            {props.userType === 1\n                              ? \"Payment history\"\n                              : \"Transaction history\"}\n                          </span>\n                        </MenuItem>\n                      )}\n                      {[1, 2].includes(props.userType) && (\n                        <MenuItem\n                          onClick={() => {\n                            handleClose(\"profile\");\n                            history.push(\n                              props.userType === 1\n                                ? \"/saved-jobs\"\n                                : \"/saved-tradespeople\"\n                            );\n                          }}\n                        >\n                          <span className=\"setting_icon\">\n                            <img src={savedJobs} alt=\"savedJobs\" />\n                            {`Saved ${\n                              props.userType === 1 ? \"jobs\" : \"tradespeople\"\n                            }`}\n                          </span>\n                        </MenuItem>\n                      )}\n                      {[1, 2].includes(props.userType) && (\n                        <MenuItem\n                          onClick={() => {\n                            handleClose(\"profile\");\n                            setStartTour(true);\n                          }}\n                        >\n                          <span className=\"setting_icon\">\n                            <img src={guide} alt=\"guide\" />\n                            {\"App Guide\"}\n                          </span>\n                        </MenuItem>\n                      )}\n                      <MenuItem\n                        onClick={() => {\n                          handleClose(\"profile\");\n                          setLogoutClicked(true);\n                        }}\n                      >\n                        <span className=\"setting_icon logout\">Logout</span>\n                      </MenuItem>\n                    </Menu>\n\n                    {/* logout popup */}\n                    <Modal\n                      className=\"custom_modal\"\n                      open={logoutClicked}\n                      onClose={() => setLogoutClicked(false)}\n                      aria-labelledby=\"simple-modal-title\"\n                      aria-describedby=\"simple-modal-description\"\n                    >\n                      <div\n                        className=\"custom_wh confirmation\"\n                        data-aos=\"zoom-in\"\n                        data-aos-delay=\"30\"\n                        data-aos-duration=\"1000\"\n                      >\n                        <div className=\"heading\">\n                          <span className=\"xs_sub_title\">{`Logout Confirmation`}</span>\n                          <button\n                            className=\"close_btn\"\n                            onClick={() => setLogoutClicked(false)}\n                          >\n                            <img src={cancel} alt=\"cancel\" />\n                          </button>\n                        </div>\n                        <div className=\"modal_message\">\n                          <p>{`Are you sure you want to logout?`}</p>\n                        </div>\n                        <div className=\"dialog_actions\">\n                          <button\n                            className=\"fill_btn btn-effect\"\n                            onClick={logoutHandler}\n                          >\n                            Yes\n                          </button>\n                          <button\n                            className=\"fill_grey_btn btn-effect\"\n                            onClick={() => setLogoutClicked(false)}\n                          >\n                            No\n                          </button>\n                        </div>\n                      </div>\n                    </Modal>\n\n                    {/* Notification */}\n                    <Menu\n                      className=\"sub_menu notifications\"\n                      id=\"simple-menu\"\n                      anchorEl={anchorElNotif}\n                      keepMounted\n                      open={Boolean(anchorElNotif)}\n                      onClose={() => handleClose(\"notification\")}\n                      elevation={0}\n                      getContentAnchorEl={null}\n                      anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"center\",\n                      }}\n                      transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"right\",\n                      }}\n                    >\n                      <div>\n                        <span className=\"sub_title\">Notifications</span>\n                        <a\n                          href=\"javascript:void(0)\"\n                          className=\"link mark_all\"\n                          onClick={() => {\n                            if (notificationData.unreadCount === 0) {\n                              handleClose(\"notification\");\n                              return;\n                            }\n                            callNotificationList(true);\n                          }}\n                        >\n                          Mark all as read\n                        </a>\n                      </div>\n\n                      {notificationData.list?.length > 0 &&\n                        notificationData.list.map((item: any) => (\n                          <MenuItem\n                            className={`${item.read ? \"\" : \"unread\"}`}\n                            onClick={async () => {\n                              handleClose(\"notification\");\n                              const url1: string = onNotificationClick(item);\n                              const url2: string =\n                                history.location?.pathname +\n                                history.location?.search;\n                              if (item.read === 0) {\n                                const res: any =\n                                  item?.notificationType === 13 ||\n                                  (url1 === url2 &&\n                                    item?.notificationType === 9)\n                                    ? await markNotifAsRead({\n                                        notificationId: item?._id,\n                                      })\n                                    : markNotifAsRead({\n                                        notificationId: item?._id,\n                                      });\n                                if (\n                                  item?.notificationType === 13 &&\n                                  res?.success\n                                ) {\n                                  callNotificationList(true, true);\n                                }\n                              }\n                              if (\n                                (url1 === url2 && item.read === 0) ||\n                                (url1 === url2 && item?.notificationType == 9)\n                              ) {\n                                window.location?.reload();\n                                return;\n                              }\n                              props.history.push(url1);\n                            }}\n                          >\n                            <div className=\"notif\">\n                              <figure className=\"not_img\">\n                                <img src={item?.image || dummy} alt=\"img\" />\n                                {/* <span className=\"dot\"></span> */}\n                                <span\n                                  className={`${item.read ? \"\" : \"dot\"}`}\n                                ></span>\n                              </figure>\n                              <div className=\"info\">\n                                {/* <span className=\"who line-1\">{item.title}</span> */}\n                                <span title={item.title} className=\"who line-1\">\n                                  {item.title}\n                                </span>\n                                <span\n                                  title={item.notificationText}\n                                  className=\"line-1\"\n                                >\n                                  {item.notificationText}\n                                </span>\n                                {/* <span className=\"see\">See the message</span> */}\n                              </div>\n                              <span className=\"time\">\n                                {formatNotificationTime(item?.updatedAt, \"day\")}\n                              </span>\n                            </div>\n                          </MenuItem>\n                        ))}\n                      {hasMoreNotif && notificationData.list?.length > 0 && (\n                        <div\n                          className=\"more_notif\"\n                          onClick={() => callNotificationList()}\n                        >\n                          <a className=\"link\">View more</a>\n                        </div>\n                      )}\n\n                      {notificationData?.list?.length === 0 && (\n                        <div className=\"no_record\">\n                          <figure>\n                            <figure className=\"no_img\">\n                              <img src={notification} alt=\"data not found\" />\n                            </figure>\n                          </figure>\n\n                          <span className=\"empty_screen_text\">\n                            You don't have any notification yet.\n                          </span>\n                          <span className=\"notification_subtext\">\n                            Explore our local network\n                          </span>\n                          <button\n                            className=\"empty_screen_button\"\n                            onClick={() => history.push(\"/\")}\n                          >\n                            Search tradespeople\n                          </button>\n                        </div>\n                      )}\n                    </Menu>\n                    {/* Notification close */}\n                  </div>\n                </div>\n                {!storageService.getItem(\"jwtToken\") && (\n                  <li>\n                    <a\n                      className=\"active\"\n                      onClick={() => setShowModal(!showModal)}\n                    >\n                      {\"Log in\"}\n                    </a>\n                  </li>\n                )}\n                <AuthModal\n                  showModal={showModal}\n                  setShowModal={setShowModal}\n                  history={props.history}\n                  firstTimePopup\n                >\n                  {props.children}\n                </AuthModal>\n              </ul>\n            </div>\n          </div>\n        </header>\n      )}\n    </>\n  );\n};\n\nexport default withRouter(Header);\n"]},"metadata":{},"sourceType":"module"}