{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/jobDetails.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport dummy from \"../../../assets/images/u_placeholder.jpg\";\nimport question from \"../../../assets/images/ic-question.png\";\nimport editIconBlue from \"../../../assets/images/ic-edit-blue.png\";\nimport leftIcon from \"../../../assets/images/ic-back-arrow-line.png\";\nimport rightIcon from \"../../../assets/images/ic-next-arrow-line.png\";\nimport { createPostJob, publishJobAgain, publishOpenJobAgain } from \"../../../redux/jobs/actions\";\nimport moment from \"moment\";\nimport jobDummyImage from \"../../../assets/images/ic-placeholder-detail.png\";\nimport OwlCarousel from \"react-owl-carousel\";\nimport \"owl.carousel/dist/assets/owl.carousel.css\";\nimport \"owl.carousel/dist/assets/owl.theme.default.css\";\nimport docThumbnail from \"../../../assets/images/add-document.png\";\nimport { renderTimeWithFormat } from \"../../../utils/common\";\nimport { useHistory } from \"react-router-dom\";\nimport { moengage, mixPanel } from \"../../../services/analyticsTools\";\nimport { MoEConstants } from \"../../../utils/constants\"; //@ts-ignore\n\nimport FsLightbox from \"fslightbox-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst options = {\n  items: 1,\n  nav: true,\n  navText: [`<div class='nav-btn prev-slide'> <img src=\"${leftIcon}\"> </div>`, `<div class='nav-btn next-slide'> <img src=\"${rightIcon}\"> </div>`],\n  rewind: true,\n  autoplay: false,\n  slideBy: 1,\n  dots: true,\n  dotsEach: true,\n  dotData: true,\n  responsive: {\n    0: {\n      items: 1\n    },\n    600: {\n      items: 1\n    },\n    1000: {\n      items: 1\n    }\n  }\n};\n\nconst JobDetails = ({\n  data,\n  milestones,\n  categories,\n  builderProfile,\n  jobTypes,\n  stepCompleted,\n  updateDetailScreen,\n  handleStepForward,\n  handleStepComplete,\n  clearParentStates,\n  handleStepBack,\n  jobId\n}) => {\n  _s();\n\n  var _data_clone$urls3, _data$urls2, _data$urls3, _categorySelected$job, _categorySelected$job2, _categorySelected$cat, _categorySelected$cat2;\n\n  const [categorySelected, setSelected] = useState({\n    category: {},\n    job_type: {}\n  });\n  const [isEnablePopup, setPopUp] = useState(false);\n  const [toggler, setToggler] = useState(false);\n  const [selectedSlide, setSelectSlide] = useState(1);\n  const [fsSlideListner, setFsSlideListner] = useState({});\n  const history = useHistory();\n  const tradeListRedux = useSelector(state => state.auth.tradeListData);\n\n  const findSelectedCategory = () => {\n    var _data$categories, _data$job_type, _data$specialization;\n\n    let preSelectedItem = null;\n    let preSelectedJobType = null;\n    let preSelectedSpecialization = null;\n\n    if ((data === null || data === void 0 ? void 0 : data.categories) && (data === null || data === void 0 ? void 0 : (_data$categories = data.categories) === null || _data$categories === void 0 ? void 0 : _data$categories.length)) {\n      preSelectedItem = data === null || data === void 0 ? void 0 : data.categories[0];\n    }\n\n    if ((data === null || data === void 0 ? void 0 : data.job_type) && (data === null || data === void 0 ? void 0 : (_data$job_type = data.job_type) === null || _data$job_type === void 0 ? void 0 : _data$job_type.length)) {\n      preSelectedJobType = data === null || data === void 0 ? void 0 : data.job_type[0];\n    }\n\n    if ((data === null || data === void 0 ? void 0 : data.specialization) && (data === null || data === void 0 ? void 0 : (_data$specialization = data.specialization) === null || _data$specialization === void 0 ? void 0 : _data$specialization.length)) {\n      preSelectedSpecialization = data === null || data === void 0 ? void 0 : data.specialization;\n    }\n\n    if ((categories === null || categories === void 0 ? void 0 : categories.length) && preSelectedItem && preSelectedJobType) {\n      var _filterItem$specialis;\n\n      let filterItem = categories.find(item => item._id === preSelectedItem);\n      let filter_specialization = [];\n\n      if ((filterItem === null || filterItem === void 0 ? void 0 : filterItem.specialisations) && (filterItem === null || filterItem === void 0 ? void 0 : (_filterItem$specialis = filterItem.specialisations) === null || _filterItem$specialis === void 0 ? void 0 : _filterItem$specialis.length)) {\n        var _filterItem$specialis2;\n\n        filter_specialization = filterItem === null || filterItem === void 0 ? void 0 : (_filterItem$specialis2 = filterItem.specialisations) === null || _filterItem$specialis2 === void 0 ? void 0 : _filterItem$specialis2.filter(item => {\n          if (preSelectedSpecialization.includes(item._id)) {\n            return item;\n          }\n        });\n      }\n\n      let filterJobType = jobTypes.find(item => item._id === preSelectedJobType);\n\n      if (filterJobType || filter_specialization) {\n        setSelected({\n          category: filter_specialization,\n          // specialisations\n          job_type: filterJobType\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateDetailScreen(null);\n\n    if (categorySelected !== undefined && categorySelected !== null && !Object.keys(categorySelected === null || categorySelected === void 0 ? void 0 : categorySelected.category).length || categorySelected !== undefined && categorySelected !== null && !Object.keys(categorySelected === null || categorySelected === void 0 ? void 0 : categorySelected.job_type).length) {\n      findSelectedCategory();\n    }\n  }, [categories, jobTypes, stepCompleted]);\n  useEffect(() => {\n    var _data$urls, _Object$keys;\n\n    let fsSlideObj = {};\n    let slideCount = 1;\n\n    if (data === null || data === void 0 ? void 0 : (_data$urls = data.urls) === null || _data$urls === void 0 ? void 0 : _data$urls.length) {\n      data === null || data === void 0 ? void 0 : data.urls.forEach((item, index) => {\n        if ((item === null || item === void 0 ? void 0 : item.mediaType) === 1 || (item === null || item === void 0 ? void 0 : item.mediaType) === 2) {\n          fsSlideObj[`${index}`] = slideCount++;\n        }\n      });\n    }\n\n    if (((_Object$keys = Object.keys(fsSlideObj)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) > 0) setFsSlideListner(fsSlideObj);\n  }, [data.urls]);\n\n  const forwardScreenStep = (id, data) => {\n    updateDetailScreen({\n      currentScreen: id,\n      data\n    });\n    handleStepForward(id);\n  };\n\n  const filterFileName = link => {\n    if (link === null || link === void 0 ? void 0 : link.length) {\n      let arrItems = link.split(\"/\");\n      return arrItems[(arrItems === null || arrItems === void 0 ? void 0 : arrItems.length) - 1];\n    }\n  };\n\n  const handlePost = async e => {\n    var _history$location, _data_clone$urls, _response;\n\n    e.preventDefault();\n    let data_clone = data;\n    let milestones_clone = milestones;\n    const params = new URLSearchParams((_history$location = history.location) === null || _history$location === void 0 ? void 0 : _history$location.search);\n    const update = params.get(\"update\") || \"\";\n    let filter_milestones = milestones_clone.filter((item, index) => {\n      if (Object.keys(item).length) {\n        var _item$to_date, _item$from_date;\n\n        if (!(item === null || item === void 0 ? void 0 : (_item$to_date = item.to_date) === null || _item$to_date === void 0 ? void 0 : _item$to_date.length)) {\n          delete item.to_date;\n        }\n\n        if (!(item === null || item === void 0 ? void 0 : (_item$from_date = item.from_date) === null || _item$from_date === void 0 ? void 0 : _item$from_date.length) || (item === null || item === void 0 ? void 0 : item.from_date) === \"Invalid date\") {\n          delete item.from_date;\n        }\n\n        item[\"order\"] = index + 1;\n        return item;\n      }\n    });\n    data_clone[\"milestones\"] = filter_milestones;\n    let from_date = data_clone === null || data_clone === void 0 ? void 0 : data_clone.from_date;\n    let to_date = data_clone === null || data_clone === void 0 ? void 0 : data_clone.to_date;\n    console.log({\n      from_date,\n      to_date\n    });\n\n    if (!data_clone.isSingleDayJob && moment(from_date).isSame(moment(to_date))) {\n      delete data_clone.to_date;\n    }\n\n    if (!(to_date === null || to_date === void 0 ? void 0 : to_date.length)) {\n      delete data_clone.to_date;\n    }\n\n    if (!(data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$urls = data_clone.urls) === null || _data_clone$urls === void 0 ? void 0 : _data_clone$urls.length)) {\n      delete data_clone.urls;\n    } else {\n      let urls_ = data_clone === null || data_clone === void 0 ? void 0 : data_clone.urls;\n      let filteredItems = [];\n\n      if (urls_ && Array.isArray(urls_) && (urls_ === null || urls_ === void 0 ? void 0 : urls_.length)) {\n        filteredItems = urls_.map(item_dt => {\n          if (item_dt === null || item_dt === void 0 ? void 0 : item_dt.base64) {\n            delete item_dt.base64;\n          }\n\n          return item_dt;\n        });\n        data_clone[\"urls\"] = filteredItems;\n      }\n    }\n\n    if (jobId) {\n      data_clone.jobId = jobId;\n    }\n\n    const createJob = jobId ? publishJobAgain : createPostJob;\n    let response = null;\n    if (data_clone.isJobRepublish) delete data_clone.isJobRepublish;\n    delete data_clone.isSingleDayJob;\n    if (data_clone.quoteJob == \"1\" && data_clone.amount) delete data_clone.amount;\n\n    if (update) {\n      delete data_clone.editJob;\n      if (data_clone.to_date === \"Invalid date\" || data_clone.to_date === \"\") delete data_clone.to_date;\n      response = await publishOpenJobAgain(data_clone);\n    } else {\n      response = await createJob(data_clone);\n\n      if (jobId) {\n        moengage.moE_SendEvent(MoEConstants.REPUBLISHED_JOB, {\n          timeStamp: moengage.getCurrentTimeStamp()\n        });\n        mixPanel.mixP_SendEvent(MoEConstants.REPUBLISHED_JOB, {\n          timeStamp: moengage.getCurrentTimeStamp()\n        });\n      } else {\n        var _tradeListRedux$find, _data_clone$milestone;\n\n        const mData = {\n          timeStamp: moengage.getCurrentTimeStamp(),\n          category: (_tradeListRedux$find = tradeListRedux.find(i => i._id === (data_clone === null || data_clone === void 0 ? void 0 : data_clone.categories[0]))) === null || _tradeListRedux$find === void 0 ? void 0 : _tradeListRedux$find.trade_name,\n          location: data_clone === null || data_clone === void 0 ? void 0 : data_clone.location_name,\n          \"Number of milestones\": data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$milestone = data_clone.milestones) === null || _data_clone$milestone === void 0 ? void 0 : _data_clone$milestone.length,\n          \"start date\": data_clone === null || data_clone === void 0 ? void 0 : data_clone.from_date,\n          ...((data_clone === null || data_clone === void 0 ? void 0 : data_clone.to_date) && {\n            \"end date\": data_clone === null || data_clone === void 0 ? void 0 : data_clone.to_date\n          })\n        };\n        moengage.moE_SendEvent(MoEConstants.POSTED_A_JOB, mData);\n        mixPanel.mixP_SendEvent(MoEConstants.POSTED_A_JOB, mData);\n      }\n    }\n\n    if ((_response = response) === null || _response === void 0 ? void 0 : _response.success) {\n      clearParentStates();\n      handleStepForward(12);\n    } // console.log({data: data_clone, filter_milestones });\n\n  };\n\n  let data_clone = data;\n\n  const renderFilteredItems = () => {\n    var _data_clone$urls2;\n\n    let sources = [];\n    let types = [];\n\n    if (data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$urls2 = data_clone.urls) === null || _data_clone$urls2 === void 0 ? void 0 : _data_clone$urls2.length) {\n      data_clone === null || data_clone === void 0 ? void 0 : data_clone.urls.forEach(item => {\n        if ((item === null || item === void 0 ? void 0 : item.mediaType) === 2) {\n          sources.push(item.link);\n          types.push(\"video\");\n        }\n\n        if ((item === null || item === void 0 ? void 0 : item.mediaType) === 1) {\n          sources.push(item.link);\n          types.push(\"image\");\n        }\n\n        if ((item === null || item === void 0 ? void 0 : item.mediaType) === 3) {\n          sources.push(docThumbnail);\n          types.push(\"image\");\n        }\n      });\n    }\n\n    return {\n      sources,\n      types\n    };\n  };\n\n  const renderTime = data => {\n    let format = \"YYYY-MM-DD\";\n    let current_date = moment().startOf(\"day\").toDate();\n    let start_date = moment(data === null || data === void 0 ? void 0 : data.from_date, format).isValid() ? moment(data === null || data === void 0 ? void 0 : data.from_date, format).startOf(\"day\").toDate() : false;\n    let end_date = moment(data === null || data === void 0 ? void 0 : data.to_date, format).isValid() ? moment(data === null || data === void 0 ? void 0 : data.to_date, format).startOf(\"day\").toDate() : false;\n    let result = null;\n\n    if (start_date && end_date) {\n      if (moment(start_date).isSame(moment(end_date))) {\n        end_date = false;\n      }\n\n      if (moment(start_date).isSame(moment(current_date))) {\n        result = \"Today\";\n      }\n\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    if (start_date && !end_date) {\n      if (moment(start_date).isSame(moment(current_date))) {\n        result = \"Today\";\n      }\n\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    if (start_date) {\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    return result;\n  };\n\n  const format = \"MM-DD-YYYY\";\n  const {\n    sources,\n    types\n  } = renderFilteredItems();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: [/*#__PURE__*/_jsxDEV(FsLightbox, {\n          toggler: toggler,\n          slide: selectedSlide,\n          sources: sources,\n          types: types,\n          onClose: () => {\n            setSelectSlide(1);\n          }\n        }, sources === null || sources === void 0 ? void 0 : sources.length, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vid_img_wrapper pt-20\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8 relative\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleStepBack,\n                className: \"back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4 relative\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail_card\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"title line-3 pr-20\",\n                title: data === null || data === void 0 ? void 0 : data.jobName,\n                children: [data === null || data === void 0 ? void 0 : data.jobName, /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => {\n                    forwardScreenStep(1);\n                  },\n                  className: \"edit_icon\",\n                  title: \"Edit\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: editIconBlue,\n                    alt: \"edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tagg\",\n                children: \"Job details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"job_info\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon calendar\",\n                    children: renderTime(data)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 21\n                  }, this), data.quoteJob == 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon dollar\",\n                    children: [\"$\", data === null || data === void 0 ? void 0 : data.amount, \" \", (data === null || data === void 0 ? void 0 : data.pay_type) === \"Fixed price\" ? \"f/p\" : \"p/h\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 23\n                  }, this), data.quoteJob == 1 && /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon dollar\",\n                    children: \"For Quoting\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon location line-1\",\n                    title: data === null || data === void 0 ? void 0 : data.location_name,\n                    children: data === null || data === void 0 ? void 0 : data.location_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handlePost,\n                className: \"fill_btn full_btn btn-effect mt-15\",\n                children: jobId ? \"Republish job\" : \"Post job\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sub_title\",\n            style: {\n              marginTop: \"30px\"\n            },\n            children: \"Photos & Docs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8\",\n              children: /*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"\",\n                children: (data_clone === null || data_clone === void 0 ? void 0 : (_data_clone$urls3 = data_clone.urls) === null || _data_clone$urls3 === void 0 ? void 0 : _data_clone$urls3.length) ? /*#__PURE__*/_jsxDEV(OwlCarousel, { ...options,\n                  className: \"customOwlCarousel\",\n                  children: (data === null || data === void 0 ? void 0 : (_data$urls2 = data.urls) === null || _data$urls2 === void 0 ? void 0 : _data$urls2.length) ? data === null || data === void 0 ? void 0 : (_data$urls3 = data.urls) === null || _data$urls3 === void 0 ? void 0 : _data$urls3.map((image, index) => {\n                    console.log({\n                      image,\n                      mediaType: image === null || image === void 0 ? void 0 : image.mediaType\n                    }, \"---?\");\n                    return (image === null || image === void 0 ? void 0 : image.mediaType) === 1 ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      onClick: () => {\n                        setToggler(prev => !prev);\n                        setSelectSlide(fsSlideListner[`${index}`]);\n                      },\n                      title: filterFileName(image.link),\n                      alt: \"\",\n                      src: (image === null || image === void 0 ? void 0 : image.link) ? image === null || image === void 0 ? void 0 : image.link : jobDummyImage\n                    }, `${image}${index}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 436,\n                      columnNumber: 29\n                    }, this) : (image === null || image === void 0 ? void 0 : image.mediaType) === 2 ? /*#__PURE__*/_jsxDEV(\"video\", {\n                      onClick: () => {\n                        setToggler(prev => !prev);\n                        setSelectSlide(fsSlideListner[`${index}`]);\n                      },\n                      title: filterFileName(image.link),\n                      src: image === null || image === void 0 ? void 0 : image.link,\n                      style: {\n                        height: \"400px\",\n                        width: \"800px\"\n                      }\n                    }, `${image}${index}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                      onClick: () => {\n                        let url = `/doc-view?url=${image.link}`; //\n\n                        window.open(url, \"_blank\");\n                      },\n                      title: filterFileName(image.link),\n                      alt: \"\",\n                      src: docThumbnail\n                    }, `${image}${index}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 29\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"\",\n                    src: jobDummyImage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: jobDummyImage,\n                  alt: \"item-url\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"description\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sub_title\",\n                  children: [\"Job Description\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    onClick: () => {\n                      forwardScreenStep(1);\n                    },\n                    className: \"edit_icon\",\n                    title: \"Edit\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: editIconBlue,\n                      alt: \"edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"commn_para\",\n                  children: data === null || data === void 0 ? void 0 : data.job_description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sub_title\",\n                children: [\"Job milestones\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => {\n                    forwardScreenStep(6);\n                  },\n                  className: \"edit_icon\",\n                  title: \"Edit\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: editIconBlue,\n                    alt: \"edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"job_milestone\",\n                children: (milestones === null || milestones === void 0 ? void 0 : milestones.length) ? milestones.map((item, index) => (item === null || item === void 0 ? void 0 : item.milestone_name) && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: `${index + 1}. ${item === null || item === void 0 ? void 0 : item.milestone_name}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: renderTimeWithFormat(item === null || item === void 0 ? void 0 : item.from_date, item === null || item === void 0 ? void 0 : item.to_date, format)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 29\n                }, this)) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  cursor: \"default\"\n                },\n                className: \"fill_grey_btn ques_btn btn-effect\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: question,\n                  alt: \"question\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 19\n                }, this), \"0 questions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"sub_title\",\n                    children: [\"Job type\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      onClick: () => {\n                        forwardScreenStep(2);\n                      },\n                      className: \"edit_icon\",\n                      title: \"Edit\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: editIconBlue,\n                        alt: \"edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 555,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 548,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"job_categories\",\n                    children: /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                        className: \"type_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: categorySelected === null || categorySelected === void 0 ? void 0 : (_categorySelected$job = categorySelected.job_type) === null || _categorySelected$job === void 0 ? void 0 : _categorySelected$job.image,\n                          alt: \"icon\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 561,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 560,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"name\",\n                        children: categorySelected === null || categorySelected === void 0 ? void 0 : (_categorySelected$job2 = categorySelected.job_type) === null || _categorySelected$job2 === void 0 ? void 0 : _categorySelected$job2.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 566,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"sub_title\",\n                    children: [\"Specialisations needed\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      onClick: () => {\n                        forwardScreenStep(2);\n                      },\n                      className: \"edit_icon\",\n                      title: \"Edit\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: editIconBlue,\n                        alt: \"edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 584,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 577,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tags_wrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                      children: (categorySelected === null || categorySelected === void 0 ? void 0 : (_categorySelected$cat = categorySelected.category) === null || _categorySelected$cat === void 0 ? void 0 : _categorySelected$cat.length) ? categorySelected === null || categorySelected === void 0 ? void 0 : (_categorySelected$cat2 = categorySelected.category) === null || _categorySelected$cat2 === void 0 ? void 0 : _categorySelected$cat2.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: item === null || item === void 0 ? void 0 : item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 591,\n                        columnNumber: 31\n                      }, this)) : null\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 588,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 587,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section_wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sub_title\",\n              children: \"Posted by\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => {\n                    history.push(`/builder-info?builderId=${builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.userId}`);\n                  },\n                  className: \"tradie_card posted_by \",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"user_wrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                      className: \"u_img\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: (builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.userImage) || dummy,\n                        alt: \"traide-img\",\n                        onError: e => {\n                          var _e$target, _e$target2;\n\n                          if (e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.onerror) {\n                            e.target.onerror = null;\n                          }\n\n                          if (e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.src) {\n                            e.target.src = dummy;\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 616,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 615,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"details\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"name\",\n                        children: builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.userName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 630,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"rating\",\n                        children: [(builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.rating) || \"0\", \" |\", \" \", (builderProfile === null || builderProfile === void 0 ? void 0 : builderProfile.reviews) || \"0\", \" reviews\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 631,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 629,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 614,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 5\n  }, this);\n};\n\n_s(JobDetails, \"XLgcsDA1Etqg1gsXnKzS8MP/AwE=\", false, function () {\n  return [useHistory, useSelector];\n});\n\n_c = JobDetails;\nexport default JobDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"JobDetails\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/jobDetails.tsx"],"names":["React","useEffect","useState","useSelector","dummy","question","editIconBlue","leftIcon","rightIcon","createPostJob","publishJobAgain","publishOpenJobAgain","moment","jobDummyImage","OwlCarousel","docThumbnail","renderTimeWithFormat","useHistory","moengage","mixPanel","MoEConstants","FsLightbox","options","items","nav","navText","rewind","autoplay","slideBy","dots","dotsEach","dotData","responsive","JobDetails","data","milestones","categories","builderProfile","jobTypes","stepCompleted","updateDetailScreen","handleStepForward","handleStepComplete","clearParentStates","handleStepBack","jobId","categorySelected","setSelected","category","job_type","isEnablePopup","setPopUp","toggler","setToggler","selectedSlide","setSelectSlide","fsSlideListner","setFsSlideListner","history","tradeListRedux","state","auth","tradeListData","findSelectedCategory","preSelectedItem","preSelectedJobType","preSelectedSpecialization","length","specialization","filterItem","find","item","_id","filter_specialization","specialisations","filter","includes","filterJobType","undefined","Object","keys","fsSlideObj","slideCount","urls","forEach","index","mediaType","forwardScreenStep","id","currentScreen","filterFileName","link","arrItems","split","handlePost","e","preventDefault","data_clone","milestones_clone","params","URLSearchParams","location","search","update","get","filter_milestones","to_date","from_date","console","log","isSingleDayJob","isSame","urls_","filteredItems","Array","isArray","map","item_dt","base64","createJob","response","isJobRepublish","quoteJob","amount","editJob","moE_SendEvent","REPUBLISHED_JOB","timeStamp","getCurrentTimeStamp","mixP_SendEvent","mData","i","trade_name","location_name","POSTED_A_JOB","success","renderFilteredItems","sources","types","push","renderTime","format","current_date","startOf","toDate","start_date","isValid","end_date","result","isAfter","days_diff","diff","jobName","pay_type","marginTop","image","prev","height","width","url","window","open","job_description","milestone_name","cursor","name","userId","userImage","target","onerror","src","userName","rating","reviews"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport dummy from \"../../../assets/images/u_placeholder.jpg\";\nimport question from \"../../../assets/images/ic-question.png\";\nimport editIconBlue from \"../../../assets/images/ic-edit-blue.png\";\nimport leftIcon from \"../../../assets/images/ic-back-arrow-line.png\";\nimport rightIcon from \"../../../assets/images/ic-next-arrow-line.png\";\nimport {\n  createPostJob,\n  publishJobAgain,\n  publishOpenJobAgain,\n} from \"../../../redux/jobs/actions\";\nimport moment from \"moment\";\nimport jobDummyImage from \"../../../assets/images/ic-placeholder-detail.png\";\nimport OwlCarousel from \"react-owl-carousel\";\nimport \"owl.carousel/dist/assets/owl.carousel.css\";\nimport \"owl.carousel/dist/assets/owl.theme.default.css\";\n\nimport docThumbnail from \"../../../assets/images/add-document.png\";\n\nimport {  renderTimeWithFormat } from \"../../../utils/common\";\nimport { useHistory } from \"react-router-dom\";\nimport { moengage, mixPanel } from \"../../../services/analyticsTools\";\nimport { MoEConstants } from \"../../../utils/constants\";\n\n//@ts-ignore\nimport FsLightbox from \"fslightbox-react\";\n\ninterface Proptypes {\n  data: any;\n  milestones: any;\n  builderProfile: any;\n  stepCompleted: Boolean;\n  categories: any;\n  jobTypes: any;\n  handleStepComplete: (data: any) => void;\n  handleStepForward: (data: any) => void;\n  handleStepBack: () => void;\n  clearParentStates: () => void;\n  updateDetailScreen: (data: any) => void;\n  jobId: string;\n}\n\nconst options = {\n  items: 1,\n  nav: true,\n  navText: [\n    `<div class='nav-btn prev-slide'> <img src=\"${leftIcon}\"> </div>`,\n    `<div class='nav-btn next-slide'> <img src=\"${rightIcon}\"> </div>`,\n  ],\n  rewind: true,\n  autoplay: false,\n  slideBy: 1,\n  dots: true,\n  dotsEach: true,\n  dotData: true,\n  responsive: {\n    0: {\n      items: 1,\n    },\n    600: {\n      items: 1,\n    },\n    1000: {\n      items: 1,\n    },\n  },\n};\n\nconst JobDetails = ({\n  data,\n  milestones,\n  categories,\n  builderProfile,\n  jobTypes,\n  stepCompleted,\n  updateDetailScreen,\n  handleStepForward,\n  handleStepComplete,\n  clearParentStates,\n  handleStepBack,\n  jobId,\n}: Proptypes) => {\n  const [categorySelected, setSelected] = useState<{ [index: string]: any }>({\n    category: {},\n    job_type: {},\n  });\n  const [isEnablePopup, setPopUp] = useState(false);\n  const [toggler, setToggler] = useState(false);\n  const [selectedSlide, setSelectSlide] = useState(1);\n  const [fsSlideListner, setFsSlideListner] = useState<any>({});\n\n  const history = useHistory();\n  const tradeListRedux = useSelector((state: any) => state.auth.tradeListData);\n\n  const findSelectedCategory = () => {\n    let preSelectedItem: any = null;\n    let preSelectedJobType: any = null;\n    let preSelectedSpecialization: any = null;\n\n    if (data?.categories && data?.categories?.length) {\n      preSelectedItem = data?.categories[0];\n    }\n\n    if (data?.job_type && data?.job_type?.length) {\n      preSelectedJobType = data?.job_type[0];\n    }\n\n    if (data?.specialization && data?.specialization?.length) {\n      preSelectedSpecialization = data?.specialization;\n    }\n\n    if (categories?.length && preSelectedItem && preSelectedJobType) {\n      let filterItem = categories.find(\n        (item: any) => item._id === preSelectedItem\n      );\n      let filter_specialization = [];\n      if (filterItem?.specialisations && filterItem?.specialisations?.length) {\n        filter_specialization = filterItem?.specialisations?.filter(\n          (item: any) => {\n            if (preSelectedSpecialization.includes(item._id)) {\n              return item;\n            }\n          }\n        );\n      }\n\n      let filterJobType = jobTypes.find(\n        (item: any) => item._id === preSelectedJobType\n      );\n      if (filterJobType || filter_specialization) {\n        setSelected({\n          category: filter_specialization, // specialisations\n          job_type: filterJobType,\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateDetailScreen(null);\n    if (\n      (categorySelected !== undefined &&\n        categorySelected !== null &&\n        !Object.keys(categorySelected?.category).length) ||\n      (categorySelected !== undefined &&\n        categorySelected !== null &&\n        !Object.keys(categorySelected?.job_type).length)\n    ) {\n      findSelectedCategory();\n    }\n  }, [categories, jobTypes, stepCompleted]);\n\n  useEffect(() => {\n    let fsSlideObj: any = {};\n    let slideCount = 1;\n\n    if (data?.urls?.length) {\n      data?.urls.forEach((item: any, index: number) => {\n        if (item?.mediaType === 1 || item?.mediaType === 2) {\n          fsSlideObj[`${index}`] = slideCount++;\n        }\n      });\n    }\n    if (Object.keys(fsSlideObj)?.length > 0) setFsSlideListner(fsSlideObj);\n  }, [data.urls]);\n\n  const forwardScreenStep = (id: any, data?: any) => {\n    updateDetailScreen({ currentScreen: id, data });\n    handleStepForward(id);\n  };\n\n  const filterFileName = (link: any) => {\n    if (link?.length) {\n      let arrItems = link.split(\"/\");\n      return arrItems[arrItems?.length - 1];\n    }\n  };\n\n  const handlePost = async (e: any) => {\n    e.preventDefault();\n    let data_clone: any = data;\n    let milestones_clone: any = milestones;\n    const params = new URLSearchParams(history.location?.search);\n    const update: any = params.get(\"update\") || \"\";\n    let filter_milestones = milestones_clone.filter((item: any, index: any) => {\n      if (Object.keys(item).length) {\n        if (!item?.to_date?.length) {\n          delete item.to_date;\n        }\n\n        if (!item?.from_date?.length || item?.from_date === \"Invalid date\") {\n          delete item.from_date;\n        }\n        item[\"order\"] = index + 1;\n        return item;\n      }\n    });\n\n    data_clone[\"milestones\"] = filter_milestones;\n    let from_date = data_clone?.from_date;\n    let to_date = data_clone?.to_date;\n    console.log({ from_date, to_date });\n    if (\n      !data_clone.isSingleDayJob &&\n      moment(from_date).isSame(moment(to_date))\n    ) {\n      delete data_clone.to_date;\n    }\n\n    if (!to_date?.length) {\n      delete data_clone.to_date;\n    }\n\n    if (!data_clone?.urls?.length) {\n      delete data_clone.urls;\n    } else {\n      let urls_: any = data_clone?.urls;\n      let filteredItems: any = [];\n      if (urls_ && Array.isArray(urls_) && urls_?.length) {\n        filteredItems = urls_.map((item_dt: any) => {\n          if (item_dt?.base64) {\n            delete item_dt.base64;\n          }\n          return item_dt;\n        });\n        data_clone[\"urls\"] = filteredItems;\n      }\n    }\n\n    if (jobId) {\n      data_clone.jobId = jobId;\n    }\n\n    const createJob = jobId ? publishJobAgain : createPostJob;\n\n    let response: any = null;\n    if (data_clone.isJobRepublish) delete data_clone.isJobRepublish;\n    delete data_clone.isSingleDayJob;\n    if (data_clone.quoteJob == \"1\" && data_clone.amount)\n      delete data_clone.amount;\n    if (update) {\n      delete data_clone.editJob;\n      if (data_clone.to_date === \"Invalid date\" || data_clone.to_date === \"\")\n        delete data_clone.to_date;\n      response = await publishOpenJobAgain(data_clone);\n    } else {\n      response = await createJob(data_clone);\n      if (jobId) {\n        moengage.moE_SendEvent(MoEConstants.REPUBLISHED_JOB, {\n          timeStamp: moengage.getCurrentTimeStamp(),\n        });\n        mixPanel.mixP_SendEvent(MoEConstants.REPUBLISHED_JOB, {\n          timeStamp: moengage.getCurrentTimeStamp(),\n        });\n      } else {\n        const mData = {\n          timeStamp: moengage.getCurrentTimeStamp(),\n          category: tradeListRedux.find(\n            (i: any) => i._id === data_clone?.categories[0]\n          )?.trade_name,\n          location: data_clone?.location_name,\n          \"Number of milestones\": data_clone?.milestones?.length,\n          \"start date\": data_clone?.from_date,\n          ...(data_clone?.to_date && { \"end date\": data_clone?.to_date }),\n        };\n        moengage.moE_SendEvent(MoEConstants.POSTED_A_JOB, mData);\n        mixPanel.mixP_SendEvent(MoEConstants.POSTED_A_JOB, mData);\n      }\n    }\n    if (response?.success) {\n      clearParentStates();\n      handleStepForward(12);\n    }\n    // console.log({data: data_clone, filter_milestones });\n  };\n\n  let data_clone: any = data;\n\n  const renderFilteredItems = () => {\n    let sources: any = [];\n    let types: any = [];\n\n    if (data_clone?.urls?.length) {\n      data_clone?.urls.forEach((item: any) => {\n        if (item?.mediaType === 2) {\n          sources.push(item.link);\n          types.push(\"video\");\n        }\n        if (item?.mediaType === 1) {\n          sources.push(item.link);\n          types.push(\"image\");\n        }\n        if (item?.mediaType === 3) {\n          sources.push(docThumbnail);\n          types.push(\"image\");\n        }\n      });\n    }\n\n    return { sources, types };\n  };\n\n  const renderTime = (data: any) => {\n    let format = \"YYYY-MM-DD\";\n    let current_date = moment().startOf(\"day\").toDate();\n    let start_date = moment(data?.from_date, format).isValid()\n      ? moment(data?.from_date, format).startOf(\"day\").toDate()\n      : false;\n    let end_date = moment(data?.to_date, format).isValid()\n      ? moment(data?.to_date, format).startOf(\"day\").toDate()\n      : false;\n    let result = null;\n\n    if (start_date && end_date) {\n      if (moment(start_date).isSame(moment(end_date))) {\n        end_date = false;\n      }\n\n      if (moment(start_date).isSame(moment(current_date))) {\n        result = \"Today\";\n      }\n\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    if (start_date && !end_date) {\n      if (moment(start_date).isSame(moment(current_date))) {\n        result = \"Today\";\n      }\n\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    if (start_date) {\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    return result;\n  };\n\n  const format = \"MM-DD-YYYY\";\n  const { sources, types } = renderFilteredItems();\n  return (\n    <div className=\"app_wrapper\">\n      <div className=\"section_wrapper\">\n        <div className=\"custom_container\">\n          <FsLightbox\n            toggler={toggler}\n            slide={selectedSlide}\n            sources={sources}\n            types={types}\n            key={sources?.length}\n            onClose={() => {\n              setSelectSlide(1);\n            }}\n          />\n\n          <div className=\"vid_img_wrapper pt-20\">\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8 relative\">\n                <button onClick={handleStepBack} className=\"back\"></button>\n              </div>\n            </div>\n            <div className=\"flex_col_sm_4 relative\">\n              <div className=\"detail_card\">\n                <span className=\"title line-3 pr-20\" title={data?.jobName}>\n                  {data?.jobName}\n                  <span\n                    onClick={() => {\n                      forwardScreenStep(1);\n                    }}\n                    className=\"edit_icon\"\n                    title=\"Edit\"\n                  >\n                    <img src={editIconBlue} alt=\"edit\" />\n                  </span>\n                </span>\n                <span className=\"tagg\">Job details</span>\n                <div className=\"job_info\">\n                  <ul>\n                    <li className=\"icon calendar\">{renderTime(data)}</li>\n                    {data.quoteJob == 0 && (\n                      <li className=\"icon dollar\">\n                        ${data?.amount}{\" \"}\n                        {data?.pay_type === \"Fixed price\" ? \"f/p\" : \"p/h\"}{\" \"}\n                      </li>\n                    )}\n                    {data.quoteJob == 1 && (\n                      <li className=\"icon dollar\">For Quoting</li>\n                    )}\n                    <li\n                      className=\"icon location line-1\"\n                      title={data?.location_name}\n                    >\n                      {data?.location_name}\n                    </li>\n                  </ul>\n                </div>\n                <button\n                  onClick={handlePost}\n                  className=\"fill_btn full_btn btn-effect mt-15\"\n                >\n                  {jobId ? \"Republish job\" : \"Post job\"}\n                </button>\n              </div>\n            </div>\n            <span className=\"sub_title\" style={{ marginTop: \"30px\" }}>\n              {\"Photos & Docs\"}\n            </span>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8\">\n                <figure className=\"\">\n                  {data_clone?.urls?.length ? (\n                    <OwlCarousel {...options} className=\"customOwlCarousel\">\n                      {/* {renderByFileFormat(data)} */}\n                      {data?.urls?.length ? (\n                        data?.urls?.map((image: any, index: number) => {\n                          console.log(\n                            {\n                              image,\n                              mediaType: image?.mediaType,\n                            },\n                            \"---?\"\n                          );\n                          return image?.mediaType === 1 ? (\n                            <img\n                              key={`${image}${index}`}\n                              onClick={() => {\n                                setToggler((prev: any) => !prev);\n                                setSelectSlide(fsSlideListner[`${index}`]);\n                              }}\n                              title={filterFileName(image.link)}\n                              alt=\"\"\n                              src={image?.link ? image?.link : jobDummyImage}\n                            />\n                          ) : image?.mediaType === 2 ? (\n                            <video\n                              key={`${image}${index}`}\n                              onClick={() => {\n                                setToggler((prev: any) => !prev);\n                                setSelectSlide(fsSlideListner[`${index}`]);\n                              }}\n                              title={filterFileName(image.link)}\n                              src={image?.link}\n                              style={{ height: \"400px\", width: \"800px\" }}\n                            />\n                          ) : (\n                            <img\n                              key={`${image}${index}`}\n                              onClick={() => {\n                                let url = `/doc-view?url=${image.link}`; //\n                                window.open(url, \"_blank\");\n                              }}\n                              title={filterFileName(image.link)}\n                              alt=\"\"\n                              src={docThumbnail}\n                            />\n                          );\n                        })\n                      ) : (\n                        <img alt=\"\" src={jobDummyImage} />\n                      )}\n                    </OwlCarousel>\n                  ) : (\n                    <img src={jobDummyImage} alt=\"item-url\" />\n                  )}\n                </figure>\n              </div>\n            </div>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8\">\n                <div className=\"description\">\n                  <span className=\"sub_title\">\n                    {\"Job Description\"}\n                    <span\n                      onClick={() => {\n                        forwardScreenStep(1);\n                      }}\n                      className=\"edit_icon\"\n                      title=\"Edit\"\n                    >\n                      <img src={editIconBlue} alt=\"edit\" />\n                    </span>\n                  </span>\n                  <p className=\"commn_para\">{data?.job_description}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_4\">\n                <span className=\"sub_title\">\n                  {\"Job milestones\"}\n                  <span\n                    onClick={() => {\n                      forwardScreenStep(6);\n                    }}\n                    className=\"edit_icon\"\n                    title=\"Edit\"\n                  >\n                    <img src={editIconBlue} alt=\"edit\" />\n                  </span>\n                </span>\n                <ul className=\"job_milestone\">\n                  {milestones?.length\n                    ? milestones.map(\n                        (item: any, index: any) =>\n                          item?.milestone_name && (\n                            <li>\n                              <span>{`${index + 1}. ${\n                                item?.milestone_name\n                              }`}</span>\n                              <span>\n                                {renderTimeWithFormat(\n                                  item?.from_date,\n                                  item?.to_date,\n                                  format\n                                )}\n                              </span>\n                            </li>\n                          )\n                      )\n                    : null}\n                </ul>\n                <button\n                  style={{ cursor: \"default\" }}\n                  className=\"fill_grey_btn ques_btn btn-effect\"\n                >\n                  <img src={question} alt=\"question\" />\n                  {\"0 questions\"}\n                </button>\n              </div>\n\n              <div className=\"flex_col_sm_8\">\n                <div className=\"flex_row\">\n                  <div className=\"flex_col_sm_12\">\n                    <span className=\"sub_title\">\n                      {\"Job type\"}\n                      <span\n                        onClick={() => {\n                          forwardScreenStep(2);\n                        }}\n                        className=\"edit_icon\"\n                        title=\"Edit\"\n                      >\n                        <img src={editIconBlue} alt=\"edit\" />\n                      </span>\n                    </span>\n                    <ul className=\"job_categories\">\n                      <li>\n                        <figure className=\"type_icon\">\n                          <img\n                            src={categorySelected?.job_type?.image}\n                            alt=\"icon\"\n                          />\n                        </figure>\n                        <span className=\"name\">\n                          {categorySelected?.job_type?.name}\n                        </span>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n                <div className=\"flex_row\">\n                  <div className=\"flex_col_sm_12\">\n                    <span className=\"sub_title\">\n                      {\"Specialisations needed\"}\n                      <span\n                        onClick={() => {\n                          forwardScreenStep(2);\n                        }}\n                        className=\"edit_icon\"\n                        title=\"Edit\"\n                      >\n                        <img src={editIconBlue} alt=\"edit\" />\n                      </span>\n                    </span>\n                    <div className=\"tags_wrap\">\n                      <ul>\n                        {categorySelected?.category?.length\n                          ? categorySelected?.category?.map((item: any) => (\n                              <li>{item?.name}</li>\n                            ))\n                          : null}\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"section_wrapper\">\n              <span className=\"sub_title\">Posted by</span>\n              <div className=\"flex_row\">\n                <div className=\"flex_col_sm_3\">\n                  <div\n                    onClick={() => {\n                      history.push(\n                        `/builder-info?builderId=${builderProfile?.userId}`\n                      );\n                    }}\n                    className=\"tradie_card posted_by \"\n                  >\n                    {/* <span className=\"chat circle\"></span> */}\n                    <div className=\"user_wrap\">\n                      <figure className=\"u_img\">\n                        <img\n                          src={builderProfile?.userImage || dummy}\n                          alt=\"traide-img\"\n                          onError={(e: any) => {\n                            if (e?.target?.onerror) {\n                              e.target.onerror = null;\n                            }\n                            if (e?.target?.src) {\n                              e.target.src = dummy;\n                            }\n                          }}\n                        />\n                      </figure>\n                      <div className=\"details\">\n                        <span className=\"name\">{builderProfile?.userName}</span>\n                        <span className=\"rating\">\n                          {builderProfile?.rating || \"0\"} |{\" \"}\n                          {builderProfile?.reviews || \"0\"} reviews\n                        </span>\n                        {/* <span className=\"prof\">Project Manager</span> */}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default JobDetails;\n"]},"metadata":{},"sourceType":"module"}