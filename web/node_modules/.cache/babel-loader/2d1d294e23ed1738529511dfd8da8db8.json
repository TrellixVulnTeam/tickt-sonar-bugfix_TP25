{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/searchTradieResult/searchResultTradie.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport SearchFilters from \"./searchFilters\";\nimport noData from \"../../assets/images/no-search-data.png\";\n// import BannerSearch from '../shared/bannerSearch'\nimport BannerSearchProps from \"../shared/bannerSearchProps\";\nimport TradieBox from \"../shared/tradieBox\";\nimport moment from \"moment\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SearchResultTradie = props => {\n  _s();\n\n  var _props$history, _props$history$locati, _props$history2, _props$history2$locat, _props$history2$locat2;\n\n  const location = useLocation();\n  const params = new URLSearchParams((_props$history = props.history) === null || _props$history === void 0 ? void 0 : (_props$history$locati = _props$history.location) === null || _props$history$locati === void 0 ? void 0 : _props$history$locati.search);\n  console.log(\"00000000000000000000000000000000000000000000 => \", params);\n  const [stateData, setStateData] = useState(location.state);\n  const [isToggle, setToggleSearch] = useState(false);\n  const [localInfo, setLocalInfo] = useState({}); // localInfo\n\n  const [loading, setLoading] = useState(false);\n  const [localData, setLocalData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const [sortByFilter, setSortByFilter] = useState({\n    sortByFilterClicked: false,\n    tradeId: [],\n    sortChanged: false,\n    specializationId: [],\n    specializationName: [],\n    allSpecializationClicked: false\n  });\n  const {\n    homeSearchJobData\n  } = props; // props here.\n\n  const jobTypesArray = params.get(\"jobResults\") ? [params.get(\"jobResults\")] : null;\n  console.log(\"jobTypesArray->     \", jobTypesArray);\n  useEffect(() => {\n    var _props$location, _props$location$state, _stateData$calender, _stateData$calender3, _stateData$specializa, _data$address, _props$tradeListData$, _JSON$parse, _JSON$parse2;\n\n    props.getRecentSearchList();\n    let data = {\n      page: 1,\n      isFiltered: false\n    };\n\n    if (stateData === null || stateData === void 0 ? void 0 : stateData.tradeId) {\n      data[\"tradeId\"] = stateData === null || stateData === void 0 ? void 0 : stateData.tradeId;\n    }\n\n    console.log(\"stateData: \", stateData); //debugger\n\n    if (stateData === null || stateData === void 0 ? void 0 : stateData.specializations) {\n      data[\"specializationId\"] = stateData === null || stateData === void 0 ? void 0 : stateData.specializations;\n    } // tradeId: stateData?.tradeId,\n    // specializationId: stateData?.specializations,\n\n\n    console.log({\n      location: stateData === null || stateData === void 0 ? void 0 : stateData.location\n    });\n\n    if (stateData === null || stateData === void 0 ? void 0 : stateData.location) {\n      data[\"location\"] = stateData === null || stateData === void 0 ? void 0 : stateData.location;\n    }\n\n    if (props === null || props === void 0 ? void 0 : (_props$location = props.location) === null || _props$location === void 0 ? void 0 : (_props$location$state = _props$location.state) === null || _props$location$state === void 0 ? void 0 : _props$location$state.suggestionSelected) {\n      var _props$location2, _props$location2$stat;\n\n      data[\"address\"] = JSON.stringify(props === null || props === void 0 ? void 0 : (_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : (_props$location2$stat = _props$location2.state) === null || _props$location2$stat === void 0 ? void 0 : _props$location2$stat.suggestionSelected);\n    }\n\n    if (stateData === null || stateData === void 0 ? void 0 : (_stateData$calender = stateData.calender) === null || _stateData$calender === void 0 ? void 0 : _stateData$calender.startDate) {\n      var _stateData$calender2;\n\n      data[\"from_date\"] = moment(stateData === null || stateData === void 0 ? void 0 : (_stateData$calender2 = stateData.calender) === null || _stateData$calender2 === void 0 ? void 0 : _stateData$calender2.startDate).format(\"YYYY-MM-DD\");\n    }\n\n    if (stateData === null || stateData === void 0 ? void 0 : (_stateData$calender3 = stateData.calender) === null || _stateData$calender3 === void 0 ? void 0 : _stateData$calender3.endDate) {\n      var _stateData$calender4;\n\n      data[\"to_date\"] = moment(stateData === null || stateData === void 0 ? void 0 : (_stateData$calender4 = stateData.calender) === null || _stateData$calender4 === void 0 ? void 0 : _stateData$calender4.endDate).format(\"YYYY-MM-DD\");\n    }\n\n    let spec_count = stateData === null || stateData === void 0 ? void 0 : (_stateData$specializa = stateData.specializations) === null || _stateData$specializa === void 0 ? void 0 : _stateData$specializa.length;\n\n    if (!(data === null || data === void 0 ? void 0 : data.address) || !(data === null || data === void 0 ? void 0 : (_data$address = data.address) === null || _data$address === void 0 ? void 0 : _data$address.length)) {\n      data === null || data === void 0 ? true : delete data.address;\n    }\n\n    setLocalInfo({\n      name: stateData === null || stateData === void 0 ? void 0 : stateData.name,\n      // count: spec_count === 1 ? 0 : spec_count,\n      count: 0,\n      tradeId: data.tradeId,\n      specializationId: data.specializationId,\n      location: data.location,\n      doingLocalChanges: false,\n      suggestionSelected: stateData === null || stateData === void 0 ? void 0 : stateData.suggestionSelected\n    });\n\n    if (data === null || data === void 0 ? void 0 : data.address) {\n      return;\n    }\n\n    console.log({\n      data\n    }, \"----------------->><<---------------\"); // if (!stateData?.suggestionSelected || (data?.location?.coordinates && Array.isArray(data?.location?.coordinates) && data?.location?.coordinates?.length)) {\n\n    props.postHomeSearchData(data);\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: props === null || props === void 0 ? void 0 : (_props$tradeListData$ = props.tradeListData.find(i => i._id === (data === null || data === void 0 ? void 0 : data.tradeId[0]))) === null || _props$tradeListData$ === void 0 ? void 0 : _props$tradeListData$.trade_name,\n      ...(data.address && {\n        location: `${(_JSON$parse = JSON.parse(data.address)) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.mainText} ${(_JSON$parse2 = JSON.parse(data.address)) === null || _JSON$parse2 === void 0 ? void 0 : _JSON$parse2.secondaryText}`\n      }),\n      //'length of hire': '',\n      ...((data === null || data === void 0 ? void 0 : data.from_date) && {\n        \"start date\": data === null || data === void 0 ? void 0 : data.from_date\n      }),\n      ...((data === null || data === void 0 ? void 0 : data.to_date) && {\n        \"end date\": data === null || data === void 0 ? void 0 : data.to_date\n      })\n    };\n    moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData); // }\n  }, []);\n\n  const getTitleInfo = info => {\n    setLocalInfo(info);\n  };\n\n  const checkIfExist = data => {\n    if (data && Array.isArray(data) && (data === null || data === void 0 ? void 0 : data.length)) {\n      let element_id = data[0].tradieId;\n      let response = localData.find(item => item.tradieId === element_id);\n\n      if (response) {\n        console.log({\n          response\n        }, \"duplicate\");\n        return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  };\n\n  const filterChangeHandler = (id, name, newName) => {\n    if (name === \"jobTypes\") {\n      if (sortByFilter.jobTypes[0] == id) {\n        setSortByFilter(prevData => ({ ...prevData,\n          jobTypes: []\n        }));\n      } else {\n        setSortByFilter(prevData => ({ ...prevData,\n          jobTypes: [id]\n        }));\n      }\n    } else if (name === \"specializationId\") {\n      console.log(\"149 => \", newName);\n      setSortByFilter(prevData => {\n        var _prevData$specializat, _prevData$specializat2;\n\n        console.log(\"-------prevData =>  \", prevData);\n        var newData = [];\n        var newNameData = [];\n\n        if (Array.isArray(prevData.specializationId) && (prevData === null || prevData === void 0 ? void 0 : (_prevData$specializat = prevData.specializationId) === null || _prevData$specializat === void 0 ? void 0 : _prevData$specializat.length)) {\n          newData = [...prevData.specializationId];\n        }\n\n        console.log(\"prevData => \", prevData);\n\n        if (Array.isArray(prevData.specializationName) && (prevData === null || prevData === void 0 ? void 0 : (_prevData$specializat2 = prevData.specializationName) === null || _prevData$specializat2 === void 0 ? void 0 : _prevData$specializat2.length)) {\n          newNameData = [...prevData.specializationName];\n        }\n\n        if (sortByFilter.allSpecializationClicked) {\n          newData = [];\n          newNameData = [];\n        }\n\n        const itemIndex = newData.indexOf(id);\n        const itemnameIndex = newData.indexOf(newName);\n\n        if (newData.indexOf(id) < 0) {\n          newData.push(id);\n        } else {\n          newData.splice(itemIndex, 1);\n        }\n\n        if (newData.indexOf(newName) < 0) {\n          newNameData.push(newName);\n        } else {\n          newNameData.splice(itemnameIndex, 1);\n        }\n\n        console.log(newNameData, \"-----------------------------------prevData =>  \", prevData);\n        return { ...prevData,\n          specializationId: newData,\n          specializationName: newNameData,\n          allSpecializationClicked: false\n        };\n      });\n    } else if (name == \"categories\") {\n      if (sortByFilter.tradeId.length && sortByFilter.tradeId[0] == id) {\n        setSortByFilter(prevData => ({ ...prevData,\n          tradeId: [],\n          specializationId: [],\n          allSpecializationClicked: false\n        }));\n      } else {\n        setSortByFilter(prevData => ({ ...prevData,\n          tradeId: [id],\n          specializationId: [],\n          allSpecializationClicked: false\n        }));\n      }\n    } else if (name == \"All Clicked\") {\n      if (sortByFilter.allSpecializationClicked) {\n        setSortByFilter(prevData => ({ ...prevData,\n          allSpecializationClicked: false,\n          specializationId: []\n        }));\n      } else {\n        const newSpecialization = id.map(({\n          _id\n        }) => {\n          return _id;\n        });\n        setSortByFilter(prevData => ({ ...prevData,\n          allSpecializationClicked: true,\n          specializationId: newSpecialization\n        }));\n      }\n    } else if (name == \"Clear All\") {\n      setSortByFilter(prevData => ({ ...prevData,\n        allSpecializationClicked: false,\n        jobTypes: [],\n        specializationId: [],\n        specializationName: [],\n        tradeId: []\n      }));\n    }\n  };\n\n  useEffect(() => {\n    var _local_info$tradeId, _local_info_tradeId, _localTradeId;\n\n    let newProps = homeSearchJobData;\n    let propsPage = 1;\n    let propsTradeId = \"\";\n    let localTradeId = \"\";\n    let local_info = localInfo;\n    let local_info_tradeId = \"\";\n\n    if ((local_info === null || local_info === void 0 ? void 0 : local_info.tradeId) && Array.isArray(local_info === null || local_info === void 0 ? void 0 : local_info.tradeId) && (local_info === null || local_info === void 0 ? void 0 : (_local_info$tradeId = local_info.tradeId) === null || _local_info$tradeId === void 0 ? void 0 : _local_info$tradeId.length)) {\n      local_info_tradeId = local_info === null || local_info === void 0 ? void 0 : local_info.tradeId[0];\n    }\n\n    if (!hasMore) {\n      setHasMore(prev => !prev);\n    }\n\n    if (homeSearchJobData && Array.isArray(homeSearchJobData) && (homeSearchJobData === null || homeSearchJobData === void 0 ? void 0 : homeSearchJobData.length)) {\n      var _homeSearchJobData$, _homeSearchJobData$$t, _homeSearchJobData$2;\n\n      propsTradeId = (_homeSearchJobData$ = homeSearchJobData[0]) === null || _homeSearchJobData$ === void 0 ? void 0 : (_homeSearchJobData$$t = _homeSearchJobData$.tradeData[0]) === null || _homeSearchJobData$$t === void 0 ? void 0 : _homeSearchJobData$$t.tradeId;\n      propsPage = (_homeSearchJobData$2 = homeSearchJobData[0]) === null || _homeSearchJobData$2 === void 0 ? void 0 : _homeSearchJobData$2.page;\n    }\n\n    if (localData && Array.isArray(localData) && (localData === null || localData === void 0 ? void 0 : localData.length)) {\n      var _localData$, _localData$$tradeData;\n\n      localTradeId = (_localData$ = localData[0]) === null || _localData$ === void 0 ? void 0 : (_localData$$tradeData = _localData$.tradeData[0]) === null || _localData$$tradeData === void 0 ? void 0 : _localData$$tradeData.tradeId;\n    }\n\n    let cp = currentPage * 10;\n\n    if (!((_local_info_tradeId = local_info_tradeId) === null || _local_info_tradeId === void 0 ? void 0 : _local_info_tradeId.length) && ((_localTradeId = localTradeId) === null || _localTradeId === void 0 ? void 0 : _localTradeId.length)) {\n      getTitleInfo({\n        name: \"\",\n        count: 0,\n        tradeId: [],\n        specializationId: [],\n        location: null,\n        doingLocalChanges: false,\n        suggestionSelected: \"\"\n      });\n    }\n\n    if (propsPage) {\n      var _local_info_tradeId2, _localTradeId2;\n\n      if (((_local_info_tradeId2 = local_info_tradeId) === null || _local_info_tradeId2 === void 0 ? void 0 : _local_info_tradeId2.length) && ((_localTradeId2 = localTradeId) === null || _localTradeId2 === void 0 ? void 0 : _localTradeId2.length)) {\n        var _propsTradeId;\n\n        if (!((_propsTradeId = propsTradeId) === null || _propsTradeId === void 0 ? void 0 : _propsTradeId.length) && local_info_tradeId === localTradeId) {\n          return;\n        }\n      }\n\n      if (propsPage === 1 && currentPage === 1) {\n        setLocalData(newProps);\n        setCurrentPage(propsPage);\n      } else if (propsPage > 1 && currentPage > 1 && currentPage === propsPage) {\n        if (!checkIfExist(newProps)) {\n          setLocalData(prev => [...prev, ...newProps]);\n        }\n      } else if (propsPage === 1 && currentPage > 1) {\n        setLocalData(newProps);\n        setCurrentPage(propsPage);\n      } else {\n        var _local_info_tradeId3, _localTradeId3, _propsTradeId2;\n\n        if (!((_local_info_tradeId3 = local_info_tradeId) === null || _local_info_tradeId3 === void 0 ? void 0 : _local_info_tradeId3.length) && ((_localTradeId3 = localTradeId) === null || _localTradeId3 === void 0 ? void 0 : _localTradeId3.length) && ((_propsTradeId2 = propsTradeId) === null || _propsTradeId2 === void 0 ? void 0 : _propsTradeId2.length)) {\n          if (localTradeId === propsTradeId) {\n            setLocalData(newProps);\n            setCurrentPage(propsPage);\n          }\n        }\n      }\n    }\n  }, [homeSearchJobData]);\n\n  const handleChangeToggle = value => {\n    setToggleSearch(value);\n  }; // let homeSearchJobData: any = props.homeSearchJobData;\n\n\n  let local_info = localInfo;\n  let isLoading = props.isLoading;\n  console.log({\n    localData,\n    homeSearchJobData,\n    props\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `top_search ${isToggle ? \"active\" : \"\"}`,\n      children: /*#__PURE__*/_jsxDEV(BannerSearchProps, { ...props,\n        tradeListData: props.tradeListData,\n        showOnlyTradeName: (_props$history2 = props.history) === null || _props$history2 === void 0 ? void 0 : (_props$history2$locat = _props$history2.location) === null || _props$history2$locat === void 0 ? void 0 : (_props$history2$locat2 = _props$history2$locat.state) === null || _props$history2$locat2 === void 0 ? void 0 : _props$history2$locat2.showOnlyTradeName,\n        getTitleInfo: getTitleInfo,\n        localInfo: localInfo,\n        handleChangeToggle: handleChangeToggle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search_result\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section_wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row mob_srch_option\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_6 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setToggleSearch(true);\n                },\n                className: \"fill_grey_btn btn-effect\",\n                children: \"Modify Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result_heading\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_8\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title\",\n                  children: [console.log(local_info, \"localData---->\"), `${(local_info === null || local_info === void 0 ? void 0 : local_info.name) || \"\"} ${(local_info === null || local_info === void 0 ? void 0 : local_info.count) > 1 ? `+${(local_info === null || local_info === void 0 ? void 0 : local_info.count) - 1}` : \"\"}`, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"count\",\n                    children: `${(localData === null || localData === void 0 ? void 0 : localData.length) || 0} result(s)`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SearchFilters, { ...props,\n                  localInfo: localInfo,\n                  getTitleInfo: getTitleInfo,\n                  filterChangeHandler: filterChangeHandler,\n                  sortByFilter: sortByFilter,\n                  setSortByFilter: setSortByFilter\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n            dataLength: localData === null || localData === void 0 ? void 0 : localData.length,\n            next: () => {\n              console.log(\"callable\");\n\n              if ((localData === null || localData === void 0 ? void 0 : localData.length) < currentPage * 10) {// setHasMore(false);\n              } else {\n                var _local_info$tradeId2, _local_info$specializ, _props$location3, _props$location3$stat, _props$location4, _props$location4$stat;\n\n                let cp = currentPage + 1;\n                setCurrentPage(prev => prev + 1);\n                let local_info = localInfo;\n                console.log({\n                  local_info\n                });\n                let data = {\n                  page: cp,\n                  isFiltered: false\n                };\n\n                if (local_info === null || local_info === void 0 ? void 0 : local_info.location) {\n                  data[\"location\"] = local_info === null || local_info === void 0 ? void 0 : local_info.location;\n                }\n\n                if (local_info === null || local_info === void 0 ? void 0 : (_local_info$tradeId2 = local_info.tradeId) === null || _local_info$tradeId2 === void 0 ? void 0 : _local_info$tradeId2.length) {\n                  data[\"tradeId\"] = local_info === null || local_info === void 0 ? void 0 : local_info.tradeId;\n                }\n\n                if (local_info === null || local_info === void 0 ? void 0 : (_local_info$specializ = local_info.specializationId) === null || _local_info$specializ === void 0 ? void 0 : _local_info$specializ.length) {\n                  data[\"specializationId\"] = local_info === null || local_info === void 0 ? void 0 : local_info.specializationId;\n                }\n\n                if ((props === null || props === void 0 ? void 0 : (_props$location3 = props.location) === null || _props$location3 === void 0 ? void 0 : (_props$location3$stat = _props$location3.state) === null || _props$location3$stat === void 0 ? void 0 : _props$location3$stat.suggestionSelected) && (props === null || props === void 0 ? void 0 : (_props$location4 = props.location) === null || _props$location4 === void 0 ? void 0 : (_props$location4$stat = _props$location4.state) === null || _props$location4$stat === void 0 ? void 0 : _props$location4$stat.suggestionSelected) !== \"{}\") {\n                  var _props$location5, _props$location5$stat;\n\n                  data[\"address\"] = JSON.stringify(props === null || props === void 0 ? void 0 : (_props$location5 = props.location) === null || _props$location5 === void 0 ? void 0 : (_props$location5$stat = _props$location5.state) === null || _props$location5$stat === void 0 ? void 0 : _props$location5$stat.suggestionSelected);\n                }\n\n                if (local_info === null || local_info === void 0 ? void 0 : local_info.from_date) {\n                  data[\"from_date\"] = local_info === null || local_info === void 0 ? void 0 : local_info.from_date;\n                }\n\n                if (local_info === null || local_info === void 0 ? void 0 : local_info.to_date) {\n                  data[\"to_date\"] = local_info === null || local_info === void 0 ? void 0 : local_info.to_date;\n                }\n\n                if ((local_info === null || local_info === void 0 ? void 0 : local_info.sortBy) > 0) {\n                  data[\"sortBy\"] = local_info === null || local_info === void 0 ? void 0 : local_info.sortBy;\n                }\n\n                if (!(data === null || data === void 0 ? void 0 : data.hasOwnProperty(\"specializationId\"))) {\n                  data[\"isFiltered\"] = true;\n                }\n\n                console.log({\n                  local_info,\n                  data,\n                  cp\n                });\n                props.postHomeSearchData(data);\n              }\n            },\n            hasMore: hasMore,\n            loader: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false),\n            className: \"flex_row tradies_row\",\n            children: (localData === null || localData === void 0 ? void 0 : localData.length) ? localData.map((item, index) => /*#__PURE__*/_jsxDEV(TradieBox, {\n              item: item,\n              index: index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 19\n            }, this)) : !isLoading && !(localData === null || localData === void 0 ? void 0 : localData.length) ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no_record\",\n              children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"no_img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: noData,\n                  alt: \"data not found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"No Data Found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 340,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchResultTradie, \"wc0R1UemGfHSvkLa2ufuvaRlZVM=\", false, function () {\n  return [useLocation];\n});\n\n_c = SearchResultTradie;\nexport default SearchResultTradie;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResultTradie\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/searchTradieResult/searchResultTradie.tsx"],"names":["useState","useEffect","useLocation","SearchFilters","noData","BannerSearchProps","TradieBox","moment","InfiniteScroll","moengage","mixPanel","MoEConstants","SearchResultTradie","props","location","params","URLSearchParams","history","search","console","log","stateData","setStateData","state","isToggle","setToggleSearch","localInfo","setLocalInfo","loading","setLoading","localData","setLocalData","currentPage","setCurrentPage","hasMore","setHasMore","sortByFilter","setSortByFilter","sortByFilterClicked","tradeId","sortChanged","specializationId","specializationName","allSpecializationClicked","homeSearchJobData","jobTypesArray","get","getRecentSearchList","data","page","isFiltered","specializations","suggestionSelected","JSON","stringify","calender","startDate","format","endDate","spec_count","length","address","name","count","doingLocalChanges","postHomeSearchData","mData","timeStamp","getCurrentTimeStamp","category","tradeListData","find","i","_id","trade_name","parse","mainText","secondaryText","from_date","to_date","moE_SendEvent","SEARCHED_FOR_TRADIES","mixP_SendEvent","getTitleInfo","info","checkIfExist","Array","isArray","element_id","tradieId","response","item","filterChangeHandler","id","newName","jobTypes","prevData","newData","newNameData","itemIndex","indexOf","itemnameIndex","push","splice","newSpecialization","map","newProps","propsPage","propsTradeId","localTradeId","local_info","local_info_tradeId","prev","tradeData","cp","handleChangeToggle","value","isLoading","showOnlyTradeName","sortBy","hasOwnProperty","index"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport SearchFilters from \"./searchFilters\";\nimport noData from \"../../assets/images/no-search-data.png\";\nimport closeMap from \"../../assets/images/close-white.png\";\n// import BannerSearch from '../shared/bannerSearch'\nimport BannerSearchProps from \"../shared/bannerSearchProps\";\nimport TradieBox from \"../shared/tradieBox\";\nimport moment from \"moment\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { addListener } from \"process\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\nimport JobTypeList from \"../home/tradieHome/components/jobTypeList\";\n\nconst SearchResultTradie = (props: any) => {\n  const location: any = useLocation();\n  const params = new URLSearchParams(props.history?.location?.search);\n  console.log(\"00000000000000000000000000000000000000000000 => \", params);\n  const [stateData, setStateData] = useState(location.state);\n  const [isToggle, setToggleSearch] = useState(false);\n  const [localInfo, setLocalInfo] = useState({}); // localInfo\n  const [loading, setLoading] = useState(false);\n  const [localData, setLocalData] = useState<any>([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const [sortByFilter, setSortByFilter] = useState<any>({\n    sortByFilterClicked: false,\n    tradeId: [],\n    sortChanged: false,\n    specializationId: [],\n    specializationName: [],\n    allSpecializationClicked: false,\n  });\n\n  const { homeSearchJobData } = props; // props here.\n  const jobTypesArray = params.get(\"jobResults\")\n    ? [params.get(\"jobResults\")]\n    : null;\n  console.log(\"jobTypesArray->     \", jobTypesArray);\n  useEffect(() => {\n    props.getRecentSearchList();\n\n    let data: any = {\n      page: 1,\n      isFiltered: false,\n    };\n\n    if (stateData?.tradeId) {\n      data[\"tradeId\"] = stateData?.tradeId;\n    }\n    console.log(\"stateData: \", stateData);\n    //debugger\n\n    if (stateData?.specializations) {\n      data[\"specializationId\"] = stateData?.specializations;\n    }\n    // tradeId: stateData?.tradeId,\n    // specializationId: stateData?.specializations,\n    console.log({\n      location: stateData?.location,\n    });\n    if (stateData?.location) {\n      data[\"location\"] = stateData?.location;\n    }\n\n    if (props?.location?.state?.suggestionSelected) {\n      data[\"address\"] = JSON.stringify(\n        props?.location?.state?.suggestionSelected\n      );\n    }\n\n    if (stateData?.calender?.startDate) {\n      data[\"from_date\"] = moment(stateData?.calender?.startDate).format(\n        \"YYYY-MM-DD\"\n      );\n    }\n    if (stateData?.calender?.endDate) {\n      data[\"to_date\"] = moment(stateData?.calender?.endDate).format(\n        \"YYYY-MM-DD\"\n      );\n    }\n    let spec_count: any = stateData?.specializations?.length;\n\n    if (!data?.address || !data?.address?.length) {\n      delete data?.address;\n    }\n\n    setLocalInfo({\n      name: stateData?.name,\n      // count: spec_count === 1 ? 0 : spec_count,\n      count: 0,\n      tradeId: data.tradeId,\n      specializationId: data.specializationId,\n      location: data.location,\n      doingLocalChanges: false,\n      suggestionSelected: stateData?.suggestionSelected,\n    });\n\n    if (data?.address) {\n      return;\n    }\n\n    console.log(\n      {\n        data,\n      },\n      \"----------------->><<---------------\"\n    );\n\n    // if (!stateData?.suggestionSelected || (data?.location?.coordinates && Array.isArray(data?.location?.coordinates) && data?.location?.coordinates?.length)) {\n    props.postHomeSearchData(data);\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: props?.tradeListData.find(\n        (i: any) => i._id === data?.tradeId[0]\n      )?.trade_name,\n      ...(data.address && {\n        location: `${JSON.parse(data.address)?.mainText} ${\n          JSON.parse(data.address)?.secondaryText\n        }`,\n      }),\n      //'length of hire': '',\n      ...(data?.from_date && { \"start date\": data?.from_date }),\n      ...(data?.to_date && { \"end date\": data?.to_date }),\n    };\n    moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n    // }\n  }, []);\n\n  const getTitleInfo = (info: any) => {\n    setLocalInfo(info);\n  };\n\n  const checkIfExist = (data: any) => {\n    if (data && Array.isArray(data) && data?.length) {\n      let element_id = data[0].tradieId;\n      let response = localData.find(\n        (item: any) => item.tradieId === element_id\n      );\n      if (response) {\n        console.log({ response }, \"duplicate\");\n        return true;\n      }\n      return false;\n    }\n    return false;\n  };\n  const filterChangeHandler = (id: any, name: string, newName?: string) => {\n    if (name === \"jobTypes\") {\n      if (sortByFilter.jobTypes[0] == id) {\n        setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [] }));\n      } else {\n        setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [id] }));\n      }\n    } else if (name === \"specializationId\") {\n      console.log(\"149 => \", newName);\n      setSortByFilter((prevData: any) => {\n        console.log(\"-------prevData =>  \", prevData);\n        var newData: any = [];\n        var newNameData: any = [];\n        if (\n          Array.isArray(prevData.specializationId) &&\n          prevData?.specializationId?.length\n        ) {\n          newData = [...prevData.specializationId];\n        }\n        console.log(\"prevData => \", prevData);\n        if (\n          Array.isArray(prevData.specializationName) &&\n          prevData?.specializationName?.length\n        ) {\n          newNameData = [...prevData.specializationName];\n        }\n        if (sortByFilter.allSpecializationClicked) {\n          newData = [];\n          newNameData = [];\n        }\n        const itemIndex = newData.indexOf(id);\n        const itemnameIndex = newData.indexOf(newName);\n        if (newData.indexOf(id) < 0) {\n          newData.push(id);\n        } else {\n          newData.splice(itemIndex, 1);\n        }\n        if (newData.indexOf(newName) < 0) {\n          newNameData.push(newName);\n        } else {\n          newNameData.splice(itemnameIndex, 1);\n        }\n        console.log(\n          newNameData,\n          \"-----------------------------------prevData =>  \",\n          prevData\n        );\n        return {\n          ...prevData,\n          specializationId: newData,\n          specializationName: newNameData,\n          allSpecializationClicked: false,\n        };\n      });\n    } else if (name == \"categories\") {\n      if (sortByFilter.tradeId.length && sortByFilter.tradeId[0] == id) {\n        setSortByFilter((prevData: any) => ({\n          ...prevData,\n          tradeId: [],\n          specializationId: [],\n          allSpecializationClicked: false,\n        }));\n      } else {\n        setSortByFilter((prevData: any) => ({\n          ...prevData,\n          tradeId: [id],\n          specializationId: [],\n          allSpecializationClicked: false,\n        }));\n      }\n    } else if (name == \"All Clicked\") {\n      if (sortByFilter.allSpecializationClicked) {\n        setSortByFilter((prevData: any) => ({\n          ...prevData,\n          allSpecializationClicked: false,\n          specializationId: [],\n        }));\n      } else {\n        const newSpecialization = id.map(({ _id }: { _id: string }) => {\n          return _id;\n        });\n        setSortByFilter((prevData: any) => ({\n          ...prevData,\n          allSpecializationClicked: true,\n          specializationId: newSpecialization,\n        }));\n      }\n    } else if (name == \"Clear All\") {\n      setSortByFilter((prevData: any) => ({\n        ...prevData,\n        allSpecializationClicked: false,\n        jobTypes: [],\n        specializationId: [],\n        specializationName: [],\n        tradeId: [],\n      }));\n    }\n  };\n\n  useEffect(() => {\n    let newProps = homeSearchJobData;\n    let propsPage = 1;\n    let propsTradeId = \"\";\n    let localTradeId = \"\";\n    let local_info: any = localInfo;\n    let local_info_tradeId = \"\";\n    if (\n      local_info?.tradeId &&\n      Array.isArray(local_info?.tradeId) &&\n      local_info?.tradeId?.length\n    ) {\n      local_info_tradeId = local_info?.tradeId[0];\n    }\n\n    if (!hasMore) {\n      setHasMore((prev: any) => !prev);\n    }\n\n    if (\n      homeSearchJobData &&\n      Array.isArray(homeSearchJobData) &&\n      homeSearchJobData?.length\n    ) {\n      propsTradeId = homeSearchJobData[0]?.tradeData[0]?.tradeId;\n      propsPage = homeSearchJobData[0]?.page;\n    }\n\n    if (localData && Array.isArray(localData) && localData?.length) {\n      localTradeId = localData[0]?.tradeData[0]?.tradeId;\n    }\n\n    let cp = currentPage * 10;\n\n    if (!local_info_tradeId?.length && localTradeId?.length) {\n      getTitleInfo({\n        name: \"\",\n        count: 0,\n        tradeId: [],\n        specializationId: [],\n        location: null,\n        doingLocalChanges: false,\n        suggestionSelected: \"\",\n      });\n    }\n\n    if (propsPage) {\n      if (local_info_tradeId?.length && localTradeId?.length) {\n        if (!propsTradeId?.length && local_info_tradeId === localTradeId) {\n          return;\n        }\n      }\n\n      if (propsPage === 1 && currentPage === 1) {\n        setLocalData(newProps);\n        setCurrentPage(propsPage);\n      } else if (\n        propsPage > 1 &&\n        currentPage > 1 &&\n        currentPage === propsPage\n      ) {\n        if (!checkIfExist(newProps)) {\n          setLocalData((prev: any) => [...prev, ...newProps]);\n        }\n      } else if (propsPage === 1 && currentPage > 1) {\n        setLocalData(newProps);\n        setCurrentPage(propsPage);\n      } else {\n        if (\n          !local_info_tradeId?.length &&\n          localTradeId?.length &&\n          propsTradeId?.length\n        ) {\n          if (localTradeId === propsTradeId) {\n            setLocalData(newProps);\n            setCurrentPage(propsPage);\n          }\n        }\n      }\n    }\n  }, [homeSearchJobData]);\n\n  const handleChangeToggle = (value: any) => {\n    setToggleSearch(value);\n  };\n\n  // let homeSearchJobData: any = props.homeSearchJobData;\n  let local_info: any = localInfo;\n  let isLoading: any = props.isLoading;\n  console.log({ localData, homeSearchJobData, props });\n  return (\n    <div className=\"app_wrapper\">\n      <div className={`top_search ${isToggle ? \"active\" : \"\"}`}>\n        <BannerSearchProps\n          {...props}\n          tradeListData={props.tradeListData}\n          showOnlyTradeName={props.history?.location?.state?.showOnlyTradeName}\n          getTitleInfo={getTitleInfo}\n          localInfo={localInfo}\n          handleChangeToggle={handleChangeToggle}\n        />\n      </div>\n      <div className=\"search_result\">\n        <div className=\"section_wrapper\">\n          <div className=\"custom_container\">\n            <div className=\"flex_row mob_srch_option\">\n              <div className=\"flex_col_sm_6\"></div>\n              <div className=\"flex_col_sm_6 text-right\">\n                <button\n                  onClick={() => {\n                    setToggleSearch(true);\n                  }}\n                  className=\"fill_grey_btn btn-effect\"\n                >\n                  Modify Search\n                </button>\n              </div>\n            </div>\n\n            <div className=\"result_heading\">\n              <div className=\"flex_row\">\n                <div className=\"flex_col_sm_8\">\n                  <span className=\"title\">\n                    {console.log(local_info, \"localData---->\")}\n                    {`${local_info?.name || \"\"} ${\n                      local_info?.count > 1 ? `+${local_info?.count - 1}` : \"\"\n                    }`}\n                    <span className=\"count\">\n                      {`${localData?.length || 0} result(s)`}\n                    </span>\n                  </span>\n                  <SearchFilters\n                    {...props}\n                    localInfo={localInfo}\n                    getTitleInfo={getTitleInfo}\n                    filterChangeHandler={filterChangeHandler}\n                    sortByFilter={sortByFilter}\n                    setSortByFilter={setSortByFilter}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <InfiniteScroll\n              dataLength={localData?.length}\n              next={() => {\n                console.log(\"callable\");\n                if (localData?.length < currentPage * 10) {\n                  // setHasMore(false);\n                } else {\n                  let cp = currentPage + 1;\n                  setCurrentPage((prev: any) => prev + 1);\n                  let local_info: any = localInfo;\n                  console.log({ local_info });\n                  let data: any = {\n                    page: cp,\n                    isFiltered: false,\n                  };\n\n                  if (local_info?.location) {\n                    data[\"location\"] = local_info?.location;\n                  }\n\n                  if (local_info?.tradeId?.length) {\n                    data[\"tradeId\"] = local_info?.tradeId;\n                  }\n\n                  if (local_info?.specializationId?.length) {\n                    data[\"specializationId\"] = local_info?.specializationId;\n                  }\n\n                  if (\n                    props?.location?.state?.suggestionSelected &&\n                    props?.location?.state?.suggestionSelected !== \"{}\"\n                  ) {\n                    data[\"address\"] = JSON.stringify(\n                      props?.location?.state?.suggestionSelected\n                    );\n                  }\n\n                  if (local_info?.from_date) {\n                    data[\"from_date\"] = local_info?.from_date;\n                  }\n\n                  if (local_info?.to_date) {\n                    data[\"to_date\"] = local_info?.to_date;\n                  }\n\n                  if (local_info?.sortBy > 0) {\n                    data[\"sortBy\"] = local_info?.sortBy;\n                  }\n\n                  if (!data?.hasOwnProperty(\"specializationId\")) {\n                    data[\"isFiltered\"] = true;\n                  }\n\n                  console.log({\n                    local_info,\n                    data,\n                    cp,\n                  });\n                  props.postHomeSearchData(data);\n                }\n              }}\n              hasMore={hasMore}\n              loader={<></>}\n              className=\"flex_row tradies_row\"\n            >\n              {localData?.length ? (\n                localData.map((item: any, index: number) => (\n                  <TradieBox item={item} index={index} />\n                ))\n              ) : !isLoading && !localData?.length ? (\n                <div className=\"no_record\">\n                  <figure className=\"no_img\">\n                    <img src={noData} alt=\"data not found\" />\n                  </figure>\n                  <span>{\"No Data Found\"}</span>\n                </div>\n              ) : null}\n            </InfiniteScroll>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchResultTradie;\n"]},"metadata":{},"sourceType":"module"}