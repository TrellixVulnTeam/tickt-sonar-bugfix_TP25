{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/jobDashboard/components/quoteJobs/quoteMark.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { postHomeApplyJob } from \"../../../../redux/homeSearch/actions\";\nimport { addQuote, addItem, updateItem, deleteItem, quoteByJobId } from \"../../../../redux/quotes/actions\";\nimport NumberFormat from \"react-number-format\";\nimport Modal from \"@material-ui/core/Modal\";\nimport storageService from \"../../../../utils/storageService\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport deleteQuote from \"../../../../assets/images/ic-delete.png\";\nimport cancel from \"../../../../assets/images/ic-cancel.png\";\nimport { moengage, mixPanel } from \"../../../../services/analyticsTools\";\nimport { MoEConstants } from \"../../../../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst QuoteMark = props => {\n  _s();\n\n  var _props$location, _props$location$state;\n\n  const [Items, setItems] = useState([]);\n  const [isEdit, setEdit] = useState(null);\n  const [totalItemsAmt, setTotalItemsAmt] = useState(0);\n  const [quoteId, setQuoteId] = useState(\"\");\n  const [deleteItemModal, setDeleteItemModal] = useState(false);\n  const [localQuote, setLocalQuote] = useState({\n    item_number: 1,\n    description: \"\",\n    price: 0,\n    quantity: 0,\n    totalAmount: 0\n  });\n  const [isQuoteDialog, setIsQuoteDialog] = useState(false);\n  var jobData = (_props$location = props.location) === null || _props$location === void 0 ? void 0 : (_props$location$state = _props$location.state) === null || _props$location$state === void 0 ? void 0 : _props$location$state.jobData;\n  console.log(\"jobData: \", jobData);\n  useEffect(() => {\n    preFetch();\n  }, []);\n  console.log(\"Items: \", Items);\n\n  const preFetch = async () => {\n    var _props$location2, _props$location2$stat;\n\n    const isItemsEditable = ((_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : (_props$location2$stat = _props$location2.state) === null || _props$location2$stat === void 0 ? void 0 : _props$location2$stat.redirect_from) === \"appliedJobs\" ? true : false;\n\n    if (isItemsEditable) {\n      var _props$location3, _props$location3$stat, _props$location3$stat2, _storageService$getIt, _res$data, _res$data$resultData$, _res$data$resultData$2;\n\n      const data = {\n        jobId: (_props$location3 = props.location) === null || _props$location3 === void 0 ? void 0 : (_props$location3$stat = _props$location3.state) === null || _props$location3$stat === void 0 ? void 0 : (_props$location3$stat2 = _props$location3$stat.jobData) === null || _props$location3$stat2 === void 0 ? void 0 : _props$location3$stat2.jobId,\n        tradieId: (_storageService$getIt = storageService.getItem(\"userInfo\")) === null || _storageService$getIt === void 0 ? void 0 : _storageService$getIt._id\n      };\n      const res = await quoteByJobId(data);\n\n      if (res.success && ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$resultData$ = _res$data.resultData[0]) === null || _res$data$resultData$ === void 0 ? void 0 : (_res$data$resultData$2 = _res$data$resultData$.quote_item) === null || _res$data$resultData$2 === void 0 ? void 0 : _res$data$resultData$2.length)) {\n        var _res$data2, _res$data2$resultData, _res$data3, _res$data3$resultData, _items_, _items_2;\n\n        const items_ = (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$resultData = _res$data2.resultData[0]) === null || _res$data2$resultData === void 0 ? void 0 : _res$data2$resultData.quote_item;\n        setItems(items_);\n        setQuoteId((_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$resultData = _res$data3.resultData[0]) === null || _res$data3$resultData === void 0 ? void 0 : _res$data3$resultData._id);\n        let item_no = ((_items_ = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_ === void 0 ? void 0 : _items_.item_number) ? ((_items_2 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_2 === void 0 ? void 0 : _items_2.item_number) + 1 : 1;\n        setLocalQuote(prev => ({ ...prev,\n          item_number: item_no\n        }));\n        props.dataFetched(true);\n      } else {\n        props.dataFetched(false);\n      }\n    } else {\n      props.dataFetched(true);\n    }\n  };\n\n  const deleteItem_ = async item => {\n    const data = {\n      itemId: item === null || item === void 0 ? void 0 : item._id\n    };\n    const res = await deleteItem(data);\n\n    if (res.success) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const addItem_ = async item => {\n    var _res$data4;\n\n    let items_ = Items;\n    const data = {\n      quoteId: quoteId,\n      item_number: item === null || item === void 0 ? void 0 : item.item_number,\n      description: item === null || item === void 0 ? void 0 : item.description,\n      price: item === null || item === void 0 ? void 0 : item.price,\n      quantity: item === null || item === void 0 ? void 0 : item.quantity,\n      totalAmount: item === null || item === void 0 ? void 0 : item.totalAmount\n    };\n    const res = await addItem(data);\n\n    if (res.success && ((_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.resultData)) {\n      var _res$data5, _items_3, _items_4;\n\n      items_.push((_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.resultData);\n      setItems(items_);\n      setLocalQuote({\n        item_number: ((_items_3 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_3 === void 0 ? void 0 : _items_3.item_number) ? ((_items_4 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_4 === void 0 ? void 0 : _items_4.item_number) + 1 : 1,\n        description: \"\",\n        price: 0,\n        quantity: 0,\n        totalAmount: 0\n      });\n    }\n  };\n\n  const updateItem_ = async (index, items) => {\n    const newAmount = totalItemsAmount(items);\n    const item = items[index];\n    const data = {\n      itemId: item === null || item === void 0 ? void 0 : item._id,\n      item_number: item === null || item === void 0 ? void 0 : item.item_number,\n      description: item === null || item === void 0 ? void 0 : item.description,\n      price: item === null || item === void 0 ? void 0 : item.price,\n      quantity: item === null || item === void 0 ? void 0 : item.quantity,\n      totalAmount: item === null || item === void 0 ? void 0 : item.totalAmount,\n      quoteId: quoteId,\n      amount: newAmount\n    };\n    const res = await updateItem(data);\n\n    if (res.success) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const moECalled = () => {\n    var _jobData$jobMilestone;\n\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: jobData === null || jobData === void 0 ? void 0 : jobData.tradeName,\n      location: jobData === null || jobData === void 0 ? void 0 : jobData.locationName,\n      \"Number of milestone\": jobData === null || jobData === void 0 ? void 0 : (_jobData$jobMilestone = jobData.jobMilestonesData) === null || _jobData$jobMilestone === void 0 ? void 0 : _jobData$jobMilestone.length,\n      Amount: totalItemsAmt\n    };\n    moengage.moE_SendEvent(MoEConstants.QUOTED_A_JOB, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.QUOTED_A_JOB, mData);\n  };\n\n  const applyJobClicked = async () => {\n    var _props$location4, _props$location4$stat, _jobDetailsData$poste;\n\n    const jobDetailsData = (_props$location4 = props.location) === null || _props$location4 === void 0 ? void 0 : (_props$location4$stat = _props$location4.state) === null || _props$location4$stat === void 0 ? void 0 : _props$location4$stat.jobData;\n    const data = {\n      jobId: jobDetailsData === null || jobDetailsData === void 0 ? void 0 : jobDetailsData.jobId,\n      builderId: jobDetailsData === null || jobDetailsData === void 0 ? void 0 : (_jobDetailsData$poste = jobDetailsData.postedBy) === null || _jobDetailsData$poste === void 0 ? void 0 : _jobDetailsData$poste.builderId,\n      tradeId: jobDetailsData === null || jobDetailsData === void 0 ? void 0 : jobDetailsData.tradeId\n    };\n    const res = await postHomeApplyJob(data);\n\n    if (res.success) {\n      moECalled();\n      props.history.push({\n        pathname: \"/quote-job-success\",\n        state: {\n          builderName: props.builderName ? props.builderName : \"Builder\"\n        }\n      });\n    }\n  };\n\n  const handleSubmit = async () => {\n    var _props$location5, _props$location5$stat, _props$location5$stat2, _storageService$getIt2;\n\n    const jobId = (_props$location5 = props.location) === null || _props$location5 === void 0 ? void 0 : (_props$location5$stat = _props$location5.state) === null || _props$location5$stat === void 0 ? void 0 : (_props$location5$stat2 = _props$location5$stat.jobData) === null || _props$location5$stat2 === void 0 ? void 0 : _props$location5$stat2.jobId;\n    const data = {\n      jobId: jobId,\n      userId: (_storageService$getIt2 = storageService.getItem(\"userInfo\")) === null || _storageService$getIt2 === void 0 ? void 0 : _storageService$getIt2._id,\n      amount: totalItemsAmt,\n      quote_item: Items\n    };\n    const res = await addQuote(data);\n\n    if (res.success) {\n      var _props$location6, _props$location6$stat;\n\n      if (((_props$location6 = props.location) === null || _props$location6 === void 0 ? void 0 : (_props$location6$stat = _props$location6.state) === null || _props$location6$stat === void 0 ? void 0 : _props$location6$stat.base_redirect) === \"newJobs\") {\n        moECalled();\n        props.history.push({\n          pathname: \"/quote-job-success\",\n          state: {\n            builderName: props.builderName ? props.builderName : \"Builder\"\n          }\n        });\n      } else {\n        applyJobClicked();\n      }\n    }\n  };\n\n  const handleChange = (name, value) => {\n    if (name === \"description\" && value.length > 250) {\n      return;\n    }\n\n    setLocalQuote(prev => ({ ...prev,\n      [name]: name === \"description\" ? value : +value\n    }));\n  };\n\n  const totalItemsAmount = items => {\n    let totalAmount = items.slice(1, items.length).reduce((a, b) => {\n      return a + b.totalAmount;\n    }, Items[0].totalAmount);\n    return totalAmount;\n  };\n\n  const calculateTotal = () => {\n    if (Items === null || Items === void 0 ? void 0 : Items.length) {\n      let totalAmt_ = totalItemsAmount(Items);\n\n      if (totalAmt_ && totalAmt_ !== totalItemsAmt) {\n        setTotalItemsAmt(totalAmt_);\n      }\n\n      const total = /*#__PURE__*/_jsxDEV(NumberFormat, {\n        value: totalAmt_,\n        decimalScale: 2,\n        displayType: \"text\",\n        thousandSeparator: true,\n        isNumericString: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this);\n\n      return total;\n    }\n\n    return `$0`;\n  };\n\n  const saveAddItem = async () => {\n    if (isEditTrue) {\n      let index = isEdit;\n      let items_ = Items;\n      let item = localQuote;\n      item[\"totalAmount\"] = +item.quantity * +item.price;\n      items_[isEdit] = item;\n      let isSuccess = true;\n\n      if (quoteId) {\n        isSuccess = await updateItem_(index, items_);\n      }\n\n      if (isSuccess) {\n        var _items_5;\n\n        setItems(items_);\n        setEdit(null);\n        setLocalQuote({\n          item_number: ((_items_5 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_5 === void 0 ? void 0 : _items_5.item_number) + 1,\n          description: \"\",\n          price: 0,\n          quantity: 0,\n          totalAmount: 0\n        });\n      }\n\n      return;\n    } else {\n      var _props$location7, _props$location7$stat;\n\n      let items_ = Items;\n      let item = localQuote;\n      item[\"totalAmount\"] = +item.quantity * +item.price;\n\n      if (((_props$location7 = props.location) === null || _props$location7 === void 0 ? void 0 : (_props$location7$stat = _props$location7.state) === null || _props$location7$stat === void 0 ? void 0 : _props$location7$stat.redirect_from) === \"appliedJobs\") {\n        await addItem_(item);\n      } else {\n        var _items_6, _items_7;\n\n        items_.push(item);\n        setItems(items_);\n        setLocalQuote({\n          item_number: ((_items_6 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_6 === void 0 ? void 0 : _items_6.item_number) ? ((_items_7 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_7 === void 0 ? void 0 : _items_7.item_number) + 1 : 1,\n          description: \"\",\n          price: 0,\n          quantity: 0,\n          totalAmount: 0\n        });\n      }\n    }\n\n    if (isQuoteDialog) {\n      setIsQuoteDialog(false);\n    }\n  };\n\n  const handleQuoteDialog = (ans, hitApi) => {\n    if (quoteId) {\n      setIsQuoteDialog(ans === \"yes\" ? true : false);\n      if (hitApi) saveAddItem();\n    } else {\n      saveAddItem();\n    }\n  };\n\n  let item_number = localQuote.item_number;\n  let description = localQuote.description;\n  let price = localQuote.price;\n  let qty = localQuote.quantity;\n  let total_cal = +qty * +price;\n  let total = total_cal === 0 ? \"\" : total_cal;\n  let isEditTrue = isEdit !== null && isEdit > -1 ? true : false;\n\n  const callItemNo = () => {\n    var _Items, _Items2;\n\n    if (localQuote === null || localQuote === void 0 ? void 0 : localQuote._id) {\n      console.log(\"localQuote?._id-----------if\");\n      return localQuote === null || localQuote === void 0 ? void 0 : localQuote.item_number;\n    }\n\n    if (isEdit !== null) {\n      var _Items$isEdit;\n\n      return (_Items$isEdit = Items[isEdit]) === null || _Items$isEdit === void 0 ? void 0 : _Items$isEdit.item_number;\n    }\n\n    console.log(\"Items---------else\");\n    return ((_Items = Items[(Items === null || Items === void 0 ? void 0 : Items.length) - 1]) === null || _Items === void 0 ? void 0 : _Items.item_number) ? ((_Items2 = Items[(Items === null || Items === void 0 ? void 0 : Items.length) - 1]) === null || _Items2 === void 0 ? void 0 : _Items2.item_number) + 1 : 1;\n  };\n\n  const quoteValidate = () => {\n    if ((description === null || description === void 0 ? void 0 : description.length) === 0 || qty === 0 || price === 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const deleteItemHandler = async () => {\n    var _filtered;\n\n    let index = isEdit;\n    let items_ = Items;\n    let filtered = items_.filter((item, index) => index !== isEdit);\n    setItems(filtered);\n    setEdit(null);\n    let length = (_filtered = filtered[(filtered === null || filtered === void 0 ? void 0 : filtered.length) - 1]) === null || _filtered === void 0 ? void 0 : _filtered.item_number;\n    let id = length > 0 ? length + 1 : 1;\n    let res = true;\n\n    if (quoteId) {\n      res = await deleteItem_(items_[index]);\n    }\n\n    if (res) {\n      setLocalQuote({\n        item_number: id,\n        description: \"\",\n        price: 0,\n        quantity: 0,\n        totalAmount: 0\n      });\n    }\n\n    setDeleteItemModal(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex_col_sm_6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relate form_field\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          if (isEditTrue) {\n            var _Items3, _Items4;\n\n            setEdit(null);\n            setLocalQuote({\n              item_number: ((_Items3 = Items[(Items === null || Items === void 0 ? void 0 : Items.length) - 1]) === null || _Items3 === void 0 ? void 0 : _Items3.item_number) ? ((_Items4 = Items[(Items === null || Items === void 0 ? void 0 : Items.length) - 1]) === null || _Items4 === void 0 ? void 0 : _Items4.item_number) + 1 : 1,\n              description: \"\",\n              price: 0,\n              quantity: 0,\n              totalAmount: 0\n            });\n          } else {\n            props.history.goBack();\n          }\n        },\n        className: \"back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"sub_title\",\n      children: \"Quote for this job\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: (Items === null || Items === void 0 ? void 0 : Items.length) > 0 && !isEditTrue ? Items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"change_req\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit_delete\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => {\n              setEdit(index);\n              setLocalQuote(item);\n            },\n            className: \"editdark\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_2\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_6\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"show_label\",\n                children: item.item_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_6\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"show_label line-1\",\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_4\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"show_label\",\n                children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                  value: item.totalAmount,\n                  displayType: \"text\",\n                  prefix: \"$ \",\n                  thousandSeparator: true,\n                  isNumericString: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 15\n      }, this)) : null\n    }, void 0, false), props.isDataFetched && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"change_req\",\n      children: [isEditTrue && Items.length > 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setDeleteItemModal(true),\n        className: \"delete_quote\",\n        children: [\"Delete\", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: deleteQuote,\n          alt: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inner_title\",\n        children: `${isEditTrue ? \"Edit\" : \"Add\"} Item`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Item Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: callItemNo()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: description,\n            onChange: e => handleChange(\"description\", e.target.value.trimLeft())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text_field\",\n              children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                value: price || \"\",\n                decimalScale: 2,\n                allowNegative: false,\n                className: \"foo\",\n                placeholder: \"$100\",\n                displayType: \"input\",\n                thousandSeparator: true,\n                isNumericString: true,\n                prefix: \"$\",\n                onValueChange: values => {\n                  const {\n                    formattedValue,\n                    value\n                  } = values;\n                  handleChange(\"price\", value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text_field\",\n              children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                value: qty || \"\",\n                className: \"foo\",\n                placeholder: \"10\",\n                displayType: \"input\",\n                thousandSeparator: true,\n                isNumericString: true,\n                onValueChange: values => {\n                  const {\n                    formattedValue,\n                    value\n                  } = values;\n                  handleChange(\"quantity\", value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text_field\",\n              children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                readOnly: true,\n                value: total || \"\",\n                decimalScale: 2,\n                allowNegative: false,\n                className: \"foo\",\n                placeholder: \"$1000\",\n                displayType: \"input\",\n                thousandSeparator: true,\n                isNumericString: true,\n                prefix: \"$\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleQuoteDialog(\"yes\"),\n        className: `fill_btn w100per ${quoteValidate() ? \"disable_btn\" : \"\"}`,\n        children: `${isEditTrue ? \"Save\" : \"Add\"} Item`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      className: \"custom_modal\",\n      open: deleteItemModal,\n      onClose: () => setDeleteItemModal(false),\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_wh confirmation\",\n        \"data-aos\": \"zoom-in\",\n        \"data-aos-delay\": \"30\",\n        \"data-aos-duration\": \"1000\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"heading\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"xs_sub_title\",\n            children: `Delete item confirmation`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close_btn\",\n            onClick: () => setDeleteItemModal(false),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: cancel,\n              alt: \"cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal_message\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Are you sure you still want to delete item?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dialog_actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"fill_btn btn-effect\",\n            onClick: deleteItemHandler,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"fill_grey_btn btn-effect\",\n            onClick: () => setDeleteItemModal(false),\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: isQuoteDialog // onClose={() => handleQuoteDialog}\n      ,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        className: \"xs_alert_dialog_title\",\n        children: \"This quote will be send to builder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Are you sure you want to update quote?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleQuoteDialog(\"no\", true),\n          color: \"primary\",\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleQuoteDialog(\"no\"),\n          color: \"primary\",\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 7\n    }, this), (Items === null || Items === void 0 ? void 0 : Items.length) > 0 && !isEditTrue && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total_quote\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"fill_grey_btn\",\n        children: [`Total Quote: $`, calculateTotal()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 9\n    }, this), quoteId || !props.isDataFetched || isEditTrue ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      className: `fill_grey_btn quote_btn ${(Items === null || Items === void 0 ? void 0 : Items.length) === 0 ? \"disable_btn\" : \"\"}`,\n      children: \"Submit Quote\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 5\n  }, this);\n};\n\n_s(QuoteMark, \"RIkXW6TLU9B3TwXRJvm4niY3kyI=\");\n\n_c = QuoteMark;\nexport default QuoteMark;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuoteMark\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/jobDashboard/components/quoteJobs/quoteMark.tsx"],"names":["React","useState","useEffect","postHomeApplyJob","addQuote","addItem","updateItem","deleteItem","quoteByJobId","NumberFormat","Modal","storageService","Button","Dialog","DialogActions","DialogTitle","DialogContent","DialogContentText","deleteQuote","cancel","moengage","mixPanel","MoEConstants","QuoteMark","props","Items","setItems","isEdit","setEdit","totalItemsAmt","setTotalItemsAmt","quoteId","setQuoteId","deleteItemModal","setDeleteItemModal","localQuote","setLocalQuote","item_number","description","price","quantity","totalAmount","isQuoteDialog","setIsQuoteDialog","jobData","location","state","console","log","preFetch","isItemsEditable","redirect_from","data","jobId","tradieId","getItem","_id","res","success","resultData","quote_item","length","items_","item_no","prev","dataFetched","deleteItem_","item","itemId","addItem_","push","updateItem_","index","items","newAmount","totalItemsAmount","amount","moECalled","mData","timeStamp","getCurrentTimeStamp","category","tradeName","locationName","jobMilestonesData","Amount","moE_SendEvent","QUOTED_A_JOB","mixP_SendEvent","applyJobClicked","jobDetailsData","builderId","postedBy","tradeId","history","pathname","builderName","handleSubmit","userId","base_redirect","handleChange","name","value","slice","reduce","a","b","calculateTotal","totalAmt_","total","saveAddItem","isEditTrue","isSuccess","handleQuoteDialog","ans","hitApi","qty","total_cal","callItemNo","quoteValidate","deleteItemHandler","filtered","filter","id","goBack","map","isDataFetched","e","target","trimLeft","values","formattedValue"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { postHomeApplyJob } from \"../../../../redux/homeSearch/actions\";\nimport {\n  addQuote,\n  addItem,\n  updateItem,\n  deleteItem,\n  quoteByJobId,\n} from \"../../../../redux/quotes/actions\";\nimport { acceptDeclineJobInvitation } from \"../../../../redux/jobs/actions\";\nimport NumberFormat from \"react-number-format\";\nimport Modal from \"@material-ui/core/Modal\";\nimport storageService from \"../../../../utils/storageService\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\n\nimport deleteQuote from \"../../../../assets/images/ic-delete.png\";\nimport cancel from \"../../../../assets/images/ic-cancel.png\";\nimport { moengage, mixPanel } from \"../../../../services/analyticsTools\";\nimport { MoEConstants } from \"../../../../utils/constants\";\n\nconst QuoteMark = (props: any) => {\n  const [Items, setItems] = useState<Array<any>>([]);\n  const [isEdit, setEdit] = useState<any>(null);\n  const [totalItemsAmt, setTotalItemsAmt] = useState<number>(0);\n  const [quoteId, setQuoteId] = useState<string>(\"\");\n  const [deleteItemModal, setDeleteItemModal] = useState<boolean>(false);\n  const [localQuote, setLocalQuote] = useState<any>({\n    item_number: 1,\n    description: \"\",\n    price: 0,\n    quantity: 0,\n    totalAmount: 0,\n  });\n  const [isQuoteDialog, setIsQuoteDialog] = useState<boolean>(false);\n  var jobData = props.location?.state?.jobData;\n  console.log(\"jobData: \", jobData);\n\n  useEffect(() => {\n    preFetch();\n  }, []);\n\n  console.log(\"Items: \", Items);\n  const preFetch = async () => {\n    const isItemsEditable =\n      props.location?.state?.redirect_from === \"appliedJobs\" ? true : false;\n    if (isItemsEditable) {\n      const data: any = {\n        jobId: props.location?.state?.jobData?.jobId,\n        tradieId: storageService.getItem(\"userInfo\")?._id,\n      };\n      const res = await quoteByJobId(data);\n      if (res.success && res.data?.resultData[0]?.quote_item?.length) {\n        const items_ = res.data?.resultData[0]?.quote_item;\n        setItems(items_);\n        setQuoteId(res.data?.resultData[0]?._id);\n        let item_no = items_[items_?.length - 1]?.item_number\n          ? items_[items_?.length - 1]?.item_number + 1\n          : 1;\n        setLocalQuote((prev: any) => ({ ...prev, item_number: item_no }));\n        props.dataFetched(true);\n      } else {\n        props.dataFetched(false);\n      }\n    } else {\n      props.dataFetched(true);\n    }\n  };\n\n  const deleteItem_ = async (item: any) => {\n    const data = {\n      itemId: item?._id,\n    };\n    const res = await deleteItem(data);\n    if (res.success) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const addItem_ = async (item: any) => {\n    let items_ = Items;\n    const data = {\n      quoteId: quoteId,\n      item_number: item?.item_number,\n      description: item?.description,\n      price: item?.price,\n      quantity: item?.quantity,\n      totalAmount: item?.totalAmount,\n    };\n    const res = await addItem(data);\n    if (res.success && res.data?.resultData) {\n      items_.push(res.data?.resultData);\n      setItems(items_);\n      setLocalQuote({\n        item_number: items_[items_?.length - 1]?.item_number\n          ? items_[items_?.length - 1]?.item_number + 1\n          : 1,\n        description: \"\",\n        price: 0,\n        quantity: 0,\n        totalAmount: 0,\n      });\n    }\n  };\n\n  const updateItem_ = async (index: number, items: any) => {\n    const newAmount: number = totalItemsAmount(items);\n    const item = items[index];\n    const data = {\n      itemId: item?._id,\n      item_number: item?.item_number,\n      description: item?.description,\n      price: item?.price,\n      quantity: item?.quantity,\n      totalAmount: item?.totalAmount,\n      quoteId: quoteId,\n      amount: newAmount,\n    };\n    const res = await updateItem(data);\n    if (res.success) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const moECalled = () => {\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: jobData?.tradeName,\n      location: jobData?.locationName,\n      \"Number of milestone\": jobData?.jobMilestonesData?.length,\n      Amount: totalItemsAmt,\n    };\n    moengage.moE_SendEvent(MoEConstants.QUOTED_A_JOB, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.QUOTED_A_JOB, mData);\n  };\n\n  const applyJobClicked = async () => {\n    const jobDetailsData: any = props.location?.state?.jobData;\n\n    const data = {\n      jobId: jobDetailsData?.jobId,\n      builderId: jobDetailsData?.postedBy?.builderId,\n      tradeId: jobDetailsData?.tradeId,\n    };\n\n    const res = await postHomeApplyJob(data);\n    if (res.success) {\n      moECalled();\n      props.history.push({\n        pathname: \"/quote-job-success\",\n        state: {\n          builderName: props.builderName ? props.builderName : \"Builder\",\n        },\n      });\n    }\n  };\n\n  const handleSubmit = async () => {\n    const jobId: string = props.location?.state?.jobData?.jobId;\n    const data: any = {\n      jobId: jobId,\n      userId: storageService.getItem(\"userInfo\")?._id,\n      amount: totalItemsAmt,\n      quote_item: Items,\n    };\n    const res: any = await addQuote(data);\n    if (res.success) {\n      if (props.location?.state?.base_redirect === \"newJobs\") {\n        moECalled();\n        props.history.push({\n          pathname: \"/quote-job-success\",\n          state: {\n            builderName: props.builderName ? props.builderName : \"Builder\",\n          },\n        });\n      } else {\n        applyJobClicked();\n      }\n    }\n  };\n\n  const handleChange = (name: any, value: any) => {\n    if (name === \"description\" && value.length > 250) {\n      return;\n    }\n    setLocalQuote((prev: any) => ({\n      ...prev,\n      [name]: name === \"description\" ? value : +value,\n    }));\n  };\n\n  const totalItemsAmount = (items: any) => {\n    let totalAmount = items.slice(1, items.length).reduce((a: any, b: any) => {\n      return a + b.totalAmount;\n    }, Items[0].totalAmount);\n    return totalAmount;\n  };\n\n  const calculateTotal = () => {\n    if (Items?.length) {\n      let totalAmt_ = totalItemsAmount(Items);\n      if (totalAmt_ && totalAmt_ !== totalItemsAmt) {\n        setTotalItemsAmt(totalAmt_);\n      }\n      const total = (\n        <NumberFormat\n          value={totalAmt_}\n          decimalScale={2}\n          displayType={\"text\"}\n          thousandSeparator={true}\n          isNumericString={true}\n        />\n      );\n      return total;\n    }\n    return `$0`;\n  };\n\n  const saveAddItem = async () => {\n    if (isEditTrue) {\n      let index = isEdit;\n      let items_ = Items;\n      let item: any = localQuote;\n      item[\"totalAmount\"] = +item.quantity * +item.price;\n      items_[isEdit] = item;\n      let isSuccess: boolean = true;\n      if (quoteId) {\n        isSuccess = await updateItem_(index, items_);\n      }\n      if (isSuccess) {\n        setItems(items_);\n        setEdit(null);\n        setLocalQuote({\n          item_number: items_[items_?.length - 1]?.item_number + 1,\n          description: \"\",\n          price: 0,\n          quantity: 0,\n          totalAmount: 0,\n        });\n      }\n      return;\n    } else {\n      let items_ = Items;\n      let item: any = localQuote;\n      item[\"totalAmount\"] = +item.quantity * +item.price;\n      if (props.location?.state?.redirect_from === \"appliedJobs\") {\n        await addItem_(item);\n      } else {\n        items_.push(item);\n        setItems(items_);\n        setLocalQuote({\n          item_number: items_[items_?.length - 1]?.item_number\n            ? items_[items_?.length - 1]?.item_number + 1\n            : 1,\n          description: \"\",\n          price: 0,\n          quantity: 0,\n          totalAmount: 0,\n        });\n      }\n    }\n    if (isQuoteDialog) {\n      setIsQuoteDialog(false);\n    }\n  };\n\n  const handleQuoteDialog = (ans?: string, hitApi?: boolean) => {\n    if (quoteId) {\n      setIsQuoteDialog(ans === \"yes\" ? true : false);\n      if (hitApi) saveAddItem();\n    } else {\n      saveAddItem();\n    }\n  };\n\n  let item_number = localQuote.item_number;\n  let description = localQuote.description;\n  let price: any = localQuote.price;\n  let qty: any = localQuote.quantity;\n  let total_cal = +qty * +price;\n  let total = total_cal === 0 ? \"\" : total_cal;\n  let isEditTrue = isEdit !== null && isEdit > -1 ? true : false;\n\n  const callItemNo = () => {\n    if (localQuote?._id) {\n      console.log(\"localQuote?._id-----------if\");\n      return localQuote?.item_number;\n    }\n    if (isEdit !== null) {\n      return Items[isEdit]?.item_number;\n    }\n    console.log(\"Items---------else\");\n    return Items[Items?.length - 1]?.item_number\n      ? Items[Items?.length - 1]?.item_number + 1\n      : 1;\n  };\n\n  const quoteValidate = () => {\n    if (description?.length === 0 || qty === 0 || price === 0) {\n      return true;\n    }\n    return false;\n  };\n\n  const deleteItemHandler = async () => {\n    let index = isEdit;\n    let items_ = Items;\n    let filtered = items_.filter((item: any, index: any) => index !== isEdit);\n    setItems(filtered);\n    setEdit(null);\n    let length = filtered[filtered?.length - 1]?.item_number;\n    let id = length > 0 ? length + 1 : 1;\n    let res: any = true;\n    if (quoteId) {\n      res = await deleteItem_(items_[index]);\n    }\n    if (res) {\n      setLocalQuote({\n        item_number: id,\n        description: \"\",\n        price: 0,\n        quantity: 0,\n        totalAmount: 0,\n      });\n    }\n    setDeleteItemModal(false);\n  };\n\n  return (\n    <div className=\"flex_col_sm_6\">\n      <div className=\"relate form_field\">\n        <button\n          onClick={() => {\n            if (isEditTrue) {\n              setEdit(null);\n              setLocalQuote({\n                item_number: Items[Items?.length - 1]?.item_number\n                  ? Items[Items?.length - 1]?.item_number + 1\n                  : 1,\n                description: \"\",\n                price: 0,\n                quantity: 0,\n                totalAmount: 0,\n              });\n            } else {\n              props.history.goBack();\n            }\n          }}\n          className=\"back\"\n        ></button>\n      </div>\n      <span className=\"sub_title\">{\"Quote for this job\"}</span>\n      <>\n        {Items?.length > 0 && !isEditTrue\n          ? Items.map((item: any, index: number) => (\n              <div className=\"change_req\">\n                <div className=\"edit_delete\">\n                  <span\n                    onClick={() => {\n                      setEdit(index);\n                      setLocalQuote(item);\n                    }}\n                    className=\"editdark\"\n                  ></span>\n                </div>\n                <div className=\"flex_row\">\n                  <div className=\"flex_col_sm_2\">\n                    <label className=\"form_label\">Item</label>\n                  </div>\n                  <div className=\"flex_col_sm_6\">\n                    <label className=\"form_label\">Description</label>\n                  </div>\n                  <div className=\"flex_col_sm_4\">\n                    <label className=\"form_label\">Price</label>\n                  </div>\n                  <>\n                    <div className=\"flex_col_sm_2\">\n                      <span className=\"show_label\">{item.item_number}</span>\n                    </div>\n                    <div className=\"flex_col_sm_6\">\n                      <span className=\"show_label line-1\">\n                        {item.description}\n                      </span>\n                    </div>\n                    <div className=\"flex_col_sm_4\">\n                      <span className=\"show_label\">\n                        <NumberFormat\n                          value={item.totalAmount}\n                          displayType={\"text\"}\n                          prefix={\"$ \"}\n                          thousandSeparator={true}\n                          isNumericString={true}\n                        />\n                      </span>\n                    </div>\n                  </>\n                </div>\n              </div>\n            ))\n          : null}\n      </>\n\n      {props.isDataFetched && (\n        <div className=\"change_req\">\n          {isEditTrue && Items.length > 1 && (\n            <span\n              onClick={() => setDeleteItemModal(true)}\n              className=\"delete_quote\"\n            >\n              {\"Delete\"}\n              <img src={deleteQuote} alt=\"delete\" />\n            </span>\n          )}\n          <span className=\"inner_title\">{`${\n            isEditTrue ? \"Edit\" : \"Add\"\n          } Item`}</span>\n          <div className=\"form_field\">\n            <label className=\"form_label\">{\"Item Number\"}</label>\n            <div className=\"text_field\">\n              <input type=\"number\" value={callItemNo()} />\n            </div>\n          </div>\n          <div className=\"form_field\">\n            <label className=\"form_label\">Description</label>\n            <div className=\"text_field\">\n              <textarea\n                value={description}\n                onChange={(e) =>\n                  handleChange(\"description\", e.target.value.trimLeft())\n                }\n              ></textarea>\n            </div>\n          </div>\n          <div className=\"form_field\">\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_4\">\n                <label className=\"form_label\">Price</label>\n                <div className=\"text_field\">\n                  <NumberFormat\n                    value={price || \"\"}\n                    decimalScale={2}\n                    allowNegative={false}\n                    className=\"foo\"\n                    placeholder=\"$100\"\n                    displayType={\"input\"}\n                    thousandSeparator={true}\n                    isNumericString={true}\n                    prefix={\"$\"}\n                    onValueChange={(values) => {\n                      const { formattedValue, value } = values;\n                      handleChange(\"price\", value);\n                    }}\n                  />\n                </div>\n              </div>\n              <div className=\"flex_col_sm_4\">\n                <label className=\"form_label\">Qty</label>\n                <div className=\"text_field\">\n                  <NumberFormat\n                    value={qty || \"\"}\n                    className=\"foo\"\n                    placeholder=\"10\"\n                    displayType={\"input\"}\n                    thousandSeparator={true}\n                    isNumericString={true}\n                    onValueChange={(values) => {\n                      const { formattedValue, value } = values;\n                      handleChange(\"quantity\", value);\n                    }}\n                  />\n                </div>\n              </div>\n              <div className=\"flex_col_sm_4\">\n                <label className=\"form_label\">Total</label>\n                <div className=\"text_field\">\n                  <NumberFormat\n                    readOnly\n                    value={total || \"\"}\n                    decimalScale={2}\n                    allowNegative={false}\n                    className=\"foo\"\n                    placeholder=\"$1000\"\n                    displayType={\"input\"}\n                    thousandSeparator={true}\n                    isNumericString={true}\n                    prefix={\"$\"}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={() => handleQuoteDialog(\"yes\")}\n            className={`fill_btn w100per ${\n              quoteValidate() ? \"disable_btn\" : \"\"\n            }`}\n          >\n            {`${isEditTrue ? \"Save\" : \"Add\"} Item`}\n          </button>\n        </div>\n      )}\n\n      <Modal\n        className=\"custom_modal\"\n        open={deleteItemModal}\n        onClose={() => setDeleteItemModal(false)}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div\n          className=\"custom_wh confirmation\"\n          data-aos=\"zoom-in\"\n          data-aos-delay=\"30\"\n          data-aos-duration=\"1000\"\n        >\n          <div className=\"heading\">\n            <span className=\"xs_sub_title\">{`Delete item confirmation`}</span>\n            <button\n              className=\"close_btn\"\n              onClick={() => setDeleteItemModal(false)}\n            >\n              <img src={cancel} alt=\"cancel\" />\n            </button>\n          </div>\n          <div className=\"modal_message\">\n            <p>Are you sure you still want to delete item?</p>\n          </div>\n          <div className=\"dialog_actions\">\n            <button className=\"fill_btn btn-effect\" onClick={deleteItemHandler}>\n              Yes\n            </button>\n            <button\n              className=\"fill_grey_btn btn-effect\"\n              onClick={() => setDeleteItemModal(false)}\n            >\n              No\n            </button>\n          </div>\n        </div>\n      </Modal>\n\n      <Dialog\n        open={isQuoteDialog}\n        // onClose={() => handleQuoteDialog}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" className=\"xs_alert_dialog_title\">\n          {\"This quote will be send to builder\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            {\"Are you sure you want to update quote?\"}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleQuoteDialog(\"no\", true)} color=\"primary\">\n            {\"Yes\"}\n          </Button>\n          <Button onClick={() => handleQuoteDialog(\"no\")} color=\"primary\">\n            {\"No\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* <Modal\n                className=\"custom_modal\"\n                open={isQuoteDialog}\n                onClose={() => handleQuoteDialog('no')}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div className=\"custom_wh confirmation\" data-aos=\"zoom-in\" data-aos-delay=\"30\" data-aos-duration=\"1000\">\n                    <div className=\"heading\">\n                        <span className=\"xs_sub_title\">{'This quote will be send to builder'}</span>\n                        <button className=\"close_btn\" onClick={() => handleQuoteDialog('no')}>\n                            <img src={cancel} alt=\"cancel\" />\n                        </button>\n                    </div>\n                    <div className=\"modal_message\">\n                        <p>Are you sure you want to update quote?</p>\n                    </div>\n                    <div className=\"dialog_actions\">\n                        <button className=\"fill_btn btn-effect\" onClick={() => handleQuoteDialog('no', true)}>Yes</button>\n                        <button className=\"fill_grey_btn btn-effect\" onClick={() => handleQuoteDialog('no')}>No</button>\n                    </div>\n                </div>\n            </Modal> */}\n\n      {Items?.length > 0 && !isEditTrue && (\n        <div className=\"total_quote\">\n          <span className=\"fill_grey_btn\">\n            {`Total Quote: $`}\n            {calculateTotal()}\n          </span>\n        </div>\n      )}\n\n      {quoteId || !props.isDataFetched || isEditTrue ? null : (\n        <button\n          onClick={handleSubmit}\n          className={`fill_grey_btn quote_btn ${\n            Items?.length === 0 ? \"disable_btn\" : \"\"\n          }`}\n        >\n          {\"Submit Quote\"}\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default QuoteMark;\n"]},"metadata":{},"sourceType":"module"}