{"ast":null,"code":"import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Constants from'../../utils/constants';// @ts-ignore\nimport PlacesAutocomplete from'react-places-autocomplete';// @ts-ignore\nimport{DateRange}from'react-date-range';import'react-date-range/dist/styles.css';// main style file\nimport'react-date-range/dist/theme/default.css';// theme css file\nimport Searchicon from\"../../assets/images/main-search.png\";import search from\"../../assets/images/ic-search.png\";import Location from\"../../assets/images/ic-location.png\";import cross from\"../../assets/images/close-black.png\";import icgps from\"../../assets/images/ic-gps.png\";import residential from\"../../assets/images/ic-residential.png\";import close from\"../../assets/images/icon-close-1.png\";import{connect}from'react-redux';import{bindActionCreators}from'redux';import{getSearchJobList,getRecentSearchList,postHomeSearchData,getRecentLocationList}from'../../redux/homeSearch/actions';import{isHandleChanges}from'../../redux/jobs/actions';// @ts-ignore\nimport{useDetectClickOutside}from'react-detect-click-outside';import moment from'moment';import Geocode from\"react-geocode\";import{setShowToast}from'../../redux/common/actions';import{deleteRecentSearch}from'../../redux/homeSearch/actions';import{renderTimeWithCustomFormat}from'../../utils/common';import{moengage,mixPanel}from'../../services/analyticsTools';import{MoEConstants}from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";Geocode.setApiKey(Constants.SocialAuth.GOOGLE_GEOCODE_KEY);Geocode.setLanguage(\"en\");var example_calender={startDate:'',endDate:'',key:'selection1'};export function useStateFromProp(initialValue){var _useState=useState(initialValue),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];useEffect(function(){return setValue(initialValue);},[initialValue]);return[value,setValue];}var BannerSearch=function BannerSearch(props){var _state_data$specializ,_props$recentLocation2,_props$recentLocation3;var props_selected=props.selectedItem;var selectedItem=props.selectedItem,isHandleChanges=props.isHandleChanges,localChanges=props.localChanges,getRecentSearchList=props.getRecentSearchList,getRecentLocationList=props.getRecentLocationList;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checkOnChange=_useState4[0],setOnChange=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showOnlyTradeName=_useState6[0],setShowOnlyTradeName=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),locationStatus=_useState8[0],setLocationStatus=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),stateData=_useState10[0],setStateData=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),searchText=_useState12[0],setSearchText=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),addressText=_useState14[0],setAddressText=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),recentLocation=_useState16[0],setRecentLocation=_useState16[1];// recentLocation\nvar _useState17=useState({}),_useState18=_slicedToArray(_useState17,2),selectedAddress=_useState18[0],setSelectedAddress=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),enableCurrentLocation=_useState20[0],setCurrentLocations=_useState20[1];var _useState21=useState({}),_useState22=_slicedToArray(_useState21,2),errors=_useState22[0],setErrors=_useState22[1];var _useState23=useState({}),_useState24=_slicedToArray(_useState23,2),selectedTrade=_useState24[0],setSelectedTrade=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),inputFocus1=_useState26[0],setInputFocus1=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),inputFocus2=_useState28[0],setInputFocus2=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),inputFocus3=_useState30[0],setInputFocus3=_useState30[1];var _useState31=useState(example_calender),_useState32=_slicedToArray(_useState31,2),calenderRange1=_useState32[0],setCalenderRange1=_useState32[1];var _useState33=useState({}),_useState34=_slicedToArray(_useState33,2),suggestionSelected=_useState34[0],setSuggestion=_useState34[1];var handleOnOutsideSearch=function handleOnOutsideSearch(){setOnChange(false);setInputFocus1(false);};var handleOnOutsideLocation=function handleOnOutsideLocation(){return setInputFocus2(false);};var handleOnOutsideCalender=function handleOnOutsideCalender(){return setInputFocus3(false);};var searchRef=useDetectClickOutside({onTriggered:handleOnOutsideSearch});var locationRef=useDetectClickOutside({onTriggered:function onTriggered(){// if (addressText?.length > 3) {\nhandleOnOutsideLocation();// }\n}});var locationRefClone=useDetectClickOutside({onTriggered:function onTriggered(){//     if (!addressText || addressText?.length < 2) {\n//         handleOnOutsideLocation()\n//     }\n}});var calenderRef=useDetectClickOutside({onTriggered:handleOnOutsideCalender});var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),sortBy=_useState36[0],setSortBy=_useState36[1];var handleCalenderRange=function handleCalenderRange(item){var _item$selection,_item$selection2;setCalenderRange1(item.selection1);console.log({localInfo:props.localInfo});props.getTitleInfo(_objectSpread(_objectSpread({},props.localInfo),{},{from_date:moment((_item$selection=item.selection1)===null||_item$selection===void 0?void 0:_item$selection.startDate).format('YYYY-MM-DD'),to_date:moment((_item$selection2=item.selection1)===null||_item$selection2===void 0?void 0:_item$selection2.endDate).format('YYYY-MM-DD')}));};var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),checkRender=_useState38[0],setRender=_useState38[1];useEffect(function(){console.log({selectedAddress:selectedAddress},'!!@');},[selectedAddress]);useEffect(function(){var state=props.location.state;var local_info=props.localInfo;if(!(searchText===null||searchText===void 0?void 0:searchText.length)&&!checkRender){var _state$location,_state$location$coord;setSearchText(state.name);setStateData({createdAt:null,image:null,name:state===null||state===void 0?void 0:state.name,specializationsId:state===null||state===void 0?void 0:state.specializations,trade_name:state===null||state===void 0?void 0:state.name,_id:state===null||state===void 0?void 0:state.tradeId});if(state.calender&&Object.keys(state.calender).length){setCalenderRange1(state.calender);}if((state===null||state===void 0?void 0:state.location)&&(state===null||state===void 0?void 0:(_state$location=state.location)===null||_state$location===void 0?void 0:(_state$location$coord=_state$location.coordinates)===null||_state$location$coord===void 0?void 0:_state$location$coord.length)){var coordinates=state.location.coordinates;var valueItem={lat:coordinates[1],lng:coordinates[0]};setSelectedAddress(valueItem);}if(state===null||state===void 0?void 0:state.address){setAddressText(state.address);}setRender(true);}// doingLocalChanges \n// when this option true it the props will set.\nif(Object.keys(local_info).length&&!(local_info===null||local_info===void 0?void 0:local_info.doingLocalChanges)){if((searchText===null||searchText===void 0?void 0:searchText.length)!==(local_info===null||local_info===void 0?void 0:local_info.name)){if(local_info===null||local_info===void 0?void 0:local_info.sortBy){setSortBy(local_info===null||local_info===void 0?void 0:local_info.sortBy);}if(!(local_info===null||local_info===void 0?void 0:local_info.isTradeName)){setSearchText(local_info.name);}else{setSearchText('');}setStateData({createdAt:null,image:null,name:local_info===null||local_info===void 0?void 0:local_info.name,specializationsId:local_info===null||local_info===void 0?void 0:local_info.specializationId,trade_name:null,_id:local_info===null||local_info===void 0?void 0:local_info.tradeId});}}},[props]);useEffect(function(){if((!addressText||!(addressText===null||addressText===void 0?void 0:addressText.length))&&inputFocus2){setSelectedAddress({});setSelectedTrade({});}if(!(addressText===null||addressText===void 0?void 0:addressText.length)){fetchItemsSearchWithLocation(1);}},[addressText]);useEffect(function(){fetchItemsSearchWithLocation();setShowOnlyTradeName(props.showOnlyTradeName);},[]);var fetchItemsSearchWithLocation=function fetchItemsSearchWithLocation(fetch){if(getRecentSearchList&&fetch!==1){getRecentSearchList();}if(getRecentLocationList){getRecentLocationList();}};useEffect(function(){// if (props.recentLocationData?.length &&\n//     JSON.stringify(props.recentLocationData[0]?.location?.coordinates) !== JSON.stringify(recentLocation[0]?.location?.coordinates)) {\n//     getRecentLocationData();\n// }\n},[props.recentLocationData,recentLocation]);var updateGetTitleInfo=function updateGetTitleInfo(){props===null||props===void 0?void 0:props.getTitleInfo(_objectSpread(_objectSpread({},props===null||props===void 0?void 0:props.localInfo),{},{doingLocalChanges:true}));};useEffect(function(){updateGetTitleInfo();if((searchText===null||searchText===void 0?void 0:searchText.length)>2){props.getSearchJobList(searchText);}if(!(searchText===null||searchText===void 0?void 0:searchText.length)){setSelectedTrade({});}},[searchText]);useEffect(function(){},[selectedAddress]);var getRecentLocationData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var recentLocationDetails,recentLocationData,index,_item,_cityText,_cityText2,_cityText3,_cityText4,_cityText5,_cityText6,_cityText7,_cityText8,_item$location,_props$recentLocation,lat,long,response,formatedCityText,cityText,newData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:recentLocationDetails=[];recentLocationData=props.recentLocationData;index=0;case 3:if(!(index<recentLocationData.length)){_context.next=25;break;}_item=recentLocationData[index];_context.prev=5;lat=_item.location.coordinates[1];long=_item.location.coordinates[0];_context.next=10;return Geocode.fromLatLng(lat,long);case 10:response=_context.sent;formatedCityText=JSON.parse(JSON.stringify(response===null||response===void 0?void 0:response.results[0]));cityText=null;if(formatedCityText===null||formatedCityText===void 0?void 0:formatedCityText.formatted_address.includes(',')){cityText=formatedCityText===null||formatedCityText===void 0?void 0:formatedCityText.formatted_address.split(',');}else{cityText=formatedCityText===null||formatedCityText===void 0?void 0:formatedCityText.formatted_address.split('-');}newData={mainText:((_cityText=cityText)===null||_cityText===void 0?void 0:_cityText.length)>3?(_cityText2=cityText)===null||_cityText2===void 0?void 0:_cityText2.slice(0,2).join(','):(_cityText3=cityText)===null||_cityText3===void 0?void 0:_cityText3.slice(0,1).join(','),secondaryText:((_cityText4=cityText)===null||_cityText4===void 0?void 0:_cityText4.length)>3?(_cityText5=cityText)===null||_cityText5===void 0?void 0:_cityText5.slice(2,(_cityText6=cityText)===null||_cityText6===void 0?void 0:_cityText6.length).join(','):(_cityText7=cityText)===null||_cityText7===void 0?void 0:_cityText7.slice(1,(_cityText8=cityText)===null||_cityText8===void 0?void 0:_cityText8.length).join(',')};recentLocationDetails[index]={formatted_address:formatedCityText===null||formatedCityText===void 0?void 0:formatedCityText.formatted_address,location:{coordinates:_item===null||_item===void 0?void 0:(_item$location=_item.location)===null||_item$location===void 0?void 0:_item$location.coordinates},allText:newData};if((recentLocationDetails===null||recentLocationDetails===void 0?void 0:recentLocationDetails.length)===((_props$recentLocation=props.recentLocationData)===null||_props$recentLocation===void 0?void 0:_props$recentLocation.length)){setRecentLocation(recentLocationDetails);}_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](5);console.log({err:_context.t0});case 22:index++;_context.next=3;break;case 25:case\"end\":return _context.stop();}}},_callee,null,[[5,19]]);}));return function getRecentLocationData(){return _ref.apply(this,arguments);};}();var checkIfExist=function checkIfExist(_id){if(selectedTrade){var isLength=Object.keys(selectedTrade).length;if(isLength){var _item2=selectedTrade;if((_item2===null||_item2===void 0?void 0:_item2._id)===_id){return true;}}}return false;};var cleanRecentSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event,recentSearchId){var data,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.stopPropagation();data={id:recentSearchId,status:0};_context2.next=4;return deleteRecentSearch(data);case 4:res=_context2.sent;if(res.success){if(getRecentSearchList){getRecentSearchList();}}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function cleanRecentSearch(_x,_x2){return _ref2.apply(this,arguments);};}();var recentJobSearches=function recentJobSearches(){var _props$recentSearchJo,_props$recentSearchJo2,_props$recentSearchJo3;var props_Clone=props;var tradeListData=props_Clone.tradeListData;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_autosuggestion\",id:\"recent-job-search-div\",children:[(props===null||props===void 0?void 0:(_props$recentSearchJo=props.recentSearchJobData)===null||_props$recentSearchJo===void 0?void 0:_props$recentSearchJo.length)?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Recent searches\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row recent_search\",children:((_props$recentSearchJo2=props.recentSearchJobData)===null||_props$recentSearchJo2===void 0?void 0:_props$recentSearchJo2.length)>0&&((_props$recentSearchJo3=props.recentSearchJobData)===null||_props$recentSearchJo3===void 0?void 0:_props$recentSearchJo3.slice(0,2).map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_3\",onClick:function onClick(){setItemSearch({createdAt:item===null||item===void 0?void 0:item.createdAt,image:item.image,name:item.name,specializationsId:[item.specializationsId],trade_name:item.trade_name,_id:item._id});setSelectedTrade({});},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card ico_txt_wrap\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"ico\",children:/*#__PURE__*/_jsx(\"img\",{src:(item===null||item===void 0?void 0:item.image)||residential,alt:\"icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"f_column\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:item.trade_name})]}),/*#__PURE__*/_jsx(\"span\",{className:\"remove_card\",onClick:function onClick(event){cleanRecentSearch(event,item.recentSearchId);},children:/*#__PURE__*/_jsx(\"img\",{src:close,alt:\"remove\"})})]})});}))})]}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"select_sphere recent_search\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:'Categories'}),/*#__PURE__*/_jsx(\"ul\",{children:tradeListData===null||tradeListData===void 0?void 0:tradeListData.map(function(_ref3){var _id=_ref3._id,trade_name=_ref3.trade_name,selected_url=_ref3.selected_url,specialisations=_ref3.specialisations;return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){var item_spec=specialisations;if(item_spec===null||item_spec===void 0?void 0:item_spec.length){var getItem=item_spec[0];if(getItem){setStateData({image:selected_url,name:getItem===null||getItem===void 0?void 0:getItem.name,specializationsId:specialisations.map(function(sp){return sp._id;}),trade_name:trade_name,_id:_id});setSearchText(trade_name);}setShowOnlyTradeName(true);setSelectedTrade({_id:_id,trade_name:trade_name,selected_url:selected_url,specialisations:specialisations});}},className:checkIfExist(_id)?'active':'',children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{src:selected_url,alt:\"\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:trade_name})]});})})]})]})});};var renderJobResult=function renderJobResult(){var _props$searchJobListD;if(props===null||props===void 0?void 0:(_props$searchJobListD=props.searchJobListData)===null||_props$searchJobListD===void 0?void 0:_props$searchJobListD.length){var _props$searchJobListD2;return/*#__PURE__*/_jsx(\"div\",{className:\"custom_autosuggestion\",id:\"fetched-custom-job-category-div\",children:/*#__PURE__*/_jsx(\"div\",{className:\"recent_search\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"drop_data\",children:(_props$searchJobListD2=props.searchJobListData)===null||_props$searchJobListD2===void 0?void 0:_props$searchJobListD2.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){setItemSearch(item);},children:[/*#__PURE__*/_jsx(\"figure\",{className:\"category\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image?item.image:residential,alt:\"icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:item.name||''}),/*#__PURE__*/_jsx(\"span\",{className:\"prof\",children:item.trade_name||''})]})]});})})})});}return null;};var onError=function onError(status,clearSuggestions){console.log('Google Maps API returned error with status: ',status);clearSuggestions();};var validateForm=function validateForm(){return true;};var setItemSearch=function setItemSearch(item){setStateData(item);setSelectedTrade({});setSearchText((item===null||item===void 0?void 0:item.name)||'');};var bannerSearchClicked=function bannerSearchClicked(){var _props$location,_props$location$state;var selected_address=selectedAddress;var selected_item=props===null||props===void 0?void 0:props.selectedItem;var props_trade=selected_item===null||selected_item===void 0?void 0:selected_item.selectedTrade;var local_info=props===null||props===void 0?void 0:props.localInfo;var prev_address=props===null||props===void 0?void 0:(_props$location=props.location)===null||_props$location===void 0?void 0:(_props$location$state=_props$location.state)===null||_props$location$state===void 0?void 0:_props$location$state.address;var suggestion_selected=local_info===null||local_info===void 0?void 0:local_info.suggestionSelected;if(suggestion_selected){suggestion_selected=JSON.stringify(local_info===null||local_info===void 0?void 0:local_info.suggestionSelected);}if(suggestionSelected&&Object.keys(suggestionSelected).length){if(JSON.stringify(local_info===null||local_info===void 0?void 0:local_info.suggestionSelected)!==JSON.stringify(suggestionSelected)){suggestion_selected=JSON.stringify(suggestionSelected);}}var tradeId=null;var specializationId=null;if(!(local_info===null||local_info===void 0?void 0:local_info.doingLocalChanges)){tradeId=Array.isArray(local_info===null||local_info===void 0?void 0:local_info.tradeId)?local_info===null||local_info===void 0?void 0:local_info.tradeId:[local_info===null||local_info===void 0?void 0:local_info.tradeId];specializationId=Array.isArray(local_info===null||local_info===void 0?void 0:local_info.specializationId)?local_info===null||local_info===void 0?void 0:local_info.specializationId:[local_info===null||local_info===void 0?void 0:local_info.specializationId];}else{if(Object.keys(stateData).length){tradeId=Array.isArray(stateData._id)?stateData._id:[stateData._id];specializationId=Array.isArray(stateData.specializationsId)?stateData.specializationsId:[stateData.specializationsId];}}if(!(stateData===null||stateData===void 0?void 0:stateData._id)&&!(props_trade===null||props_trade===void 0?void 0:props_trade._id)){setShowToast(true,'Please enter the valid search text');return;}if(validateForm()){var _tradeId,_specializationId,_props$tradeListData$,_JSON$parse,_JSON$parse2;var _data={page:1,isFiltered:true,tradeId:tradeId,specializationId:specializationId};if(!((_tradeId=tradeId)===null||_tradeId===void 0?void 0:_tradeId.length)){setShowToast(true,'Please enter the valid search text');return;}if(!((_specializationId=specializationId)===null||_specializationId===void 0?void 0:_specializationId.length)){_data===null||_data===void 0?true:delete _data.specializationId;}if(sortBy>0){_data['sortBy']=sortBy;}if(Object.keys(selectedAddress).length){_data['location']={\"coordinates\":[parseFloat(selected_address===null||selected_address===void 0?void 0:selected_address.lng),parseFloat(selected_address===null||selected_address===void 0?void 0:selected_address.lat)]};if(suggestion_selected){if(addressText){_data['address']=suggestion_selected;}}}else{delete _data.location;}if(moment(calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.startDate).isValid()){_data['from_date']=moment(calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.startDate).format('YYYY-MM-DD');}else{delete _data.from_date;}if(moment(calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.endDate).isValid()){_data['to_date']=moment(calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.endDate).format('YYYY-MM-DD');}else{delete _data.to_date;}if(sortBy===2){var _Object$keys;if((_Object$keys=Object.keys(selected_address))===null||_Object$keys===void 0?void 0:_Object$keys.length){_data['location']={\"coordinates\":[parseFloat(selected_address===null||selected_address===void 0?void 0:selected_address.lng),parseFloat(selected_address===null||selected_address===void 0?void 0:selected_address.lat)]};}if(suggestion_selected){if(addressText){var case_1=typeof suggestion_selected=='string'?suggestion_selected:JSON.stringify(suggestion_selected);_data['address']=addressText&&suggestion_selected?case_1:'';}}}props.getTitleInfo({name:searchText,isTradeName:false,// count: data?.specializationId?.length,\ncount:0,tradeId:_data.tradeId,specializationId:_data.specializationId,location:_data.location,from_date:_data===null||_data===void 0?void 0:_data.from_date,to_date:_data===null||_data===void 0?void 0:_data.to_date,doingLocalChanges:true,address:_data===null||_data===void 0?void 0:_data.address,suggestionSelected:suggestion_selected?JSON.parse(suggestion_selected):null});props.postHomeSearchData(_data);var mData=_objectSpread(_objectSpread(_objectSpread({timeStamp:moengage.getCurrentTimeStamp(),category:props===null||props===void 0?void 0:(_props$tradeListData$=props.tradeListData.find(function(i){return i._id===(_data===null||_data===void 0?void 0:_data.tradeId[0]);}))===null||_props$tradeListData$===void 0?void 0:_props$tradeListData$.trade_name},_data.address&&{location:\"\".concat((_JSON$parse=JSON.parse(_data.address))===null||_JSON$parse===void 0?void 0:_JSON$parse.mainText,\" \").concat((_JSON$parse2=JSON.parse(_data.address))===null||_JSON$parse2===void 0?void 0:_JSON$parse2.secondaryText)}),(_data===null||_data===void 0?void 0:_data.from_date)&&{'start date':_data===null||_data===void 0?void 0:_data.from_date}),(_data===null||_data===void 0?void 0:_data.to_date)&&{'end date':_data===null||_data===void 0?void 0:_data.to_date});moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES,mData);mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES,mData);}};var filterFromAddress=function filterFromAddress(response){var city,state,country=null;for(var i=0;i<response.results[0].address_components.length;i++){for(var j=0;j<response.results[0].address_components[i].types.length;j++){switch(response.results[0].address_components[i].types[j]){case\"locality\":city=response.results[0].address_components[i].long_name;break;case\"administrative_area_level_1\":state=response.results[0].address_components[i].long_name;break;case\"country\":country=response.results[0].address_components[i].long_name;break;}}}return{city:city,state:state,country:country.toLowerCase()};};var getCurrentLocation=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _navigator,_navigator$permission;var itemToggle,local_position,position,lng,lat,response,_filterFromAddress,city,state,country,_response$results,address;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(_navigator=navigator)===null||_navigator===void 0?void 0:(_navigator$permission=_navigator.permissions)===null||_navigator$permission===void 0?void 0:_navigator$permission.query({name:'geolocation'});case 2:itemToggle=_context3.sent;setLocationStatus(itemToggle.state);local_position=localStorage.getItem('position');position=JSON.parse(local_position);if(!(position===null||position===void 0?void 0:position.length)){_context3.next=14;break;}lng=position[0].toString();lat=position[1].toString();_context3.next=11;return Geocode.fromLatLng(lat,lng);case 11:response=_context3.sent;_filterFromAddress=filterFromAddress(response),city=_filterFromAddress.city,state=_filterFromAddress.state,country=_filterFromAddress.country;if(response&&[\"australia\",\"au\"].includes(country)){if((response===null||response===void 0?void 0:response.results)&&Array.isArray(response.results)&&(response===null||response===void 0?void 0:(_response$results=response.results)===null||_response$results===void 0?void 0:_response$results.length)){address=response.results[0].formatted_address;setSelectedAddress({lat:lat,lng:lng});setAddressText(address);setInputFocus2(true);setInputFocus1(false);setInputFocus3(false);setCurrentLocations(true);// this.setState({ currentAddressLatLng: { long, lat }, addressText: address, enableCurrentLocation: true, inputFocus2: true })\n}}else{if((itemToggle===null||itemToggle===void 0?void 0:itemToggle.state)!==\"denied\"){setShowToast(true,\"Uh Oh! We don't provide service currently in your location\");}}case 14:case\"end\":return _context3.stop();}}},_callee3);}));return function getCurrentLocation(){return _ref4.apply(this,arguments);};}();var checkPlaceholder=function checkPlaceholder(calenderRange1){var fromDate=calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.startDate;var toDate=calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.endDate;var result=renderTimeWithCustomFormat(fromDate,toDate,'',['DD MMM','DD MMM YYYY'],'When?');if(!result){return'When?';}return result;};var state_data=stateData;var length_spec=0;if((state_data===null||state_data===void 0?void 0:(_state_data$specializ=state_data.specializationsId)===null||_state_data$specializ===void 0?void 0:_state_data$specializ.length)&&Array.isArray(state_data===null||state_data===void 0?void 0:state_data.specializationsId)){var _state_data$specializ2;length_spec=state_data===null||state_data===void 0?void 0:(_state_data$specializ2=state_data.specializationsId)===null||_state_data$specializ2===void 0?void 0:_state_data$specializ2.length;}var custom_name=searchText;if(!checkOnChange){var _custom_name;if(length_spec>1&&((_custom_name=custom_name)===null||_custom_name===void 0?void 0:_custom_name.length)){custom_name=\"\".concat(custom_name,\" +\").concat(length_spec-1);}}console.log(\"searchText\",searchText,\"custom_name\",custom_name,\"propsbannerSearch\",props,\"zz\",props.showOnlyTradeName);return/*#__PURE__*/_jsxs(\"div\",{className:\"home_search\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){if(props===null||props===void 0?void 0:props.handleChangeToggle){props.handleChangeToggle(false);}},className:\"modal_srch_close\",children:/*#__PURE__*/_jsx(\"img\",{src:close,alt:\"close\"})}),/*#__PURE__*/_jsx(\"form\",{className:\"search_wrapr\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"categ_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text_field\",id:\"text-field-div\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:searchRef,placeholder:\"What jobs are you after?\",value:showOnlyTradeName?searchText:custom_name,onChange:function onChange(e){isHandleChanges(true);setOnChange(true);setSearchText(e.target.value.trimLeft());}// readOnly={props?.selectedItem ? true : false}\n,onFocus:function onFocus(){setInputFocus1(true);setInputFocus2(false);setInputFocus3(false);}}),/*#__PURE__*/_jsx(\"div\",{className:\"border_eff\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detect_icon_ltr\",children:/*#__PURE__*/_jsx(\"img\",{src:Searchicon,alt:\"search\"})}),(searchText===null||searchText===void 0?void 0:searchText.length)&&inputFocus1?/*#__PURE__*/_jsx(\"span\",{className:\"detect_icon\",children:/*#__PURE__*/_jsx(\"img\",{src:cross,alt:\"cross\",onClick:function onClick(){// clear here\nsetStateData({});setSelectedTrade({});isHandleChanges(true);setSearchText('');setOnChange(false);}})}):null]}),!!errors.searchedJob&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.searchedJob})]}),!(searchText===null||searchText===void 0?void 0:searchText.length)&&inputFocus1?recentJobSearches():null,(searchText===null||searchText===void 0?void 0:searchText.length)>2&&inputFocus1?renderJobResult():null,/*#__PURE__*/_jsxs(\"li\",{className:\"loc_box\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"location-text-field-div\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PlacesAutocomplete,{value:addressText,searchOptions:{componentRestrictions:{country:\"au\"},//  types: [\"address\"]\ntypes:[\"(cities)\"]},shouldFetchSuggestions:(addressText===null||addressText===void 0?void 0:addressText.length)>2,onChange:function onChange(item){setAddressText(item);},onSelect:/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(address,placeId,suggestion){var _suggestion$formatted,_response$results2;var selected_address,response,_response$results$0$g,lat,lng;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:selected_address=address;if(address.indexOf(',')){selected_address=address.split(',')[0];}console.log({address:suggestion===null||suggestion===void 0?void 0:suggestion.formattedSuggestion});setSuggestion(suggestion===null||suggestion===void 0?void 0:suggestion.formattedSuggestion);setAddressText(suggestion===null||suggestion===void 0?void 0:(_suggestion$formatted=suggestion.formattedSuggestion)===null||_suggestion$formatted===void 0?void 0:_suggestion$formatted.mainText);_context4.next=7;return Geocode.fromAddress(address);case 7:response=_context4.sent;if(response===null||response===void 0?void 0:(_response$results2=response.results)===null||_response$results2===void 0?void 0:_response$results2.length){_response$results$0$g=response.results[0].geometry.location,lat=_response$results$0$g.lat,lng=_response$results$0$g.lng;setSelectedAddress({lat:lat,lng:lng});setInputFocus2(false);}case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3,_x4,_x5){return _ref5.apply(this,arguments);};}(),highlightFirstSuggestion:true,onError:onError,debounce:0,children:function children(_ref6){var getInputProps=_ref6.getInputProps,suggestions=_ref6.suggestions,getSuggestionItemProps=_ref6.getSuggestionItemProps,loading=_ref6.loading;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text_field\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},getInputProps({placeholder:'Where?',className:'line-1'})),{},{id:\"location-input-tag\",autoComplete:\"off\",ref:locationRef,onFocus:function onFocus(){setInputFocus2(true);setInputFocus1(false);setInputFocus3(false);}})),/*#__PURE__*/_jsx(\"span\",{className:\"detect_icon_ltr\",children:/*#__PURE__*/_jsx(\"img\",{src:Location,alt:\"location\"})}),inputFocus2&&(addressText===null||addressText===void 0?void 0:addressText.length)>2?/*#__PURE__*/ // {inputFocus2 && addressText?.length > 2 ?\n_jsx(\"span\",{className:\"detect_icon\",children:/*#__PURE__*/_jsx(\"img\",{src:cross,alt:\"cross\",onClick:function onClick(){setAddressText('');setSelectedAddress({});}})}):null]}),(suggestions===null||suggestions===void 0?void 0:suggestions.length)&&inputFocus2&&(addressText===null||addressText===void 0?void 0:addressText.length)?/*#__PURE__*/_jsx(\"div\",{className:\"custom_autosuggestion location\",id:\"autocomplete-dropdown-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_row recent_search auto_loc\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_4\",children:[!!errors.selectedMapLocation&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.selectedMapLocation}),loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),suggestions.map(function(suggestion){var className='autosuggestion_icon card loc name';var style=suggestion.active?{backgroundColor:'#fafafa',cursor:'pointer'}:{backgroundColor:'#ffffff',cursor:'pointer'};return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getSuggestionItemProps(suggestion,{className:className,style:style})),{},{children:[/*#__PURE__*/_jsx(\"span\",{children:suggestion.formattedSuggestion.mainText}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:suggestion.formattedSuggestion.secondaryText})]}));})]})})}):null,inputFocus2&&!(suggestions===null||suggestions===void 0?void 0:suggestions.length)&&!Object.keys(selectedAddress).length?/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'50px'},className:\"custom_autosuggestion location\",id:\"autocomplete-dropdown-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_row recent_search auto_loc\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loc_suggestions\",children:'No Result Found.'})})})}):null]});}})})}),!!errors.selectedMapLocation&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.selectedMapLocation})]}),!(addressText===null||addressText===void 0?void 0:addressText.length)&&inputFocus2?/*#__PURE__*/_jsxs(\"div\",{className:\"custom_autosuggestion location\",id:\"current-location-search-div\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"location-btn\",onClick:getCurrentLocation,children:[/*#__PURE__*/_jsx(\"span\",{className:\"gps_icon\",children:/*#__PURE__*/_jsx(\"img\",{src:icgps,alt:\"\"})}),\" Use my current location\"]}),locationStatus===\"denied\"&&/*#__PURE__*/_jsx(\"span\",{className:\"blocked_note\",children:\"You have blocked your location. To use this, change your location settings in browser.\"}),(props===null||props===void 0?void 0:(_props$recentLocation2=props.recentLocationData)===null||_props$recentLocation2===void 0?void 0:_props$recentLocation2.length)>0&&/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:'Recent searches'}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row recent_search auto_loc\",children:props===null||props===void 0?void 0:(_props$recentLocation3=props.recentLocationData)===null||_props$recentLocation3===void 0?void 0:_props$recentLocation3.map(function(item){var _item$address,_JSON$parse4,_JSON$parse5;return(item===null||item===void 0?void 0:(_item$address=item.address)===null||_item$address===void 0?void 0:_item$address.length)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_4\",onClick:function onClick(){var _JSON$parse3,_item$location2,_item$location3;setAddressText((_JSON$parse3=JSON.parse(item===null||item===void 0?void 0:item.address))===null||_JSON$parse3===void 0?void 0:_JSON$parse3.mainText);setSelectedAddress({lat:item===null||item===void 0?void 0:(_item$location2=item.location)===null||_item$location2===void 0?void 0:_item$location2.coordinates[1],lng:item===null||item===void 0?void 0:(_item$location3=item.location)===null||_item$location3===void 0?void 0:_item$location3.coordinates[0]});setSuggestion(JSON.parse(item===null||item===void 0?void 0:item.address));},children:/*#__PURE__*/_jsxs(\"div\",{className:\"autosuggestion_icon card loc name\",children:[/*#__PURE__*/_jsx(\"span\",{children:(_JSON$parse4=JSON.parse(item===null||item===void 0?void 0:item.address))===null||_JSON$parse4===void 0?void 0:_JSON$parse4.mainText}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:(_JSON$parse5=JSON.parse(item===null||item===void 0?void 0:item.address))===null||_JSON$parse5===void 0?void 0:_JSON$parse5.secondaryText})]})});})})]}):null,/*#__PURE__*/_jsx(\"li\",{className:\"date_box \".concat((calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.startDate)?'date_value':''),children:/*#__PURE__*/_jsxs(\"div\",{ref:calenderRef,className:\"custom_date_range\",id:\"date-range-div\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text_field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detect_icon_ltr calendar\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:checkPlaceholder(calenderRange1),onFocus:function onFocus(){setInputFocus3(true);setInputFocus1(false);setInputFocus2(false);}}),(calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.startDate)&&inputFocus3&&/*#__PURE__*/_jsx(\"span\",{className:\"detect_icon\",children:/*#__PURE__*/_jsx(\"img\",{src:cross,alt:\"cross\",onClick:function onClick(){setCalenderRange1({startDate:'',endDate:'',key:'selection1'});console.log({localInfo:props.localInfo});props.getTitleInfo(_objectSpread(_objectSpread({},props.localInfo),{},{from_date:'',to_date:''}));}})})]}),inputFocus3?/*#__PURE__*/_jsx(\"div\",{className:\"custom_autosuggestion\",id:\"custom-date-range-div\",children:/*#__PURE__*/_jsx(DateRange,{onChange:handleCalenderRange,ranges:!moment(calenderRange1===null||calenderRange1===void 0?void 0:calenderRange1.startDate).isValid()?[{startDate:new Date(),endDate:new Date(),key:'selection1'}]:[calenderRange1],moveRangeOnFirstSelection:false,rangeColors:[\"#fee600\",\"#b5b5b5\"],showDateDisplay:false,showSelectionPreview:true,months:2,showPreview:true,minDate:new Date(),maxDate:moment().add(2,'years').toDate(),direction:\"horizontal\",fixedHeight:true})}):null]})}),/*#__PURE__*/_jsx(\"div\",{className:\"search_btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"fill_btn btn-effect\",onClick:bannerSearchClicked,children:/*#__PURE__*/_jsx(\"img\",{src:search,alt:\"search\"})})})]})})]});};var mapStateToProps=function mapStateToProps(state){return{searchJobListData:state.homeSearch.searchJobListData,recentSearchJobData:state.homeSearch.recentSearchJobData,homeSearchJobData:state.homeSearch.homeSearchJobData,tradeListData:state.auth.tradeListData,localChanges:state.jobs.localChanges,recentLocationData:state.homeSearch.recentLocationData};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getSearchJobList:getSearchJobList,getRecentSearchList:getRecentSearchList,postHomeSearchData:postHomeSearchData,isHandleChanges:isHandleChanges,getRecentLocationList:getRecentLocationList},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(BannerSearch);/**\n!loading &&\naddressText?.length > 2 &&\n!suggestions?.length &&\n!enableCurrentLocation &&\n!Object.keys(selectedAddress).length\n**/","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/shared/bannerSearchProps.tsx"],"names":["React","useState","useEffect","Constants","PlacesAutocomplete","DateRange","Searchicon","search","Location","cross","icgps","residential","close","connect","bindActionCreators","getSearchJobList","getRecentSearchList","postHomeSearchData","getRecentLocationList","isHandleChanges","useDetectClickOutside","moment","Geocode","setShowToast","deleteRecentSearch","renderTimeWithCustomFormat","moengage","mixPanel","MoEConstants","setApiKey","SocialAuth","GOOGLE_GEOCODE_KEY","setLanguage","example_calender","startDate","endDate","key","useStateFromProp","initialValue","value","setValue","BannerSearch","props","props_selected","selectedItem","localChanges","checkOnChange","setOnChange","showOnlyTradeName","setShowOnlyTradeName","locationStatus","setLocationStatus","stateData","setStateData","searchText","setSearchText","addressText","setAddressText","recentLocation","setRecentLocation","selectedAddress","setSelectedAddress","enableCurrentLocation","setCurrentLocations","errors","setErrors","selectedTrade","setSelectedTrade","inputFocus1","setInputFocus1","inputFocus2","setInputFocus2","inputFocus3","setInputFocus3","calenderRange1","setCalenderRange1","suggestionSelected","setSuggestion","handleOnOutsideSearch","handleOnOutsideLocation","handleOnOutsideCalender","searchRef","onTriggered","locationRef","locationRefClone","calenderRef","sortBy","setSortBy","handleCalenderRange","item","selection1","console","log","localInfo","getTitleInfo","from_date","format","to_date","checkRender","setRender","state","location","local_info","length","name","createdAt","image","specializationsId","specializations","trade_name","_id","tradeId","calender","Object","keys","coordinates","valueItem","lat","lng","address","doingLocalChanges","isTradeName","specializationId","fetchItemsSearchWithLocation","fetch","recentLocationData","updateGetTitleInfo","getRecentLocationData","recentLocationDetails","index","long","fromLatLng","response","formatedCityText","JSON","parse","stringify","results","cityText","formatted_address","includes","split","newData","mainText","slice","join","secondaryText","allText","err","checkIfExist","isLength","cleanRecentSearch","event","recentSearchId","stopPropagation","data","id","status","res","success","recentJobSearches","props_Clone","tradeListData","recentSearchJobData","map","setItemSearch","selected_url","specialisations","item_spec","getItem","sp","renderJobResult","searchJobListData","onError","clearSuggestions","validateForm","bannerSearchClicked","selected_address","selected_item","props_trade","prev_address","suggestion_selected","Array","isArray","page","isFiltered","parseFloat","isValid","case_1","count","mData","timeStamp","getCurrentTimeStamp","category","find","i","moE_SendEvent","SEARCHED_FOR_TRADIES","mixP_SendEvent","filterFromAddress","city","country","address_components","j","types","long_name","toLowerCase","getCurrentLocation","navigator","permissions","query","itemToggle","local_position","localStorage","position","toString","checkPlaceholder","fromDate","toDate","result","state_data","length_spec","custom_name","handleChangeToggle","e","target","trimLeft","searchedJob","componentRestrictions","placeId","suggestion","indexOf","formattedSuggestion","fromAddress","geometry","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","className","selectedMapLocation","style","active","backgroundColor","cursor","minHeight","Date","add","mapStateToProps","homeSearch","homeSearchJobData","auth","jobs","mapDispatchToProps","dispatch"],"mappings":"4oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA;AACA,MAAOC,CAAAA,kBAAP,KAAiE,2BAAjE,CAIA;AACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAO,kCAAP,CAA2C;AAC3C,MAAO,yCAAP,CAAkD;AAElD,MAAOC,CAAAA,UAAP,KAAuB,qCAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mCAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qCAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qCAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gCAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wCAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,sCAAlB,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,gBAAT,CAA2BC,mBAA3B,CAAgDC,kBAAhD,CAAoEC,qBAApE,KAAiG,gCAAjG,CACA,OAASC,eAAT,KAAgC,0BAAhC,CACA;AACA,OAASC,qBAAT,KAAsC,4BAAtC,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,OAASC,YAAT,KAA6B,4BAA7B,CAEA,OAASC,kBAAT,KAAmC,gCAAnC,CAEA,OAAqBC,0BAArB,KAAuD,oBAAvD,CACA,OAASC,QAAT,CAAmBC,QAAnB,KAAmC,+BAAnC,CACA,OAASC,YAAT,KAA6B,uBAA7B,C,6IACAN,OAAO,CAACO,SAAR,CAAkB1B,SAAS,CAAC2B,UAAV,CAAqBC,kBAAvC,EACAT,OAAO,CAACU,WAAR,CAAoB,IAApB,EA+BA,GAAMC,CAAAA,gBAAgB,CAAG,CAAEC,SAAS,CAAE,EAAb,CAAiBC,OAAO,CAAE,EAA1B,CAA8BC,GAAG,CAAE,YAAnC,CAAzB,CAEA,MAAO,SAASC,CAAAA,gBAAT,CAA0BC,YAA1B,CAA6C,CAChD,cAA0BrC,QAAQ,CAACqC,YAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAEAtC,SAAS,CAAC,iBAAMsC,CAAAA,QAAQ,CAACF,YAAD,CAAd,EAAD,CAA+B,CAACA,YAAD,CAA/B,CAAT,CAEA,MAAO,CAACC,KAAD,CAAQC,QAAR,CAAP,CACH,CAED,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAsB,yEACvC,GAAIC,CAAAA,cAAc,CAAGD,KAAK,CAACE,YAA3B,CACA,GAAQA,CAAAA,YAAR,CAAoGF,KAApG,CAAQE,YAAR,CAAsBzB,eAAtB,CAAoGuB,KAApG,CAAsBvB,eAAtB,CAAuC0B,YAAvC,CAAoGH,KAApG,CAAuCG,YAAvC,CAAqD7B,mBAArD,CAAoG0B,KAApG,CAAqD1B,mBAArD,CAA0EE,qBAA1E,CAAoGwB,KAApG,CAA0ExB,qBAA1E,CAEA,eAAqCjB,QAAQ,CAAC,KAAD,CAA7C,yCAAO6C,aAAP,eAAsBC,WAAtB,eACA,eAAkD9C,QAAQ,CAAC,KAAD,CAA1D,yCAAO+C,iBAAP,eAA0BC,oBAA1B,eAEA,eAA4ChD,QAAQ,CAAC,IAAD,CAApD,yCAAOiD,cAAP,eAAuBC,iBAAvB,eACA,eAAkClD,QAAQ,CAAM,IAAN,CAA1C,0CAAOmD,SAAP,gBAAkBC,YAAlB,gBACA,gBAAoCpD,QAAQ,CAAC,EAAD,CAA5C,2CAAOqD,UAAP,gBAAmBC,aAAnB,gBACA,gBAAsCtD,QAAQ,CAAM,IAAN,CAA9C,2CAAOuD,WAAP,gBAAoBC,cAApB,gBACA,gBAA4CxD,QAAQ,CAAM,EAAN,CAApD,2CAAOyD,cAAP,gBAAuBC,iBAAvB,gBAA+D;AAC/D,gBAA8C1D,QAAQ,CAAC,EAAD,CAAtD,2CAAO2D,eAAP,gBAAwBC,kBAAxB,gBACA,gBAAqD5D,QAAQ,CAAU,KAAV,CAA7D,2CAAO6D,qBAAP,gBAA8BC,mBAA9B,gBACA,gBAA4B9D,QAAQ,CAAM,EAAN,CAApC,2CAAO+D,MAAP,gBAAeC,SAAf,gBACA,gBAA0ChE,QAAQ,CAAC,EAAD,CAAlD,2CAAOiE,aAAP,gBAAsBC,gBAAtB,gBAEA,gBAAsClE,QAAQ,CAAU,KAAV,CAA9C,2CAAOmE,WAAP,gBAAoBC,cAApB,gBACA,gBAAsCpE,QAAQ,CAAU,KAAV,CAA9C,2CAAOqE,WAAP,gBAAoBC,cAApB,gBACA,gBAAsCtE,QAAQ,CAAU,KAAV,CAA9C,2CAAOuE,WAAP,gBAAoBC,cAApB,gBAEA,gBAA4CxE,QAAQ,CAAMgC,gBAAN,CAApD,2CAAOyC,cAAP,gBAAuBC,iBAAvB,gBAEA,gBAA4C1E,QAAQ,CAAC,EAAD,CAApD,2CAAO2E,kBAAP,gBAA2BC,aAA3B,gBAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAChC/B,WAAW,CAAC,KAAD,CAAX,CACAsB,cAAc,CAAC,KAAD,CAAd,CACH,CAHD,CAIA,GAAMU,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,SAAMR,CAAAA,cAAc,CAAC,KAAD,CAApB,EAAhC,CACA,GAAMS,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,SAAMP,CAAAA,cAAc,CAAC,KAAD,CAApB,EAAhC,CAEA,GAAMQ,CAAAA,SAAS,CAAG7D,qBAAqB,CAAC,CAAE8D,WAAW,CAAEJ,qBAAf,CAAD,CAAvC,CACA,GAAMK,CAAAA,WAAW,CAAG/D,qBAAqB,CAAC,CACtC8D,WAAW,CAAE,sBAAM,CACf;AACAH,uBAAuB,GACvB;AACH,CALqC,CAAD,CAAzC,CAQA,GAAMK,CAAAA,gBAAgB,CAAGhE,qBAAqB,CAAC,CAC3C8D,WAAW,CAAE,sBAAM,CACf;AACA;AACA;AACH,CAL0C,CAAD,CAA9C,CAOA,GAAMG,CAAAA,WAAW,CAAGjE,qBAAqB,CAAC,CAAE8D,WAAW,CAAEF,uBAAf,CAAD,CAAzC,CAEA,gBAA4B/E,QAAQ,CAAC,CAAD,CAApC,2CAAOqF,MAAP,gBAAeC,SAAf,gBAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,IAAD,CAAe,sCACvCd,iBAAiB,CAACc,IAAI,CAACC,UAAN,CAAjB,CACAC,OAAO,CAACC,GAAR,CAAY,CACRC,SAAS,CAAEnD,KAAK,CAACmD,SADT,CAAZ,EAGAnD,KAAK,CAACoD,YAAN,gCACOpD,KAAK,CAACmD,SADb,MAEIE,SAAS,CAAE1E,MAAM,kBAACoE,IAAI,CAACC,UAAN,0CAAC,gBAAiBxD,SAAlB,CAAN,CAAmC8D,MAAnC,CAA0C,YAA1C,CAFf,CAGIC,OAAO,CAAE5E,MAAM,mBAACoE,IAAI,CAACC,UAAN,2CAAC,iBAAiBvD,OAAlB,CAAN,CAAiC6D,MAAjC,CAAwC,YAAxC,CAHb,IAKH,CAVD,CAYA,gBAAiC/F,QAAQ,CAAC,KAAD,CAAzC,2CAAOiG,WAAP,gBAAoBC,SAApB,gBAGAjG,SAAS,CAAC,UAAM,CACZyF,OAAO,CAACC,GAAR,CAAY,CAAEhC,eAAe,CAAfA,eAAF,CAAZ,CAAiC,KAAjC,EACH,CAFQ,CAEN,CAACA,eAAD,CAFM,CAAT,CAIA1D,SAAS,CAAC,UAAM,CACZ,GAAIkG,CAAAA,KAAK,CAAG1D,KAAK,CAAC2D,QAAN,CAAeD,KAA3B,CACA,GAAIE,CAAAA,UAAe,CAAG5D,KAAK,CAACmD,SAA5B,CAEA,GAAI,EAACvC,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEiD,MAAb,GAAuB,CAACL,WAA5B,CAAyC,2CACrC3C,aAAa,CAAC6C,KAAK,CAACI,IAAP,CAAb,CACAnD,YAAY,CAAC,CACToD,SAAS,CAAE,IADF,CAETC,KAAK,CAAE,IAFE,CAGTF,IAAI,CAAEJ,KAAF,SAAEA,KAAF,iBAAEA,KAAK,CAAEI,IAHJ,CAITG,iBAAiB,CAAEP,KAAF,SAAEA,KAAF,iBAAEA,KAAK,CAAEQ,eAJjB,CAKTC,UAAU,CAAET,KAAF,SAAEA,KAAF,iBAAEA,KAAK,CAAEI,IALV,CAMTM,GAAG,CAAEV,KAAF,SAAEA,KAAF,iBAAEA,KAAK,CAAEW,OANH,CAAD,CAAZ,CASA,GAAIX,KAAK,CAACY,QAAN,EAAkBC,MAAM,CAACC,IAAP,CAAYd,KAAK,CAACY,QAAlB,EAA4BT,MAAlD,CAA0D,CACtD5B,iBAAiB,CAACyB,KAAK,CAACY,QAAP,CAAjB,CACH,CAED,GAAI,CAAAZ,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEC,QAAP,IAAmBD,KAAnB,SAAmBA,KAAnB,kCAAmBA,KAAK,CAAEC,QAA1B,iEAAmB,gBAAiBc,WAApC,gDAAmB,sBAA8BZ,MAAjD,CAAJ,CAA6D,CACzD,GAAIY,CAAAA,WAAW,CAAGf,KAAK,CAACC,QAAN,CAAec,WAAjC,CACA,GAAIC,CAAAA,SAAS,CAAG,CACZC,GAAG,CAAEF,WAAW,CAAC,CAAD,CADJ,CAEZG,GAAG,CAAEH,WAAW,CAAC,CAAD,CAFJ,CAAhB,CAIAtD,kBAAkB,CAACuD,SAAD,CAAlB,CACH,CAED,GAAIhB,KAAJ,SAAIA,KAAJ,iBAAIA,KAAK,CAAEmB,OAAX,CAAoB,CAChB9D,cAAc,CAAC2C,KAAK,CAACmB,OAAP,CAAd,CACH,CACDpB,SAAS,CAAC,IAAD,CAAT,CACH,CACD;AACA;AACA,GAAIc,MAAM,CAACC,IAAP,CAAYZ,UAAZ,EAAwBC,MAAxB,EAAkC,EAACD,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEkB,iBAAb,CAAtC,CAAsE,CAClE,GAAI,CAAAlE,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEiD,MAAZ,KAAuBD,UAAvB,SAAuBA,UAAvB,iBAAuBA,UAAU,CAAEE,IAAnC,CAAJ,CAA6C,CACzC,GAAIF,UAAJ,SAAIA,UAAJ,iBAAIA,UAAU,CAAEhB,MAAhB,CAAwB,CACpBC,SAAS,CAACe,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEhB,MAAb,CAAT,CACH,CAED,GAAI,EAACgB,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEmB,WAAb,CAAJ,CAA8B,CAC1BlE,aAAa,CAAC+C,UAAU,CAACE,IAAZ,CAAb,CACH,CAFD,IAEO,CACHjD,aAAa,CAAC,EAAD,CAAb,CACH,CAEDF,YAAY,CAAC,CACToD,SAAS,CAAE,IADF,CAETC,KAAK,CAAE,IAFE,CAGTF,IAAI,CAAEF,UAAF,SAAEA,UAAF,iBAAEA,UAAU,CAAEE,IAHT,CAITG,iBAAiB,CAAEL,UAAF,SAAEA,UAAF,iBAAEA,UAAU,CAAEoB,gBAJtB,CAKTb,UAAU,CAAE,IALH,CAMTC,GAAG,CAAER,UAAF,SAAEA,UAAF,iBAAEA,UAAU,CAAES,OANR,CAAD,CAAZ,CAQH,CACJ,CAEJ,CA1DQ,CA0DN,CAACrE,KAAD,CA1DM,CAAT,CA4DAxC,SAAS,CAAC,UAAM,CACZ,GAAI,CAAC,CAACsD,WAAD,EAAgB,EAACA,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAE+C,MAAd,CAAjB,GAA0CjC,WAA9C,CAA2D,CACvDT,kBAAkB,CAAC,EAAD,CAAlB,CACAM,gBAAgB,CAAC,EAAD,CAAhB,CACH,CAED,GAAI,EAACX,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAE+C,MAAd,CAAJ,CAA0B,CACtBoB,4BAA4B,CAAC,CAAD,CAA5B,CACH,CACJ,CATQ,CASN,CAACnE,WAAD,CATM,CAAT,CAWAtD,SAAS,CAAC,UAAM,CACZyH,4BAA4B,GAC5B1E,oBAAoB,CAACP,KAAK,CAACM,iBAAP,CAApB,CACH,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAM2E,CAAAA,4BAA4B,CAAG,QAA/BA,CAAAA,4BAA+B,CAACC,KAAD,CAAiB,CAClD,GAAI5G,mBAAmB,EAAI4G,KAAK,GAAK,CAArC,CAAwC,CACpC5G,mBAAmB,GACtB,CACD,GAAIE,qBAAJ,CAA2B,CACvBA,qBAAqB,GACxB,CACJ,CAPD,CASAhB,SAAS,CAAC,UAAM,CACZ;AACA;AACA;AACA;AACH,CALQ,CAKN,CAACwC,KAAK,CAACmF,kBAAP,CAA2BnE,cAA3B,CALM,CAAT,CAQA,GAAMoE,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC7BpF,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEoD,YAAP,gCACOpD,KADP,SACOA,KADP,iBACOA,KAAK,CAAEmD,SADd,MAEI2B,iBAAiB,CAAE,IAFvB,IAIH,CALD,CAOAtH,SAAS,CAAC,UAAM,CACZ4H,kBAAkB,GAClB,GAAI,CAAAxE,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEiD,MAAZ,EAAqB,CAAzB,CAA4B,CACxB7D,KAAK,CAAC3B,gBAAN,CAAuBuC,UAAvB,EACH,CACD,GAAI,EAACA,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEiD,MAAb,CAAJ,CAAyB,CACrBpC,gBAAgB,CAAC,EAAD,CAAhB,CACH,CACJ,CARQ,CAQN,CAACb,UAAD,CARM,CAAT,CAUApD,SAAS,CAAC,UAAM,CAEf,CAFQ,CAEN,CAAC0D,eAAD,CAFM,CAAT,CAIA,GAAMmE,CAAAA,qBAAqB,0FAAG,4WACtBC,qBADsB,CACO,EADP,CAGtBH,kBAHsB,CAGDnF,KAAK,CAACmF,kBAHL,CAIjBI,KAJiB,CAIT,CAJS,aAINA,KAAK,CAAGJ,kBAAkB,CAACtB,MAJrB,2BAKlBd,KALkB,CAKXoC,kBAAkB,CAACI,KAAD,CALP,iBAOdZ,GAPc,CAOR5B,KAAI,CAACY,QAAL,CAAcc,WAAd,CAA0B,CAA1B,CAPQ,CAQde,IARc,CAQPzC,KAAI,CAACY,QAAL,CAAcc,WAAd,CAA0B,CAA1B,CARO,wBASG7F,CAAAA,OAAO,CAAC6G,UAAR,CAAmBd,GAAnB,CAAwBa,IAAxB,CATH,SASdE,QATc,eAUdC,gBAVc,CAUKC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,QAAf,SAAeA,QAAf,iBAAeA,QAAQ,CAAEK,OAAV,CAAkB,CAAlB,CAAf,CAAX,CAVL,CAWdC,QAXc,CAWE,IAXF,CAYlB,GAAIL,gBAAJ,SAAIA,gBAAJ,iBAAIA,gBAAgB,CAAEM,iBAAlB,CAAoCC,QAApC,CAA6C,GAA7C,CAAJ,CAAuD,CACnDF,QAAQ,CAAGL,gBAAH,SAAGA,gBAAH,iBAAGA,gBAAgB,CAAEM,iBAAlB,CAAoCE,KAApC,CAA0C,GAA1C,CAAX,CACH,CAFD,IAEO,CACHH,QAAQ,CAAGL,gBAAH,SAAGA,gBAAH,iBAAGA,gBAAgB,CAAEM,iBAAlB,CAAoCE,KAApC,CAA0C,GAA1C,CAAX,CACH,CACKC,OAjBY,CAiBF,CACZC,QAAQ,CAAE,YAAAL,QAAQ,QAAR,sCAAUnC,MAAV,EAAmB,CAAnB,aAAuBmC,QAAvB,qCAAuB,WAAUM,KAAV,CAAgB,CAAhB,CAAmB,CAAnB,EAAsBC,IAAtB,CAA2B,GAA3B,CAAvB,aAAyDP,QAAzD,qCAAyD,WAAUM,KAAV,CAAgB,CAAhB,CAAmB,CAAnB,EAAsBC,IAAtB,CAA2B,GAA3B,CADvD,CAEZC,aAAa,CAAE,aAAAR,QAAQ,QAAR,wCAAUnC,MAAV,EAAmB,CAAnB,aAAuBmC,QAAvB,qCAAuB,WAAUM,KAAV,CAAgB,CAAhB,aAAmBN,QAAnB,qCAAmB,WAAUnC,MAA7B,EAAqC0C,IAArC,CAA0C,GAA1C,CAAvB,aAAwEP,QAAxE,qCAAwE,WAAUM,KAAV,CAAgB,CAAhB,aAAmBN,QAAnB,qCAAmB,WAAUnC,MAA7B,EAAqC0C,IAArC,CAA0C,GAA1C,CAF3E,CAjBE,CAqBlBjB,qBAAqB,CAACC,KAAD,CAArB,CAA+B,CAC3BU,iBAAiB,CAAEN,gBAAF,SAAEA,gBAAF,iBAAEA,gBAAgB,CAAEM,iBADV,CAE3BtC,QAAQ,CAAE,CAAEc,WAAW,CAAE1B,KAAF,SAAEA,KAAF,iCAAEA,KAAI,CAAEY,QAAR,yCAAE,eAAgBc,WAA/B,CAFiB,CAG3BgC,OAAO,CAAEL,OAHkB,CAA/B,CAMA,GAAI,CAAAd,qBAAqB,OAArB,EAAAA,qBAAqB,SAArB,QAAAA,qBAAqB,CAAEzB,MAAvB,4BAAkC7D,KAAK,CAACmF,kBAAxC,gDAAkC,sBAA0BtB,MAA5D,CAAJ,CAAwE,CACpE5C,iBAAiB,CAACqE,qBAAD,CAAjB,CACH,CA7BiB,iFA+BlBrC,OAAO,CAACC,GAAR,CAAY,CAAEwD,GAAG,YAAL,CAAZ,EA/BkB,QAI6BnB,KAAK,EAJlC,4FAAH,kBAArBF,CAAAA,qBAAqB,0CAA3B,CAqCA,GAAMsB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACvC,GAAD,CAAc,CAC/B,GAAI5C,aAAJ,CAAmB,CACf,GAAIoF,CAAAA,QAAQ,CAAGrC,MAAM,CAACC,IAAP,CAAYhD,aAAZ,EAA2BqC,MAA1C,CACA,GAAI+C,QAAJ,CAAc,CACV,GAAI7D,CAAAA,MAAS,CAAGvB,aAAhB,CACA,GAAI,CAAAuB,MAAI,OAAJ,EAAAA,MAAI,SAAJ,QAAAA,MAAI,CAAEqB,GAAN,IAAcA,GAAlB,CAAuB,CACnB,MAAO,KAAP,CACH,CACJ,CACJ,CACD,MAAO,MAAP,CACH,CAXD,CAaA,GAAMyC,CAAAA,iBAAiB,2FAAG,kBAAOC,KAAP,CAAmBC,cAAnB,mIACtBD,KAAK,CAACE,eAAN,GACMC,IAFgB,CAET,CACTC,EAAE,CAAEH,cADK,CAETI,MAAM,CAAE,CAFC,CAFS,wBAMJrI,CAAAA,kBAAkB,CAACmI,IAAD,CANd,QAMhBG,GANgB,gBAOtB,GAAIA,GAAG,CAACC,OAAR,CAAiB,CACb,GAAI/I,mBAAJ,CAAyB,CACrBA,mBAAmB,GACtB,CACJ,CAXqB,wDAAH,kBAAjBuI,CAAAA,iBAAiB,iDAAvB,CAcA,GAAMS,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,yEAC5B,GAAIC,CAAAA,WAAgB,CAAGvH,KAAvB,CACA,GAAIwH,CAAAA,aAAa,CAAGD,WAAW,CAACC,aAAhC,CACA,mBACI,sCACI,aAAK,SAAS,CAAC,uBAAf,CAAuC,EAAE,CAAC,uBAA1C,WACK,CAAAxH,KAAK,OAAL,EAAAA,KAAK,SAAL,+BAAAA,KAAK,CAAEyH,mBAAP,sEAA4B5D,MAA5B,eACG,MAAC,KAAD,CAAO,QAAP,yBACI,aAAM,SAAS,CAAC,WAAhB,6BADJ,cAEI,YAAK,SAAS,CAAC,wBAAf,UACK,yBAAA7D,KAAK,CAACyH,mBAAN,wEAA2B5D,MAA3B,EAAoC,CAApC,2BAAyC7D,KAAK,CAACyH,mBAA/C,iDAAyC,uBAA2BnB,KAA3B,CAAiC,CAAjC,CAAoC,CAApC,EAAuCoB,GAAvC,CAA2C,SAAC3E,IAAD,CAAe,CAChG,mBACI,YACI,SAAS,CAAC,eADd,CAEI,OAAO,CAAE,kBAAM,CACX4E,aAAa,CAAC,CACV5D,SAAS,CAAEhB,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEgB,SADP,CAEVC,KAAK,CAAEjB,IAAI,CAACiB,KAFF,CAGVF,IAAI,CAAEf,IAAI,CAACe,IAHD,CAIVG,iBAAiB,CAAE,CAAClB,IAAI,CAACkB,iBAAN,CAJT,CAKVE,UAAU,CAAEpB,IAAI,CAACoB,UALP,CAMVC,GAAG,CAAErB,IAAI,CAACqB,GANA,CAAD,CAAb,CAQA3C,gBAAgB,CAAC,EAAD,CAAhB,CACH,CAZL,uBAaI,aAAK,SAAS,CAAC,mBAAf,wBACI,eAAQ,SAAS,CAAC,KAAlB,uBACI,YAAK,GAAG,CAAE,CAAAsB,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEiB,KAAN,GAAe/F,WAAzB,CAAsC,GAAG,CAAC,MAA1C,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,UAAf,wBACI,sBAAO8E,IAAI,CAACe,IAAZ,EADJ,cAEI,aAAM,SAAS,CAAC,MAAhB,UAAwBf,IAAI,CAACoB,UAA7B,EAFJ,GAJJ,cAQI,aACI,SAAS,CAAC,aADd,CAEI,OAAO,CAAE,iBAAC2C,KAAD,CAAW,CAAED,iBAAiB,CAACC,KAAD,CAAQ/D,IAAI,CAACgE,cAAb,CAAjB,CAA+C,CAFzE,uBAGI,YAAK,GAAG,CAAE7I,KAAV,CAAiB,GAAG,CAAC,QAArB,EAHJ,EARJ,GAbJ,EADJ,CA6BH,CA9ByC,CAAzC,CADL,EAFJ,GADH,CAqCK,IAtCV,cAwCI,aAAK,SAAS,CAAC,6BAAf,wBACI,aAAM,SAAS,CAAC,WAAhB,UAA6B,YAA7B,EADJ,cAEI,oBACKsJ,aADL,SACKA,aADL,iBACKA,aAAa,CAAEE,GAAf,CAAmB,mBAAGtD,CAAAA,GAAH,OAAGA,GAAH,CAAQD,UAAR,OAAQA,UAAR,CAAoByD,YAApB,OAAoBA,YAApB,CAAkCC,eAAlC,OAAkCA,eAAlC,oBAChB,YACI,OAAO,CAAE,kBAAM,CACX,GAAIC,CAAAA,SAAc,CAAGD,eAArB,CACA,GAAIC,SAAJ,SAAIA,SAAJ,iBAAIA,SAAS,CAAEjE,MAAf,CAAuB,CACnB,GAAIkE,CAAAA,OAAO,CAAGD,SAAS,CAAC,CAAD,CAAvB,CACA,GAAIC,OAAJ,CAAa,CACTpH,YAAY,CAAC,CACTqD,KAAK,CAAE4D,YADE,CAET9D,IAAI,CAAEiE,OAAF,SAAEA,OAAF,iBAAEA,OAAO,CAAEjE,IAFN,CAGTG,iBAAiB,CAAE4D,eAAe,CAACH,GAAhB,CAAoB,SAACM,EAAD,QAAaA,CAAAA,EAAE,CAAC5D,GAAhB,EAApB,CAHV,CAITD,UAAU,CAAEA,UAJH,CAKTC,GAAG,CAAEA,GALI,CAAD,CAAZ,CAOAvD,aAAa,CAACsD,UAAD,CAAb,CACH,CACD5D,oBAAoB,CAAC,IAAD,CAApB,CACAkB,gBAAgB,CAAC,CAAE2C,GAAG,CAAHA,GAAF,CAAOD,UAAU,CAAVA,UAAP,CAAmByD,YAAY,CAAZA,YAAnB,CAAiCC,eAAe,CAAfA,eAAjC,CAAD,CAAhB,CACH,CACJ,CAlBL,CAmBI,SAAS,CAAElB,YAAY,CAACvC,GAAD,CAAZ,CAAoB,QAApB,CAA+B,EAnB9C,wBAoBI,qCACI,YAAK,GAAG,CAAEwD,YAAV,CAAwB,GAAG,CAAC,EAA5B,EADJ,EApBJ,cAuBI,aAAM,SAAS,CAAC,MAAhB,UAAwBzD,UAAxB,EAvBJ,GADgB,EAAnB,CADL,EAFJ,GAxCJ,GADJ,EADJ,CA6EH,CAhFD,CAkFA,GAAM8D,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,2BAC1B,GAAIjI,KAAJ,SAAIA,KAAJ,wCAAIA,KAAK,CAAEkI,iBAAX,gDAAI,sBAA0BrE,MAA9B,CAAsC,4BAClC,mBACI,YAAK,SAAS,CAAC,uBAAf,CAAuC,EAAE,CAAC,iCAA1C,uBACI,YAAK,SAAS,CAAC,eAAf,uBACI,WAAI,SAAS,CAAC,WAAd,kCACK7D,KAAK,CAACkI,iBADX,iDACK,uBAAyBR,GAAzB,CAA6B,SAAC3E,IAAD,CAAe,CACzC,mBACI,YAAI,OAAO,CAAE,kBAAM,CAAE4E,aAAa,CAAC5E,IAAD,CAAb,CAAqB,CAA1C,wBACI,eAAQ,SAAS,CAAC,UAAlB,uBACI,YAAK,GAAG,CAAEA,IAAI,CAACiB,KAAL,CAAajB,IAAI,CAACiB,KAAlB,CAA0B/F,WAApC,CAAiD,GAAG,CAAC,MAArD,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,SAAf,wBACI,aAAM,SAAS,CAAC,MAAhB,UAAwB8E,IAAI,CAACe,IAAL,EAAa,EAArC,EADJ,cAEI,aAAM,SAAS,CAAC,MAAhB,UAAwBf,IAAI,CAACoB,UAAL,EAAmB,EAA3C,EAFJ,GAJJ,GADJ,CAUH,CAXA,CADL,EADJ,EADJ,EADJ,CAoBH,CACD,MAAO,KAAP,CACH,CAxBD,CA0BA,GAAMgE,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAChB,MAAD,CAAiBiB,gBAAjB,CAAgD,CAC5DnF,OAAO,CAACC,GAAR,CAAY,8CAAZ,CAA4DiE,MAA5D,EACAiB,gBAAgB,GACnB,CAHD,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,MAAO,KAAP,CACH,CAFD,CAIA,GAAMV,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAC5E,IAAD,CAAe,CACjCpC,YAAY,CAACoC,IAAD,CAAZ,CACAtB,gBAAgB,CAAC,EAAD,CAAhB,CACAZ,aAAa,CAAC,CAAAkC,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEe,IAAN,GAAc,EAAf,CAAb,CACH,CAJD,CAMA,GAAMwE,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,2CAC9B,GAAIC,CAAAA,gBAAqB,CAAGrH,eAA5B,CACA,GAAIsH,CAAAA,aAAkB,CAAGxI,KAAH,SAAGA,KAAH,iBAAGA,KAAK,CAAEE,YAAhC,CACA,GAAIuI,CAAAA,WAAgB,CAAGD,aAAH,SAAGA,aAAH,iBAAGA,aAAa,CAAEhH,aAAtC,CACA,GAAIoC,CAAAA,UAAe,CAAG5D,KAAH,SAAGA,KAAH,iBAAGA,KAAK,CAAEmD,SAA7B,CACA,GAAIuF,CAAAA,YAAiB,CAAG1I,KAAH,SAAGA,KAAH,kCAAGA,KAAK,CAAE2D,QAAV,iEAAG,gBAAiBD,KAApB,gDAAG,sBAAwBmB,OAAhD,CAEA,GAAI8D,CAAAA,mBAAwB,CAAG/E,UAAH,SAAGA,UAAH,iBAAGA,UAAU,CAAE1B,kBAA3C,CAEA,GAAIyG,mBAAJ,CAAyB,CACrBA,mBAAmB,CAAG/C,IAAI,CAACE,SAAL,CAAelC,UAAf,SAAeA,UAAf,iBAAeA,UAAU,CAAE1B,kBAA3B,CAAtB,CACH,CAED,GAAIA,kBAAkB,EAAIqC,MAAM,CAACC,IAAP,CAAYtC,kBAAZ,EAAgC2B,MAA1D,CAAkE,CAC9D,GAAI+B,IAAI,CAACE,SAAL,CAAelC,UAAf,SAAeA,UAAf,iBAAeA,UAAU,CAAE1B,kBAA3B,IAAmD0D,IAAI,CAACE,SAAL,CAAe5D,kBAAf,CAAvD,CAA2F,CACvFyG,mBAAmB,CAAG/C,IAAI,CAACE,SAAL,CAAe5D,kBAAf,CAAtB,CACH,CACJ,CAED,GAAImC,CAAAA,OAAY,CAAG,IAAnB,CACA,GAAIW,CAAAA,gBAAqB,CAAG,IAA5B,CAEA,GAAI,EAACpB,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEkB,iBAAb,CAAJ,CAAoC,CAChCT,OAAO,CAAGuE,KAAK,CAACC,OAAN,CAAcjF,UAAd,SAAcA,UAAd,iBAAcA,UAAU,CAAES,OAA1B,EAAqCT,UAArC,SAAqCA,UAArC,iBAAqCA,UAAU,CAAES,OAAjD,CAA2D,CAACT,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAES,OAAb,CAArE,CACAW,gBAAgB,CAAG4D,KAAK,CAACC,OAAN,CAAcjF,UAAd,SAAcA,UAAd,iBAAcA,UAAU,CAAEoB,gBAA1B,EAA8CpB,UAA9C,SAA8CA,UAA9C,iBAA8CA,UAAU,CAAEoB,gBAA1D,CAA6E,CAACpB,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEoB,gBAAb,CAAhG,CACH,CAHD,IAGO,CACH,GAAIT,MAAM,CAACC,IAAP,CAAY9D,SAAZ,EAAuBmD,MAA3B,CAAmC,CAC/BQ,OAAO,CAAGuE,KAAK,CAACC,OAAN,CAAcnI,SAAS,CAAC0D,GAAxB,EAA+B1D,SAAS,CAAC0D,GAAzC,CAA+C,CAAC1D,SAAS,CAAC0D,GAAX,CAAzD,CACAY,gBAAgB,CAAG4D,KAAK,CAACC,OAAN,CAAcnI,SAAS,CAACuD,iBAAxB,EAA6CvD,SAAS,CAACuD,iBAAvD,CAA2E,CAACvD,SAAS,CAACuD,iBAAX,CAA9F,CACH,CACJ,CAED,GAAI,EAACvD,SAAD,SAACA,SAAD,iBAACA,SAAS,CAAE0D,GAAZ,GAAmB,EAACqE,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAErE,GAAd,CAAvB,CAA0C,CACtCvF,YAAY,CAAC,IAAD,CAAO,oCAAP,CAAZ,CACA,OACH,CAED,GAAIwJ,YAAY,EAAhB,CAAoB,+EAChB,GAAIpB,CAAAA,KAAS,CAAG,CACZ6B,IAAI,CAAE,CADM,CAEZC,UAAU,CAAE,IAFA,CAGZ1E,OAAO,CAAEA,OAHG,CAIZW,gBAAgB,CAAEA,gBAJN,CAAhB,CAOA,GAAI,YAACX,OAAD,mCAAC,SAASR,MAAV,CAAJ,CAAsB,CAClBhF,YAAY,CAAC,IAAD,CAAO,oCAAP,CAAZ,CACA,OACH,CAED,GAAI,qBAACmG,gBAAD,4CAAC,kBAAkBnB,MAAnB,CAAJ,CAA+B,CACpBoD,KAAP,SAAOA,KAAP,qBAAOA,CAAAA,KAAI,CAAEjC,gBAAb,CACH,CAED,GAAIpC,MAAM,CAAG,CAAb,CAAgB,CACZqE,KAAI,CAAC,QAAD,CAAJ,CAAiBrE,MAAjB,CACH,CAED,GAAI2B,MAAM,CAACC,IAAP,CAAYtD,eAAZ,EAA6B2C,MAAjC,CAAyC,CACrCoD,KAAI,CAAC,UAAD,CAAJ,CAAmB,CACf,cAAe,CACX+B,UAAU,CAACT,gBAAD,SAACA,gBAAD,iBAACA,gBAAgB,CAAE3D,GAAnB,CADC,CAEXoE,UAAU,CAACT,gBAAD,SAACA,gBAAD,iBAACA,gBAAgB,CAAE5D,GAAnB,CAFC,CADA,CAAnB,CAOA,GAAIgE,mBAAJ,CAAyB,CACrB,GAAI7H,WAAJ,CAAiB,CACbmG,KAAI,CAAC,SAAD,CAAJ,CAAkB0B,mBAAlB,CACH,CACJ,CACJ,CAbD,IAaO,CACH,MAAO1B,CAAAA,KAAI,CAACtD,QAAZ,CACH,CAED,GAAIhF,MAAM,CAACqD,cAAD,SAACA,cAAD,iBAACA,cAAc,CAAExC,SAAjB,CAAN,CAAkCyJ,OAAlC,EAAJ,CAAiD,CAC7ChC,KAAI,CAAC,WAAD,CAAJ,CAAoBtI,MAAM,CAACqD,cAAD,SAACA,cAAD,iBAACA,cAAc,CAAExC,SAAjB,CAAN,CAAkC8D,MAAlC,CAAyC,YAAzC,CAApB,CACH,CAFD,IAEO,CACH,MAAO2D,CAAAA,KAAI,CAAC5D,SAAZ,CACH,CAED,GAAI1E,MAAM,CAACqD,cAAD,SAACA,cAAD,iBAACA,cAAc,CAAEvC,OAAjB,CAAN,CAAgCwJ,OAAhC,EAAJ,CAA+C,CAC3ChC,KAAI,CAAC,SAAD,CAAJ,CAAkBtI,MAAM,CAACqD,cAAD,SAACA,cAAD,iBAACA,cAAc,CAAEvC,OAAjB,CAAN,CAAgC6D,MAAhC,CAAuC,YAAvC,CAAlB,CACH,CAFD,IAEO,CACH,MAAO2D,CAAAA,KAAI,CAAC1D,OAAZ,CACH,CAED,GAAIX,MAAM,GAAK,CAAf,CAAkB,kBACd,iBAAI2B,MAAM,CAACC,IAAP,CAAY+D,gBAAZ,CAAJ,uCAAI,aAA+B1E,MAAnC,CAA2C,CACvCoD,KAAI,CAAC,UAAD,CAAJ,CAAmB,CACf,cAAe,CACX+B,UAAU,CAACT,gBAAD,SAACA,gBAAD,iBAACA,gBAAgB,CAAE3D,GAAnB,CADC,CAEXoE,UAAU,CAACT,gBAAD,SAACA,gBAAD,iBAACA,gBAAgB,CAAE5D,GAAnB,CAFC,CADA,CAAnB,CAMH,CACD,GAAIgE,mBAAJ,CAAyB,CACrB,GAAI7H,WAAJ,CAAiB,CACb,GAAIoI,CAAAA,MAAM,CAAG,MAAQP,CAAAA,mBAAR,EAAgC,QAAhC,CAA2CA,mBAA3C,CAAiE/C,IAAI,CAACE,SAAL,CAAe6C,mBAAf,CAA9E,CACA1B,KAAI,CAAC,SAAD,CAAJ,CAAkBnG,WAAW,EAAI6H,mBAAf,CAAqCO,MAArC,CAA8C,EAAhE,CACH,CACJ,CACJ,CAEDlJ,KAAK,CAACoD,YAAN,CAAmB,CACfU,IAAI,CAAElD,UADS,CAEfmE,WAAW,CAAE,KAFE,CAGf;AACAoE,KAAK,CAAE,CAJQ,CAKf9E,OAAO,CAAE4C,KAAI,CAAC5C,OALC,CAMfW,gBAAgB,CAAEiC,KAAI,CAACjC,gBANR,CAOfrB,QAAQ,CAAEsD,KAAI,CAACtD,QAPA,CAQfN,SAAS,CAAE4D,KAAF,SAAEA,KAAF,iBAAEA,KAAI,CAAE5D,SARF,CASfE,OAAO,CAAE0D,KAAF,SAAEA,KAAF,iBAAEA,KAAI,CAAE1D,OATA,CAUfuB,iBAAiB,CAAE,IAVJ,CAWfD,OAAO,CAAEoC,KAAF,SAAEA,KAAF,iBAAEA,KAAI,CAAEpC,OAXA,CAYf3C,kBAAkB,CAAEyG,mBAAmB,CAAG/C,IAAI,CAACC,KAAL,CAAW8C,mBAAX,CAAH,CAAqC,IAZ7D,CAAnB,EAcA3I,KAAK,CAACzB,kBAAN,CAAyB0I,KAAzB,EACA,GAAMmC,CAAAA,KAAK,4CACPC,SAAS,CAAErK,QAAQ,CAACsK,mBAAT,EADJ,CAEPC,QAAQ,CAAEvJ,KAAF,SAAEA,KAAF,wCAAEA,KAAK,CAAEwH,aAAP,CAAqBgC,IAArB,CAA0B,SAACC,CAAD,QAAYA,CAAAA,CAAC,CAACrF,GAAF,IAAU6C,KAAV,SAAUA,KAAV,iBAAUA,KAAI,CAAE5C,OAAN,CAAc,CAAd,CAAV,CAAZ,EAA1B,CAAF,gDAAE,sBAAmEF,UAFtE,EAGH8C,KAAI,CAACpC,OAAL,EAAgB,CAAElB,QAAQ,wBAAKiC,IAAI,CAACC,KAAL,CAAWoB,KAAI,CAACpC,OAAhB,CAAL,sCAAK,YAA0BwB,QAA/B,2BAA2CT,IAAI,CAACC,KAAL,CAAWoB,KAAI,CAACpC,OAAhB,CAA3C,uCAA2C,aAA0B2B,aAArE,CAAV,CAHb,EAKH,CAAAS,KAAI,OAAJ,EAAAA,KAAI,SAAJ,QAAAA,KAAI,CAAE5D,SAAN,GAAmB,CAAE,aAAc4D,KAAd,SAAcA,KAAd,iBAAcA,KAAI,CAAE5D,SAAtB,CALhB,EAMH,CAAA4D,KAAI,OAAJ,EAAAA,KAAI,SAAJ,QAAAA,KAAI,CAAE1D,OAAN,GAAiB,CAAE,WAAY0D,KAAZ,SAAYA,KAAZ,iBAAYA,KAAI,CAAE1D,OAApB,CANd,CAAX,CAQAvE,QAAQ,CAAC0K,aAAT,CAAuBxK,YAAY,CAACyK,oBAApC,CAA0DP,KAA1D,EACAnK,QAAQ,CAAC2K,cAAT,CAAwB1K,YAAY,CAACyK,oBAArC,CAA2DP,KAA3D,EACH,CACJ,CAlID,CAoIA,GAAMS,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACnE,QAAD,CAAmB,CACzC,GAAIoE,CAAAA,IAAJ,CAAUpG,KAAV,CAAiBqG,OAAO,CAAG,IAA3B,CACA,IAAK,GAAIN,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG/D,QAAQ,CAACK,OAAT,CAAiB,CAAjB,EAAoBiE,kBAApB,CAAuCnG,MAA3D,CAAmE4F,CAAC,EAApE,CAAwE,CACpE,IAAK,GAAIQ,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGvE,QAAQ,CAACK,OAAT,CAAiB,CAAjB,EAAoBiE,kBAApB,CAAuCP,CAAvC,EAA0CS,KAA1C,CAAgDrG,MAApE,CAA4EoG,CAAC,EAA7E,CAAiF,CAC7E,OAAQvE,QAAQ,CAACK,OAAT,CAAiB,CAAjB,EAAoBiE,kBAApB,CAAuCP,CAAvC,EAA0CS,KAA1C,CAAgDD,CAAhD,CAAR,EACI,IAAK,UAAL,CACIH,IAAI,CAAGpE,QAAQ,CAACK,OAAT,CAAiB,CAAjB,EAAoBiE,kBAApB,CAAuCP,CAAvC,EAA0CU,SAAjD,CACA,MACJ,IAAK,6BAAL,CACIzG,KAAK,CAAGgC,QAAQ,CAACK,OAAT,CAAiB,CAAjB,EAAoBiE,kBAApB,CAAuCP,CAAvC,EAA0CU,SAAlD,CACA,MACJ,IAAK,SAAL,CACIJ,OAAO,CAAGrE,QAAQ,CAACK,OAAT,CAAiB,CAAjB,EAAoBiE,kBAApB,CAAuCP,CAAvC,EAA0CU,SAApD,CACA,MATR,CAWH,CACJ,CACD,MAAO,CAAEL,IAAI,CAAJA,IAAF,CAAQpG,KAAK,CAALA,KAAR,CAAeqG,OAAO,CAAEA,OAAO,CAACK,WAAR,EAAxB,CAAP,CACH,CAlBD,CAoBA,GAAMC,CAAAA,kBAAkB,2FAAG,wUACKC,SADL,4DACK,WAAWC,WADhB,gDACK,sBAAwBC,KAAxB,CAA8B,CAAE1G,IAAI,CAAE,aAAR,CAA9B,CADL,QACnB2G,UADmB,gBAEvBhK,iBAAiB,CAACgK,UAAU,CAAC/G,KAAZ,CAAjB,CACIgH,cAHmB,CAGGC,YAAY,CAAC5C,OAAb,CAAqB,UAArB,CAHH,CAInB6C,QAJmB,CAIHhF,IAAI,CAACC,KAAL,CAAW6E,cAAX,CAJG,MAMnBE,QANmB,SAMnBA,QANmB,iBAMnBA,QAAQ,CAAE/G,MANS,4BAOfe,GAPe,CAORgG,QAAQ,CAAC,CAAD,CAAT,CAAcC,QAAd,EAPS,CAQflG,GARe,CAQRiG,QAAQ,CAAC,CAAD,CAAT,CAAcC,QAAd,EARS,yBASOjM,CAAAA,OAAO,CAAC6G,UAAR,CAAmBd,GAAnB,CAAwBC,GAAxB,CATP,SASfc,QATe,mCAUcmE,iBAAiB,CAACnE,QAAD,CAV/B,CAUXoE,IAVW,oBAUXA,IAVW,CAULpG,KAVK,oBAULA,KAVK,CAUEqG,OAVF,oBAUEA,OAVF,CAYnB,GAAIrE,QAAQ,EAAI,CAAC,WAAD,CAAc,IAAd,EAAoBQ,QAApB,CAA6B6D,OAA7B,CAAhB,CAAuD,CACnD,GAAI,CAAArE,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEK,OAAV,GAAqB6C,KAAK,CAACC,OAAN,CAAcnD,QAAQ,CAACK,OAAvB,CAArB,GAAwDL,QAAxD,SAAwDA,QAAxD,oCAAwDA,QAAQ,CAAEK,OAAlE,4CAAwD,kBAAmBlC,MAA3E,CAAJ,CAAuF,CAC7EgB,OAD6E,CACnEa,QAAQ,CAACK,OAAT,CAAiB,CAAjB,EAAoBE,iBAD+C,CAEnF9E,kBAAkB,CAAC,CAAEwD,GAAG,CAAHA,GAAF,CAAOC,GAAG,CAAHA,GAAP,CAAD,CAAlB,CACA7D,cAAc,CAAC8D,OAAD,CAAd,CACAhD,cAAc,CAAC,IAAD,CAAd,CACAF,cAAc,CAAC,KAAD,CAAd,CACAI,cAAc,CAAC,KAAD,CAAd,CACAV,mBAAmB,CAAC,IAAD,CAAnB,CACA;AACH,CACJ,CAXD,IAWO,CACH,GAAI,CAAAoJ,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAE/G,KAAZ,IAAsB,QAA1B,CAAoC,CAChC7E,YAAY,CAAC,IAAD,CAAO,4DAAP,CAAZ,CACH,CACJ,CA3BkB,yDAAH,kBAAlBwL,CAAAA,kBAAkB,2CAAxB,CAgCA,GAAMS,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAC9I,cAAD,CAAyB,CAC9C,GAAI+I,CAAAA,QAAa,CAAG/I,cAAH,SAAGA,cAAH,iBAAGA,cAAc,CAAExC,SAApC,CACA,GAAIwL,CAAAA,MAAW,CAAGhJ,cAAH,SAAGA,cAAH,iBAAGA,cAAc,CAAEvC,OAAlC,CACA,GAAIwL,CAAAA,MAAM,CAAGlM,0BAA0B,CAACgM,QAAD,CAAWC,MAAX,CAAmB,EAAnB,CAAuB,CAAC,QAAD,CAAW,aAAX,CAAvB,CAAkD,OAAlD,CAAvC,CAEA,GAAI,CAACC,MAAL,CAAa,CACT,MAAO,OAAP,CACH,CAED,MAAOA,CAAAA,MAAP,CACH,CAVD,CAaA,GAAIC,CAAAA,UAAe,CAAGxK,SAAtB,CACA,GAAIyK,CAAAA,WAAW,CAAG,CAAlB,CACA,GAAI,CAAAD,UAAU,OAAV,EAAAA,UAAU,SAAV,+BAAAA,UAAU,CAAEjH,iBAAZ,sEAA+BJ,MAA/B,GAAyC+E,KAAK,CAACC,OAAN,CAAcqC,UAAd,SAAcA,UAAd,iBAAcA,UAAU,CAAEjH,iBAA1B,CAA7C,CAA2F,4BACvFkH,WAAW,CAAGD,UAAH,SAAGA,UAAH,yCAAGA,UAAU,CAAEjH,iBAAf,iDAAG,uBAA+BJ,MAA7C,CACH,CAED,GAAIuH,CAAAA,WAAW,CAAGxK,UAAlB,CACA,GAAI,CAACR,aAAL,CAAoB,kBAChB,GAAI+K,WAAW,CAAG,CAAd,iBAAmBC,WAAnB,uCAAmB,aAAavH,MAAhC,CAAJ,CAA4C,CACxCuH,WAAW,WAAMA,WAAN,cAAsBD,WAAW,CAAG,CAApC,CAAX,CACH,CACJ,CACDlI,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAyBtC,UAAzB,CAAoC,aAApC,CAAkDwK,WAAlD,CAA8D,mBAA9D,CAAkFpL,KAAlF,CAAwF,IAAxF,CAA6FA,KAAK,CAACM,iBAAnG,EACA,mBACI,aAAK,SAAS,CAAC,aAAf,wBACI,eACI,OAAO,CAAE,kBAAM,CACX,GAAIN,KAAJ,SAAIA,KAAJ,iBAAIA,KAAK,CAAEqL,kBAAX,CAA+B,CAC3BrL,KAAK,CAACqL,kBAAN,CAAyB,KAAzB,EACH,CACJ,CALL,CAMI,SAAS,CAAC,kBANd,uBAOI,YAAK,GAAG,CAAEnN,KAAV,CAAiB,GAAG,CAAC,OAArB,EAPJ,EADJ,cAUI,aAAM,SAAS,CAAC,cAAhB,uBACI,mCACI,YAAI,SAAS,CAAC,WAAd,wBACI,aAAK,SAAS,CAAC,YAAf,CAA4B,EAAE,CAAC,gBAA/B,wBACI,cACI,IAAI,CAAC,MADT,CAEI,GAAG,CAAEqE,SAFT,CAGI,WAAW,CAAC,0BAHhB,CAII,KAAK,CAAEjC,iBAAiB,CAAGM,UAAH,CAAgBwK,WAJ5C,CAKI,QAAQ,CAAE,kBAACE,CAAD,CAAO,CACb7M,eAAe,CAAC,IAAD,CAAf,CACA4B,WAAW,CAAC,IAAD,CAAX,CACAQ,aAAa,CAAEyK,CAAC,CAACC,MAAF,CAAS1L,KAAV,CAAiB2L,QAAjB,EAAD,CAAb,CACH,CACD;AAVJ,CAWI,OAAO,CAAE,kBAAM,CACX7J,cAAc,CAAC,IAAD,CAAd,CACAE,cAAc,CAAC,KAAD,CAAd,CACAE,cAAc,CAAC,KAAD,CAAd,CACH,CAfL,EADJ,cAkBI,YAAK,SAAS,CAAC,YAAf,EAlBJ,cAmBI,aAAM,SAAS,CAAC,iBAAhB,uBACI,YAAK,GAAG,CAAEnE,UAAV,CAAsB,GAAG,CAAC,QAA1B,EADJ,EAnBJ,CAsBK,CAAAgD,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEiD,MAAZ,GAAsBnC,WAAtB,cACG,aAAM,SAAS,CAAC,aAAhB,uBACI,YACI,GAAG,CAAE3D,KADT,CAEI,GAAG,CAAC,OAFR,CAGI,OAAO,CAAE,kBAAM,CACX;AACA4C,YAAY,CAAC,EAAD,CAAZ,CACAc,gBAAgB,CAAC,EAAD,CAAhB,CACAhD,eAAe,CAAC,IAAD,CAAf,CACAoC,aAAa,CAAC,EAAD,CAAb,CACAR,WAAW,CAAC,KAAD,CAAX,CACH,CAVL,EADJ,EADH,CAcG,IApCR,GADJ,CAuCK,CAAC,CAACiB,MAAM,CAACmK,WAAT,eAAwB,aAAM,SAAS,CAAC,WAAhB,UAA6BnK,MAAM,CAACmK,WAApC,EAvC7B,GADJ,CA0CK,EAAC7K,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEiD,MAAb,GAAuBnC,WAAvB,CAAqC4F,iBAAiB,EAAtD,CAA2D,IA1ChE,CA2CK,CAAA1G,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEiD,MAAZ,EAAqB,CAArB,EAA0BnC,WAA1B,CAAwCuG,eAAe,EAAvD,CAA4D,IA3CjE,cA8CI,YAAI,SAAS,CAAC,SAAd,wBACI,YAAK,EAAE,CAAC,yBAAR,uBACI,kCACI,KAAC,kBAAD,EACI,KAAK,CAAEnH,WADX,CAEI,aAAa,CAAE,CACX4K,qBAAqB,CAAE,CACnB3B,OAAO,CAAE,IADU,CADZ,CAIX;AACAG,KAAK,CAAE,CAAC,UAAD,CALI,CAFnB,CASI,sBAAsB,CAAE,CAAApJ,WAAW,OAAX,EAAAA,WAAW,SAAX,QAAAA,WAAW,CAAE+C,MAAb,EAAsB,CATlD,CAUI,QAAQ,CAAE,kBAACd,IAAD,CAAe,CACrBhC,cAAc,CAACgC,IAAD,CAAd,CACH,CAZL,CAaI,QAAQ,2FAAE,kBAAO8B,OAAP,CAAwB8G,OAAxB,CAAuCC,UAAvC,+NACFrD,gBADE,CACsB1D,OADtB,CAEN,GAAIA,OAAO,CAACgH,OAAR,CAAgB,GAAhB,CAAJ,CAA0B,CACtBtD,gBAAgB,CAAG1D,OAAO,CAACsB,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAnB,CACH,CACDlD,OAAO,CAACC,GAAR,CAAY,CACR2B,OAAO,CAAE+G,UAAF,SAAEA,UAAF,iBAAEA,UAAU,CAAEE,mBADb,CAAZ,EAGA3J,aAAa,CAACyJ,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEE,mBAAb,CAAb,CACA/K,cAAc,CAAC6K,UAAD,SAACA,UAAD,wCAACA,UAAU,CAAEE,mBAAb,gDAAC,sBAAiCzF,QAAlC,CAAd,CATM,uBAUezH,CAAAA,OAAO,CAACmN,WAAR,CAAoBlH,OAApB,CAVf,QAUFa,QAVE,gBAWN,GAAIA,QAAJ,SAAIA,QAAJ,qCAAIA,QAAQ,CAAEK,OAAd,6CAAI,mBAAmBlC,MAAvB,CAA+B,uBACN6B,QAAQ,CAACK,OAAT,CAAiB,CAAjB,EAAoBiG,QAApB,CAA6BrI,QADvB,CACnBgB,GADmB,uBACnBA,GADmB,CACdC,GADc,uBACdA,GADc,CAE3BzD,kBAAkB,CAAC,CAAEwD,GAAG,CAAHA,GAAF,CAAOC,GAAG,CAAHA,GAAP,CAAD,CAAlB,CACA/C,cAAc,CAAC,KAAD,CAAd,CACH,CAfK,wDAAF,wEAbZ,CA8BI,wBAAwB,CAAE,IA9B9B,CA+BI,OAAO,CAAEsG,OA/Bb,CAgCI,QAAQ,CAAE,CAhCd,UAkCK,4BAAG8D,CAAAA,aAAH,OAAGA,aAAH,CAAkBC,WAAlB,OAAkBA,WAAlB,CAA+BC,sBAA/B,OAA+BA,sBAA/B,CAAuDC,OAAvD,OAAuDA,OAAvD,oBACG,oCACI,aACI,SAAS,aADb,wBAGI,4CACQH,aAAa,CAAC,CAAEI,WAAW,CAAE,QAAf,CAAyBC,SAAS,CAAE,QAApC,CAAD,CADrB,MAEI,EAAE,CAAC,oBAFP,CAGI,YAAY,CAAC,KAHjB,CAII,GAAG,CAAE7J,WAJT,CAKI,OAAO,CAAE,kBAAM,CACXZ,cAAc,CAAC,IAAD,CAAd,CACAF,cAAc,CAAC,KAAD,CAAd,CACAI,cAAc,CAAC,KAAD,CAAd,CACH,CATL,GAHJ,cAcI,aAAM,SAAS,CAAC,iBAAhB,uBACI,YAAK,GAAG,CAAEjE,QAAV,CAAoB,GAAG,CAAC,UAAxB,EADJ,EAdJ,CAiBK8D,WAAW,EAAI,CAAAd,WAAW,OAAX,EAAAA,WAAW,SAAX,QAAAA,WAAW,CAAE+C,MAAb,EAAsB,CAArC,eACG;AACA,aAAM,SAAS,CAAC,aAAhB,uBACI,YACI,GAAG,CAAE9F,KADT,CAEI,GAAG,CAAC,OAFR,CAGI,OAAO,CAAE,kBAAM,CACXgD,cAAc,CAAC,EAAD,CAAd,CACAI,kBAAkB,CAAC,EAAD,CAAlB,CACH,CANL,EADJ,EAFH,CAWa,IA5BlB,GADJ,CA+BK,CAAA+K,WAAW,OAAX,EAAAA,WAAW,SAAX,QAAAA,WAAW,CAAErI,MAAb,GACGjC,WADH,GAEGd,WAFH,SAEGA,WAFH,iBAEGA,WAAW,CAAE+C,MAFhB,eAGG,YACI,SAAS,CAAC,gCADd,CAEI,EAAE,CAAC,iCAFP,uBAGI,YAAK,SAAS,CAAC,iCAAf,uBACI,aAAK,SAAS,CAAC,eAAf,WACK,CAAC,CAACvC,MAAM,CAACiL,mBAAT,eACG,aAAM,SAAS,CAAC,WAAhB,UACKjL,MAAM,CAACiL,mBADZ,EAFR,CAKKH,OAAO,eAAI,mCALhB,CAMKF,WAAW,CAACxE,GAAZ,CAAgB,SAACkE,UAAD,CAAqB,CAClC,GAAMU,CAAAA,SAAS,CAAG,mCAAlB,CACA,GAAME,CAAAA,KAAK,CAAGZ,UAAU,CAACa,MAAX,CACR,CAAEC,eAAe,CAAE,SAAnB,CAA8BC,MAAM,CAAE,SAAtC,CADQ,CAER,CAAED,eAAe,CAAE,SAAnB,CAA8BC,MAAM,CAAE,SAAtC,CAFN,CAGA,mBACI,2CACQR,sBAAsB,CAACP,UAAD,CAAa,CAAEU,SAAS,CAATA,SAAF,CAAaE,KAAK,CAALA,KAAb,CAAb,CAD9B,6BAEI,sBACKZ,UAAU,CAACE,mBAAX,CAA+BzF,QADpC,EAFJ,cAKI,aAAM,SAAS,CAAC,MAAhB,UACKuF,UAAU,CAACE,mBAAX,CAA+BtF,aADpC,EALJ,IADJ,CAYH,CAjBA,CANL,GADJ,EAHJ,EAHH,CAkCK,IAjEV,CAkEK5E,WAAW,EAAI,EAACsK,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAErI,MAAd,CAAf,EAAuC,CAACU,MAAM,CAACC,IAAP,CAAYtD,eAAZ,EAA6B2C,MAArE,cACG,YAAK,KAAK,CAAE,CAAE+I,SAAS,CAAE,MAAb,CAAZ,CAAmC,SAAS,CAAC,gCAA7C,CAA8E,EAAE,CAAC,iCAAjF,uBACI,YAAK,SAAS,CAAC,iCAAf,uBACI,YAAK,SAAS,CAAC,eAAf,uBACI,YAAK,SAAS,CAAC,iBAAf,UACK,kBADL,EADJ,EADJ,EADJ,EADH,CAUG,IA5ER,GADH,EAlCL,EADJ,EADJ,EADJ,CAwHK,CAAC,CAACtL,MAAM,CAACiL,mBAAT,eAAgC,aAAM,SAAS,CAAC,WAAhB,UAA6BjL,MAAM,CAACiL,mBAApC,EAxHrC,GA9CJ,CA0KK,EAACzL,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAE+C,MAAd,GAAwBjC,WAAxB,cACG,aAAK,SAAS,CAAC,gCAAf,CAAgD,EAAE,CAAC,6BAAnD,wBACI,cACI,SAAS,CAAC,cADd,CAEI,OAAO,CAAEyI,kBAFb,wBAGI,aAAM,SAAS,CAAC,UAAhB,uBACI,YAAK,GAAG,CAAErM,KAAV,CAAiB,GAAG,CAAC,EAArB,EADJ,EAHJ,8BADJ,CAQKwC,cAAc,GAAK,QAAnB,eACI,aAAM,SAAS,CAAC,cAAhB,oGATT,CAaK,CAAAR,KAAK,OAAL,EAAAA,KAAK,SAAL,gCAAAA,KAAK,CAAEmF,kBAAP,wEAA2BtB,MAA3B,EAAoC,CAApC,eACG,aAAM,SAAS,CAAC,WAAhB,UACK,iBADL,EAdR,cAiBI,YAAK,SAAS,CAAC,iCAAf,UACK7D,KADL,SACKA,KADL,yCACKA,KAAK,CAAEmF,kBADZ,iDACK,uBAA2BuC,GAA3B,CAA+B,SAAC3E,IAAD,CAAe,6CAC3C,MAAO,CAAAA,IAAI,OAAJ,EAAAA,IAAI,SAAJ,uBAAAA,IAAI,CAAE8B,OAAN,sDAAehB,MAAf,EAAwB,CAAxB,eACH,YAAK,SAAS,CAAC,eAAf,CACI,OAAO,CAAE,kBAAM,kDACX9C,cAAc,eAAC6E,IAAI,CAACC,KAAL,CAAW9C,IAAX,SAAWA,IAAX,iBAAWA,IAAI,CAAE8B,OAAjB,CAAD,uCAAC,aAA2BwB,QAA5B,CAAd,CACAlF,kBAAkB,CAAC,CACfwD,GAAG,CAAE5B,IAAF,SAAEA,IAAF,kCAAEA,IAAI,CAAEY,QAAR,0CAAE,gBAAgBc,WAAhB,CAA4B,CAA5B,CADU,CAEfG,GAAG,CAAE7B,IAAF,SAAEA,IAAF,kCAAEA,IAAI,CAAEY,QAAR,0CAAE,gBAAgBc,WAAhB,CAA4B,CAA5B,CAFU,CAAD,CAAlB,CAIAtC,aAAa,CAACyD,IAAI,CAACC,KAAL,CAAW9C,IAAX,SAAWA,IAAX,iBAAWA,IAAI,CAAE8B,OAAjB,CAAD,CAAb,CACH,CARL,uBASI,aAAK,SAAS,CAAC,mCAAf,wBACI,oCAAOe,IAAI,CAACC,KAAL,CAAW9C,IAAX,SAAWA,IAAX,iBAAWA,IAAI,CAAE8B,OAAjB,CAAP,uCAAO,aAA2BwB,QAAlC,EADJ,cAEI,aAAM,SAAS,CAAC,MAAhB,wBAAwBT,IAAI,CAACC,KAAL,CAAW9C,IAAX,SAAWA,IAAX,iBAAWA,IAAI,CAAE8B,OAAjB,CAAxB,uCAAwB,aAA2B2B,aAAnD,EAFJ,GATJ,EADJ,CAeH,CAhBA,CADL,EAjBJ,GADH,CAsCK,IAhNV,cAiNI,WAAI,SAAS,oBAAc,CAAAxE,cAAc,OAAd,EAAAA,cAAc,SAAd,QAAAA,cAAc,CAAExC,SAAhB,EAA4B,YAA5B,CAA2C,EAAzD,CAAb,uBACI,aACI,GAAG,CAAEmD,WADT,CAEI,SAAS,CAAC,mBAFd,CAEkC,EAAE,CAAC,gBAFrC,wBAGI,aAAK,SAAS,CAAC,YAAf,wBACI,aAAM,SAAS,CAAC,0BAAhB,EADJ,cAEI,cACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAEmI,gBAAgB,CAAC9I,cAAD,CAFjC,CAGI,OAAO,CAAE,kBAAM,CACXD,cAAc,CAAC,IAAD,CAAd,CACAJ,cAAc,CAAC,KAAD,CAAd,CACAE,cAAc,CAAC,KAAD,CAAd,CACH,CAPL,EAFJ,CAWK,CAAAG,cAAc,OAAd,EAAAA,cAAc,SAAd,QAAAA,cAAc,CAAExC,SAAhB,GAA6BsC,WAA7B,eACG,aAAM,SAAS,CAAC,aAAhB,uBACI,YACI,GAAG,CAAE/D,KADT,CAEI,GAAG,CAAC,OAFR,CAGI,OAAO,CAAE,kBAAM,CACXkE,iBAAiB,CAAC,CAAEzC,SAAS,CAAE,EAAb,CAAiBC,OAAO,CAAE,EAA1B,CAA8BC,GAAG,CAAE,YAAnC,CAAD,CAAjB,CACAuD,OAAO,CAACC,GAAR,CAAY,CAAEC,SAAS,CAAEnD,KAAK,CAACmD,SAAnB,CAAZ,EACAnD,KAAK,CAACoD,YAAN,gCACOpD,KAAK,CAACmD,SADb,MAEIE,SAAS,CAAE,EAFf,CAGIE,OAAO,CAAE,EAHb,IAKH,CAXL,EADJ,EAZR,GAHJ,CA+BKzB,WAAW,cACR,YACI,SAAS,CAAC,uBADd,CAEI,EAAE,CAAC,uBAFP,uBAGI,KAAC,SAAD,EACI,QAAQ,CAAEgB,mBADd,CAEI,MAAM,CAAE,CAACnE,MAAM,CAACqD,cAAD,SAACA,cAAD,iBAACA,cAAc,CAAExC,SAAjB,CAAN,CAAkCyJ,OAAlC,EAAD,CAA+C,CAAC,CAAEzJ,SAAS,CAAE,GAAIqN,CAAAA,IAAJ,EAAb,CAAyBpN,OAAO,CAAE,GAAIoN,CAAAA,IAAJ,EAAlC,CAA8CnN,GAAG,CAAE,YAAnD,CAAD,CAA/C,CAAqH,CAACsC,cAAD,CAFjI,CAGI,yBAAyB,CAAE,KAH/B,CAII,WAAW,CAAE,CAAC,SAAD,CAAY,SAAZ,CAJjB,CAKI,eAAe,CAAE,KALrB,CAMI,oBAAoB,CAAE,IAN1B,CAOI,MAAM,CAAE,CAPZ,CAQI,WAAW,CAAE,IARjB,CASI,OAAO,CAAE,GAAI6K,CAAAA,IAAJ,EATb,CAUI,OAAO,CAAElO,MAAM,GAAGmO,GAAT,CAAa,CAAb,CAAgB,OAAhB,EAAyB9B,MAAzB,EAVb,CAWI,SAAS,CAAC,YAXd,CAYI,WAAW,CAAE,IAZjB,EAHJ,EADQ,CAmBR,IAlDR,GADJ,EAjNJ,cAuQI,YAAK,SAAS,CAAC,YAAf,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,qBAAhC,CAAsD,OAAO,CAAE1C,mBAA/D,uBACI,YAAK,GAAG,CAAEzK,MAAV,CAAkB,GAAG,CAAC,QAAtB,EADJ,EADJ,EAvQJ,GADJ,EAVJ,GADJ,CA4RH,CAl2BD,CAo2BA,GAAMkP,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACrJ,KAAD,CAAgB,CACpC,MAAO,CACHwE,iBAAiB,CAAExE,KAAK,CAACsJ,UAAN,CAAiB9E,iBADjC,CAEHT,mBAAmB,CAAE/D,KAAK,CAACsJ,UAAN,CAAiBvF,mBAFnC,CAGHwF,iBAAiB,CAAEvJ,KAAK,CAACsJ,UAAN,CAAiBC,iBAHjC,CAIHzF,aAAa,CAAE9D,KAAK,CAACwJ,IAAN,CAAW1F,aAJvB,CAKHrH,YAAY,CAAEuD,KAAK,CAACyJ,IAAN,CAAWhN,YALtB,CAMHgF,kBAAkB,CAAEzB,KAAK,CAACsJ,UAAN,CAAiB7H,kBANlC,CAAP,CAQH,CATD,CAWA,GAAMiI,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAmB,CAC1C,MAAOjP,CAAAA,kBAAkB,CAAC,CACtBC,gBAAgB,CAAhBA,gBADsB,CAEtBC,mBAAmB,CAAnBA,mBAFsB,CAGtBC,kBAAkB,CAAlBA,kBAHsB,CAItBE,eAAe,CAAfA,eAJsB,CAKtBD,qBAAqB,CAArBA,qBALsB,CAAD,CAMtB6O,QANsB,CAAzB,CAOH,CARD,CAUA,cAAelP,CAAAA,OAAO,CAAC4O,eAAD,CAAkBK,kBAAlB,CAAP,CAA6CrN,YAA7C,CAAf,CAGA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Constants from '../../utils/constants';\n// @ts-ignore\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng, } from 'react-places-autocomplete';\nimport regex from '../../utils/regex';\n// @ts-ignore\nimport { format } from 'date-fns';\n// @ts-ignore\nimport { DateRange } from 'react-date-range';\nimport 'react-date-range/dist/styles.css'; // main style file\nimport 'react-date-range/dist/theme/default.css'; // theme css file\n\nimport Searchicon from \"../../assets/images/main-search.png\";\nimport search from \"../../assets/images/ic-search.png\";\nimport Location from \"../../assets/images/ic-location.png\";\nimport cross from \"../../assets/images/close-black.png\";\nimport icgps from \"../../assets/images/ic-gps.png\";\nimport residential from \"../../assets/images/ic-residential.png\";\nimport close from \"../../assets/images/icon-close-1.png\";\n\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport { getSearchJobList, getRecentSearchList, postHomeSearchData, getRecentLocationList } from '../../redux/homeSearch/actions';\nimport { isHandleChanges } from '../../redux/jobs/actions';\n// @ts-ignore\nimport { useDetectClickOutside } from 'react-detect-click-outside';\nimport moment from 'moment';\nimport Geocode from \"react-geocode\";\nimport { setShowToast } from '../../redux/common/actions';\nimport { property } from 'lodash';\nimport { deleteRecentSearch } from '../../redux/homeSearch/actions';\n\nimport { renderTime, renderTimeWithCustomFormat } from '../../utils/common';\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\nGeocode.setApiKey(Constants.SocialAuth.GOOGLE_GEOCODE_KEY);\nGeocode.setLanguage(\"en\");\n\ninterface PropsType {\n    history: any,\n    location?: any,\n    bannerData: any,\n    selectedItem: any,\n    selectedTrade: any,\n    current_address: any,\n    getTitleInfo: any,\n    searchText: any,\n    stateData: any,\n    addressText: any,\n    selectedAddress: any,\n    isHandleChanges: (item: any) => void,\n    localChanges: boolean,\n    searchJobListData: Array<object>,\n    recentSearchJobData: Array<object>,\n    homeSearchJobData: Array<object>,\n    setBannerData: (data: any) => void,\n    getSearchJobList: (data: any) => void,\n    postHomeSearchData: (data: any) => void,\n    handleChangeToggle?: (data: any) => void,\n    getRecentSearchList?: () => void,\n    getRecentLocationList: () => void,\n    localInfo: any,\n    recentLocationData: Array<any>,\n    tradeListData: Array<any>,\n    showOnlyTradeName: boolean,\n}\n\nconst example_calender = { startDate: '', endDate: '', key: 'selection1' };\n\nexport function useStateFromProp(initialValue: any) {\n    const [value, setValue] = useState(initialValue);\n\n    useEffect(() => setValue(initialValue), [initialValue]);\n\n    return [value, setValue];\n}\n\nconst BannerSearch = (props: PropsType) => {\n    let props_selected = props.selectedItem;\n    const { selectedItem, isHandleChanges, localChanges, getRecentSearchList, getRecentLocationList } = props;\n\n    const [checkOnChange, setOnChange] = useState(false);\n    const [showOnlyTradeName, setShowOnlyTradeName] = useState(false);\n\n    const [locationStatus, setLocationStatus] = useState(null);\n    const [stateData, setStateData] = useState<any>(null)\n    const [searchText, setSearchText] = useState('');\n    const [addressText, setAddressText] = useState<any>(null);\n    const [recentLocation, setRecentLocation] = useState<any>([]); // recentLocation\n    const [selectedAddress, setSelectedAddress] = useState({});\n    const [enableCurrentLocation, setCurrentLocations] = useState<boolean>(false);\n    const [errors, setErrors] = useState<any>({});\n    const [selectedTrade, setSelectedTrade] = useState({});\n\n    const [inputFocus1, setInputFocus1] = useState<boolean>(false);\n    const [inputFocus2, setInputFocus2] = useState<boolean>(false);\n    const [inputFocus3, setInputFocus3] = useState<boolean>(false);\n\n    const [calenderRange1, setCalenderRange1] = useState<any>(example_calender);\n\n    const [suggestionSelected, setSuggestion] = useState({});\n\n    const handleOnOutsideSearch = () => {\n        setOnChange(false);\n        setInputFocus1(false);\n    };\n    const handleOnOutsideLocation = () => setInputFocus2(false);\n    const handleOnOutsideCalender = () => setInputFocus3(false);\n\n    const searchRef = useDetectClickOutside({ onTriggered: handleOnOutsideSearch });\n    const locationRef = useDetectClickOutside({\n        onTriggered: () => {\n            // if (addressText?.length > 3) {\n            handleOnOutsideLocation()\n            // }\n        }\n    });\n\n    const locationRefClone = useDetectClickOutside({\n        onTriggered: () => {\n            //     if (!addressText || addressText?.length < 2) {\n            //         handleOnOutsideLocation()\n            //     }\n        }\n    });\n    const calenderRef = useDetectClickOutside({ onTriggered: handleOnOutsideCalender });\n\n    const [sortBy, setSortBy] = useState(0);\n\n    const handleCalenderRange = (item: any) => {\n        setCalenderRange1(item.selection1);\n        console.log({\n            localInfo: props.localInfo\n        });\n        props.getTitleInfo({\n            ...props.localInfo,\n            from_date: moment(item.selection1?.startDate).format('YYYY-MM-DD'),\n            to_date: moment(item.selection1?.endDate).format('YYYY-MM-DD'),\n        });\n    };\n\n    const [checkRender, setRender] = useState(false);\n\n\n    useEffect(() => {\n        console.log({ selectedAddress }, '!!@')\n    }, [selectedAddress])\n\n    useEffect(() => {\n        let state = props.location.state;\n        let local_info: any = props.localInfo;\n\n        if (!searchText?.length && !checkRender) {\n            setSearchText(state.name);\n            setStateData({\n                createdAt: null,\n                image: null,\n                name: state?.name,\n                specializationsId: state?.specializations,\n                trade_name: state?.name,\n                _id: state?.tradeId\n            });\n\n            if (state.calender && Object.keys(state.calender).length) {\n                setCalenderRange1(state.calender);\n            }\n\n            if (state?.location && state?.location?.coordinates?.length) {\n                let coordinates = state.location.coordinates;\n                let valueItem = {\n                    lat: coordinates[1],\n                    lng: coordinates[0]\n                };\n                setSelectedAddress(valueItem);\n            }\n\n            if (state?.address) {\n                setAddressText(state.address);\n            }\n            setRender(true);\n        }\n        // doingLocalChanges \n        // when this option true it the props will set.\n        if (Object.keys(local_info).length && !local_info?.doingLocalChanges) {\n            if (searchText?.length !== local_info?.name) {\n                if (local_info?.sortBy) {\n                    setSortBy(local_info?.sortBy);\n                }\n\n                if (!local_info?.isTradeName) {\n                    setSearchText(local_info.name);\n                } else {\n                    setSearchText('');\n                }\n\n                setStateData({\n                    createdAt: null,\n                    image: null,\n                    name: local_info?.name,\n                    specializationsId: local_info?.specializationId,\n                    trade_name: null,\n                    _id: local_info?.tradeId\n                })\n            }\n        }\n\n    }, [props])\n\n    useEffect(() => {\n        if ((!addressText || !addressText?.length) && inputFocus2) {\n            setSelectedAddress({});\n            setSelectedTrade({});\n        }\n\n        if (!addressText?.length) {\n            fetchItemsSearchWithLocation(1);\n        }\n    }, [addressText])\n\n    useEffect(() => {\n        fetchItemsSearchWithLocation();\n        setShowOnlyTradeName(props.showOnlyTradeName);\n    }, []);\n\n    const fetchItemsSearchWithLocation = (fetch?: any) => {\n        if (getRecentSearchList && fetch !== 1) {\n            getRecentSearchList();\n        }\n        if (getRecentLocationList) {\n            getRecentLocationList();\n        }\n    }\n\n    useEffect(() => {\n        // if (props.recentLocationData?.length &&\n        //     JSON.stringify(props.recentLocationData[0]?.location?.coordinates) !== JSON.stringify(recentLocation[0]?.location?.coordinates)) {\n        //     getRecentLocationData();\n        // }\n    }, [props.recentLocationData, recentLocation])\n\n\n    const updateGetTitleInfo = () => {\n        props?.getTitleInfo({\n            ...props?.localInfo,\n            doingLocalChanges: true\n        })\n    }\n\n    useEffect(() => {\n        updateGetTitleInfo();\n        if (searchText?.length > 2) {\n            props.getSearchJobList(searchText);\n        }\n        if (!searchText?.length) {\n            setSelectedTrade({});\n        }\n    }, [searchText])\n\n    useEffect(() => {\n\n    }, [selectedAddress])\n\n    const getRecentLocationData = async () => {\n        var recentLocationDetails: any = [];\n\n        let recentLocationData = props.recentLocationData\n        for (let index = 0; index < recentLocationData.length; index++) {\n            let item = recentLocationData[index];\n            try {\n                let lat = item.location.coordinates[1];\n                let long = item.location.coordinates[0];\n                let response = await Geocode.fromLatLng(lat, long);\n                let formatedCityText = JSON.parse(JSON.stringify(response?.results[0]));\n                let cityText: any = null;\n                if (formatedCityText?.formatted_address.includes(',')) {\n                    cityText = formatedCityText?.formatted_address.split(',')\n                } else {\n                    cityText = formatedCityText?.formatted_address.split('-');\n                }\n                const newData = {\n                    mainText: cityText?.length > 3 ? cityText?.slice(0, 2).join(',') : cityText?.slice(0, 1).join(','),\n                    secondaryText: cityText?.length > 3 ? cityText?.slice(2, cityText?.length).join(',') : cityText?.slice(1, cityText?.length).join(','),\n                }\n                recentLocationDetails[index] = {\n                    formatted_address: formatedCityText?.formatted_address,\n                    location: { coordinates: item?.location?.coordinates },\n                    allText: newData\n                };\n\n                if (recentLocationDetails?.length === props.recentLocationData?.length) {\n                    setRecentLocation(recentLocationDetails);\n                }\n            } catch (err) {\n                console.log({ err });\n            }\n        }\n    }\n\n\n    const checkIfExist = (_id: any) => {\n        if (selectedTrade) {\n            let isLength = Object.keys(selectedTrade).length;\n            if (isLength) {\n                let item: any = selectedTrade;\n                if (item?._id === _id) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    const cleanRecentSearch = async (event: any, recentSearchId: string) => {\n        event.stopPropagation();\n        const data = {\n            id: recentSearchId,\n            status: 0\n        }\n        const res = await deleteRecentSearch(data);\n        if (res.success) {\n            if (getRecentSearchList) {\n                getRecentSearchList();\n            }\n        }\n    }\n\n    const recentJobSearches = () => {\n        let props_Clone: any = props;\n        let tradeListData = props_Clone.tradeListData;\n        return (\n            <>\n                <div className=\"custom_autosuggestion\" id=\"recent-job-search-div\">\n                    {props?.recentSearchJobData?.length ?\n                        <React.Fragment>\n                            <span className=\"sub_title\">Recent searches</span>\n                            <div className=\"flex_row recent_search\">\n                                {props.recentSearchJobData?.length > 0 && props.recentSearchJobData?.slice(0, 2).map((item: any) => {\n                                    return (\n                                        <div\n                                            className=\"flex_col_sm_3\"\n                                            onClick={() => {\n                                                setItemSearch({\n                                                    createdAt: item?.createdAt,\n                                                    image: item.image,\n                                                    name: item.name,\n                                                    specializationsId: [item.specializationsId],\n                                                    trade_name: item.trade_name,\n                                                    _id: item._id\n                                                });\n                                                setSelectedTrade({});\n                                            }}>\n                                            <div className=\"card ico_txt_wrap\">\n                                                <figure className=\"ico\">\n                                                    <img src={item?.image || residential} alt=\"icon\" />\n                                                </figure>\n                                                <div className=\"f_column\">\n                                                    <span>{item.name}</span>\n                                                    <span className=\"name\">{item.trade_name}</span>\n                                                </div>\n                                                <span\n                                                    className=\"remove_card\"\n                                                    onClick={(event) => { cleanRecentSearch(event, item.recentSearchId) }}>\n                                                    <img src={close} alt=\"remove\" />\n                                                </span>\n                                            </div>\n                                        </div>)\n                                })}\n                            </div>\n                        </React.Fragment>\n                        : null}\n\n                    <div className=\"select_sphere recent_search\">\n                        <span className=\"sub_title\">{'Categories'}</span>\n                        <ul>\n                            {tradeListData?.map(({ _id, trade_name, selected_url, specialisations }: { _id: string, trade_name: string, selected_url: string, specialisations: [] }) =>\n                                <li\n                                    onClick={() => {\n                                        let item_spec: any = specialisations;\n                                        if (item_spec?.length) {\n                                            let getItem = item_spec[0];\n                                            if (getItem) {\n                                                setStateData({\n                                                    image: selected_url,\n                                                    name: getItem?.name,\n                                                    specializationsId: specialisations.map((sp: any) => sp._id),\n                                                    trade_name: trade_name,\n                                                    _id: _id,\n                                                })\n                                                setSearchText(trade_name);\n                                            }\n                                            setShowOnlyTradeName(true);\n                                            setSelectedTrade({ _id, trade_name, selected_url, specialisations });\n                                        }\n                                    }}\n                                    className={checkIfExist(_id) ? 'active' : ''}>\n                                    <figure>\n                                        <img src={selected_url} alt=\"\" />\n                                    </figure>\n                                    <span className=\"name\">{trade_name}</span>\n                                </li>\n                            )}\n                        </ul>\n                    </div>\n                </div >\n            </>\n        )\n    }\n\n    const renderJobResult = () => {\n        if (props?.searchJobListData?.length) {\n            return (\n                <div className=\"custom_autosuggestion\" id=\"fetched-custom-job-category-div\">\n                    <div className=\"recent_search\">\n                        <ul className=\"drop_data\">\n                            {props.searchJobListData?.map((item: any) => {\n                                return (\n                                    <li onClick={() => { setItemSearch(item) }}>\n                                        <figure className=\"category\">\n                                            <img src={item.image ? item.image : residential} alt=\"icon\" />\n                                        </figure>\n                                        <div className=\"details\">\n                                            <span className=\"name\">{item.name || ''}</span>\n                                            <span className=\"prof\">{item.trade_name || ''}</span>\n                                        </div>\n                                    </li>)\n                            })}\n                        </ul>\n                    </div>\n                </div>\n            )\n        }\n        return null;\n    }\n\n    const onError = (status: string, clearSuggestions: Function) => {\n        console.log('Google Maps API returned error with status: ', status)\n        clearSuggestions();\n    }\n\n    const validateForm = () => {\n        return true;\n    }\n\n    const setItemSearch = (item: any) => {\n        setStateData(item);\n        setSelectedTrade({});\n        setSearchText(item?.name || '');\n    }\n\n    const bannerSearchClicked = () => {\n        let selected_address: any = selectedAddress;\n        let selected_item: any = props?.selectedItem;\n        let props_trade: any = selected_item?.selectedTrade;\n        let local_info: any = props?.localInfo;\n        let prev_address: any = props?.location?.state?.address;\n\n        let suggestion_selected: any = local_info?.suggestionSelected;\n\n        if (suggestion_selected) {\n            suggestion_selected = JSON.stringify(local_info?.suggestionSelected);\n        }\n\n        if (suggestionSelected && Object.keys(suggestionSelected).length) {\n            if (JSON.stringify(local_info?.suggestionSelected) !== JSON.stringify(suggestionSelected)) {\n                suggestion_selected = JSON.stringify(suggestionSelected);\n            }\n        }\n\n        let tradeId: any = null;\n        let specializationId: any = null;\n\n        if (!local_info?.doingLocalChanges) {\n            tradeId = Array.isArray(local_info?.tradeId) ? local_info?.tradeId : [local_info?.tradeId];\n            specializationId = Array.isArray(local_info?.specializationId) ? local_info?.specializationId : [local_info?.specializationId];\n        } else {\n            if (Object.keys(stateData).length) {\n                tradeId = Array.isArray(stateData._id) ? stateData._id : [stateData._id];\n                specializationId = Array.isArray(stateData.specializationsId) ? stateData.specializationsId : [stateData.specializationsId]\n            }\n        }\n\n        if (!stateData?._id && !props_trade?._id) {\n            setShowToast(true, 'Please enter the valid search text');\n            return;\n        }\n\n        if (validateForm()) {\n            let data: any = {\n                page: 1,\n                isFiltered: true,\n                tradeId: tradeId,\n                specializationId: specializationId,\n            }\n\n            if (!tradeId?.length) {\n                setShowToast(true, 'Please enter the valid search text');\n                return;\n            }\n\n            if (!specializationId?.length) {\n                delete data?.specializationId;\n            }\n\n            if (sortBy > 0) {\n                data['sortBy'] = sortBy;\n            }\n\n            if (Object.keys(selectedAddress).length) {\n                data['location'] = {\n                    \"coordinates\": [\n                        parseFloat(selected_address?.lng),\n                        parseFloat(selected_address?.lat)\n                    ]\n                }\n\n                if (suggestion_selected) {\n                    if (addressText) {\n                        data['address'] = suggestion_selected;\n                    }\n                }\n            } else {\n                delete data.location;\n            }\n\n            if (moment(calenderRange1?.startDate).isValid()) {\n                data['from_date'] = moment(calenderRange1?.startDate).format('YYYY-MM-DD')\n            } else {\n                delete data.from_date;\n            }\n\n            if (moment(calenderRange1?.endDate).isValid()) {\n                data['to_date'] = moment(calenderRange1?.endDate).format('YYYY-MM-DD')\n            } else {\n                delete data.to_date;\n            }\n\n            if (sortBy === 2) {\n                if (Object.keys(selected_address)?.length) {\n                    data['location'] = {\n                        \"coordinates\": [\n                            parseFloat(selected_address?.lng),\n                            parseFloat(selected_address?.lat)\n                        ]\n                    }\n                }\n                if (suggestion_selected) {\n                    if (addressText) {\n                        let case_1 = typeof (suggestion_selected) == 'string' ? suggestion_selected : JSON.stringify(suggestion_selected);\n                        data['address'] = addressText && suggestion_selected ? case_1 : '';\n                    }\n                }\n            }\n\n            props.getTitleInfo({\n                name: searchText,\n                isTradeName: false,\n                // count: data?.specializationId?.length,\n                count: 0,\n                tradeId: data.tradeId,\n                specializationId: data.specializationId,\n                location: data.location,\n                from_date: data?.from_date,\n                to_date: data?.to_date,\n                doingLocalChanges: true,\n                address: data?.address,\n                suggestionSelected: suggestion_selected ? JSON.parse(suggestion_selected) : null\n            })\n            props.postHomeSearchData(data);\n            const mData = {\n                timeStamp: moengage.getCurrentTimeStamp(),\n                category: props?.tradeListData.find((i: any) => i._id === data?.tradeId[0])?.trade_name,\n                ...(data.address && { location: `${JSON.parse(data.address)?.mainText} ${JSON.parse(data.address)?.secondaryText}` }),\n                //'length of hire': '',\n                ...(data?.from_date && { 'start date': data?.from_date }),\n                ...(data?.to_date && { 'end date': data?.to_date }),\n            };\n            moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n            mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n        }\n    }\n\n    const filterFromAddress = (response: any) => {\n        let city, state, country = null;\n        for (let i = 0; i < response.results[0].address_components.length; i++) {\n            for (let j = 0; j < response.results[0].address_components[i].types.length; j++) {\n                switch (response.results[0].address_components[i].types[j]) {\n                    case \"locality\":\n                        city = response.results[0].address_components[i].long_name;\n                        break;\n                    case \"administrative_area_level_1\":\n                        state = response.results[0].address_components[i].long_name;\n                        break;\n                    case \"country\":\n                        country = response.results[0].address_components[i].long_name;\n                        break;\n                }\n            }\n        }\n        return { city, state, country: country.toLowerCase() };\n    }\n\n    const getCurrentLocation = async () => {\n        let itemToggle: any = await navigator?.permissions?.query({ name: 'geolocation' });\n        setLocationStatus(itemToggle.state);\n        let local_position: any = localStorage.getItem('position');\n        let position: any = JSON.parse(local_position);\n\n        if (position?.length) {\n            let lng = (position[0]).toString();\n            let lat = (position[1]).toString();\n            let response: any = await Geocode.fromLatLng(lat, lng);\n            const { city, state, country } = filterFromAddress(response);\n\n            if (response && [\"australia\", \"au\"].includes(country)) {\n                if (response?.results && Array.isArray(response.results) && response?.results?.length) {\n                    const address = response.results[0].formatted_address;\n                    setSelectedAddress({ lat, lng });\n                    setAddressText(address);\n                    setInputFocus2(true);\n                    setInputFocus1(false);\n                    setInputFocus3(false);\n                    setCurrentLocations(true);\n                    // this.setState({ currentAddressLatLng: { long, lat }, addressText: address, enableCurrentLocation: true, inputFocus2: true })\n                }\n            } else {\n                if (itemToggle?.state !== \"denied\") {\n                    setShowToast(true, \"Uh Oh! We don't provide service currently in your location\");\n                }\n            }\n        }\n    }\n\n\n    const checkPlaceholder = (calenderRange1: any) => {\n        let fromDate: any = calenderRange1?.startDate;\n        let toDate: any = calenderRange1?.endDate;\n        let result = renderTimeWithCustomFormat(fromDate, toDate, '', ['DD MMM', 'DD MMM YYYY'], 'When?');\n\n        if (!result) {\n            return 'When?'\n        }\n\n        return result;\n    }\n\n\n    let state_data: any = stateData;\n    let length_spec = 0;\n    if (state_data?.specializationsId?.length && Array.isArray(state_data?.specializationsId)) {\n        length_spec = state_data?.specializationsId?.length;\n    }\n\n    let custom_name = searchText;\n    if (!checkOnChange) {\n        if (length_spec > 1 && custom_name?.length) {\n            custom_name = `${custom_name} +${length_spec - 1}`;\n        }\n    }\n    console.log(\"searchText\",searchText,\"custom_name\",custom_name,\"propsbannerSearch\",props,\"zz\",props.showOnlyTradeName)\n    return (\n        <div className=\"home_search\">\n            <button\n                onClick={() => {\n                    if (props?.handleChangeToggle) {\n                        props.handleChangeToggle(false)\n                    }\n                }}\n                className=\"modal_srch_close\">\n                <img src={close} alt=\"close\" />\n            </button>\n            <form className=\"search_wrapr\">\n                <ul>\n                    <li className=\"categ_box\">\n                        <div className=\"text_field\" id=\"text-field-div\">\n                            <input\n                                type=\"text\"\n                                ref={searchRef}\n                                placeholder=\"What jobs are you after?\"\n                                value={showOnlyTradeName ? searchText : custom_name}\n                                onChange={(e) => {\n                                    isHandleChanges(true)\n                                    setOnChange(true);\n                                    setSearchText((e.target.value).trimLeft());\n                                }}\n                                // readOnly={props?.selectedItem ? true : false}\n                                onFocus={() => {\n                                    setInputFocus1(true);\n                                    setInputFocus2(false);\n                                    setInputFocus3(false);\n                                }}\n                            />\n                            <div className=\"border_eff\"></div>\n                            <span className=\"detect_icon_ltr\">\n                                <img src={Searchicon} alt=\"search\" />\n                            </span>\n                            {searchText?.length && inputFocus1 ? (\n                                <span className=\"detect_icon\" >\n                                    <img\n                                        src={cross}\n                                        alt=\"cross\"\n                                        onClick={() => {\n                                            // clear here\n                                            setStateData({});\n                                            setSelectedTrade({});\n                                            isHandleChanges(true)\n                                            setSearchText('');\n                                            setOnChange(false);\n                                        }} />\n                                </span>\n                            ) : null}\n                        </div>\n                        {!!errors.searchedJob && <span className=\"error_msg\">{errors.searchedJob}</span>}\n                    </li>\n                    {!searchText?.length && inputFocus1 ? recentJobSearches() : null}\n                    {searchText?.length > 2 && inputFocus1 ? renderJobResult() : null}\n\n                    {/* {'location search start here!'} */}\n                    <li className=\"loc_box\">\n                        <div id=\"location-text-field-div\">\n                            <div>\n                                <PlacesAutocomplete\n                                    value={addressText}\n                                    searchOptions={{\n                                        componentRestrictions: {\n                                            country: \"au\"\n                                        },\n                                        //  types: [\"address\"]\n                                        types: [\"(cities)\"]\n                                    }}\n                                    shouldFetchSuggestions={addressText?.length > 2}\n                                    onChange={(item: any) => {\n                                        setAddressText(item);\n                                    }}\n                                    onSelect={async (address: string, placeId?: any, suggestion?: any) => {\n                                        let selected_address: any = address;\n                                        if (address.indexOf(',')) {\n                                            selected_address = address.split(',')[0];\n                                        }\n                                        console.log({\n                                            address: suggestion?.formattedSuggestion\n                                        })\n                                        setSuggestion(suggestion?.formattedSuggestion)\n                                        setAddressText(suggestion?.formattedSuggestion?.mainText);\n                                        let response = await Geocode.fromAddress(address);\n                                        if (response?.results?.length) {\n                                            const { lat, lng } = response.results[0].geometry.location;\n                                            setSelectedAddress({ lat, lng });\n                                            setInputFocus2(false);\n                                        }\n                                    }}\n                                    highlightFirstSuggestion={true}\n                                    onError={onError}\n                                    debounce={0}\n                                >\n                                    {({ getInputProps, suggestions, getSuggestionItemProps, loading }: any) => (\n                                        <div>\n                                            <div\n                                                className={`text_field`}>\n                                                {/* className={`text_field ${addressText?.length > 2 ? '' : 'none'}`}> */}\n                                                <input\n                                                    {...getInputProps({ placeholder: 'Where?', className: 'line-1' })}\n                                                    id=\"location-input-tag\"\n                                                    autoComplete=\"off\"\n                                                    ref={locationRef}\n                                                    onFocus={() => {\n                                                        setInputFocus2(true);\n                                                        setInputFocus1(false);\n                                                        setInputFocus3(false);\n                                                    }}\n                                                />\n                                                <span className=\"detect_icon_ltr\">\n                                                    <img src={Location} alt=\"location\" />\n                                                </span>\n                                                {inputFocus2 && addressText?.length > 2 ?\n                                                    // {inputFocus2 && addressText?.length > 2 ?\n                                                    <span className=\"detect_icon\" >\n                                                        <img\n                                                            src={cross}\n                                                            alt=\"cross\"\n                                                            onClick={() => {\n                                                                setAddressText('');\n                                                                setSelectedAddress({});\n                                                            }}\n                                                        />\n                                                    </span> : null}\n                                            </div>\n                                            {suggestions?.length &&\n                                                inputFocus2 &&\n                                                addressText?.length ?\n                                                <div\n                                                    className=\"custom_autosuggestion location\"\n                                                    id=\"autocomplete-dropdown-container\">\n                                                    <div className=\"flex_row recent_search auto_loc\">\n                                                        <div className=\"flex_col_sm_4\">\n                                                            {!!errors.selectedMapLocation &&\n                                                                <span className=\"error_msg\">\n                                                                    {errors.selectedMapLocation}\n                                                                </span>}\n                                                            {loading && <div>Loading...</div>}\n                                                            {suggestions.map((suggestion: any) => {\n                                                                const className = 'autosuggestion_icon card loc name';\n                                                                const style = suggestion.active\n                                                                    ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                                                                    : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                                                                return (\n                                                                    <div\n                                                                        {...getSuggestionItemProps(suggestion, { className, style, })}>\n                                                                        <span>\n                                                                            {suggestion.formattedSuggestion.mainText}\n                                                                        </span>\n                                                                        <span className=\"name\">\n                                                                            {suggestion.formattedSuggestion.secondaryText}\n                                                                        </span>\n\n                                                                    </div>\n                                                                );\n                                                            })}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                : null}\n                                            {inputFocus2 && !suggestions?.length && !Object.keys(selectedAddress).length ? (\n                                                <div style={{ minHeight: '50px' }} className=\"custom_autosuggestion location\" id=\"autocomplete-dropdown-container\">\n                                                    <div className=\"flex_row recent_search auto_loc\">\n                                                        <div className=\"flex_col_sm_4\">\n                                                            <div className=\"loc_suggestions\">\n                                                                {'No Result Found.'}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            ) : null}\n                                        </div>\n                                    )}\n                                </PlacesAutocomplete>\n                            </div>\n                        </div>\n                        {!!errors.selectedMapLocation && <span className=\"error_msg\">{errors.selectedMapLocation}</span>}\n                    </li>\n\n                    {/* {'location search end here!'} */}\n                    {!addressText?.length && inputFocus2 ?\n                        <div className=\"custom_autosuggestion location\" id=\"current-location-search-div\">\n                            <span\n                                className=\"location-btn\"\n                                onClick={getCurrentLocation}>\n                                <span className=\"gps_icon\">\n                                    <img src={icgps} alt=\"\" />\n                                </span> Use my current location\n                            </span>\n                            {locationStatus === \"denied\" &&\n                                (<span className=\"blocked_note\">\n                                    You have blocked your location.\n                                    To use this, change your location settings in browser.\n                                </span>)}\n                            {props?.recentLocationData?.length > 0 &&\n                                <span className=\"sub_title\">\n                                    {'Recent searches'}\n                                </span>}\n                            <div className=\"flex_row recent_search auto_loc\">\n                                {props?.recentLocationData?.map((item: any) => {\n                                    return item?.address?.length > 0 && (\n                                        <div className=\"flex_col_sm_4\"\n                                            onClick={() => {\n                                                setAddressText(JSON.parse(item?.address)?.mainText);\n                                                setSelectedAddress({\n                                                    lat: item?.location?.coordinates[1],\n                                                    lng: item?.location?.coordinates[0],\n                                                });\n                                                setSuggestion(JSON.parse(item?.address));\n                                            }}>\n                                            <div className=\"autosuggestion_icon card loc name\">\n                                                <span>{JSON.parse(item?.address)?.mainText}</span>\n                                                <span className=\"name\">{JSON.parse(item?.address)?.secondaryText}</span>\n                                            </div>\n                                        </div>)\n                                })}\n                            </div>\n                        </div>\n                        : null}\n                    <li className={`date_box ${calenderRange1?.startDate ? 'date_value' : ''}`}>\n                        <div\n                            ref={calenderRef}\n                            className=\"custom_date_range\" id=\"date-range-div\">\n                            <div className=\"text_field\">\n                                <span className=\"detect_icon_ltr calendar\"></span>\n                                <input\n                                    type=\"text\"\n                                    placeholder={checkPlaceholder(calenderRange1)}\n                                    onFocus={() => {\n                                        setInputFocus3(true);\n                                        setInputFocus1(false);\n                                        setInputFocus2(false);\n                                    }}\n                                />\n                                {calenderRange1?.startDate && inputFocus3 &&\n                                    <span className=\"detect_icon\" >\n                                        <img\n                                            src={cross}\n                                            alt=\"cross\"\n                                            onClick={() => {\n                                                setCalenderRange1({ startDate: '', endDate: '', key: 'selection1' });\n                                                console.log({ localInfo: props.localInfo })\n                                                props.getTitleInfo({\n                                                    ...props.localInfo,\n                                                    from_date: '',\n                                                    to_date: ''\n                                                });\n                                            }} />\n                                    </span>}\n                            </div>\n                            {/* {inputFocus3 && */}\n                            {inputFocus3 ? (\n                                <div\n                                    className=\"custom_autosuggestion\"\n                                    id=\"custom-date-range-div\">\n                                    <DateRange\n                                        onChange={handleCalenderRange}\n                                        ranges={!moment(calenderRange1?.startDate).isValid() ? [{ startDate: new Date(), endDate: new Date(), key: 'selection1' }] : [calenderRange1]}\n                                        moveRangeOnFirstSelection={false}\n                                        rangeColors={[\"#fee600\", \"#b5b5b5\"]}\n                                        showDateDisplay={false}\n                                        showSelectionPreview={true}\n                                        months={2}\n                                        showPreview={true}\n                                        minDate={new Date()}\n                                        maxDate={moment().add(2, 'years').toDate()}\n                                        direction=\"horizontal\"\n                                        fixedHeight={true}\n                                    />\n                                </div>\n                            ) : null}\n                        </div>\n                    </li>\n                    <div className=\"search_btn\">\n                        <button type=\"button\" className=\"fill_btn btn-effect\" onClick={bannerSearchClicked}>\n                            <img src={search} alt=\"search\" />\n                        </button>\n                    </div>\n                </ul>\n            </form>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        searchJobListData: state.homeSearch.searchJobListData,\n        recentSearchJobData: state.homeSearch.recentSearchJobData,\n        homeSearchJobData: state.homeSearch.homeSearchJobData,\n        tradeListData: state.auth.tradeListData,\n        localChanges: state.jobs.localChanges,\n        recentLocationData: state.homeSearch.recentLocationData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return bindActionCreators({\n        getSearchJobList,\n        getRecentSearchList,\n        postHomeSearchData,\n        isHandleChanges,\n        getRecentLocationList\n    }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BannerSearch);\n\n\n/**\n!loading &&\naddressText?.length > 2 &&\n!suggestions?.length &&\n!enableCurrentLocation &&\n!Object.keys(selectedAddress).length\n**/"]},"metadata":{},"sourceType":"module"}