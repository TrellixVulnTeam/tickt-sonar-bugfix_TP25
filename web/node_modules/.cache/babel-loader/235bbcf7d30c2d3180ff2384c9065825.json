{"ast":null,"code":"import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{setShowToast}from'../../../redux/common/actions';//@ts-ignore\nimport FsLightbox from'fslightbox-react';import{uploadStripeDocument}from'../../../redux/profile/actions';import{useHistory}from'react-router-dom';import addMedia from\"../../../assets/images/add-image.png\";import close from'../../../assets/images/icon-close-1.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var imageFormats=[\"jpeg\",\"jpg\",\"png\"];var LodgeDispute=function LodgeDispute(props){var _Object$keys7,_Object$keys8,_Object$keys9,_Object$keys10;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),frontPhotoId=_useState2[0],setFrontPhotoId=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),backPhotoId=_useState4[0],setBackPhotoId=_useState4[1];var _useState5=useState(new FormData()),_useState6=_slicedToArray(_useState5,1),formData=_useState6[0];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),toggler=_useState8[0],setToggler=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),selectedSlide=_useState10[0],setSelectSlide=_useState10[1];var history=useHistory();var removeFromItem=function removeFromItem(type){if(type==='frontId'){formData.delete('stripeAccountId');formData.delete('frontPhotoIDUpload');setFrontPhotoId({});}if(type==='backId'){formData.delete('backPhotoIDUpload');setBackPhotoId({});}};var onFileChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _newFile$type,_newFile$type$split$,_Object$keys,_Object$keys2;var newFile,fileType,selectedFileSize,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newFile=e.target.files[0];fileType=newFile===null||newFile===void 0?void 0:(_newFile$type=newFile.type)===null||_newFile$type===void 0?void 0:(_newFile$type$split$=_newFile$type.split('/')[1])===null||_newFile$type$split$===void 0?void 0:_newFile$type$split$.toLowerCase();selectedFileSize=(newFile===null||newFile===void 0?void 0:newFile.size)/1024/1024;// size in mib\nif(!(imageFormats.indexOf(fileType)<0||selectedFileSize>10)){_context.next=6;break;}setShowToast(true,\"The file must be in proper format or size\");return _context.abrupt(\"return\");case 6:if(!(imageFormats.includes(fileType)&&selectedFileSize>10)){_context.next=9;break;}// image validations\nsetShowToast(true,\"The image file size must be below 10 mb\");return _context.abrupt(\"return\");case 9:data={localURL:URL.createObjectURL(newFile)};if(((_Object$keys=Object.keys(frontPhotoId))===null||_Object$keys===void 0?void 0:_Object$keys.length)===0){formData.append('stripeAccountId',props.stripeAccountId);formData.append('frontPhotoIDUpload',newFile);setFrontPhotoId(data);}else if(((_Object$keys2=Object.keys(backPhotoId))===null||_Object$keys2===void 0?void 0:_Object$keys2.length)===0){formData.append('backPhotoIDUpload',newFile);setBackPhotoId(data);}case 11:case\"end\":return _context.stop();}}},_callee);}));return function onFileChange(_x){return _ref.apply(this,arguments);};}();var checkErrors=function checkErrors(){var _Object$keys3,_Object$keys4;return((_Object$keys3=Object.keys(frontPhotoId))===null||_Object$keys3===void 0?void 0:_Object$keys3.length)&&((_Object$keys4=Object.keys(backPhotoId))===null||_Object$keys4===void 0?void 0:_Object$keys4.length)?false:true;};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return uploadStripeDocument(formData);case 2:res=_context2.sent;if(!(res.success&&props.redirect_from==='mark-milestone'&&props.markMilestoneVerif)){_context2.next=9;break;}setShowToast(true,res.msg);props.markMilestoneVerif('verifSuccess');return _context2.abrupt(\"return\");case 9:if(res.success){history.push('/id-verification-success');}case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();var renderFilteredItems=function renderFilteredItems(){var _Object$keys5,_Object$keys6;var sources=[];var types=[];if(((_Object$keys5=Object.keys(frontPhotoId))===null||_Object$keys5===void 0?void 0:_Object$keys5.length)>0){sources.push(frontPhotoId.localURL);types.push('image');}if(((_Object$keys6=Object.keys(backPhotoId))===null||_Object$keys6===void 0?void 0:_Object$keys6.length)>0){sources.push(backPhotoId.localURL);types.push('image');}return{sources:sources,types:types};};var _renderFilteredItems=renderFilteredItems(),sources=_renderFilteredItems.sources,types=_renderFilteredItems.types;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex_row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relate\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){if(props.redirect_from==='mark-milestone'&&props.markMilestoneVerif){props.markMilestoneVerif('backStep');}else if(props.setIdVerifClicked)props.setIdVerifClicked(false);},className:\"back\"}),/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:'Add your ID photo'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para\",children:\"Please add image of Front & Back side of your ID.\"}),/*#__PURE__*/_jsx(FsLightbox,{toggler:toggler,slide:selectedSlide,sources:sources,types:types,onClose:function onClose(){return setSelectSlide(1);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form_field\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload_img_video\",children:[((_Object$keys7=Object.keys(frontPhotoId))===null||_Object$keys7===void 0?void 0:_Object$keys7.length)>0&&/*#__PURE__*/_jsxs(\"figure\",{className:\"img_video\",onClick:function onClick(){setToggler(function(prev){return!prev;});setSelectSlide(1);},children:[/*#__PURE__*/_jsx(\"img\",{title:'front-photo-id',src:frontPhotoId.localURL,alt:\"media\"}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(e){e.stopPropagation();removeFromItem('frontId');},src:close,alt:\"remove\",className:\"remove\"})]}),((_Object$keys8=Object.keys(backPhotoId))===null||_Object$keys8===void 0?void 0:_Object$keys8.length)>0&&/*#__PURE__*/_jsxs(\"figure\",{className:\"img_video\",onClick:function onClick(){setToggler(function(prev){return!prev;});setSelectSlide(2);},children:[/*#__PURE__*/_jsx(\"img\",{title:'back-photo-id',src:backPhotoId.localURL,alt:\"media\"}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(e){e.stopPropagation();removeFromItem('backId');},src:close,alt:\"remove\",className:\"remove\"})]}),((_Object$keys9=Object.keys(frontPhotoId))===null||_Object$keys9===void 0?void 0:_Object$keys9.length)&&((_Object$keys10=Object.keys(backPhotoId))===null||_Object$keys10===void 0?void 0:_Object$keys10.length)?null:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"upload_media\",htmlFor:\"upload_img_video\",children:/*#__PURE__*/_jsx(\"img\",{src:addMedia,alt:\"\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:onFileChange,type:\"file\",accept:\"image/png,image/jpg,image/jpeg\",style:{display:\"none\"},id:\"upload_img_video\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"fill_btn full_btn btn-effect \".concat(checkErrors()?'disable_btn':''),children:'Submit'})]})]});};export default LodgeDispute;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieEditProfile/components/digitalIdVerification.tsx"],"names":["React","useState","setShowToast","FsLightbox","uploadStripeDocument","useHistory","addMedia","close","imageFormats","LodgeDispute","props","frontPhotoId","setFrontPhotoId","backPhotoId","setBackPhotoId","FormData","formData","toggler","setToggler","selectedSlide","setSelectSlide","history","removeFromItem","type","delete","onFileChange","e","newFile","target","files","fileType","split","toLowerCase","selectedFileSize","size","indexOf","includes","data","localURL","URL","createObjectURL","Object","keys","length","append","stripeAccountId","checkErrors","handleSubmit","res","success","redirect_from","markMilestoneVerif","msg","push","renderFilteredItems","sources","types","setIdVerifClicked","prev","stopPropagation","display"],"mappings":"yeAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,YAAT,KAA6B,+BAA7B,CACA;AACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,OAASC,oBAAT,KAAqC,gCAArC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,sCAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yCAAlB,C,wFAEA,GAAMC,CAAAA,YAA2B,CAAG,CAAC,MAAD,CAAS,KAAT,CAAgB,KAAhB,CAApC,CAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAkB,8DACnC,cAAwCT,QAAQ,CAAM,EAAN,CAAhD,wCAAOU,YAAP,eAAqBC,eAArB,eACA,eAAsCX,QAAQ,CAAM,EAAN,CAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eACA,eAAmBb,QAAQ,CAAM,GAAIc,CAAAA,QAAJ,EAAN,CAA3B,yCAAOC,QAAP,eAEA,eAA8Bf,QAAQ,CAAC,KAAD,CAAtC,yCAAOgB,OAAP,eAAgBC,UAAhB,eACA,eAAwCjB,QAAQ,CAAC,CAAD,CAAhD,0CAAOkB,aAAP,gBAAsBC,cAAtB,gBACA,GAAMC,CAAAA,OAAO,CAAGhB,UAAU,EAA1B,CAEA,GAAMiB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,CAAkB,CACrC,GAAIA,IAAI,GAAK,SAAb,CAAwB,CACpBP,QAAQ,CAACQ,MAAT,CAAgB,iBAAhB,EACAR,QAAQ,CAACQ,MAAT,CAAgB,oBAAhB,EACAZ,eAAe,CAAC,EAAD,CAAf,CACH,CACD,GAAIW,IAAI,GAAK,QAAb,CAAuB,CACnBP,QAAQ,CAACQ,MAAT,CAAgB,mBAAhB,EACAV,cAAc,CAAC,EAAD,CAAd,CACH,CACJ,CAVD,CAYA,GAAMW,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,+NACXC,OADW,CACDD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CADC,CAEbC,QAFa,CAEDH,OAFC,SAEDA,OAFC,gCAEDA,OAAO,CAAEJ,IAFR,8DAED,cAAeQ,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAFC,+CAEF,qBAAgCC,WAAhC,EAFE,CAGbC,gBAHa,CAGM,CAAAN,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEO,IAAT,EAAgB,IAAhB,CAAuB,IAH7B,CAGmC;AAHnC,KAKb1B,YAAY,CAAC2B,OAAb,CAAqBL,QAArB,EAAiC,CAAjC,EAAuCG,gBAAgB,CAAG,EAL7C,0BAMb/B,YAAY,CAAC,IAAD,CAAO,2CAAP,CAAZ,CANa,6CAUbM,YAAY,CAAC4B,QAAb,CAAsBN,QAAtB,GAAmCG,gBAAgB,CAAG,EAVzC,0BAU+C;AAC5D/B,YAAY,CAAC,IAAD,CAAO,yCAAP,CAAZ,CAXa,wCAeXmC,IAfW,CAeJ,CACTC,QAAQ,CAAEC,GAAG,CAACC,eAAJ,CAAoBb,OAApB,CADD,CAfI,CAkBjB,GAAI,eAAAc,MAAM,CAACC,IAAP,CAAY/B,YAAZ,qDAA2BgC,MAA3B,IAAsC,CAA1C,CAA6C,CACzC3B,QAAQ,CAAC4B,MAAT,CAAgB,iBAAhB,CAAmClC,KAAK,CAACmC,eAAzC,EACA7B,QAAQ,CAAC4B,MAAT,CAAgB,oBAAhB,CAAsCjB,OAAtC,EACAf,eAAe,CAACyB,IAAD,CAAf,CACH,CAJD,IAIO,IAAI,gBAAAI,MAAM,CAACC,IAAP,CAAY7B,WAAZ,uDAA0B8B,MAA1B,IAAqC,CAAzC,CAA4C,CAC/C3B,QAAQ,CAAC4B,MAAT,CAAgB,mBAAhB,CAAqCjB,OAArC,EACAb,cAAc,CAACuB,IAAD,CAAd,CACH,CAzBgB,uDAAH,kBAAZZ,CAAAA,YAAY,4CAAlB,CA4BA,GAAMqB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,iCACtB,MAAQ,gBAAAL,MAAM,CAACC,IAAP,CAAY/B,YAAZ,uDAA2BgC,MAA3B,mBAAqCF,MAAM,CAACC,IAAP,CAAY7B,WAAZ,CAArC,wCAAqC,cAA0B8B,MAA/D,CAAD,CAA0E,KAA1E,CAAkF,IAAzF,CACH,CAFD,CAIA,GAAMI,CAAAA,YAAY,2FAAG,uKACC3C,CAAAA,oBAAoB,CAACY,QAAD,CADrB,QACXgC,GADW,qBAEbA,GAAG,CAACC,OAAJ,EAAevC,KAAK,CAACwC,aAAN,GAAwB,gBAAvC,EAA2DxC,KAAK,CAACyC,kBAFpD,2BAGbjD,YAAY,CAAC,IAAD,CAAO8C,GAAG,CAACI,GAAX,CAAZ,CACA1C,KAAK,CAACyC,kBAAN,CAAyB,cAAzB,EAJa,yCAMV,GAAIH,GAAG,CAACC,OAAR,CAAiB,CACpB5B,OAAO,CAACgC,IAAR,CAAa,0BAAb,EACH,CARgB,yDAAH,kBAAZN,CAAAA,YAAY,2CAAlB,CAWA,GAAMO,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,iCAC9B,GAAIC,CAAAA,OAAY,CAAG,EAAnB,CACA,GAAIC,CAAAA,KAAU,CAAG,EAAjB,CAEA,GAAI,gBAAAf,MAAM,CAACC,IAAP,CAAY/B,YAAZ,uDAA2BgC,MAA3B,EAAoC,CAAxC,CAA2C,CACvCY,OAAO,CAACF,IAAR,CAAa1C,YAAY,CAAC2B,QAA1B,EACAkB,KAAK,CAACH,IAAN,CAAW,OAAX,EACH,CAED,GAAI,gBAAAZ,MAAM,CAACC,IAAP,CAAY7B,WAAZ,uDAA0B8B,MAA1B,EAAmC,CAAvC,CAA0C,CACtCY,OAAO,CAACF,IAAR,CAAaxC,WAAW,CAACyB,QAAzB,EACAkB,KAAK,CAACH,IAAN,CAAW,OAAX,EACH,CAED,MAAO,CAAEE,OAAO,CAAPA,OAAF,CAAWC,KAAK,CAALA,KAAX,CAAP,CACH,CAfD,CAiBA,yBAA2BF,mBAAmB,EAA9C,CAAQC,OAAR,sBAAQA,OAAR,CAAiBC,KAAjB,sBAAiBA,KAAjB,CACA,mBACI,aAAK,SAAS,CAAC,UAAf,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,QAAf,wBACI,eACI,OAAO,CAAE,kBAAM,CACX,GAAI9C,KAAK,CAACwC,aAAN,GAAwB,gBAAxB,EAA4CxC,KAAK,CAACyC,kBAAtD,CAA0E,CACtEzC,KAAK,CAACyC,kBAAN,CAAyB,UAAzB,EACH,CAFD,IAEO,IAAIzC,KAAK,CAAC+C,iBAAV,CAA6B/C,KAAK,CAAC+C,iBAAN,CAAwB,KAAxB,EACvC,CALL,CAMI,SAAS,CAAC,MANd,EADJ,cAQI,aAAM,SAAS,CAAC,cAAhB,UACK,mBADL,EARJ,GADJ,cAcI,UAAG,SAAS,CAAC,YAAb,+DAdJ,cAgBI,KAAC,UAAD,EACI,OAAO,CAAExC,OADb,CAEI,KAAK,CAAEE,aAFX,CAGI,OAAO,CAAEoC,OAHb,CAII,KAAK,CAAEC,KAJX,CAKI,OAAO,CAAE,yBAAMpC,CAAAA,cAAc,CAAC,CAAD,CAApB,EALb,EAhBJ,GADJ,cA0BI,YAAK,SAAS,CAAC,eAAf,uBACI,YAAK,SAAS,CAAC,YAAf,EADJ,EA1BJ,cAiCI,aAAK,SAAS,CAAC,gBAAf,wBACI,aAAK,SAAS,CAAC,kBAAf,WACK,gBAAAqB,MAAM,CAACC,IAAP,CAAY/B,YAAZ,uDAA2BgC,MAA3B,EAAoC,CAApC,eACG,gBAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,kBAAM,CACzCzB,UAAU,CAAC,SAACwC,IAAD,QAAmB,CAACA,IAApB,EAAD,CAAV,CACAtC,cAAc,CAAC,CAAD,CAAd,CACH,CAHD,wBAII,YAAK,KAAK,CAAE,gBAAZ,CAA8B,GAAG,CAAET,YAAY,CAAC2B,QAAhD,CAA0D,GAAG,CAAC,OAA9D,EAJJ,cAKI,YACI,OAAO,CAAE,iBAACZ,CAAD,CAAO,CAAEA,CAAC,CAACiC,eAAF,GAAqBrC,cAAc,CAAC,SAAD,CAAd,CAA4B,CADvE,CAEI,GAAG,CAAEf,KAFT,CAEgB,GAAG,CAAC,QAFpB,CAE6B,SAAS,CAAC,QAFvC,EALJ,GAFR,CAYK,gBAAAkC,MAAM,CAACC,IAAP,CAAY7B,WAAZ,uDAA0B8B,MAA1B,EAAmC,CAAnC,eACG,gBAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,kBAAM,CACzCzB,UAAU,CAAC,SAACwC,IAAD,QAAmB,CAACA,IAApB,EAAD,CAAV,CACAtC,cAAc,CAAC,CAAD,CAAd,CACH,CAHD,wBAII,YAAK,KAAK,CAAE,eAAZ,CAA6B,GAAG,CAAEP,WAAW,CAACyB,QAA9C,CAAwD,GAAG,CAAC,OAA5D,EAJJ,cAKI,YACI,OAAO,CAAE,iBAACZ,CAAD,CAAO,CAAEA,CAAC,CAACiC,eAAF,GAAqBrC,cAAc,CAAC,QAAD,CAAd,CAA0B,CADrE,CAEI,GAAG,CAAEf,KAFT,CAEgB,GAAG,CAAC,QAFpB,CAE6B,SAAS,CAAC,QAFvC,EALJ,GAbR,CAwBM,gBAAAkC,MAAM,CAACC,IAAP,CAAY/B,YAAZ,uDAA2BgC,MAA3B,oBAAqCF,MAAM,CAACC,IAAP,CAAY7B,WAAZ,CAArC,yCAAqC,eAA0B8B,MAA/D,CAAD,CAA0E,IAA1E,cACG,MAAC,KAAD,CAAO,QAAP,yBACI,cAAO,SAAS,CAAC,cAAjB,CAAgC,OAAO,CAAC,kBAAxC,uBACI,YAAK,GAAG,CAAErC,QAAV,CAAoB,GAAG,CAAC,EAAxB,EADJ,EADJ,cAII,cACI,QAAQ,CAAEmB,YADd,CAEI,IAAI,CAAC,MAFT,CAGI,MAAM,CAAC,gCAHX,CAII,KAAK,CAAE,CAAEmC,OAAO,CAAE,MAAX,CAJX,CAKI,EAAE,CAAC,kBALP,EAJJ,GAzBR,GADJ,cAwCI,eACI,OAAO,CAAEb,YADb,CAEI,SAAS,wCAAkCD,WAAW,GAAK,aAAL,CAAqB,EAAlE,CAFb,UAGK,QAHL,EAxCJ,GAjCJ,GADJ,CAkFH,CApKD,CAsKA,cAAerC,CAAAA,YAAf","sourcesContent":["import React, { useState } from 'react';\nimport { onFileUpload } from '../../../redux/auth/actions';\nimport { setShowToast } from '../../../redux/common/actions';\n//@ts-ignore\nimport FsLightbox from 'fslightbox-react';\nimport { uploadStripeDocument } from '../../../redux/profile/actions';\nimport { useHistory } from 'react-router-dom';\n\nimport addMedia from \"../../../assets/images/add-image.png\";\nimport close from '../../../assets/images/icon-close-1.png';\n\nconst imageFormats: Array<string> = [\"jpeg\", \"jpg\", \"png\"];\ninterface Props {\n    setIdVerifClicked?: (data: boolean) => void;\n    markMilestoneVerif?: (data: any) => void;\n    stripeAccountId: string;\n    redirect_from?: string\n}\n\nconst LodgeDispute = (props: Props) => {\n    const [frontPhotoId, setFrontPhotoId] = useState<any>({});\n    const [backPhotoId, setBackPhotoId] = useState<any>({});\n    const [formData] = useState<any>(new FormData());\n\n    const [toggler, setToggler] = useState(false);\n    const [selectedSlide, setSelectSlide] = useState(1);\n    const history = useHistory();\n\n    const removeFromItem = (type: string) => {\n        if (type === 'frontId') {\n            formData.delete('stripeAccountId');\n            formData.delete('frontPhotoIDUpload');\n            setFrontPhotoId({});\n        }\n        if (type === 'backId') {\n            formData.delete('backPhotoIDUpload');\n            setBackPhotoId({});\n        }\n    }\n\n    const onFileChange = async (e: any) => {\n        const newFile = e.target.files[0];\n        var fileType = (newFile?.type?.split('/')[1])?.toLowerCase();\n        var selectedFileSize = newFile?.size / 1024 / 1024; // size in mib\n\n        if (imageFormats.indexOf(fileType) < 0 || (selectedFileSize > 10)) {\n            setShowToast(true, \"The file must be in proper format or size\")\n            return;\n        }\n\n        if (imageFormats.includes(fileType) && selectedFileSize > 10) { // image validations\n            setShowToast(true, \"The image file size must be below 10 mb\")\n            return;\n        }\n\n        const data = {\n            localURL: URL.createObjectURL(newFile),\n        }\n        if (Object.keys(frontPhotoId)?.length === 0) {\n            formData.append('stripeAccountId', props.stripeAccountId);\n            formData.append('frontPhotoIDUpload', newFile);\n            setFrontPhotoId(data);\n        } else if (Object.keys(backPhotoId)?.length === 0) {\n            formData.append('backPhotoIDUpload', newFile);\n            setBackPhotoId(data);\n        }\n    }\n\n    const checkErrors = () => {\n        return (Object.keys(frontPhotoId)?.length && Object.keys(backPhotoId)?.length) ? false : true;\n    }\n\n    const handleSubmit = async () => {\n        const res = await uploadStripeDocument(formData);\n        if (res.success && props.redirect_from === 'mark-milestone' && props.markMilestoneVerif) {\n            setShowToast(true, res.msg);\n            props.markMilestoneVerif('verifSuccess');\n            return;\n        } else if (res.success) {\n            history.push('/id-verification-success');\n        }\n    }\n\n    const renderFilteredItems = () => {\n        let sources: any = [];\n        let types: any = [];\n\n        if (Object.keys(frontPhotoId)?.length > 0) {\n            sources.push(frontPhotoId.localURL);\n            types.push('image');\n        }\n\n        if (Object.keys(backPhotoId)?.length > 0) {\n            sources.push(backPhotoId.localURL);\n            types.push('image');\n        }\n\n        return { sources, types };\n    }\n\n    const { sources, types } = renderFilteredItems();\n    return (\n        <div className=\"flex_row\">\n            <div className=\"flex_col_sm_8\">\n                <div className=\"relate\">\n                    <button\n                        onClick={() => {\n                            if (props.redirect_from === 'mark-milestone' && props.markMilestoneVerif) {\n                                props.markMilestoneVerif('backStep');\n                            } else if (props.setIdVerifClicked) props.setIdVerifClicked(false);\n                        }}\n                        className=\"back\"></button>\n                    <span className=\"xs_sub_title\">\n                        {'Add your ID photo'}\n                    </span>\n                </div>\n                {/* <span className=\"sub_title\">Lodge dispute</span> */}\n                <p className=\"commn_para\">Please add image of Front & Back side of your ID.</p>\n\n                <FsLightbox\n                    toggler={toggler}\n                    slide={selectedSlide}\n                    sources={sources}\n                    types={types}\n                    onClose={() => setSelectSlide(1)}\n                />\n            </div>\n\n            <div className=\"flex_col_sm_9\">\n                <div className=\"form_field\">\n                    {/* <span className=\"error_msg\">\n                        {\"error detail\"}\n                    </span> */}\n                </div>\n            </div>\n            <div className=\"flex_col_sm_12\">\n                <div className=\"upload_img_video\">\n                    {Object.keys(frontPhotoId)?.length > 0 &&\n                        <figure className=\"img_video\" onClick={() => {\n                            setToggler((prev: boolean) => !prev);\n                            setSelectSlide(1);\n                        }}>\n                            <img title={'front-photo-id'} src={frontPhotoId.localURL} alt=\"media\" />\n                            <img\n                                onClick={(e) => { e.stopPropagation(); removeFromItem('frontId'); }}\n                                src={close} alt=\"remove\" className=\"remove\" />\n                        </figure>\n                    }\n                    {Object.keys(backPhotoId)?.length > 0 &&\n                        <figure className=\"img_video\" onClick={() => {\n                            setToggler((prev: boolean) => !prev);\n                            setSelectSlide(2);\n                        }}>\n                            <img title={'back-photo-id'} src={backPhotoId.localURL} alt=\"media\" />\n                            <img\n                                onClick={(e) => { e.stopPropagation(); removeFromItem('backId') }}\n                                src={close} alt=\"remove\" className=\"remove\" />\n                        </figure>\n                    }\n\n                    {(Object.keys(frontPhotoId)?.length && Object.keys(backPhotoId)?.length) ? null : (\n                        <React.Fragment>\n                            <label className=\"upload_media\" htmlFor=\"upload_img_video\">\n                                <img src={addMedia} alt=\"\" />\n                            </label>\n                            <input\n                                onChange={onFileChange}\n                                type=\"file\"\n                                accept=\"image/png,image/jpg,image/jpeg\"\n                                style={{ display: \"none\" }}\n                                id=\"upload_img_video\"\n                            />\n                        </React.Fragment>\n                    )}\n                </div>\n                <button\n                    onClick={handleSubmit}\n                    className={`fill_btn full_btn btn-effect ${checkErrors() ? 'disable_btn' : ''}`}>\n                    {'Submit'}\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default LodgeDispute;"]},"metadata":{},"sourceType":"module"}