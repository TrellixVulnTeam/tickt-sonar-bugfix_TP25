{"ast":null,"code":"import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import QuoteMark from'../quoteJobs/quoteMark';import{getHomeJobDetails}from'../../../../redux/homeSearch/actions';import dummy from'../../../../assets/images/u_placeholder.jpg';import more from'../../../../assets/images/icon-direction-right.png';import noDataFound from\"../../../../assets/images/no-search-data.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QuoteOuter=function QuoteOuter(props){var _props$location,_props$location$state,_props$location2;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),dataItems=_useState2[0],setDataItems=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isDataFetched=_useState4[0],setIsDataFetched=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoad=_useState6[0],setIsLoad=_useState6[1];var jobData=(_props$location=props.location)===null||_props$location===void 0?void 0:(_props$location$state=_props$location.state)===null||_props$location$state===void 0?void 0:_props$location$state.jobData;var params=new URLSearchParams((_props$location2=props.location)===null||_props$location2===void 0?void 0:_props$location2.search);var jobId=params.get('jobId');var tradeId=params.get('tradeId');var specializationId=params.get('specializationId');useEffect(function(){if(!(jobData===null||jobData===void 0?void 0:jobData.postedBy)){preFetch();}},[jobData]);var preFetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data={};if(!isLoad){setIsLoad(true);}data.jobId=jobId?jobId:jobData===null||jobData===void 0?void 0:jobData.jobId;data.tradeId=tradeId?tradeId:jobData===null||jobData===void 0?void 0:jobData.tradeId;data.specializationId=specializationId?specializationId:jobData===null||jobData===void 0?void 0:jobData.specializationId;_context.next=7;return getHomeJobDetails(data);case 7:result=_context.sent;if(result.success){setDataItems(result===null||result===void 0?void 0:result.data);}setIsLoad(false);case 10:case\"end\":return _context.stop();}}},_callee);}));return function preFetch(){return _ref.apply(this,arguments);};}();var dataFetched=function dataFetched(val){setIsDataFetched(val);if(jobData){setIsLoad(false);}};var postedBy=(dataItems===null||dataItems===void 0?void 0:dataItems.postedBy)||(jobData===null||jobData===void 0?void 0:jobData.postedBy)||{};var builderId=postedBy.builderId,builderImage=postedBy.builderImage,builderName=postedBy.builderName,jobName=postedBy.jobName,ratings=postedBy.ratings,reviews=postedBy.reviews;return/*#__PURE__*/_jsx(\"div\",{className:\"detail_col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_row\",children:[/*#__PURE__*/_jsx(QuoteMark,_objectSpread(_objectSpread({},props),{},{builderName:builderName,jobId:jobId,dataFetched:dataFetched,isDataFetched:isDataFetched})),isDataFetched?/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_6 col_ruler\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Posted by\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tradie_card posted_by \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_wrap\",onClick:function onClick(){props.history.push(\"/builder-info?builderId=\".concat(builderId));},children:[/*#__PURE__*/_jsx(\"figure\",{className:\"u_img\",children:/*#__PURE__*/_jsx(\"img\",{src:builderImage||dummy,alt:\"traide-img\",onError:function onError(e){var _e$target,_e$target2;if(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.onerror){e.target.onerror=null;}if(e===null||e===void 0?void 0:(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.src){e.target.src=dummy;}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:builderName}),/*#__PURE__*/_jsxs(\"span\",{className:\"rating\",children:[ratings,\" | \",reviews,\" reviews\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relate\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:'Job details'}),/*#__PURE__*/_jsx(\"span\",{className:\"edit_icon\",title:\"More\",onClick:function onClick(){return props.history.push(\"/job-details-page?jobId=\".concat(jobId?jobId:jobData===null||jobData===void 0?void 0:jobData.jobId,\"&redirect_from=jobs\"));},children:/*#__PURE__*/_jsx(\"img\",{src:more,alt:\"more\"})})]})]}):!props.loading&&!isLoad&&/*#__PURE__*/_jsxs(\"div\",{className:\"no_record  m-t-vh\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"no_img\",children:/*#__PURE__*/_jsx(\"img\",{src:noDataFound,alt:\"data not found\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"No Data Found\"})]})]})});};export default QuoteOuter;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/jobDashboard/components/quoteJobs/quoteOuter.tsx"],"names":["useEffect","useState","QuoteMark","getHomeJobDetails","dummy","more","noDataFound","QuoteOuter","props","dataItems","setDataItems","isDataFetched","setIsDataFetched","isLoad","setIsLoad","jobData","location","state","params","URLSearchParams","search","jobId","get","tradeId","specializationId","postedBy","preFetch","data","result","success","dataFetched","val","builderId","builderImage","builderName","jobName","ratings","reviews","history","push","e","target","onerror","src","loading"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport QuoteMark from '../quoteJobs/quoteMark';\nimport {\n    getHomeJobDetails\n} from '../../../../redux/homeSearch/actions';\n\nimport dummy from '../../../../assets/images/u_placeholder.jpg';\nimport more from '../../../../assets/images/icon-direction-right.png';\nimport noDataFound from \"../../../../assets/images/no-search-data.png\";\n\nconst QuoteOuter = (props: any) => {\n    const [dataItems, setDataItems] = useState<any>({});\n    const [isDataFetched, setIsDataFetched] = useState<boolean>(false);\n    const [isLoad, setIsLoad] = useState(true);\n\n    var jobData = props.location?.state?.jobData;\n    const params = new URLSearchParams(props.location?.search);\n    let jobId = params.get('jobId');\n    let tradeId = params.get('tradeId');\n    let specializationId = params.get('specializationId');\n    useEffect(() => {\n        if (!jobData?.postedBy) {\n            preFetch();\n        }\n    }, [jobData]);\n\n    const preFetch = async () => {\n        let data: any = {};\n        if (!isLoad) {\n            setIsLoad(true);\n        }\n        data.jobId = jobId ? jobId : jobData?.jobId;\n        data.tradeId = tradeId ? tradeId : jobData?.tradeId;\n        data.specializationId = specializationId ? specializationId : jobData?.specializationId;\n        let result: any = await getHomeJobDetails(data);\n        if (result.success) {\n            setDataItems(result?.data);\n        }\n        setIsLoad(false);\n    }\n\n    const dataFetched = (val: boolean) => {\n        setIsDataFetched(val);\n        if (jobData) {\n            setIsLoad(false);\n        }\n    }\n\n    const postedBy: any = dataItems?.postedBy || jobData?.postedBy || {}\n    const {\n        builderId,\n        builderImage,\n        builderName,\n        jobName,\n        ratings,\n        reviews\n    } = postedBy;\n\n    return (\n        <div className=\"detail_col\">\n            <div className=\"flex_row\">\n                <QuoteMark\n                    {...props}\n                    builderName={builderName}\n                    jobId={jobId}\n                    dataFetched={dataFetched}\n                    isDataFetched={isDataFetched}\n                />\n                {isDataFetched ? (<div className=\"flex_col_sm_6 col_ruler\">\n                    <span className=\"sub_title\">Posted by</span>\n                    <div className=\"tradie_card posted_by \">\n                        <div\n                            className=\"user_wrap\"\n                            onClick={() => {\n                                props.history.push(`/builder-info?builderId=${builderId}`)\n                            }}>\n                            <figure className=\"u_img\">\n                                <img\n                                    src={builderImage || dummy}\n                                    alt=\"traide-img\"\n                                    onError={(e: any) => {\n                                        if (e?.target?.onerror) {\n                                            e.target.onerror = null;\n                                        }\n                                        if (e?.target?.src) {\n                                            e.target.src = dummy;\n                                        }\n                                    }}\n                                />\n                            </figure>\n                            <div className=\"details\">\n                                <span className=\"name\">{builderName}</span>\n                                <span className=\"rating\">{ratings} | {reviews} reviews</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"relate\">\n                        <span className=\"sub_title\">\n                            {'Job details'}\n                        </span>\n                        <span\n                            className=\"edit_icon\"\n                            title=\"More\"\n                            onClick={() =>\n                                props.history.push(`/job-details-page?jobId=${jobId ? jobId : jobData?.jobId}&redirect_from=jobs`)}>\n                            <img src={more} alt=\"more\" />\n                        </span>\n                    </div>\n                </div>) : !props.loading && !isLoad && (\n                    <div className=\"no_record  m-t-vh\">\n                        <figure className=\"no_img\">\n                            <img src={noDataFound} alt=\"data not found\" />\n                        </figure>\n                        <span>No Data Found</span>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n};\n\nexport default QuoteOuter;\n"]},"metadata":{},"sourceType":"module"}