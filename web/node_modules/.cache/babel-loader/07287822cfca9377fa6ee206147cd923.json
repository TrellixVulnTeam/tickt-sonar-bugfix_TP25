{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/almostDone.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport Constants from '../../../utils/constants';\nimport regex from '../../../utils/regex';\nimport { validateABN } from '../../../utils/common';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AlmostDone = props => {\n  _s();\n\n  const [errors, setErrors] = useState({});\n  const [almostDoneData, setAlmostDoneData] = useState({\n    company_name: '',\n    position: '',\n    abn: ''\n  });\n\n  const changeHandler = e => {\n    setAlmostDoneData(prevData => ({ ...prevData,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const abnHandler = e => {\n    let inputVal = e.target.value.replaceAll(' ', '');\n\n    if (regex.numeric.test(inputVal) || !inputVal) {\n      if (inputVal.length === 2) {\n        if (inputVal.length < almostDoneData.abn.replaceAll(' ', '').length) {\n          inputVal = inputVal.slice(0, 2);\n          setAlmostDoneData(prevData => ({ ...prevData,\n            [e.target.name]: inputVal\n          }));\n          return;\n        } else if (inputVal.length == almostDoneData.abn.replaceAll(' ', '').length) {\n          inputVal = inputVal.slice(0, 1);\n          setAlmostDoneData(prevData => ({ ...prevData,\n            [e.target.name]: inputVal\n          }));\n          return;\n        }\n      }\n\n      if (inputVal.length >= 2 && inputVal.length < 5) {\n        inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, inputVal.length);\n        setAlmostDoneData(prevData => ({ ...prevData,\n          [e.target.name]: inputVal\n        }));\n        return;\n      }\n\n      if (inputVal.length === 5) {\n        if (inputVal.length == almostDoneData.abn.replaceAll(' ', '').length) {\n          inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 4);\n        } else if (inputVal.length < almostDoneData.abn.replaceAll(' ', '').length) {\n          inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5);\n        } else {\n          inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \";\n        }\n\n        setAlmostDoneData(prevData => ({ ...prevData,\n          [e.target.name]: inputVal\n        }));\n        return;\n      }\n\n      if (inputVal.length === 8) {\n        if (inputVal.length == almostDoneData.abn.replaceAll(' ', '').length) {\n          inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, 7);\n        } else if (inputVal.length < almostDoneData.abn.replaceAll(' ', '').length) {\n          inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, 8);\n        } else {\n          inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, 8) + \" \";\n        }\n\n        setAlmostDoneData(prevData => ({ ...prevData,\n          [e.target.name]: inputVal\n        }));\n        return;\n      }\n\n      if (inputVal.length > 5 && inputVal.length < 8) {\n        inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, inputVal.length);\n        setAlmostDoneData(prevData => ({ ...prevData,\n          [e.target.name]: inputVal\n        }));\n        return;\n      }\n\n      if (inputVal.length > 8) {\n        inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, 8) + \" \" + inputVal.slice(8, inputVal.length);\n      }\n\n      setAlmostDoneData(prevData => ({ ...prevData,\n        [e.target.name]: inputVal\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!almostDoneData.company_name) {\n      newErrors.company_name = Constants.errorStrings.companyNameEmpty;\n    } else {\n      const nameRegex = new RegExp(regex.fullname);\n\n      if (!nameRegex.test(almostDoneData.company_name.trim())) {\n        newErrors.company_name = Constants.errorStrings.companyNameErr;\n      }\n    }\n\n    if (!almostDoneData.position) {\n      newErrors.position = Constants.errorStrings.positionNameEmpty;\n    } else {\n      const positionRegex = new RegExp(regex.fullname);\n\n      if (!positionRegex.test(almostDoneData.position.trim())) {\n        newErrors.position = Constants.errorStrings.positionNameErr;\n      }\n    }\n\n    if (!almostDoneData.abn) {\n      newErrors.abn = Constants.errorStrings.abnEmpty;\n    } else {\n      const abnRegex = new RegExp(regex.abn);\n\n      if (!abnRegex.test(almostDoneData.abn.replaceAll(' ', ''))) {\n        newErrors.abn = Constants.errorStrings.abnErr;\n      }\n\n      if (!validateABN(almostDoneData.abn.replaceAll(' ', ''))) {\n        newErrors.abn = Constants.errorStrings.abnErr;\n      }\n    }\n\n    setErrors(newErrors);\n    return !Object.keys(newErrors).length;\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (validateForm()) {\n      var newAlmostData = almostDoneData;\n      newAlmostData.abn = newAlmostData.abn.replaceAll(' ', '');\n      console.log(newAlmostData, \"newAlmostData\");\n      props.onSubmitSignup(newAlmostData);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Company Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Company Name\",\n            value: almostDoneData.company_name,\n            name: \"company_name\",\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this), !!errors.company_name && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.company_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Your Position\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Position\",\n            value: almostDoneData.position,\n            name: \"position\",\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), !!errors.position && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.position\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Australian Business Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"51 824 753 556\",\n            value: almostDoneData.abn,\n            name: \"abn\",\n            onChange: abnHandler,\n            maxLength: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), !!errors.abn && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.abn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"fill_btn btn-effect\",\n          children: \"Create account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AlmostDone, \"9MDZ+CTpyAewZJe2Qd0+zyk/mr0=\");\n\n_c = AlmostDone;\nexport default AlmostDone;\n\nvar _c;\n\n$RefreshReg$(_c, \"AlmostDone\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/almostDone.tsx"],"names":["useState","Constants","regex","validateABN","AlmostDone","props","errors","setErrors","almostDoneData","setAlmostDoneData","company_name","position","abn","changeHandler","e","prevData","target","name","value","abnHandler","inputVal","replaceAll","numeric","test","length","slice","validateForm","newErrors","errorStrings","companyNameEmpty","nameRegex","RegExp","fullname","trim","companyNameErr","positionNameEmpty","positionRegex","positionNameErr","abnEmpty","abnRegex","abnErr","Object","keys","onSubmit","preventDefault","newAlmostData","console","log","onSubmitSignup"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport Constants from '../../../utils/constants';\nimport regex from '../../../utils/regex';\nimport { validateABN } from '../../../utils/common';\n\ninterface Propstype {\n    onSubmitSignup: (data: any) => void,\n}\n\nconst AlmostDone = (props: Propstype) => {\n    const [errors, setErrors] = useState<any>({});\n    const [almostDoneData, setAlmostDoneData] = useState<any>({\n        company_name: '',\n        position: '',\n        abn: '',\n    })\n\n    const changeHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: e.target.value }))\n    }\n\n    const abnHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n        let inputVal = e.target.value.replaceAll(' ', '');\n        if (regex.numeric.test(inputVal) || !inputVal) {\n            if (inputVal.length === 2) {\n                if (inputVal.length < almostDoneData.abn.replaceAll(' ', '').length) {\n                    inputVal = inputVal.slice(0, 2);\n                    setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: inputVal }))\n                    return;\n                } else if (inputVal.length == almostDoneData.abn.replaceAll(' ', '').length) {\n                    inputVal = inputVal.slice(0, 1);\n                    setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: inputVal }))\n                    return;\n                }\n            }\n\n            if (inputVal.length >= 2 && inputVal.length < 5) {\n                inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, inputVal.length);\n                setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: inputVal }))\n                return;\n            }\n\n            if (inputVal.length === 5) {\n                if (inputVal.length == almostDoneData.abn.replaceAll(' ', '').length) {\n                    inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 4);\n                } else if (inputVal.length < almostDoneData.abn.replaceAll(' ', '').length) {\n                    inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5);\n                } else {\n                    inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \";\n                }\n                setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: inputVal }))\n                return;\n            }\n\n            if (inputVal.length === 8) {\n                if (inputVal.length == almostDoneData.abn.replaceAll(' ', '').length) {\n                    inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, 7);\n                } else if (inputVal.length < almostDoneData.abn.replaceAll(' ', '').length) {\n                    inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, 8);\n                } else {\n                    inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, 8) + \" \";\n                }\n                setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: inputVal }))\n                return;\n            }\n\n            if (inputVal.length > 5 && inputVal.length < 8) {\n                inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, inputVal.length);\n                setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: inputVal }))\n                return;\n            }\n\n            if (inputVal.length > 8) {\n                inputVal = inputVal.slice(0, 2) + \" \" + inputVal.slice(2, 5) + \" \" + inputVal.slice(5, 8) + \" \" + inputVal.slice(8, inputVal.length);\n            }\n            setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: inputVal }))\n        }\n    }\n\n    const validateForm = () => {\n        const newErrors: any = {};\n        if (!almostDoneData.company_name) {\n            newErrors.company_name = Constants.errorStrings.companyNameEmpty;\n        } else {\n            const nameRegex = new RegExp(regex.fullname);\n            if (!nameRegex.test(almostDoneData.company_name.trim())) {\n                newErrors.company_name = Constants.errorStrings.companyNameErr;\n            }\n        }\n        if (!almostDoneData.position) {\n            newErrors.position = Constants.errorStrings.positionNameEmpty;\n        } else {\n            const positionRegex = new RegExp(regex.fullname);\n            if (!positionRegex.test(almostDoneData.position.trim())) {\n                newErrors.position = Constants.errorStrings.positionNameErr;\n            }\n        }\n\n        if (!almostDoneData.abn) {\n            newErrors.abn = Constants.errorStrings.abnEmpty;\n        } else {\n            const abnRegex = new RegExp(regex.abn);\n            if (!abnRegex.test(almostDoneData.abn.replaceAll(' ', ''))) {\n                newErrors.abn = Constants.errorStrings.abnErr\n            }\n            if (!validateABN(almostDoneData.abn.replaceAll(' ', ''))) {\n                newErrors.abn = Constants.errorStrings.abnErr\n            }\n        }\n        setErrors(newErrors);\n        return !Object.keys(newErrors).length;\n    }\n\n    const onSubmit = (e: any) => {\n        e.preventDefault();\n        if (validateForm()) {\n            var newAlmostData = almostDoneData;\n            newAlmostData.abn = newAlmostData.abn.replaceAll(' ', '');\n            console.log(newAlmostData, \"newAlmostData\");\n            props.onSubmitSignup(newAlmostData)\n        }\n    }\n\n    return (\n        <div className=\"form_wrapper\">\n            <form onSubmit={onSubmit}>\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Company Name</label>\n                    <div className=\"text_field\">\n                        <input type=\"text\" placeholder=\"Enter Company Name\" value={almostDoneData.company_name} name=\"company_name\" onChange={changeHandler} />\n                    </div>\n                    {!!errors.company_name && <span className=\"error_msg\">{errors.company_name}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Your Position</label>\n                    <div className=\"text_field\">\n                        <input type=\"text\" placeholder=\"Enter Position\" value={almostDoneData.position} name=\"position\" onChange={changeHandler} />\n                    </div>\n                    {!!errors.position && <span className=\"error_msg\">{errors.position}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Australian Business Number</label>\n                    <div className=\"text_field\">\n                        {/* <input type=\"number\" placeholder=\"Enter australian business number\" value={almostDoneData.abn} name=\"abn\" onChange={changeHandler} /> */}\n                        <input type=\"text\" placeholder=\"51 824 753 556\" value={almostDoneData.abn} name=\"abn\" onChange={abnHandler} maxLength={14} />\n                    </div>\n                    {!!errors.abn && <span className=\"error_msg\">{errors.abn}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <button className=\"fill_btn btn-effect\">Create account</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default AlmostDone\n"]},"metadata":{},"sourceType":"module"}