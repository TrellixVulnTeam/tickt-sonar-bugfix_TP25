{"ast":null,"code":"import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{setShowToast}from'../../../redux/common/actions';import noData from'../../../assets/images/no-search-data.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Specialization=function Specialization(props){var _props$tradeListData$;var _useState=useState(props.specialization),_useState2=_slicedToArray(_useState,2),specialization=_useState2[0],setSpecialization=_useState2[1];var changeHandler=function changeHandler(id){setSpecialization(function(prevData){var newData=_toConsumableArray(prevData);var itemIndex=newData.indexOf(id);if(newData.indexOf(id)<0){newData.push(id);}else{newData.splice(itemIndex,1);}return newData;});};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(specialization.length){props.updateSteps(props.step+1,{specialization:specialization});}else{setShowToast(true,\"Please select at least one specialisation\");}case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var specializationList=(_props$tradeListData$=props.tradeListData.find(function(i){return i._id===props.trade;}))===null||_props$tradeListData$===void 0?void 0:_props$tradeListData$.specialisations;return/*#__PURE__*/_jsx(\"div\",{className:\"form_wrapper tags_wrap\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"ul\",{children:(specializationList===null||specializationList===void 0?void 0:specializationList.length)?specializationList.map(function(item){var active=specialization.indexOf(item._id)>=0;return/*#__PURE__*/_jsx(\"li\",{className:active?'active':'',onClick:function onClick(){return changeHandler(item._id);},children:item.name},item._id);}):/*#__PURE__*/_jsx(\"li\",{className:\"no_data\",children:/*#__PURE__*/_jsx(\"img\",{src:noData,alt:\"no-data\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn btn-effect\",children:\"Next\"})})]})});};export default Specialization;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/specialization.tsx"],"names":["useState","setShowToast","noData","Specialization","props","specialization","setSpecialization","changeHandler","id","prevData","newData","itemIndex","indexOf","push","splice","onSubmit","e","preventDefault","length","updateSteps","step","specializationList","tradeListData","find","i","_id","trade","specialisations","map","item","active","name"],"mappings":"qpBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,YAAT,KAA6B,+BAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,2CAAnB,C,wFAUA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAsB,2BACzC,cAA4CJ,QAAQ,CAACI,KAAK,CAACC,cAAP,CAApD,wCAAOA,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAgB,CAClCF,iBAAiB,CAAC,SAACG,QAAD,CAA6B,CAC3C,GAAMC,CAAAA,OAAO,oBAAOD,QAAP,CAAb,CACA,GAAME,CAAAA,SAAS,CAAGD,OAAO,CAACE,OAAR,CAAgBJ,EAAhB,CAAlB,CACA,GAAIE,OAAO,CAACE,OAAR,CAAgBJ,EAAhB,EAAsB,CAA1B,CAA6B,CACzBE,OAAO,CAACG,IAAR,CAAaL,EAAb,EACH,CAFD,IAEO,CACHE,OAAO,CAACI,MAAR,CAAeH,SAAf,CAA0B,CAA1B,EACH,CACD,MAAOD,CAAAA,OAAP,CACH,CATgB,CAAjB,CAUH,CAXD,CAcA,GAAMK,CAAAA,QAAQ,0FAAG,iBAAOC,CAAP,kHACbA,CAAC,CAACC,cAAF,GACA,GAAIZ,cAAc,CAACa,MAAnB,CAA2B,CACvBd,KAAK,CAACe,WAAN,CAAkBf,KAAK,CAACgB,IAAN,CAAa,CAA/B,CAAkC,CAAEf,cAAc,CAAdA,cAAF,CAAlC,EACH,CAFD,IAEO,CACHJ,YAAY,CAAC,IAAD,CAAO,2CAAP,CAAZ,CACH,CANY,sDAAH,kBAARc,CAAAA,QAAQ,4CAAd,CASA,GAAMM,CAAAA,kBAAkB,wBAAGjB,KAAK,CAACkB,aAAN,CAAoBC,IAApB,CAAyB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,GAAF,GAAUrB,KAAK,CAACsB,KAApB,EAA1B,CAAH,gDAAG,sBAAsDC,eAAjF,CAEA,mBACI,YAAK,SAAS,CAAC,wBAAf,uBACI,cAAM,QAAQ,CAAEZ,QAAhB,wBACI,oBACK,CAAAM,kBAAkB,OAAlB,EAAAA,kBAAkB,SAAlB,QAAAA,kBAAkB,CAAEH,MAApB,EAA6BG,kBAAkB,CAACO,GAAnB,CAAuB,SAACC,IAAD,CAAe,CAChE,GAAMC,CAAAA,MAAM,CAAGzB,cAAc,CAACO,OAAf,CAAuBiB,IAAI,CAACJ,GAA5B,GAAoC,CAAnD,CACA,mBACI,WAAmB,SAAS,CAAEK,MAAM,CAAG,QAAH,CAAc,EAAlD,CAAsD,OAAO,CAAE,yBAAMvB,CAAAA,aAAa,CAACsB,IAAI,CAACJ,GAAN,CAAnB,EAA/D,UAA+FI,IAAI,CAACE,IAApG,EAASF,IAAI,CAACJ,GAAd,CADJ,CAGH,CAL6B,CAA7B,cAKI,WAAI,SAAS,CAAC,SAAd,uBACG,YAAK,GAAG,CAAEvB,MAAV,CAAkB,GAAG,CAAC,SAAtB,EADH,EANT,EADJ,cAYI,YAAK,SAAS,CAAC,YAAf,uBACI,eAAQ,SAAS,CAAC,qBAAlB,kBADJ,EAZJ,GADJ,EADJ,CAoBH,CAhDD,CAkDA,cAAeC,CAAAA,cAAf","sourcesContent":["import { useState } from 'react';\nimport { setShowToast } from '../../../redux/common/actions';\nimport noData from '../../../assets/images/no-search-data.png'\n\ninterface Propstype {\n    updateSteps: (num: number, data: any) => void\n    step: number\n    tradeListData: Array<any>,\n    trade: string,\n    specialization: Array<string>\n}\n\nconst Specialization = (props: Propstype) => {\n    const [specialization, setSpecialization] = useState(props.specialization);\n\n    const changeHandler = (id: string) => {\n        setSpecialization((prevData: Array<string>) => {\n            const newData = [...prevData];\n            const itemIndex = newData.indexOf(id);\n            if (newData.indexOf(id) < 0) {\n                newData.push(id);\n            } else {\n                newData.splice(itemIndex, 1);\n            }\n            return newData;\n        })\n    }\n\n\n    const onSubmit = async (e: any) => {\n        e.preventDefault();\n        if (specialization.length) {\n            props.updateSteps(props.step + 1, { specialization })\n        } else {\n            setShowToast(true, \"Please select at least one specialisation\")\n        }\n    }\n\n    const specializationList = props.tradeListData.find(i => i._id === props.trade)?.specialisations;\n\n    return (\n        <div className=\"form_wrapper tags_wrap\">\n            <form onSubmit={onSubmit}>\n                <ul>\n                    {specializationList?.length ? specializationList.map((item: any) => {\n                        const active = specialization.indexOf(item._id) >= 0;\n                        return (\n                            <li key={item._id} className={active ? 'active' : ''} onClick={() => changeHandler(item._id)}>{item.name}</li>\n                        )\n                    }) : <li className='no_data'>\n                            <img src={noData} alt=\"no-data\" />\n                        </li>}\n                </ul>\n\n                <div className=\"form_field\">\n                    <button className=\"fill_btn btn-effect\">Next</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Specialization"]},"metadata":{},"sourceType":"module"}