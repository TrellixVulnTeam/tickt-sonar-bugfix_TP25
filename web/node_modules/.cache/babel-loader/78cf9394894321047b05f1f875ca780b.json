{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/common/tradieBannerSearch/tradieBannerSearch.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Constants from '../../utils/constants';\nimport { useDetectClickOutside } from 'react-detect-click-outside';\nimport { deleteRecentSearch } from '../../redux/homeSearch/actions';\nimport { setShowToast } from '../../redux/common/actions'; // @ts-ignore\n\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from 'react-places-autocomplete'; // @ts-ignore\n\nimport { format, differenceInCalendarYears } from 'date-fns'; // @ts-ignore\n\nimport moment from 'moment'; // @ts-ignore\n\nimport { DateRange } from 'react-date-range';\nimport 'react-date-range/dist/styles.css';\nimport 'react-date-range/dist/theme/default.css';\nimport Geocode from \"react-geocode\";\nimport Searchicon from \"../../assets/images/main-search.png\";\nimport search from \"../../assets/images/ic-search.png\";\nimport Location from \"../../assets/images/ic-location.png\";\nimport cross from \"../../assets/images/close-black.png\";\nimport icgps from \"../../assets/images/ic-gps.png\";\nimport residential from \"../../assets/images/ic-residential.png\";\nimport close from \"../../assets/images/icon-close-1.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nGeocode.setApiKey(\"AIzaSyDKFFrKp0D_5gBsA_oztQUhrrgpKnUpyPo\");\nGeocode.setLanguage(\"en\");\nGeocode.setRegion(\"au\");\n\nconst TradieBannerSearch = props => {\n  _s();\n\n  var _props$history3, _props$history3$locat, _stateData$searchedJo, _props$recentLocation2, _props$recentLocation3;\n\n  const {\n    paramsData\n  } = props;\n  const [stateData, setStateData] = useState({\n    page: 1,\n    searchedJob: '',\n    isFiltered: false,\n    isSearchedJobSelected: false,\n    tradeId: [],\n    specializationId: [],\n    searchedJobId: null,\n    location: {\n      coordinates: [144.9631, //long\n      -37.8136 //lat\n      ]\n    },\n    bannerLocation: '',\n    locationDenied: false,\n    selectedMapLocation: '',\n    isMapLocationSelected: false,\n    from_date: '',\n    startDate: '',\n    to_date: '',\n    endDate: ''\n  }); // const [errors, setErrors] = useState<any>({});\n\n  const [inputFocus1, setInputFocus1] = useState(false);\n  const [inputFocus2, setInputFocus2] = useState(false);\n  const [inputFocus3, setInputFocus3] = useState(false);\n  const [calenderRange1, setCalenderRange1] = useState({\n    startDate: new Date(),\n    endDate: new Date(),\n    key: 'selection1'\n  });\n  const [recentLocation, setRecentLocation] = useState([]);\n\n  const handleOnOutsideSearch = () => setInputFocus1(false);\n\n  const handleOnOutsideLocation = () => setInputFocus2(false);\n\n  const handleOnOutsideCalender = () => setInputFocus3(false);\n\n  const searchRef = useDetectClickOutside({\n    onTriggered: handleOnOutsideSearch\n  });\n  const locationRef = useDetectClickOutside({\n    onTriggered: handleOnOutsideLocation\n  });\n  const calenderRef = useDetectClickOutside({\n    onTriggered: handleOnOutsideCalender\n  });\n  const [suggestionSelected, setSuggestion] = useState('');\n  console.log(inputFocus1, inputFocus2, inputFocus3, \"inputfocus---------\");\n  useEffect(() => {\n    props.getRecentSearchList();\n    props.getRecentLocationList(); // getRecentLocationData();\n  }, []);\n  useEffect(() => {\n    if (paramsData) {\n      var _paramsData$specializ, _paramsData$specializ2, _paramsData$specializ3;\n\n      var data = {\n        page: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.page) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.page : 1,\n        searchedJob: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.searchJob) ? (paramsData === null || paramsData === void 0 ? void 0 : (_paramsData$specializ = paramsData.specializationId) === null || _paramsData$specializ === void 0 ? void 0 : _paramsData$specializ.length) >= 2 ? `${paramsData === null || paramsData === void 0 ? void 0 : paramsData.searchJob} +${(paramsData === null || paramsData === void 0 ? void 0 : (_paramsData$specializ2 = paramsData.specializationId) === null || _paramsData$specializ2 === void 0 ? void 0 : _paramsData$specializ2.length) - 1}` : paramsData === null || paramsData === void 0 ? void 0 : paramsData.searchJob : '',\n        isFiltered: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.isFiltered) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.isFiltered : false,\n        isSearchedJobSelected: (paramsData === null || paramsData === void 0 ? void 0 : (_paramsData$specializ3 = paramsData.specializationId) === null || _paramsData$specializ3 === void 0 ? void 0 : _paramsData$specializ3.length) > 1 ? false : true,\n        tradeId: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.tradeId) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.tradeId : [],\n        specializationId: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.specializationId) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.specializationId : [],\n        location: {\n          coordinates: [(paramsData === null || paramsData === void 0 ? void 0 : paramsData.long) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.long : paramsData === null || paramsData === void 0 ? void 0 : paramsData.defaultLong, (paramsData === null || paramsData === void 0 ? void 0 : paramsData.lat) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.lat : paramsData === null || paramsData === void 0 ? void 0 : paramsData.defaultLat]\n        },\n        selectedMapLocation: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.addres) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.addres : '',\n        isMapLocationSelected: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.addres) ? true : false,\n        from_date: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.from_date) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.from_date : '',\n        startDate: '',\n        to_date: (paramsData === null || paramsData === void 0 ? void 0 : paramsData.to_date) ? paramsData === null || paramsData === void 0 ? void 0 : paramsData.to_date : '',\n        endDate: ''\n      };\n\n      if ((paramsData === null || paramsData === void 0 ? void 0 : paramsData.from_date) || (paramsData === null || paramsData === void 0 ? void 0 : paramsData.to_date)) {\n        const differenceInYears = differenceInCalendarYears(new Date(), paramsData === null || paramsData === void 0 ? void 0 : paramsData.to_date);\n\n        if (differenceInYears !== 0) {\n          data.startDate = moment(paramsData === null || paramsData === void 0 ? void 0 : paramsData.from_date).format('DD MMM YYYY');\n          data.endDate = moment(paramsData === null || paramsData === void 0 ? void 0 : paramsData.to_date).format('DD MMM YYYY');\n        } else {\n          data.startDate = moment(paramsData === null || paramsData === void 0 ? void 0 : paramsData.from_date).format('DD MMM');\n          data.endDate = moment(paramsData === null || paramsData === void 0 ? void 0 : paramsData.to_date).format('DD MMM');\n        }\n      }\n\n      setStateData(prevData => ({ ...prevData,\n        ...data\n      }));\n    }\n  }, [paramsData]);\n  useEffect(() => {\n    if (calenderRange1 && inputFocus3) {\n      const differenceInYears = differenceInCalendarYears(new Date(), calenderRange1.endDate);\n      var startDate;\n      var endDate;\n\n      if (differenceInYears !== 0) {\n        startDate = format(new Date(calenderRange1.startDate), 'dd MMM yyyy');\n        endDate = format(new Date(calenderRange1.endDate), 'dd MMM yyyy');\n      } else {\n        startDate = format(new Date(calenderRange1.startDate), 'dd MMM');\n        endDate = format(new Date(calenderRange1.endDate), 'dd MMM');\n      }\n\n      const from_date = format(new Date(calenderRange1.startDate), 'yyyy-MM-dd');\n      const to_date = format(new Date(calenderRange1.endDate), 'yyyy-MM-dd');\n      setStateData(prevData => ({ ...prevData,\n        startDate: startDate,\n        endDate: endDate\n      }));\n      setStateData(prevData => ({ ...prevData,\n        from_date: from_date,\n        to_date: to_date\n      }));\n    }\n  }, [calenderRange1]);\n  useEffect(() => {\n    if (props.currentCoordinates) {\n      setStateData(prevData => ({ ...prevData,\n        location: props.currentCoordinates\n      }));\n    }\n  }, [props.currentCoordinates]);\n\n  const getRecentLocationData = async () => {\n    //cd june 9\n    var recentLocationDetails = [];\n    let recentLocationData = props.recentLocationData;\n\n    for (let index = 0; index < recentLocationData.length; index++) {\n      let item = recentLocationData[index];\n\n      try {\n        var _cityText, _cityText2, _cityText3, _cityText4, _cityText5, _cityText6, _cityText7, _cityText8, _item$location, _props$recentLocation;\n\n        let lat = item.location.coordinates[1];\n        let long = item.location.coordinates[0];\n        let response = await Geocode.fromLatLng(lat, long);\n        let formatedCityText = JSON.parse(JSON.stringify(response === null || response === void 0 ? void 0 : response.results[0]));\n        let cityText = null;\n\n        if (formatedCityText === null || formatedCityText === void 0 ? void 0 : formatedCityText.formatted_address.includes(',')) {\n          cityText = formatedCityText === null || formatedCityText === void 0 ? void 0 : formatedCityText.formatted_address.split(',');\n        } else {\n          cityText = formatedCityText === null || formatedCityText === void 0 ? void 0 : formatedCityText.formatted_address.split('-');\n        }\n\n        const newData = {\n          mainText: ((_cityText = cityText) === null || _cityText === void 0 ? void 0 : _cityText.length) > 3 ? (_cityText2 = cityText) === null || _cityText2 === void 0 ? void 0 : _cityText2.slice(0, 2).join(',') : (_cityText3 = cityText) === null || _cityText3 === void 0 ? void 0 : _cityText3.slice(0, 1).join(','),\n          secondaryText: ((_cityText4 = cityText) === null || _cityText4 === void 0 ? void 0 : _cityText4.length) > 3 ? (_cityText5 = cityText) === null || _cityText5 === void 0 ? void 0 : _cityText5.slice(2, (_cityText6 = cityText) === null || _cityText6 === void 0 ? void 0 : _cityText6.length).join(',') : (_cityText7 = cityText) === null || _cityText7 === void 0 ? void 0 : _cityText7.slice(1, (_cityText8 = cityText) === null || _cityText8 === void 0 ? void 0 : _cityText8.length).join(',')\n        };\n        recentLocationDetails[index] = {\n          formatted_address: formatedCityText === null || formatedCityText === void 0 ? void 0 : formatedCityText.formatted_address,\n          location: {\n            coordinates: item === null || item === void 0 ? void 0 : (_item$location = item.location) === null || _item$location === void 0 ? void 0 : _item$location.coordinates\n          },\n          allText: newData\n        };\n\n        if ((recentLocationDetails === null || recentLocationDetails === void 0 ? void 0 : recentLocationDetails.length) === ((_props$recentLocation = props.recentLocationData) === null || _props$recentLocation === void 0 ? void 0 : _props$recentLocation.length)) {\n          setRecentLocation(recentLocationDetails);\n        }\n      } catch (err) {\n        console.log({\n          err\n        });\n      }\n    }\n  };\n\n  useEffect(() => {// if (props.recentLocationData?.length && JSON.stringify(props.recentLocationData[0]?.location?.coordinates) !== JSON.stringify(recentLocation[0]?.location?.coordinates)) {\n    //     getRecentLocationData();\n    // }\n  }, [props.recentLocationData, recentLocation]);\n\n  const handleCalenderRange = item => {\n    setCalenderRange1(item.selection1);\n  };\n\n  console.log(stateData, \"stateData\", recentLocation, \"recentLocation\");\n\n  const handleJobChange = e => {\n    e.target.value.length >= 3 && props.getSearchJobList(e.target.value);\n    setStateData(prevData => ({ ...prevData,\n      searchedJob: e.target.value,\n      isSearchedJobSelected: false\n    }));\n  };\n\n  const cleanInputData = item => {\n    if (item === \"calender\") {\n      setStateData(prevData => ({ ...prevData,\n        from_date: '',\n        to_date: '',\n        startDate: '',\n        endDate: ''\n      }));\n      return;\n    }\n\n    if (item == \"searchedJob\") {\n      setStateData(prevData => ({ ...prevData,\n        [item]: '',\n        isSearchedJobSelected: false\n      }));\n    }\n\n    setStateData(prevData => ({ ...prevData,\n      [item]: ''\n    }));\n  };\n\n  const searchedJobClicked = (item, isRecentSearchesClicked) => {\n    setStateData(prevData => ({ ...prevData,\n      searchedJob: item.name,\n      tradeId: [item._id],\n      specializationId: [item.specializationsId],\n      isSearchedJobSelected: true,\n      isFirstJobSelectedCount: 1\n    }));\n    setInputFocus1(false);\n\n    if (isRecentSearchesClicked === 'isRecentSearchesClicked') {\n      const newSearchData = {\n        tradeId: [item._id],\n        specializationId: [item.specializationsId],\n        searchedJob: item.name,\n        isRecentSearchesClicked: \"isRecentSearchesClicked\"\n      };\n      bannerSearchClicked(newSearchData);\n    }\n  };\n\n  const cleanRecentSearch = async (event, recentSearchId) => {\n    event.stopPropagation();\n    const data = {\n      id: recentSearchId,\n      status: 0\n    };\n    const res = await deleteRecentSearch(data);\n\n    if (res.success) {\n      props.getRecentSearchList();\n    }\n  };\n\n  const recentJobSearches = () => {\n    var _props$recentSearchJo, _props$recentSearchJo2, _props$recentSearchJo3;\n\n    return ((_props$recentSearchJo = props.recentSearchJobData) === null || _props$recentSearchJo === void 0 ? void 0 : _props$recentSearchJo.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom_autosuggestion\",\n      id: \"recent-job-search-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sub_title\",\n        children: \"Recent searches\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex_row recent_search\",\n        children: (_props$recentSearchJo2 = props.recentSearchJobData) === null || _props$recentSearchJo2 === void 0 ? void 0 : (_props$recentSearchJo3 = _props$recentSearchJo2.slice(0, 4)) === null || _props$recentSearchJo3 === void 0 ? void 0 : _props$recentSearchJo3.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card ico_txt_wrap\",\n              onClick: () => searchedJobClicked(item, 'isRecentSearchesClicked'),\n              children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"ico\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: (item === null || item === void 0 ? void 0 : item.image) || residential,\n                  alt: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"f_column\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"name\",\n                  children: item.trade_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"remove_card\",\n                onClick: event => cleanRecentSearch(event, item.recentSearchId),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: close,\n                  alt: \"remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 33\n            }, this)\n          }, item.recentSearchId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this);\n  };\n\n  const renderJobResult = () => {\n    var _props$searchJobListD, _props$searchJobListD2;\n\n    return ((_props$searchJobListD = props.searchJobListData) === null || _props$searchJobListD === void 0 ? void 0 : _props$searchJobListD.length) > 0 && stateData.searchedJob.length >= 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom_autosuggestion\",\n      id: \"fetched-custom-job-category-div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recent_search\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"drop_data\",\n          children: (_props$searchJobListD2 = props.searchJobListData) === null || _props$searchJobListD2 === void 0 ? void 0 : _props$searchJobListD2.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => searchedJobClicked(item),\n              children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                className: \"category\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image ? item.image : residential,\n                  alt: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"details\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"name\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prof\",\n                  children: item.trade_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 33\n              }, this)]\n            }, item._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }, this);\n  };\n\n  const locationSelectedHandler = (address, placeId, suggestion) => {\n    console.log(address, \"address\", placeId, \"placeId\", suggestion, \"suggestion\");\n    setSuggestion(suggestion === null || suggestion === void 0 ? void 0 : suggestion.formattedSuggestion);\n    geocodeByAddress(address).then(results => getLatLng(results[0])).then(({\n      lat,\n      lng\n    }) => {\n      const locationNew = {\n        location: {\n          coordinates: [lng, lat]\n        }\n      };\n      setStateData(prevData => {\n        var _suggestion$formatted;\n\n        return { ...prevData,\n          ...locationNew,\n          selectedMapLocation: suggestion === null || suggestion === void 0 ? void 0 : (_suggestion$formatted = suggestion.formattedSuggestion) === null || _suggestion$formatted === void 0 ? void 0 : _suggestion$formatted.mainText,\n          isMapLocationSelected: true\n        };\n      });\n      setInputFocus2(false);\n    });\n  };\n\n  const filterFromAddress = results => {\n    let city,\n        state,\n        country = null;\n\n    for (let i = 0; i < results[0].address_components.length; i++) {\n      for (let j = 0; j < results[0].address_components[i].types.length; j++) {\n        switch (results[0].address_components[i].types[j]) {\n          case \"locality\":\n            city = results[0].address_components[i].long_name;\n            break;\n\n          case \"administrative_area_level_1\":\n            state = results[0].address_components[i].long_name;\n            break;\n\n          case \"country\":\n            country = results[0].address_components[i].long_name;\n            break;\n        }\n      }\n    }\n\n    return {\n      city,\n      state,\n      country: country.toLowerCase()\n    };\n  };\n\n  const getCurrentLocation = e => {\n    e.preventDefault();\n\n    const showPosition = position => {\n      const lat = position.coords.latitude;\n      const long = position.coords.longitude;\n      var latlng = new google.maps.LatLng(lat, long);\n      var geocoder = new google.maps.Geocoder();\n      geocoder.geocode({\n        location: latlng\n      }, function (results, status) {\n        if (status !== google.maps.GeocoderStatus.OK) {\n          alert(status);\n        }\n\n        if (status === google.maps.GeocoderStatus.OK) {\n          const {\n            country\n          } = filterFromAddress(results);\n\n          if ([\"australia\", \"au\"].includes(country)) {\n            setInputFocus2(false);\n\n            if (results && Array.isArray(results) && results[0]) {\n              setStateData(prevData => ({ ...prevData,\n                selectedMapLocation: results[0].formatted_address,\n                isMapLocationSelected: true,\n                locationDenied: false\n              }));\n            }\n          } else {\n            setInputFocus2(false);\n            setShowToast(true, \"Uh oh! we don't provide service currently in your location.\");\n          }\n        }\n      });\n    };\n\n    const showError = error => {\n      if (error.code === error.PERMISSION_DENIED) {\n        setStateData(prevData => ({ ...prevData,\n          bannerLocation: '',\n          locationDenied: true\n        }));\n      }\n    };\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(showPosition, showError);\n    }\n  };\n\n  const validateForm = type => {\n    var _props$history, _props$history$locati;\n\n    if (type === 'isRecentSearchesClicked' && ((_props$history = props.history) === null || _props$history === void 0 ? void 0 : (_props$history$locati = _props$history.location) === null || _props$history$locati === void 0 ? void 0 : _props$history$locati.pathname) === '/') {\n      return true;\n    }\n\n    const newErrors = {};\n\n    if (!(stateData === null || stateData === void 0 ? void 0 : stateData.isSearchedJobSelected)) {\n      newErrors.searchedJob = Constants.errorStrings.bannerSearchJob;\n    } else if (!(stateData === null || stateData === void 0 ? void 0 : stateData.searchedJob)) {\n      newErrors.searchedJob = Constants.errorStrings.bannerSearchJobEmpty;\n    }\n\n    if (!(stateData === null || stateData === void 0 ? void 0 : stateData.isMapLocationSelected) && (stateData === null || stateData === void 0 ? void 0 : stateData.selectedMapLocation)) {\n      newErrors.selectedMapLocation = Constants.errorStrings.bannerSearchLocation;\n    }\n\n    if (type === 'showErrorToast') {\n      return newErrors;\n    } // setErrors(newErrors);\n\n\n    return !Object.keys(newErrors).length;\n  };\n\n  const bannerSearchClicked = newSearchData => {\n    const newErrors = validateForm((newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.isRecentSearchesClicked) ? newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.isRecentSearchesClicked : 'showErrorToast');\n\n    if (!!newErrors.searchedJob || !!newErrors.selectedMapLocation) {\n      if (!!newErrors.searchedJob) {\n        setShowToast(true, 'Please select job type from the list');\n        return;\n      }\n\n      if (!!newErrors.selectedMapLocation) {\n        setShowToast(true, 'Please select location from the list');\n        return;\n      }\n    }\n\n    if (validateForm(newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.isRecentSearchesClicked)) {\n      var _props$location, _props$location2, _props$currentCoordin, _props$currentCoordin2, _props$currentCoordin3, _props$currentCoordin4, _props$location3, _props$history2, _props$history2$locat;\n\n      const params = new URLSearchParams((_props$location = props.location) === null || _props$location === void 0 ? void 0 : _props$location.search);\n      const queryParamsData = {\n        defaultLat: Number(params.get('defaultLat')),\n        defaultLong: Number(params.get('defaultLong'))\n      };\n      const data = {\n        page: stateData.page,\n        isFiltered: false,\n        ...(suggestionSelected && {\n          address: JSON.stringify(suggestionSelected)\n        }),\n        tradeId: (newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.tradeId) ? newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.tradeId : stateData === null || stateData === void 0 ? void 0 : stateData.tradeId,\n        ...(stateData.isMapLocationSelected && {\n          location: stateData === null || stateData === void 0 ? void 0 : stateData.location\n        }),\n        // location: stateData?.location,\n        specializationId: (newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.specializationId) ? newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.specializationId : stateData === null || stateData === void 0 ? void 0 : stateData.specializationId,\n        ...((stateData === null || stateData === void 0 ? void 0 : stateData.from_date) && {\n          from_date: stateData === null || stateData === void 0 ? void 0 : stateData.from_date\n        }),\n        ...((stateData === null || stateData === void 0 ? void 0 : stateData.to_date) && {\n          to_date: stateData === null || stateData === void 0 ? void 0 : stateData.to_date\n        })\n      };\n      console.log('data: ', data, \"suggestionSelected\", suggestionSelected);\n\n      if ((props === null || props === void 0 ? void 0 : (_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : _props$location2.pathname) === '/search-job-results') {\n        props.postHomeSearchData(data);\n      } // delete data.address;\n\n\n      const newData = { ...data,\n        lat: stateData.location.coordinates[1],\n        long: stateData.location.coordinates[0],\n        defaultLat: ((_props$currentCoordin = props.currentCoordinates) === null || _props$currentCoordin === void 0 ? void 0 : _props$currentCoordin.coordinates[1]) ? (_props$currentCoordin2 = props.currentCoordinates) === null || _props$currentCoordin2 === void 0 ? void 0 : _props$currentCoordin2.coordinates[1] : queryParamsData.defaultLat,\n        defaultLong: ((_props$currentCoordin3 = props.currentCoordinates) === null || _props$currentCoordin3 === void 0 ? void 0 : _props$currentCoordin3.coordinates[0]) ? (_props$currentCoordin4 = props.currentCoordinates) === null || _props$currentCoordin4 === void 0 ? void 0 : _props$currentCoordin4.coordinates[0] : queryParamsData.defaultLong,\n        ...(stateData.selectedMapLocation && {\n          addres: stateData.selectedMapLocation.replaceAll(\"#\", \"\")\n        }),\n        searchJob: (newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.searchedJob) ? newSearchData === null || newSearchData === void 0 ? void 0 : newSearchData.searchedJob.replaceAll(\"&\", \"xxx\") : stateData === null || stateData === void 0 ? void 0 : stateData.searchedJob.replaceAll(\"&\", \"xxx\"),\n        jobResults: null\n      };\n\n      if ((props === null || props === void 0 ? void 0 : (_props$location3 = props.location) === null || _props$location3 === void 0 ? void 0 : _props$location3.pathname) === '/search-job-results' && newData.address) {\n        setTimeout(() => {\n          props.getRecentLocationList();\n        }, 500);\n      }\n\n      delete newData.location;\n      delete newData.isFilterOn;\n\n      if (newData.searchJob) {\n        delete newData.heading;\n        delete newData.jobResults;\n      }\n\n      Object.keys(newData).forEach(key => (newData[key] === '' || newData[key] === undefined || newData[key] === null || newData[key] === 0 || newData[key] == '0') && delete newData[key]);\n      var url = 'search-job-results?';\n\n      for (let [key, value] of Object.entries(newData)) {\n        url += `${key}=${value}&`;\n      }\n\n      const newUrl = url.slice(0, url.length - 1);\n      console.log(newUrl, \"newUrl\", data, \"data\", newData, \"newData\");\n\n      if (((_props$history2 = props.history) === null || _props$history2 === void 0 ? void 0 : (_props$history2$locat = _props$history2.location) === null || _props$history2$locat === void 0 ? void 0 : _props$history2$locat.pathname) === '/') {\n        props.history.push(newUrl);\n      } else {\n        props.history.replace(newUrl);\n\n        if (props === null || props === void 0 ? void 0 : props.refreshParams) {\n          props === null || props === void 0 ? void 0 : props.refreshParams(data);\n        }\n      }\n    }\n  };\n\n  const renderPlacesData = ({\n    getInputProps,\n    suggestions,\n    getSuggestionItemProps,\n    loading\n  }) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text_field\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", { ...getInputProps({\n          placeholder: 'Where?',\n          className: 'line-1'\n        }),\n        id: \"location-input-tag\",\n        onFocus: () => {\n          setInputFocus2(true);\n          setInputFocus1(false);\n          setInputFocus3(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"detect_icon_ltr\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Location,\n          alt: \"location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 17\n      }, this), (stateData === null || stateData === void 0 ? void 0 : stateData.selectedMapLocation) && inputFocus2 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"detect_icon\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cross,\n          alt: \"cross\",\n          onClick: () => {\n            setSuggestion('');\n            setStateData(prevData => ({ ...prevData,\n              selectedMapLocation: '',\n              isMapLocationSelected: false\n            }));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 67\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 13\n    }, this), (suggestions === null || suggestions === void 0 ? void 0 : suggestions.length) > 0 && (stateData === null || stateData === void 0 ? void 0 : stateData.selectedMapLocation.length) >= 3 && inputFocus2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom_autosuggestion location\",\n      id: \"autocomplete-dropdown-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex_row recent_search auto_loc\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_col_sm_4\",\n          children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 37\n          }, this), suggestions.map(suggestion => {\n            const className = 'autosuggestion_icon card loc name';\n            const style = suggestion.active ? {\n              backgroundColor: '#fafafa',\n              cursor: 'pointer'\n            } : {\n              backgroundColor: '#ffffff',\n              cursor: 'pointer'\n            };\n            return /*#__PURE__*/_createElement(\"div\", { ...getSuggestionItemProps(suggestion, {\n                className,\n                style\n              }),\n              key: suggestion.formattedSuggestion.mainText,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 33\n              }\n            }, /*#__PURE__*/_jsxDEV(\"span\", {\n              children: suggestion.formattedSuggestion.mainText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"name\",\n              children: suggestion.formattedSuggestion.secondaryText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 37\n            }, this));\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 103\n    }, this) : !loading && !(stateData === null || stateData === void 0 ? void 0 : stateData.isMapLocationSelected) && (stateData === null || stateData === void 0 ? void 0 : stateData.selectedMapLocation.length) >= 3 && inputFocus2 && (suggestions === null || suggestions === void 0 ? void 0 : suggestions.length) < 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '50px'\n      },\n      className: \"custom_autosuggestion location\",\n      id: \"autocomplete-dropdown-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex_row recent_search auto_loc\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_col_sm_4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loc_suggestions\",\n            children: 'No Result Found.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 18\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 476,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home_search\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"modal_srch_close\",\n      onClick: () => {\n        if (props === null || props === void 0 ? void 0 : props.handleChangeToggle) {\n          props.handleChangeToggle(false);\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: close,\n        alt: \"close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: `search_wrapr ${((_props$history3 = props.history) === null || _props$history3 === void 0 ? void 0 : (_props$history3$locat = _props$history3.location) === null || _props$history3$locat === void 0 ? void 0 : _props$history3$locat.pathname) === '/' ? (stateData === null || stateData === void 0 ? void 0 : stateData.isFirstJobSelectedCount) ? '' : 'first_input' : ''}`,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"categ_box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text_field\",\n            id: \"text-field-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ref: searchRef,\n              placeholder: \"What jobs are you after?\",\n              value: stateData === null || stateData === void 0 ? void 0 : stateData.searchedJob,\n              onChange: handleJobChange,\n              onFocus: () => {\n                setInputFocus1(true);\n                setInputFocus2(false);\n                setInputFocus3(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border_eff\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detect_icon_ltr\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: Searchicon,\n                alt: \"search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 29\n            }, this), !!(stateData === null || stateData === void 0 ? void 0 : stateData.searchedJob) && inputFocus1 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detect_icon\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: cross,\n                alt: \"cross\",\n                onClick: () => cleanInputData('searchedJob')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 21\n        }, this), !(stateData === null || stateData === void 0 ? void 0 : stateData.searchedJob) && inputFocus1 && !inputFocus2 && recentJobSearches(), (stateData === null || stateData === void 0 ? void 0 : (_stateData$searchedJo = stateData.searchedJob) === null || _stateData$searchedJo === void 0 ? void 0 : _stateData$searchedJo.length) >= 1 && inputFocus1 && !inputFocus2 && renderJobResult(), /*#__PURE__*/_jsxDEV(\"li\", {\n          ref: locationRef,\n          className: \"loc_box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"location-text-field-div\",\n            children: /*#__PURE__*/_jsxDEV(PlacesAutocomplete, {\n              value: (stateData === null || stateData === void 0 ? void 0 : stateData.selectedMapLocation) !== \"{}\" ? stateData === null || stateData === void 0 ? void 0 : stateData.selectedMapLocation : '',\n              onChange: city => setStateData(prevData => ({ ...prevData,\n                selectedMapLocation: city,\n                isMapLocationSelected: false\n              })),\n              shouldFetchSuggestions: true,\n              onSelect: locationSelectedHandler,\n              highlightFirstSuggestion: true,\n              searchOptions: {\n                componentRestrictions: {\n                  country: \"au\"\n                },\n                // types: [\"address\"]\n                types: [\"(cities)\"]\n              } // debounce={400}\n              ,\n              children: renderPlacesData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 25\n          }, this), (!(stateData === null || stateData === void 0 ? void 0 : stateData.selectedMapLocation) || (stateData === null || stateData === void 0 ? void 0 : stateData.selectedMapLocation) === \"{}\") && inputFocus2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom_autosuggestion location\",\n            id: \"current-location-search-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"location-btn\",\n              onClick: getCurrentLocation,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"gps_icon\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: icgps\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 37\n              }, this), \" Use my current location\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 33\n            }, this), (stateData === null || stateData === void 0 ? void 0 : stateData.locationDenied) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"blocked_note\",\n              children: \"You have blocked your location. To use this, change your location settings in browser.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 63\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recent_search auto_loc\",\n              children: [console.log({\n                recent: props === null || props === void 0 ? void 0 : props.recentLocationData\n              }), (props === null || props === void 0 ? void 0 : (_props$recentLocation2 = props.recentLocationData) === null || _props$recentLocation2 === void 0 ? void 0 : _props$recentLocation2.length) > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sub_title\",\n                children: \"Recent searches\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 41\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: props === null || props === void 0 ? void 0 : (_props$recentLocation3 = props.recentLocationData) === null || _props$recentLocation3 === void 0 ? void 0 : _props$recentLocation3.map(item => {\n                  var _item$address, _JSON$parse2, _JSON$parse3;\n\n                  return (item === null || item === void 0 ? void 0 : (_item$address = item.address) === null || _item$address === void 0 ? void 0 : _item$address.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex_col_sm_4\",\n                    onClick: () => {\n                      setStateData(prevData => {\n                        var _JSON$parse;\n\n                        return { ...prevData,\n                          location: item.location,\n                          selectedMapLocation: (_JSON$parse = JSON.parse(item === null || item === void 0 ? void 0 : item.address)) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.mainText,\n                          //item.allText?.mainText,\n                          isMapLocationSelected: true\n                        };\n                      });\n                      setSuggestion(JSON.parse(item === null || item === void 0 ? void 0 : item.address)); // let location_coordinates: any = item.location.coordinates\n                      // setAddressText(item.formatted_address);\n                      // setSelectedAddress({\n                      //     lat: location_coordinates[1],\n                      //     lng: location_coordinates[0]\n                      // });\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"autosuggestion_icon card loc name\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: (_JSON$parse2 = JSON.parse(item === null || item === void 0 ? void 0 : item.address)) === null || _JSON$parse2 === void 0 ? void 0 : _JSON$parse2.mainText\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 644,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"name\",\n                        children: (_JSON$parse3 = JSON.parse(item === null || item === void 0 ? void 0 : item.address)) === null || _JSON$parse3 === void 0 ? void 0 : _JSON$parse3.secondaryText\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 645,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 643,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 626,\n                    columnNumber: 49\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `date_box ${stateData.startDate ? 'date_value' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: calenderRef,\n            className: \"custom_date_range\",\n            id: \"date-range-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text_field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detect_icon_ltr calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"calender-input\",\n                placeholder: (stateData === null || stateData === void 0 ? void 0 : stateData.startDate) ? `${stateData === null || stateData === void 0 ? void 0 : stateData.startDate} - ${stateData === null || stateData === void 0 ? void 0 : stateData.endDate}` : \"When?\",\n                onFocus: () => {\n                  setInputFocus3(true);\n                  setInputFocus1(false);\n                  setInputFocus2(false);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 33\n              }, this), (stateData === null || stateData === void 0 ? void 0 : stateData.startDate) && inputFocus3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detect_icon\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: cross,\n                  alt: \"cross\",\n                  onClick: () => cleanInputData('calender')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 656,\n              columnNumber: 29\n            }, this), inputFocus3 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"custom_autosuggestion\",\n              id: \"custom-date-range-div\",\n              children: /*#__PURE__*/_jsxDEV(DateRange, {\n                onChange: handleCalenderRange,\n                ranges: [calenderRange1],\n                moveRangeOnFirstSelection: false,\n                rangeColors: [\"#fee600\", \"#b5b5b5\"],\n                showDateDisplay: false,\n                showSelectionPreview: true,\n                months: 2,\n                showPreview: true,\n                minDate: new Date(),\n                maxDate: new Date(new Date().setFullYear(new Date().getFullYear() + 2)),\n                direction: \"horizontal\",\n                fixedHeight: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search_btn\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"fill_btn btn-effect\",\n            onClick: bannerSearchClicked,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: search,\n              alt: \"search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 537,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TradieBannerSearch, \"QM/wDIJpLOSeV9DzIpur+8Jxe5Y=\", false, function () {\n  return [useDetectClickOutside, useDetectClickOutside, useDetectClickOutside];\n});\n\n_c = TradieBannerSearch;\nexport default TradieBannerSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"TradieBannerSearch\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/common/tradieBannerSearch/tradieBannerSearch.tsx"],"names":["React","useState","useEffect","Constants","useDetectClickOutside","deleteRecentSearch","setShowToast","PlacesAutocomplete","geocodeByAddress","getLatLng","format","differenceInCalendarYears","moment","DateRange","Geocode","Searchicon","search","Location","cross","icgps","residential","close","setApiKey","setLanguage","setRegion","TradieBannerSearch","props","paramsData","stateData","setStateData","page","searchedJob","isFiltered","isSearchedJobSelected","tradeId","specializationId","searchedJobId","location","coordinates","bannerLocation","locationDenied","selectedMapLocation","isMapLocationSelected","from_date","startDate","to_date","endDate","inputFocus1","setInputFocus1","inputFocus2","setInputFocus2","inputFocus3","setInputFocus3","calenderRange1","setCalenderRange1","Date","key","recentLocation","setRecentLocation","handleOnOutsideSearch","handleOnOutsideLocation","handleOnOutsideCalender","searchRef","onTriggered","locationRef","calenderRef","suggestionSelected","setSuggestion","console","log","getRecentSearchList","getRecentLocationList","data","searchJob","length","long","defaultLong","lat","defaultLat","addres","differenceInYears","prevData","currentCoordinates","getRecentLocationData","recentLocationDetails","recentLocationData","index","item","response","fromLatLng","formatedCityText","JSON","parse","stringify","results","cityText","formatted_address","includes","split","newData","mainText","slice","join","secondaryText","allText","err","handleCalenderRange","selection1","handleJobChange","e","target","value","getSearchJobList","cleanInputData","searchedJobClicked","isRecentSearchesClicked","name","_id","specializationsId","isFirstJobSelectedCount","newSearchData","bannerSearchClicked","cleanRecentSearch","event","recentSearchId","stopPropagation","id","status","res","success","recentJobSearches","recentSearchJobData","map","image","trade_name","renderJobResult","searchJobListData","locationSelectedHandler","address","placeId","suggestion","formattedSuggestion","then","lng","locationNew","filterFromAddress","city","state","country","i","address_components","j","types","long_name","toLowerCase","getCurrentLocation","preventDefault","showPosition","position","coords","latitude","longitude","latlng","google","maps","LatLng","geocoder","Geocoder","geocode","GeocoderStatus","OK","alert","Array","isArray","showError","error","code","PERMISSION_DENIED","navigator","geolocation","getCurrentPosition","validateForm","type","history","pathname","newErrors","errorStrings","bannerSearchJob","bannerSearchJobEmpty","bannerSearchLocation","Object","keys","params","URLSearchParams","queryParamsData","Number","get","postHomeSearchData","replaceAll","jobResults","setTimeout","isFilterOn","heading","forEach","undefined","url","entries","newUrl","push","replace","refreshParams","renderPlacesData","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","className","style","active","backgroundColor","cursor","minHeight","handleChangeToggle","componentRestrictions","recent","setFullYear","getFullYear"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Constants from '../../utils/constants';\nimport { useDetectClickOutside } from 'react-detect-click-outside';\nimport { deleteRecentSearch } from '../../redux/homeSearch/actions';\nimport { setShowToast } from '../../redux/common/actions';\n// @ts-ignore\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng, } from 'react-places-autocomplete';\n// @ts-ignore\nimport { format, differenceInCalendarYears } from 'date-fns';\n// @ts-ignore\nimport moment from 'moment';\n// @ts-ignore\nimport { DateRange } from 'react-date-range';\nimport 'react-date-range/dist/styles.css';\nimport 'react-date-range/dist/theme/default.css';\nimport Geocode from \"react-geocode\";\n\n\nimport Searchicon from \"../../assets/images/main-search.png\";\nimport search from \"../../assets/images/ic-search.png\";\nimport Location from \"../../assets/images/ic-location.png\";\nimport cross from \"../../assets/images/close-black.png\";\nimport icgps from \"../../assets/images/ic-gps.png\";\nimport residential from \"../../assets/images/ic-residential.png\";\nimport close from \"../../assets/images/icon-close-1.png\";\n\nGeocode.setApiKey(\"AIzaSyDKFFrKp0D_5gBsA_oztQUhrrgpKnUpyPo\");\nGeocode.setLanguage(\"en\");\nGeocode.setRegion(\"au\");\ninterface PropsType {\n    history: any,\n    location?: any,\n    paramsData?: any,\n    currentCoordinates?: any,\n    searchJobListData: Array<any>,\n    recentSearchJobData: Array<any>,\n    recentLocationData: Array<any>,\n    homeSearchJobData: Array<any>,\n    setTradieHomeData?: (data: any) => void,\n    getSearchJobList: (data: any) => void,\n    postHomeSearchData: (data: any) => void,\n    getRecentSearchList: () => void,\n    getRecentLocationList: () => void,\n    refreshParams?: (data: any) => void,\n    handleChangeToggle?: (data: boolean) => void,\n}\n\nconst TradieBannerSearch = (props: PropsType) => {\n    const { paramsData } = props;\n    const [stateData, setStateData] = useState<any>({\n        page: 1,\n        searchedJob: '',\n        isFiltered: false,\n        isSearchedJobSelected: false,\n        tradeId: [],\n        specializationId: [],\n        searchedJobId: null,\n        location: {\n            coordinates: [\n                144.9631, //long\n                -37.8136, //lat\n            ]\n        },\n        bannerLocation: '',\n        locationDenied: false,\n        selectedMapLocation: '',\n        isMapLocationSelected: false,\n        from_date: '',\n        startDate: '',\n        to_date: '',\n        endDate: '',\n    });\n\n    // const [errors, setErrors] = useState<any>({});\n    const [inputFocus1, setInputFocus1] = useState<boolean>(false)\n    const [inputFocus2, setInputFocus2] = useState<boolean>(false)\n    const [inputFocus3, setInputFocus3] = useState<boolean>(false)\n    const [calenderRange1, setCalenderRange1] = useState<any>({ startDate: new Date(), endDate: new Date(), key: 'selection1' });\n    const [recentLocation, setRecentLocation] = useState<any>([])\n\n    const handleOnOutsideSearch = () => setInputFocus1(false);\n    const handleOnOutsideLocation = () => setInputFocus2(false);\n    const handleOnOutsideCalender = () => setInputFocus3(false);\n\n    const searchRef = useDetectClickOutside({ onTriggered: handleOnOutsideSearch });\n    const locationRef = useDetectClickOutside({ onTriggered: handleOnOutsideLocation });\n    const calenderRef = useDetectClickOutside({ onTriggered: handleOnOutsideCalender });\n\n    const [suggestionSelected, setSuggestion] = useState<any>('');\n\n    console.log(inputFocus1, inputFocus2, inputFocus3, \"inputfocus---------\");\n\n    useEffect(() => {\n        props.getRecentSearchList();\n        props.getRecentLocationList();\n        // getRecentLocationData();\n    }, []);\n\n    useEffect(() => {\n        if (paramsData) {\n            var data = {\n                page: paramsData?.page ? paramsData?.page : 1,\n                searchedJob: paramsData?.searchJob ? paramsData?.specializationId?.length >= 2 ? `${paramsData?.searchJob} +${paramsData?.specializationId?.length - 1}` : paramsData?.searchJob : '',\n                isFiltered: paramsData?.isFiltered ? paramsData?.isFiltered : false,\n                isSearchedJobSelected: paramsData?.specializationId?.length > 1 ? false : true,\n                tradeId: paramsData?.tradeId ? paramsData?.tradeId : [],\n                specializationId: paramsData?.specializationId ? paramsData?.specializationId : [],\n                location: {\n                    coordinates: [\n                        paramsData?.long ? paramsData?.long : paramsData?.defaultLong,\n                        paramsData?.lat ? paramsData?.lat : paramsData?.defaultLat\n                    ]\n                },\n                selectedMapLocation: paramsData?.addres ? paramsData?.addres : '',\n                isMapLocationSelected: paramsData?.addres ? true : false,\n                from_date: paramsData?.from_date ? paramsData?.from_date : '',\n                startDate: '',\n                to_date: paramsData?.to_date ? paramsData?.to_date : '',\n                endDate: '',\n            }\n            if (paramsData?.from_date || paramsData?.to_date) {\n                const differenceInYears: number = differenceInCalendarYears(new Date(), paramsData?.to_date);\n                if (differenceInYears !== 0) {\n                    data.startDate = moment(paramsData?.from_date).format('DD MMM YYYY');\n                    data.endDate = moment(paramsData?.to_date).format('DD MMM YYYY');\n                } else {\n                    data.startDate = moment(paramsData?.from_date).format('DD MMM');\n                    data.endDate = moment(paramsData?.to_date).format('DD MMM');\n                }\n\n            }\n            setStateData((prevData: any) => ({ ...prevData, ...data }));\n        }\n    }, [paramsData])\n\n    useEffect(() => {\n        if (calenderRange1 && inputFocus3) {\n            const differenceInYears: number = differenceInCalendarYears(new Date(), calenderRange1.endDate);\n            var startDate: string;\n            var endDate: string;\n            if (differenceInYears !== 0) {\n                startDate = format(new Date(calenderRange1.startDate), 'dd MMM yyyy');\n                endDate = format(new Date(calenderRange1.endDate), 'dd MMM yyyy');\n            } else {\n                startDate = format(new Date(calenderRange1.startDate), 'dd MMM');\n                endDate = format(new Date(calenderRange1.endDate), 'dd MMM');\n\n            }\n            const from_date = format(new Date(calenderRange1.startDate), 'yyyy-MM-dd');\n            const to_date = format(new Date(calenderRange1.endDate), 'yyyy-MM-dd');\n            setStateData((prevData: any) => ({ ...prevData, startDate: startDate, endDate: endDate }));\n            setStateData((prevData: any) => ({ ...prevData, from_date: from_date, to_date: to_date }));\n        }\n    }, [calenderRange1])\n\n    useEffect(() => {\n        if (props.currentCoordinates) {\n            setStateData((prevData: any) => ({ ...prevData, location: props.currentCoordinates }));\n        }\n    }, [props.currentCoordinates])\n\n    const getRecentLocationData = async () => { //cd june 9\n        var recentLocationDetails: any = [];\n\n        let recentLocationData = props.recentLocationData\n        for (let index = 0; index < recentLocationData.length; index++) {\n            let item = recentLocationData[index];\n            try {\n                let lat = item.location.coordinates[1];\n                let long = item.location.coordinates[0];\n                let response = await Geocode.fromLatLng(lat, long);\n                let formatedCityText = JSON.parse(JSON.stringify(response?.results[0]));\n                let cityText: any = null;\n                if (formatedCityText?.formatted_address.includes(',')) {\n                    cityText = formatedCityText?.formatted_address.split(',')\n                } else {\n                    cityText = formatedCityText?.formatted_address.split('-');\n                }\n                const newData = {\n                    mainText: cityText?.length > 3 ? cityText?.slice(0, 2).join(',') : cityText?.slice(0, 1).join(','),\n                    secondaryText: cityText?.length > 3 ? cityText?.slice(2, cityText?.length).join(',') : cityText?.slice(1, cityText?.length).join(','),\n                }\n                recentLocationDetails[index] = {\n                    formatted_address: formatedCityText?.formatted_address,\n                    location: { coordinates: item?.location?.coordinates },\n                    allText: newData\n                };\n\n                if (recentLocationDetails?.length === props.recentLocationData?.length) {\n                    setRecentLocation(recentLocationDetails);\n                }\n            } catch (err) {\n                console.log({ err });\n            }\n        }\n    }\n\n    useEffect(() => {\n        // if (props.recentLocationData?.length && JSON.stringify(props.recentLocationData[0]?.location?.coordinates) !== JSON.stringify(recentLocation[0]?.location?.coordinates)) {\n        //     getRecentLocationData();\n        // }\n    }, [props.recentLocationData, recentLocation]);\n\n    const handleCalenderRange = (item: any) => {\n        setCalenderRange1(item.selection1);\n    };\n\n    console.log(stateData, \"stateData\", recentLocation, \"recentLocation\");\n\n    const handleJobChange = (e: any) => {\n        e.target.value.length >= 3 && props.getSearchJobList(e.target.value);\n        setStateData((prevData: any) => ({ ...prevData, searchedJob: e.target.value, isSearchedJobSelected: false }));\n    }\n\n    const cleanInputData = (item: string) => {\n        if (item === \"calender\") {\n            setStateData((prevData: any) => ({ ...prevData, from_date: '', to_date: '', startDate: '', endDate: '' }));\n            return;\n        }\n        if (item == \"searchedJob\") {\n            setStateData((prevData: any) => ({ ...prevData, [item]: '', isSearchedJobSelected: false }));\n        }\n        setStateData((prevData: any) => ({ ...prevData, [item]: '' }));\n    }\n\n    const searchedJobClicked = (item: any, isRecentSearchesClicked?: string) => {\n        setStateData((prevData: any) => ({ ...prevData, searchedJob: item.name, tradeId: [item._id], specializationId: [item.specializationsId], isSearchedJobSelected: true, isFirstJobSelectedCount: 1 }));\n        setInputFocus1(false);\n        if (isRecentSearchesClicked === 'isRecentSearchesClicked') {\n            const newSearchData = {\n                tradeId: [item._id],\n                specializationId: [item.specializationsId],\n                searchedJob: item.name,\n                isRecentSearchesClicked: \"isRecentSearchesClicked\"\n            }\n            bannerSearchClicked(newSearchData);\n        }\n    }\n\n    const cleanRecentSearch = async (event: any, recentSearchId: string) => {\n        event.stopPropagation();\n        const data = {\n            id: recentSearchId,\n            status: 0\n        }\n        const res = await deleteRecentSearch(data);\n        if (res.success) {\n            props.getRecentSearchList();\n        }\n    }\n\n    const recentJobSearches = () => {\n        return (\n            props.recentSearchJobData?.length > 0 &&\n            <div className=\"custom_autosuggestion\" id=\"recent-job-search-div\">\n                <span className=\"sub_title\">Recent searches</span>\n                <div className=\"flex_row recent_search\">\n                    {props.recentSearchJobData?.slice(0, 4)?.map((item: any) => {\n                        return (\n                            <div className=\"flex_col_sm_3\" key={item.recentSearchId}>\n                                <div className=\"card ico_txt_wrap\" onClick={() => searchedJobClicked(item, 'isRecentSearchesClicked')}>\n                                    <figure className=\"ico\">\n                                        <img src={item?.image || residential} alt=\"icon\" />\n                                    </figure>\n                                    <div className=\"f_column\">\n                                        <span>{item.name}</span>\n                                        <span className=\"name\">{item.trade_name}</span>\n                                    </div>\n                                    <span className=\"remove_card\" onClick={(event) => cleanRecentSearch(event, item.recentSearchId)}>\n                                        <img src={close} alt=\"remove\" />\n                                    </span>\n                                </div>\n                            </div>)\n                    })}\n                </div>\n            </div>\n        )\n    }\n\n    const renderJobResult = () => {\n        return (\n            (props.searchJobListData?.length > 0 && stateData.searchedJob.length >= 3) &&\n            <div className=\"custom_autosuggestion\" id=\"fetched-custom-job-category-div\">\n                <div className=\"recent_search\">\n                    <ul className=\"drop_data\">\n                        {props.searchJobListData?.map((item: any) => {\n                            return (<li key={item._id} onClick={() => searchedJobClicked(item)}>\n                                <figure className=\"category\">\n                                    <img src={item.image ? item.image : residential} alt=\"icon\" />\n                                </figure>\n                                <div className=\"details\">\n                                    <span className=\"name\">{item.name}</span>\n                                    <span className=\"prof\">{item.trade_name}</span>\n                                </div>\n                            </li>)\n                        })}\n                    </ul>\n                </div>\n            </div>\n        )\n    }\n\n    const locationSelectedHandler = (address: string, placeId?: any, suggestion?: any) => {\n        console.log(address, \"address\", placeId, \"placeId\", suggestion, \"suggestion\");\n        setSuggestion(suggestion?.formattedSuggestion)\n        geocodeByAddress(address)\n            .then((results: any) => getLatLng(results[0]))\n            .then(({ lat, lng }: any) => {\n                const locationNew: any = {\n                    location: {\n                        coordinates: [lng, lat]\n                    }\n                }\n                setStateData((prevData: any) => ({ ...prevData, ...locationNew, selectedMapLocation: suggestion?.formattedSuggestion?.mainText, isMapLocationSelected: true }));\n                setInputFocus2(false);\n            });\n    }\n\n    const filterFromAddress = (results: any) => {\n        let city, state, country = null;\n        for (let i = 0; i < results[0].address_components.length; i++) {\n            for (let j = 0; j < results[0].address_components[i].types.length; j++) {\n                switch (results[0].address_components[i].types[j]) {\n                    case \"locality\":\n                        city = results[0].address_components[i].long_name;\n                        break;\n                    case \"administrative_area_level_1\":\n                        state = results[0].address_components[i].long_name;\n                        break;\n                    case \"country\":\n                        country = results[0].address_components[i].long_name;\n                        break;\n                }\n            }\n        }\n        return { city, state, country: country.toLowerCase() };\n    }\n\n    const getCurrentLocation = (e: any) => {\n        e.preventDefault();\n        const showPosition = (position: any) => {\n            const lat = position.coords.latitude;\n            const long = position.coords.longitude;\n            var latlng = new google.maps.LatLng(lat, long);\n            var geocoder = new google.maps.Geocoder();\n            geocoder.geocode({ location: latlng }, function (results, status) {\n\n                if (status !== google.maps.GeocoderStatus.OK) {\n                    alert(status);\n                }\n                if (status === google.maps.GeocoderStatus.OK) {\n                    const { country } = filterFromAddress(results);\n                    if ([\"australia\", \"au\"].includes(country)) {\n                        setInputFocus2(false);\n                        if (results && Array.isArray(results) && results[0]) {\n                            setStateData((prevData: any) => ({\n                                ...prevData,\n                                selectedMapLocation: results[0].formatted_address,\n                                isMapLocationSelected: true,\n                                locationDenied: false\n                            }));\n                        }\n                    } else {\n                        setInputFocus2(false);\n                        setShowToast(true, \"Uh oh! we don't provide service currently in your location.\");\n                    }\n                }\n            });\n        }\n\n        const showError = (error: any) => {\n            if (error.code === error.PERMISSION_DENIED) {\n                setStateData((prevData: any) => ({ ...prevData, bannerLocation: '', locationDenied: true }));\n            }\n        }\n\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(showPosition, showError);\n        }\n    }\n\n    const validateForm = (type?: string) => {\n        if (type === 'isRecentSearchesClicked' && props.history?.location?.pathname === '/') {\n            return true;\n        }\n        const newErrors: any = {};\n        if (!stateData?.isSearchedJobSelected) {\n            newErrors.searchedJob = Constants.errorStrings.bannerSearchJob;\n        } else if (!stateData?.searchedJob) {\n            newErrors.searchedJob = Constants.errorStrings.bannerSearchJobEmpty;\n        }\n        if (!stateData?.isMapLocationSelected && stateData?.selectedMapLocation) {\n            newErrors.selectedMapLocation = Constants.errorStrings.bannerSearchLocation;\n        }\n        if (type === 'showErrorToast') {\n            return newErrors;\n        }\n        // setErrors(newErrors);\n        return !Object.keys(newErrors).length;\n    }\n\n    const bannerSearchClicked = (newSearchData?: any) => {\n        const newErrors = validateForm(newSearchData?.isRecentSearchesClicked ? newSearchData?.isRecentSearchesClicked : 'showErrorToast');\n        if (!!newErrors.searchedJob || !!newErrors.selectedMapLocation) {\n            if (!!newErrors.searchedJob) {\n                setShowToast(true, 'Please select job type from the list');\n                return;\n            }\n            if (!!newErrors.selectedMapLocation) {\n                setShowToast(true, 'Please select location from the list');\n                return;\n            }\n        }\n        if (validateForm(newSearchData?.isRecentSearchesClicked)) {\n            const params = new URLSearchParams(props.location?.search);\n            const queryParamsData: any = {\n                defaultLat: Number(params.get('defaultLat')),\n                defaultLong: Number(params.get('defaultLong')),\n            }\n            const data = {\n                page: stateData.page,\n                isFiltered: false,\n                ...(suggestionSelected && { address: JSON.stringify(suggestionSelected) }),\n                tradeId: newSearchData?.tradeId ? newSearchData?.tradeId : stateData?.tradeId,\n                ...(stateData.isMapLocationSelected && { location: stateData?.location }),\n                // location: stateData?.location,\n                specializationId: newSearchData?.specializationId ? newSearchData?.specializationId : stateData?.specializationId,\n                ...(stateData?.from_date && { from_date: stateData?.from_date }),\n                ...(stateData?.to_date && { to_date: stateData?.to_date })\n            }\n            console.log('data: ', data, \"suggestionSelected\", suggestionSelected);\n            if (props?.location?.pathname === '/search-job-results') {\n                props.postHomeSearchData(data);\n            }\n            // delete data.address;\n            const newData = {\n                ...data,\n                lat: stateData.location.coordinates[1],\n                long: stateData.location.coordinates[0],\n                defaultLat: props.currentCoordinates?.coordinates[1] ? props.currentCoordinates?.coordinates[1] : queryParamsData.defaultLat,\n                defaultLong: props.currentCoordinates?.coordinates[0] ? props.currentCoordinates?.coordinates[0] : queryParamsData.defaultLong,\n                ...(stateData.selectedMapLocation && { addres: stateData.selectedMapLocation.replaceAll(\"#\", \"\") }),\n                searchJob: newSearchData?.searchedJob ? newSearchData?.searchedJob.replaceAll(\"&\", \"xxx\") : stateData?.searchedJob.replaceAll(\"&\", \"xxx\"),\n                jobResults: null\n            }\n            if (props?.location?.pathname === '/search-job-results' && newData.address) {\n                setTimeout(() => {\n                    props.getRecentLocationList();\n                }, 500);\n            }\n            delete newData.location;\n            delete newData.isFilterOn;\n            if (newData.searchJob) {\n                delete newData.heading;\n                delete newData.jobResults;\n            }\n            Object.keys(newData).forEach(key => (newData[key] === '' || newData[key] === undefined || newData[key] === null || newData[key] === 0 || newData[key] == '0') && delete newData[key]);\n            var url = 'search-job-results?';\n            for (let [key, value] of Object.entries(newData)) {\n                url += `${key}=${value}&`\n            }\n            const newUrl = url.slice(0, url.length - 1)\n            console.log(newUrl, \"newUrl\", data, \"data\", newData, \"newData\");\n            if (props.history?.location?.pathname === '/') {\n                props.history.push(newUrl);\n            } else {\n                props.history.replace(newUrl);\n                if (props?.refreshParams) {\n                    props?.refreshParams(data);\n                }\n            }\n        }\n    }\n\n    const renderPlacesData = ({ getInputProps, suggestions, getSuggestionItemProps, loading }: any) => (\n        <React.Fragment>\n            <div className=\"text_field\">\n                <input\n                    {...getInputProps({ placeholder: 'Where?', className: 'line-1' })}\n                    id=\"location-input-tag\"\n                    onFocus={() => {\n                        setInputFocus2(true);\n                        setInputFocus1(false);\n                        setInputFocus3(false);\n                    }}\n                />\n                <span className=\"detect_icon_ltr\">\n                    <img src={Location} alt=\"location\" />\n                </span>\n                {stateData?.selectedMapLocation && inputFocus2 && <span className=\"detect_icon\" >\n                    <img src={cross} alt=\"cross\" onClick={() => {\n                        setSuggestion('');\n                        setStateData((prevData: any) => ({ ...prevData, selectedMapLocation: '', isMapLocationSelected: false }));\n                    }} />\n                </span>}\n                {/* {!!errors.selectedMapLocation && <span className=\"error_msg\">{errors.selectedMapLocation}</span>} */}\n            </div>\n            {(suggestions?.length > 0 && stateData?.selectedMapLocation.length >= 3 && inputFocus2) ? <div className=\"custom_autosuggestion location\" id=\"autocomplete-dropdown-container\">\n                <div className=\"flex_row recent_search auto_loc\">\n                    <div className=\"flex_col_sm_4\">\n                        {loading && <div>Loading...</div>}\n\n                        {suggestions.map((suggestion: any) => {\n                            const className = 'autosuggestion_icon card loc name';\n                            const style = suggestion.active\n                                ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                                : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                            return (\n                                <div\n                                    {...getSuggestionItemProps(suggestion, {\n                                        className,\n                                        style,\n                                    })}\n                                    key={suggestion.formattedSuggestion.mainText}\n                                >\n                                    <span>{suggestion.formattedSuggestion.mainText}</span>\n                                    <span className=\"name\">{suggestion.formattedSuggestion.secondaryText}</span>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            </div> : (!loading && !stateData?.isMapLocationSelected && stateData?.selectedMapLocation.length >= 3 && inputFocus2 && suggestions?.length < 1) ?\n                (<div style={{ minHeight: '50px' }} className=\"custom_autosuggestion location\" id=\"autocomplete-dropdown-container\">\n                    <div className=\"flex_row recent_search auto_loc\">\n                        <div className=\"flex_col_sm_4\">\n                            <div className=\"loc_suggestions\">\n                                {'No Result Found.'}\n                            </div>\n                        </div>\n                    </div>\n                </div>) : null}\n        </React.Fragment>\n    )\n\n    return (\n        <div className=\"home_search\">\n            <button\n                className=\"modal_srch_close\"\n                onClick={() => {\n                    if (props?.handleChangeToggle) {\n                        props.handleChangeToggle(false);\n                    }\n                }}\n            >\n                <img src={close} alt=\"close\" />\n            </button>\n            <form className={`search_wrapr ${props.history?.location?.pathname === '/' ? stateData?.isFirstJobSelectedCount ? '' : 'first_input' : ''}`}>\n                <ul>\n                    <li className=\"categ_box\">\n                        <div className=\"text_field\" id=\"text-field-div\">\n                            <input type=\"text\"\n                                ref={searchRef}\n                                placeholder=\"What jobs are you after?\"\n                                value={stateData?.searchedJob}\n                                onChange={handleJobChange}\n                                onFocus={() => {\n                                    setInputFocus1(true);\n                                    setInputFocus2(false);\n                                    setInputFocus3(false);\n                                }}\n                            />\n                            <div className=\"border_eff\"></div>\n                            <span className=\"detect_icon_ltr\">\n                                <img src={Searchicon} alt=\"search\" />\n                            </span>\n                            {!!stateData?.searchedJob && inputFocus1 &&\n                                <span className=\"detect_icon\" >\n                                    <img src={cross} alt=\"cross\" onClick={() => cleanInputData('searchedJob')} />\n                                </span>}\n                        </div>\n                        {/* {!!errors.searchedJob && <span className=\"error_msg\">{errors.searchedJob}</span>} */}\n                    </li>\n                    {!stateData?.searchedJob && inputFocus1 && !inputFocus2 && recentJobSearches()}\n                    {stateData?.searchedJob?.length >= 1 && inputFocus1 && !inputFocus2 && renderJobResult()}\n                    <li ref={locationRef} className=\"loc_box\">\n                        <div id=\"location-text-field-div\">\n\n                            <PlacesAutocomplete\n                                value={stateData?.selectedMapLocation !== \"{}\" ? stateData?.selectedMapLocation : ''}\n                                onChange={(city: string) => setStateData((prevData: any) => ({ ...prevData, selectedMapLocation: city, isMapLocationSelected: false }))}\n                                shouldFetchSuggestions={true}\n                                onSelect={locationSelectedHandler}\n                                highlightFirstSuggestion={true}\n                                searchOptions={{\n                                    componentRestrictions: { country: \"au\" },\n                                    // types: [\"address\"]\n                                    types: [\"(cities)\"]\n                                }}\n                            // debounce={400}\n                            >\n                                {renderPlacesData}\n                            </PlacesAutocomplete>\n                        </div>\n                        {(!stateData?.selectedMapLocation || stateData?.selectedMapLocation === \"{}\") && inputFocus2 &&\n                            <div className=\"custom_autosuggestion location\" id=\"current-location-search-div\">\n                                <a className=\"location-btn\" onClick={getCurrentLocation}>\n                                    <span className=\"gps_icon\">\n                                        <img src={icgps} />\n                                    </span> Use my current location\n                                </a>\n                                {stateData?.locationDenied && <span className=\"blocked_note\">\n                                    You have blocked your location.\n                                    To use this, change your location settings in browser.\n                                </span>}\n                                <div className=\"recent_search auto_loc\">\n                                    {console.log({\n                                        recent: props?.recentLocationData\n                                    })}\n                                    {props?.recentLocationData?.length > 0 ?\n                                        <span className=\"sub_title\">Recent searches</span>\n                                        : null}\n                                    {/* {recentLocation?.map((item: any) => {\n                                        return (\n                                            <div className=\"flex_col_sm_4\"\n                                                onClick={() => setStateData((prevData: any) => ({ ...prevData, location: item.location, selectedMapLocation: item.allText?.mainText, isMapLocationSelected: true }))}>\n                                                <div className=\"autosuggestion_icon card loc name\">\n                                                    <span>{item.allText?.mainText}</span>\n                                                    <span className=\"name\">{item.allText?.secondaryText}</span>\n                                                </div>\n                                            </div>)\n                                    })} */}\n                                    <div className=\"flex_row\">\n                                        {props?.recentLocationData?.map((item: any) => {\n                                            return item?.address?.length > 0 && (\n                                                <div className=\"flex_col_sm_4\"\n                                                    onClick={() => {\n                                                        setStateData((prevData: any) => ({\n                                                            ...prevData,\n                                                            location: item.location,\n                                                            selectedMapLocation: JSON.parse(item?.address)?.mainText, //item.allText?.mainText,\n                                                            isMapLocationSelected: true\n                                                        }));\n                                                        setSuggestion(JSON.parse(item?.address));\n\n                                                        // let location_coordinates: any = item.location.coordinates\n                                                        // setAddressText(item.formatted_address);\n                                                        // setSelectedAddress({\n                                                        //     lat: location_coordinates[1],\n                                                        //     lng: location_coordinates[0]\n                                                        // });\n                                                    }}>\n                                                    <div className=\"autosuggestion_icon card loc name\">\n                                                        <span>{JSON.parse(item?.address)?.mainText}</span>\n                                                        <span className=\"name\">{JSON.parse(item?.address)?.secondaryText}</span>\n                                                    </div>\n                                                </div>)\n                                        })}\n                                    </div>\n                                </div>\n                            </div>\n                        }\n                    </li>\n                    <li className={`date_box ${stateData.startDate ? 'date_value' : ''}`}>\n                        <div ref={calenderRef} className=\"custom_date_range\" id=\"date-range-div\">\n                            <div className=\"text_field\">\n                                <span className=\"detect_icon_ltr calendar\"></span>\n                                <input\n                                    type=\"text\"\n                                    id=\"calender-input\"\n                                    placeholder={stateData?.startDate ? `${stateData?.startDate} - ${stateData?.endDate}` : \"When?\"}\n                                    onFocus={() => {\n                                        setInputFocus3(true)\n                                        setInputFocus1(false);\n                                        setInputFocus2(false);\n                                    }}\n                                />\n                                {stateData?.startDate && inputFocus3 &&\n                                    <span className=\"detect_icon\" >\n                                        <img src={cross} alt=\"cross\" onClick={() => cleanInputData('calender')} />\n                                    </span>}\n                            </div>\n                            {inputFocus3 &&\n                                <div className=\"custom_autosuggestion\" id=\"custom-date-range-div\">\n                                    <DateRange\n                                        onChange={handleCalenderRange}\n                                        ranges={[calenderRange1]}\n                                        moveRangeOnFirstSelection={false}\n                                        rangeColors={[\"#fee600\", \"#b5b5b5\"]}\n                                        showDateDisplay={false}\n                                        showSelectionPreview={true}\n                                        months={2}\n                                        showPreview={true}\n                                        minDate={new Date()}\n                                        maxDate={new Date(new Date().setFullYear(new Date().getFullYear() + 2))}\n                                        direction=\"horizontal\"\n                                        fixedHeight={true}\n                                    />\n                                </div>}\n                        </div>\n                    </li>\n                    <div className=\"search_btn\">\n                        <button type=\"button\" className=\"fill_btn btn-effect\" onClick={bannerSearchClicked}>\n                            <img src={search} alt=\"search\" />\n                        </button>\n                    </div>\n                </ul>\n            </form>\n        </div>\n    )\n}\n\nexport default TradieBannerSearch;\n"]},"metadata":{},"sourceType":"module"}