{"ast":null,"code":"import _defineProperty from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Button from'@material-ui/core/Button';import Dialog from'@material-ui/core/Dialog';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogContentText from'@material-ui/core/DialogContentText';import DialogTitle from'@material-ui/core/DialogTitle';import{renderTimeWithCustomFormat}from'../../../utils/common';// Please add a unique date\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultStates={isToggleOpen:false,milestone_name:'',isPhotoevidence:false,from_date:'',to_date:'',recommended_hours:''};// for error messages\nvar label={milestone_name:'Milestone Name',from_date:'From Date',recommended_hours:'Recommended Hours'};var pattern=\"^([0-9][0-9]?[0-9]?[0-9]?[0-9]):[0-5][0-9]$\";// \"^([0-9]?[0-9]?[0-9]?[0-9]?[0-9]):[0-5][0-9]$\";\nvar AddMilestone=/*#__PURE__*/function(_Component){_inherits(AddMilestone,_Component);var _super=_createSuper(AddMilestone);function AddMilestone(props){var _this;_classCallCheck(this,AddMilestone);_this=_super.call(this,props);_this.toggleOpen=function(){_this.setState({isToggleOpen:!_this.state.isToggleOpen});};_this.setLocalValueByCompare=function(prop,state,name){if(name===\"isPhotoevidence\"){if(prop!==state){_this.setState(_objectSpread(_objectSpread({},_this.state),{},_defineProperty({},name,prop)));}}else{if((prop===null||prop===void 0?void 0:prop.length)!==(state===null||state===void 0?void 0:state.length)){_this.setState(_objectSpread(_objectSpread({},_this.state),{},_defineProperty({},name,prop)));}}};_this.handleChange=function(name,value){var _objectSpread4;var error_clone=_this.state.errors;if(name===\"milestone_name\"){value=value.trimLeft().replace(/[^a-zA-Z|0-9 ]/g,\"\");}if(name===\"recommended_hours\"){value=value.trimLeft();}if(['milestone_name','from_date','recommended_hours'].includes(name)){error_clone[name]=_this.isInvalid(name,value);}_this.setState(_objectSpread(_objectSpread({},_this.state),{},(_objectSpread4={},_defineProperty(_objectSpread4,name,value),_defineProperty(_objectSpread4,\"errors\",error_clone),_objectSpread4)),function(){_this.setItems();});};_this.addAnotherMilestone=function(e){e.preventDefault();var _this$props=_this.props,milestones=_this$props.milestones,newMileStoneScreen=_this$props.newMileStoneScreen;var milestone_index=milestones.length?milestones.length-1:0;if(!_this.checkErrors()){_this.setItems();newMileStoneScreen(milestone_index+1);}};_this.checkHoursVal=function(value,lable,name){if(value===null||value===void 0?void 0:value.length){if(value.match(pattern)!==null){if(!(+value.split(':')[1]%15===0)){return'Time should be in mutiples of 15 like 10:15, 10:30';}}else{return'Please enter a valid pattern like : 10:15';}}else{return\"\".concat(label[name],\" is required.\");}};_this.isInvalid=function(name,value){switch(name){case'milestone_name':return!value.length?\"\".concat(label[name],\" is required.\"):value.length>50?'Maximum 50 characters are allowed.':'';case'from_date':return!value.length?\"\".concat(label[name],\" is required.\"):'';case'recommended_hours':return _this.checkHoursVal(value,label,name);}};_this.checkErrors=function(isTrue){var _milestones$milestone;var milestones=_this.props.milestones;var milestone_index=milestones.length?milestones.length-1:0;var from_date=((_milestones$milestone=milestones[milestone_index])===null||_milestones$milestone===void 0?void 0:_milestones$milestone.from_date)||'';var _this$state=_this.state,milestone_name=_this$state.milestone_name,recommended_hours=_this$state.recommended_hours,pattern_error=_this$state.errors.pattern_error;if(milestone_name===null||milestone_name===void 0?void 0:milestone_name.length){var errorItems={};var error_1=_this.isInvalid('milestone_name',milestone_name);var error_2=_this.isInvalid('from_date',from_date);var error_3=_this.isInvalid('recommended_hours',recommended_hours);if(milestone_name===null||milestone_name===void 0?void 0:milestone_name.length){errorItems['milestone_name']=error_1;}if((recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)&&(error_3===null||error_3===void 0?void 0:error_3.length)){errorItems['recommended_hours']=error_3;}if(JSON.stringify(_this.state.errors)!==JSON.stringify(errorItems)){_this.setState({errors:errorItems});}// if (!error_1?.length && !error_2?.length && !error_3?.length && !pattern_error?.length) {\nif(!(error_1===null||error_1===void 0?void 0:error_1.length)&&((recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)===0||!(pattern_error===null||pattern_error===void 0?void 0:pattern_error.length))){return false;}}return true;};_this.setItems=function(is_remove){var _this$props2=_this.props,milestones=_this$props2.milestones,handleStepMileStone=_this$props2.handleStepMileStone,newMileStoneScreen=_this$props2.newMileStoneScreen,removeMilestoneByIndex=_this$props2.removeMilestoneByIndex;var _this$state2=_this.state,milestone_name=_this$state2.milestone_name,isPhotoevidence=_this$state2.isPhotoevidence,recommended_hours=_this$state2.recommended_hours,errors=_this$state2.errors;var milestone_index=milestones.length?milestones.length-1:0;if(is_remove){removeMilestoneByIndex(milestone_index);return;}else{var _milestones$milestone2,_milestones$milestone3;handleStepMileStone({\"milestone_name\":milestone_name,\"isPhotoevidence\":isPhotoevidence,\"from_date\":((_milestones$milestone2=milestones[milestone_index])===null||_milestones$milestone2===void 0?void 0:_milestones$milestone2.from_date)||'',\"to_date\":((_milestones$milestone3=milestones[milestone_index])===null||_milestones$milestone3===void 0?void 0:_milestones$milestone3.to_date)||'',\"recommended_hours\":recommended_hours},milestone_index);}};_this.state={isToggleOpen:false,milestone_name:'',isPhotoevidence:false,from_date:'',to_date:'',recommended_hours:'',errors:{milestone_name:'',from_date:'',recommended_hours:'',pattern_error:''}};return _this;}_createClass(AddMilestone,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var nextProps=this.props;var _this$state3=this.state,milestone_name=_this$state3.milestone_name,isPhotoevidence=_this$state3.isPhotoevidence,from_date=_this$state3.from_date,to_date=_this$state3.to_date,recommended_hours=_this$state3.recommended_hours;if(nextProps.milestones.length){console.log({mile:nextProps.milestones});var milestones_items=nextProps.milestones;var item=milestones_items[milestones_items.length-1];if('milestone_name'in item){this.setLocalValueByCompare(item===null||item===void 0?void 0:item.milestone_name,milestone_name,'milestone_name');}else{if(milestone_name===null||milestone_name===void 0?void 0:milestone_name.length){this.setState({milestone_name:''});}}if('isPhotoevidence'in item){this.setLocalValueByCompare(item===null||item===void 0?void 0:item.isPhotoevidence,isPhotoevidence,'isPhotoevidence');}else{if(isPhotoevidence){this.setState({isPhotoevidence:false});}}if('from_date'in item){this.setLocalValueByCompare(item===null||item===void 0?void 0:item.from_date,from_date,'from_date');}else{if(from_date===null||from_date===void 0?void 0:from_date.length){this.setState({from_date:''});}}if('to_date'in item){this.setLocalValueByCompare(item===null||item===void 0?void 0:item.to_date,to_date,'to_date');}else{if(to_date===null||to_date===void 0?void 0:to_date.length){this.setState({to_date:''});}}if('recommended_hours'in item){this.setLocalValueByCompare(item===null||item===void 0?void 0:item.recommended_hours,recommended_hours,'recommended_hours');}else{if(recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length){this.setState({recommended_hours:''});}}}}},{key:\"componentDidMount\",value:function componentDidMount(){var _this$props3=this.props,updateMileStoneIndex=_this$props3.updateMileStoneIndex,newMileStoneScreen=_this$props3.newMileStoneScreen,milestones=_this$props3.milestones;var milestone_index=!(milestones===null||milestones===void 0?void 0:milestones.length)?milestones===null||milestones===void 0?void 0:milestones.length:0;newMileStoneScreen(milestone_index);updateMileStoneIndex(null);}},{key:\"render\",value:function render(){var _this2=this;var _this$props4=this.props,newMileStoneScreen=_this$props4.newMileStoneScreen,handleStepForward=_this$props4.handleStepForward,handleStepBack=_this$props4.handleStepBack,milestones=_this$props4.milestones;var _this$state4=this.state,milestone_name=_this$state4.milestone_name,isPhotoevidence=_this$state4.isPhotoevidence,recommended_hours=_this$state4.recommended_hours,errors=_this$state4.errors,isToggleOpen=_this$state4.isToggleOpen;var milestone_index=milestones.length?milestones.length-1:0;var from_date_format='';var to_date_format='';if(milestones.length){var date_from_moment=milestones[milestones.length-1].from_date;var date_to_moment=milestones[milestones.length-1].to_date;if(date_from_moment===null||date_from_moment===void 0?void 0:date_from_moment.length){from_date_format=date_from_moment;//moment(date_from_moment, 'MM-DD-YYYY').format('MMM DD');\n}if(date_to_moment===null||date_to_moment===void 0?void 0:date_to_moment.length){to_date_format=date_to_moment;//moment(date_to_moment, 'MM-DD-YYYY').format('MMM DD');\n}}var check_errors=this.checkErrors();return/*#__PURE__*/_jsx(\"div\",{className:\"app_wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"section_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_container\",children:[/*#__PURE__*/_jsxs(Dialog,{open:isToggleOpen// onClose={handleClose}\n,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",className:\"xs_alert_dialog_title\",children:'Heads Up'}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{children:'If you go back, you will lose all your changes.'})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){_this2.toggleOpen();},color:\"primary\",children:'Yes'}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){var _from_date_format;if((milestone_name===null||milestone_name===void 0?void 0:milestone_name.length)||isPhotoevidence==true||(recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)||((_from_date_format=from_date_format)===null||_from_date_format===void 0?void 0:_from_date_format.length)){_this2.setState(defaultStates,function(){_this2.setItems(true);handleStepBack();});}},color:\"primary\",autoFocus:true,children:'No'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relate\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back\",onClick:function onClick(){if(check_errors){var _from_date_format2;if((milestone_name===null||milestone_name===void 0?void 0:milestone_name.length)||isPhotoevidence==true||(recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)||((_from_date_format2=from_date_format)===null||_from_date_format2===void 0?void 0:_from_date_format2.length)){// this.setItems(true);\n_this2.toggleOpen();}else{// this.setItems(true);\nhandleStepBack();}}else{var _from_date_format3;if((milestone_name===null||milestone_name===void 0?void 0:milestone_name.length)||isPhotoevidence==true||(recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)||((_from_date_format3=from_date_format)===null||_from_date_format3===void 0?void 0:_from_date_format3.length)){_this2.toggleOpen();}else{handleStepBack();}}}}),/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"Milestone \".concat(milestones===null||milestones===void 0?void 0:milestones.length)})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:'Milestone Name'}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Milestone Name\",onChange:function onChange(e){_this2.handleChange('milestone_name',e.target.value);},value:milestone_name,name:\"milestone_name\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors===null||errors===void 0?void 0:errors.milestone_name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox_wrap agree_check\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(){_this2.handleChange('isPhotoevidence',!isPhotoevidence);},checked:isPhotoevidence,className:\"filter-type filled-in\",type:\"checkbox\",id:\"milestone1\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"milestone1\",children:/*#__PURE__*/_jsx(\"b\",{children:'Photo evidence required'})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"f_spacebw\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:'Duration of milestone (optional)'}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleStepForward(8);},className:\"fill_btn fill_grey_btn choose_btn\",children:renderTimeWithCustomFormat(from_date_format,to_date_format,'MM-DD-YYYY',['DD MMM','DD MMM YYYY']// ['MMM DD', 'MMM DD YYYY'] // to keep the date format stable on front-end (TIC-2467)\n)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:'Estimated Hours (optional)'}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){_this2.setState({recommended_hours:e.target.value.trimLeft()},function(){_this2.setItems();var rh_value=_this2.state.recommended_hours;var error_item=_this2.state.errors;// \"^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$\";\nif(!(rh_value===null||rh_value===void 0?void 0:rh_value.length)||rh_value.match(pattern)!==null){error_item['pattern_error']='';if(!(+rh_value.split(':')[1]%15===0)){error_item['pattern_error']='Time should be in multiples of 15 like 10:15, 10:30';}}else{error_item['pattern_error']='Please enter a valid pattern like : 10:15';}_this2.setState({errors:error_item});});},autoComplete:\"off\",value:recommended_hours,type:\"text\",placeholder:\"Enter Estimated Hours\",name:\"recommended_hours\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.recommended_hours}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.pattern_error})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.addAnotherMilestone,className:\"fill_grey_btn full_btn btn-effect \".concat(check_errors?'disable_btn':''),children:'Add milestone'})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){// newMileStoneScreen(milestone_index + 1);\nhandleStepForward(6);},className:\"fill_btn full_btn btn-effect \".concat(check_errors?'disable_btn':''),children:'Continue'})})]})})]})})});}}]);return AddMilestone;}(Component);export{AddMilestone as default};","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/addMilestone.tsx"],"names":["React","Component","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","renderTimeWithCustomFormat","defaultStates","isToggleOpen","milestone_name","isPhotoevidence","from_date","to_date","recommended_hours","label","pattern","AddMilestone","props","toggleOpen","setState","state","setLocalValueByCompare","prop","name","length","handleChange","value","error_clone","errors","trimLeft","replace","includes","isInvalid","setItems","addAnotherMilestone","e","preventDefault","milestones","newMileStoneScreen","milestone_index","checkErrors","checkHoursVal","lable","match","split","isTrue","pattern_error","errorItems","error_1","error_2","error_3","JSON","stringify","is_remove","handleStepMileStone","removeMilestoneByIndex","prevProps","nextProps","console","log","mile","milestones_items","item","updateMileStoneIndex","handleStepForward","handleStepBack","from_date_format","to_date_format","date_from_moment","date_to_moment","check_errors","target","rh_value","error_item"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from 'react';\nimport moment from 'moment';\nimport { values } from 'lodash';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { renderTimeWithCustomFormat } from '../../../utils/common';\n\n// Please add a unique date\ninterface Props {\n    data: any;\n    stepCompleted: Boolean;\n    handleStepComplete: (data: any) => void;\n    handleStepForward: (data: any) => void;\n    newMileStoneScreen: (data: any) => void;\n    handleStepMileStone: (data: any, index: any) => void;\n    handleStepBack: () => void;\n    updateMileStoneIndex: (data: any) => void;\n    removeMilestoneByIndex: (data: any) => void;\n    milestones: any;\n}\ninterface State {\n    isToggleOpen: boolean,\n    milestone_name: string,\n    isPhotoevidence: boolean,\n    from_date: string,\n    to_date: string,\n    recommended_hours: any\n    errors: any;\n}\n\nconst defaultStates = {\n    isToggleOpen: false,\n    milestone_name: '',\n    isPhotoevidence: false,\n    from_date: '',\n    to_date: '',\n    recommended_hours: '',\n}\n\n// for error messages\nconst label: { [index: string]: string } = {\n    milestone_name: 'Milestone Name',\n    from_date: 'From Date',\n    recommended_hours: 'Recommended Hours',\n}\n\nconst pattern = \"^([0-9][0-9]?[0-9]?[0-9]?[0-9]):[0-5][0-9]$\";\n// \"^([0-9]?[0-9]?[0-9]?[0-9]?[0-9]):[0-5][0-9]$\";\nexport default class AddMilestone extends Component<Props, State> {\n    constructor(props: any) {\n        super(props)\n        this.state = {\n            isToggleOpen: false,\n            milestone_name: '',\n            isPhotoevidence: false,\n            from_date: '',\n            to_date: '',\n            recommended_hours: '',\n            errors: {\n                milestone_name: '',\n                from_date: '',\n                recommended_hours: '',\n                pattern_error: ''\n            }\n        }\n    }\n\n    toggleOpen = () => { this.setState({ isToggleOpen: !this.state.isToggleOpen }) }\n\n    componentDidUpdate(prevProps: any) {\n        let nextProps = this.props;\n\n        let { milestone_name, isPhotoevidence, from_date, to_date, recommended_hours } = this.state;\n        if (nextProps.milestones.length) {\n            console.log({\n                mile: nextProps.milestones\n            })\n            let milestones_items = nextProps.milestones;\n            let item = milestones_items[milestones_items.length - 1];\n            if ('milestone_name' in item) {\n                this.setLocalValueByCompare(item?.milestone_name, milestone_name, 'milestone_name');\n            } else {\n                if (milestone_name?.length) {\n                    this.setState({ milestone_name: '' })\n                }\n            }\n            if ('isPhotoevidence' in item) {\n                this.setLocalValueByCompare(item?.isPhotoevidence, isPhotoevidence, 'isPhotoevidence');\n            } else {\n                if (isPhotoevidence) {\n                    this.setState({ isPhotoevidence: false })\n                }\n            }\n            if ('from_date' in item) {\n                this.setLocalValueByCompare(item?.from_date, from_date, 'from_date');\n            } else {\n                if (from_date?.length) {\n                    this.setState({ from_date: '' })\n                }\n            }\n            if ('to_date' in item) {\n                this.setLocalValueByCompare(item?.to_date, to_date, 'to_date');\n            } else {\n                if (to_date?.length) {\n                    this.setState({ to_date: '' })\n                }\n            }\n            if ('recommended_hours' in item) {\n                this.setLocalValueByCompare(item?.recommended_hours, recommended_hours, 'recommended_hours');\n            } else {\n                if (recommended_hours?.length) {\n                    this.setState({ recommended_hours: '' })\n                }\n            }\n        }\n\n    }\n\n    setLocalValueByCompare = (prop: any, state: any, name: any) => {\n        if (name === \"isPhotoevidence\") {\n            if (prop !== state) {\n                this.setState({ ...this.state, [name]: prop });\n            }\n        } else {\n            if (prop?.length !== state?.length) {\n                this.setState({ ...this.state, [name]: prop });\n            }\n        }\n\n    }\n\n    componentDidMount() {\n        const { updateMileStoneIndex, newMileStoneScreen, milestones } = this.props;\n        let milestone_index = !milestones?.length ? milestones?.length : 0;\n        newMileStoneScreen(milestone_index);\n        updateMileStoneIndex(null);\n    }\n\n    handleChange = (name: string, value: any) => {\n\n        let error_clone: any = this.state.errors;\n\n        if (name === \"milestone_name\") {\n            value = (value).trimLeft().replace(/[^a-zA-Z|0-9 ]/g, \"\")\n        }\n\n        if (name === \"recommended_hours\") {\n            value = (value).trimLeft();\n        }\n\n        if (['milestone_name', 'from_date', 'recommended_hours'].includes(name)) {\n            error_clone[name] = this.isInvalid(name, value)\n        }\n\n        this.setState({\n            ...this.state,\n            [name]: value,\n            errors: error_clone\n        }, () => {\n            this.setItems();\n        });\n    }\n\n    addAnotherMilestone = (e: any) => {\n        e.preventDefault();\n        const { milestones, newMileStoneScreen } = this.props;\n        let milestone_index = milestones.length ? milestones.length - 1 : 0;\n        if (!this.checkErrors()) {\n            this.setItems();\n            newMileStoneScreen(milestone_index + 1);\n        }\n    }\n\n    checkHoursVal = (value: any, lable: any, name: any) => {\n        if (value?.length) {\n            if (value.match(pattern) !== null) {\n                if (!((+value.split(':')[1]) % 15 === 0)) {\n                    return 'Time should be in mutiples of 15 like 10:15, 10:30';\n                }\n            } else {\n                return 'Please enter a valid pattern like : 10:15';\n            }\n        } else {\n            return `${label[name]} is required.`\n        }\n    }\n\n    isInvalid = (name: string, value: string) => {\n        switch (name) {\n            case 'milestone_name':\n                return !value.length ? `${label[name]} is required.` : value.length > 50 ? 'Maximum 50 characters are allowed.' : '';\n            case 'from_date':\n                return !value.length ? `${label[name]} is required.` : '';\n            case 'recommended_hours':\n                return this.checkHoursVal(value, label, name);\n        }\n    }\n\n    checkErrors = (isTrue?: boolean) => {\n        const { milestones } = this.props;\n        let milestone_index = milestones.length ? milestones.length - 1 : 0;\n        let from_date = milestones[milestone_index]?.from_date || '';\n        let { milestone_name, recommended_hours, errors: { pattern_error } } = this.state;\n        if (milestone_name?.length) {\n            let errorItems: any = {};\n            let error_1 = this.isInvalid('milestone_name', milestone_name);\n            let error_2 = this.isInvalid('from_date', from_date);\n            let error_3 = this.isInvalid('recommended_hours', recommended_hours);\n\n            if (milestone_name?.length) {\n                errorItems['milestone_name'] = error_1;\n            }\n\n            if (recommended_hours?.length && error_3?.length) {\n                errorItems['recommended_hours'] = error_3;\n            }\n\n            if (JSON.stringify(this.state.errors) !== JSON.stringify(errorItems)) {\n                this.setState({ errors: errorItems })\n            }\n\n            // if (!error_1?.length && !error_2?.length && !error_3?.length && !pattern_error?.length) {\n            if (!error_1?.length && (recommended_hours?.length === 0 || !pattern_error?.length)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    setItems = (is_remove?: boolean) => {\n        const { milestones, handleStepMileStone, newMileStoneScreen, removeMilestoneByIndex } = this.props;\n        let { milestone_name, isPhotoevidence, recommended_hours, errors } = this.state;\n        let milestone_index = milestones.length ? milestones.length - 1 : 0;\n\n        if (is_remove) {\n            removeMilestoneByIndex(milestone_index);\n            return\n        } else {\n            handleStepMileStone({\n                \"milestone_name\": milestone_name,\n                \"isPhotoevidence\": isPhotoevidence,\n                \"from_date\": milestones[milestone_index]?.from_date || '',\n                \"to_date\": milestones[milestone_index]?.to_date || '',\n                \"recommended_hours\": recommended_hours\n            }, milestone_index);\n        }\n    }\n\n    render() {\n        const { newMileStoneScreen, handleStepForward, handleStepBack, milestones } = this.props;\n        let { milestone_name, isPhotoevidence, recommended_hours, errors, isToggleOpen } = this.state;\n        let milestone_index = milestones.length ? milestones.length - 1 : 0;\n\n        let from_date_format = '';\n        let to_date_format = '';\n        if (milestones.length) {\n            let date_from_moment = milestones[milestones.length - 1].from_date;\n            let date_to_moment = milestones[milestones.length - 1].to_date;\n            if (date_from_moment?.length) {\n                from_date_format = date_from_moment //moment(date_from_moment, 'MM-DD-YYYY').format('MMM DD');\n            }\n\n            if (date_to_moment?.length) {\n                to_date_format = date_to_moment //moment(date_to_moment, 'MM-DD-YYYY').format('MMM DD');\n            }\n        }\n\n        let check_errors = this.checkErrors();\n        return (\n            <div className=\"app_wrapper\">\n                <div className=\"section_wrapper\">\n                    <div className=\"custom_container\">\n                        <Dialog\n                            open={isToggleOpen}\n                            // onClose={handleClose}\n                            aria-labelledby=\"alert-dialog-title\"\n                            aria-describedby=\"alert-dialog-description\"\n                        >\n                            <DialogTitle id=\"alert-dialog-title\" className=\"xs_alert_dialog_title\">\n                                {'Heads Up'}\n                            </DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                {'If you go back, you will lose all your changes.'}\n                                </DialogContentText>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={() => { this.toggleOpen() }}\n                                    color=\"primary\">\n                                    {'Yes'}\n                                </Button>\n                                <Button\n                                    onClick={() => {\n                                        if (milestone_name?.length || isPhotoevidence == true || recommended_hours?.length || from_date_format?.length) {\n                                            this.setState(defaultStates, () => {\n                                                this.setItems(true);\n                                                handleStepBack();\n                                            });\n                                        }\n                                    }}\n                                    color=\"primary\" autoFocus>\n                                    {'No'}\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n\n                        <div className=\"form_field\">\n                            <div className=\"flex_row\">\n                                <div className=\"flex_col_sm_5\">\n                                    <div className=\"relate\">\n                                        <button\n                                            className=\"back\"\n                                            onClick={() => {\n                                                if (check_errors) {\n                                                    if (milestone_name?.length || isPhotoevidence == true || recommended_hours?.length || from_date_format?.length) {\n                                                        // this.setItems(true);\n                                                        this.toggleOpen()\n                                                    } else {\n                                                        // this.setItems(true);\n                                                        handleStepBack();\n                                                    }\n                                                } else {\n                                                    if (milestone_name?.length || isPhotoevidence == true || recommended_hours?.length || from_date_format?.length) {\n                                                        this.toggleOpen()\n                                                    } else {\n                                                        handleStepBack()\n                                                    }\n                                                }\n                                            }}>\n                                        </button>\n                                        <span className=\"title\">\n                                            {`Milestone ${milestones?.length}`}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"flex_row\">\n                            <div className=\"flex_col_sm_5\">\n                                <div className=\"form_field\">\n                                    <label className=\"form_label\">\n                                        {'Milestone Name'}\n                                    </label>\n                                    <div className=\"text_field\">\n                                        <input\n                                            type=\"text\"\n                                            placeholder=\"Enter Milestone Name\"\n                                            onChange={(e) => { this.handleChange('milestone_name', e.target.value) }}\n                                            value={milestone_name}\n                                            name=\"milestone_name\" />\n                                    </div>\n                                    <span className=\"error_msg\">{errors?.milestone_name}</span>\n                                </div>\n                                <div className=\"form_field\">\n\n                                    <div className=\"checkbox_wrap agree_check\">\n                                        <input\n                                            onChange={() => { this.handleChange('isPhotoevidence', !isPhotoevidence) }}\n                                            checked={isPhotoevidence}\n                                            className=\"filter-type filled-in\"\n                                            type=\"checkbox\"\n                                            id=\"milestone1\" />\n                                        <label htmlFor=\"milestone1\">\n                                            <b>\n                                                {'Photo evidence required'}\n                                            </b>\n                                        </label>\n                                    </div>\n                                </div>\n                                <div className=\"form_field\">\n                                    <div className=\"f_spacebw\">\n                                        <label className=\"form_label\">\n                                            {'Duration of milestone (optional)'}\n                                        </label>\n                                        <button\n                                            onClick={() => { handleStepForward(8) }}\n                                            className=\"fill_btn fill_grey_btn choose_btn\">\n                                            {renderTimeWithCustomFormat(\n                                                from_date_format,\n                                                to_date_format,\n                                                'MM-DD-YYYY',\n                                                ['DD MMM', 'DD MMM YYYY']\n                                                // ['MMM DD', 'MMM DD YYYY'] // to keep the date format stable on front-end (TIC-2467)\n                                            )}\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className=\"form_field\">\n                                    <label className=\"form_label\">\n                                        {'Estimated Hours (optional)'}\n                                    </label>\n                                    <div className=\"text_field\">\n                                        <input\n                                            onChange={(e) => {\n                                                this.setState({\n                                                    recommended_hours: (e.target.value).trimLeft()\n                                                }, () => {\n                                                    this.setItems();\n                                                    let rh_value = this.state.recommended_hours;\n                                                    let error_item = this.state.errors;\n                                                    // \"^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$\";\n\n                                                    if (!rh_value?.length || rh_value.match(pattern) !== null) {\n                                                        error_item['pattern_error'] = '';\n                                                        if (!((+rh_value.split(':')[1]) % 15 === 0)) {\n                                                            error_item['pattern_error'] = 'Time should be in multiples of 15 like 10:15, 10:30';\n                                                        }\n                                                    } else {\n                                                        error_item['pattern_error'] = 'Please enter a valid pattern like : 10:15';\n                                                    }\n                                                    this.setState({ errors: error_item });\n                                                });\n                                            }}\n                                            autoComplete='off'\n                                            value={recommended_hours}\n                                            type=\"text\"\n                                            placeholder=\"Enter Estimated Hours\"\n                                            name=\"recommended_hours\" />\n                                    </div>\n                                    <span className=\"error_msg\">{errors.recommended_hours}</span>\n                                    <span className=\"error_msg\">{errors.pattern_error}</span>\n                                </div>\n\n                                <div className=\"form_field\">\n                                    <button\n                                        onClick={this.addAnotherMilestone}\n                                        className={`fill_grey_btn full_btn btn-effect ${check_errors ? 'disable_btn' : ''}`}>\n                                        {'Add milestone'}\n                                    </button>\n                                </div>\n                                <div className=\"form_field\">\n                                    <button\n                                        onClick={() => {\n                                            // newMileStoneScreen(milestone_index + 1);\n                                            handleStepForward(6)\n                                        }}\n                                        className={`fill_btn full_btn btn-effect ${check_errors ? 'disable_btn' : ''}`}>\n                                        {'Continue'}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}