{"ast":null,"code":"import _defineProperty from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import cancel from\"../../assets/images/ic-cancel.png\";import addMedia from\"../../assets/images/add-image.png\";import Modal from\"@material-ui/core/Modal\";import{setShowToast}from\"../../redux/common/actions\";import close from\"../../assets/images/icon-close-1.png\";import{onFileUpload}from\"../../redux/auth/actions\";import{AddVoucher,fetchVouchesJobs}from\"../../redux/jobs/actions\";import docThumbnail from\"../../assets/images/add-document.png\";import{moengage,mixPanel}from\"../../services/analyticsTools\";import{MoEConstants}from\"../../utils/constants\";import Select,{components}from\"react-select\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var docformats=[\"pdf\",\"doc\",\"docx\",\"msword\"];var AddVoucherComponent=function AddVoucherComponent(props){var toggleProps=props.toggleProps,closeToggle=props.closeToggle;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggle=_useState2[0],setToggle=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),jobsList=_useState4[0],setJobsList=_useState4[1];var _useState5=useState({label:\"\",value:\"\"}),_useState6=_slicedToArray(_useState5,2),reactSelect=_useState6[0],setReactSelect=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),jobDescription=_useState8[0],setJobDesciption=_useState8[1];var _useState9=useState({name:\"\",detail:\"\",upload:\"\"}),_useState10=_slicedToArray(_useState9,2),errorData=_useState10[0],setErrorData=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),filesUrl=_useState12[0],setFilesUrl=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),localFiles=_useState14[0],setLocalFiles=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),update=_useState16[0],forceUpdate=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),toggler=_useState18[0],setToggler=_useState18[1];var _useState19=useState(1),_useState20=_slicedToArray(_useState19,2),selectedSlide=_useState20[0],setSelectSlide=_useState20[1];useEffect(function(){prefetch();},[]);useEffect(function(){console.log({toggleProps:toggleProps});setToggle(toggleProps);},[toggleProps]);useEffect(function(){setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{detail:(jobDescription===null||jobDescription===void 0?void 0:jobDescription.length)>1000?\"Maximum 1000 characters are allowed\":\"\"});});},[jobDescription]);// useEffect(() => {\n//     setErrorData((prev: any) => ({ ...prev, upload: filesUrl?.length ? '' : 'Document file is required' }));\n// }, [filesUrl]);\nuseEffect(function(){console.log({toggle:toggle});if(!toggle){closeToggle(\"isRecall\");setReactSelect(function(prev){return _objectSpread(_objectSpread({},prev),{},{label:\"\",value:\"\"});});setJobDesciption(\"\");setFilesUrl([]);setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:\"\",detail:\"\",upload:\"\"});});}else{prefetch();}},[toggle]);var prefetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res_jobs,list_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(props===null||props===void 0?void 0:props.id)){_context.next=5;break;}_context.next=3;return fetchVouchesJobs({page:1,tradieId:props.id});case 3:res_jobs=_context.sent;if(res_jobs===null||res_jobs===void 0?void 0:res_jobs.success){list_data=res_jobs.data;if(list_data===null||list_data===void 0?void 0:list_data.length){// let item = list_data[0];\n// item?.jobId\nsetReactSelect({label:\"Please select  a job\",value:\"\"});}setJobsList(list_data);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function prefetch(){return _ref.apply(this,arguments);};}();var setItemToggle=function setItemToggle(index){setToggler(function(prev){return!prev;});setSelectSlide(index+1);};var removeFromItem=function removeFromItem(index){filesUrl.splice(index,1);setFilesUrl(filesUrl);Array.isArray(update)?forceUpdate([]):forceUpdate({});};var onFileChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _newFile$type,_newFile$type$split$;var formData,newFile,fileType,selectedFileSize,res,link;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formData=new FormData();newFile=e.target.files[0];fileType=newFile===null||newFile===void 0?void 0:(_newFile$type=newFile.type)===null||_newFile$type===void 0?void 0:(_newFile$type$split$=_newFile$type.split(\"/\")[1])===null||_newFile$type$split$===void 0?void 0:_newFile$type$split$.toLowerCase();selectedFileSize=(newFile===null||newFile===void 0?void 0:newFile.size)/1024/1024;// size in mib\nif(!(docformats.indexOf(fileType)<0||selectedFileSize>10)){_context2.next=7;break;}setShowToast(true,\"The file must be in proper format or size\");return _context2.abrupt(\"return\");case 7:if(!(docformats.includes(fileType)&&selectedFileSize>10)){_context2.next=10;break;}// image validations\nsetShowToast(true,\"The image file size must be below 10 mb\");return _context2.abrupt(\"return\");case 10:formData.append(\"file\",newFile);_context2.next=13;return onFileUpload(formData);case 13:res=_context2.sent;if(res.success){link=res.imgUrl;setFilesUrl(function(prev){return[].concat(_toConsumableArray(prev),[{mediaType:[\"doc\",\"docx\",\"msword\"].includes(fileType)?3:4,link:link}]);});setLocalFiles(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},filesUrl===null||filesUrl===void 0?void 0:filesUrl.length,URL.createObjectURL(newFile)));});}case 15:case\"end\":return _context2.stop();}}},_callee2);}));return function onFileChange(_x){return _ref2.apply(this,arguments);};}();var renderbyFileFormat=function renderbyFileFormat(item,index){var split_item_format=item.split(\".\");var get_split_fromat=split_item_format[split_item_format.length-1];var split_item_name=item.split(\"/\");var get_split_name=split_item_name[split_item_name.length-1];var image_render=null;if(get_split_fromat){if(docformats.includes(get_split_fromat)){image_render=/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){setItemToggle(index);},title:get_split_name,src:docThumbnail,alt:\"media\"});}return/*#__PURE__*/_jsxs(\"figure\",{className:\"img_video\",children:[image_render,/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){removeFromItem(index);},src:close,alt:\"remove\",className:\"remove\"})]});}};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:data={jobId:reactSelect===null||reactSelect===void 0?void 0:reactSelect.value,jobName:reactSelect===null||reactSelect===void 0?void 0:reactSelect.label,tradieId:props.id,photos:[filesUrl[0].link],vouchDescription:jobDescription,recommendation:filesUrl[0].link};_context3.next=3;return AddVoucher(data);case 3:response=_context3.sent;if(!(response===null||response===void 0?void 0:response.success)){_context3.next=10;break;}moengage.moE_SendEvent(MoEConstants.LEFT_VOUCHER,{timeStamp:moengage.getCurrentTimeStamp()});mixPanel.mixP_SendEvent(MoEConstants.LEFT_VOUCHER,{timeStamp:moengage.getCurrentTimeStamp()});setToggle(function(prev){return!prev;});_context3.next=10;return prefetch();case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSubmit(){return _ref3.apply(this,arguments);};}();var JobSelectOptions=[];if(jobsList===null||jobsList===void 0?void 0:jobsList.length){JobSelectOptions=jobsList.map(function(item){return{label:item===null||item===void 0?void 0:item.jobName,value:item===null||item===void 0?void 0:item.jobId};});JobSelectOptions.unshift({label:\"Please select a job\",value:\"\"});}var NoOptionsMessage=function NoOptionsMessage(props){return/*#__PURE__*/_jsx(components.NoOptionsMessage,_objectSpread(_objectSpread({},props),{},{children:/*#__PURE__*/_jsx(\"span\",{className:\"custom-css-class\",children:\"No completed jobs with this tradesperson\"})}));};return/*#__PURE__*/_jsx(Modal,{className:\"custom_modal\",open:toggle,onClose:function onClose(){closeToggle(\"isRecall\");setToggle(function(prev){return!prev;});},\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh profile_modal vouch_modal\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Leave a Vouch\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info_note\",children:\"Upload the vouch and write the description.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){closeToggle(\"isRecall\");setToggle(function(prev){return!prev;});},className:\"close_btn\",children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inner_wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner_wrappr\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Job\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(Select,{className:\"select_menu\",value:reactSelect,options:JobSelectOptions,components:{NoOptionsMessage:NoOptionsMessage}// options={jobsList.map((item: any) => ({ label: item?.jobName, value: item?.jobId }))}\n,onChange:function onChange(item){setReactSelect(item);setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:\"\"});});}})}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errorData===null||errorData===void 0?void 0:errorData.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Job Description\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text_field\",children:[/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setJobDesciption(e.target.value.trimLeft());},value:jobDescription,placeholder:\"Enter Description...\"}),jobDescription.length?/*#__PURE__*/_jsx(\"span\",{className:\"char_count\",children:\"character length : \".concat(jobDescription.length,\" / 1000\")}):\"\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errorData===null||errorData===void 0?void 0:errorData.detail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload_img_video\",children:[(filesUrl===null||filesUrl===void 0?void 0:filesUrl.length)?filesUrl.map(function(item,index){return renderbyFileFormat(item.link,index);}):null,(filesUrl===null||filesUrl===void 0?void 0:filesUrl.length)<1?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"upload_media\",htmlFor:\"upload_img_video\",children:/*#__PURE__*/_jsx(\"img\",{src:addMedia,alt:\"\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:onFileChange,type:\"file\",accept:\"image/png,image/jpg,image/jpeg,.pdf, .doc, video/mp4, video/wmv, video/avi\",style:{display:\"none\"},id:\"upload_img_video\"})]}):null]}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errorData===null||errorData===void 0?void 0:errorData.upload})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom_btn custom_btn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){if(!(filesUrl===null||filesUrl===void 0?void 0:filesUrl.length)||!(jobDescription===null||jobDescription===void 0?void 0:jobDescription.length)){var _reactSelect$value;if(!(filesUrl===null||filesUrl===void 0?void 0:filesUrl.length)){setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{upload:\"Document file is required.\"});});}if(!(jobDescription===null||jobDescription===void 0?void 0:jobDescription.length)){setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{detail:\"Job Description is required\"});});}if(!(reactSelect===null||reactSelect===void 0?void 0:(_reactSelect$value=reactSelect.value)===null||_reactSelect$value===void 0?void 0:_reactSelect$value.length)){setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:\"Job Name is required\"});});}}else{handleSubmit();}},className:\"fill_btn full_btn btn-effect\",children:\"Save changes\"})})]})});};export default AddVoucherComponent;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieInfo/addVoucher.tsx"],"names":["React","useState","useEffect","cancel","addMedia","Modal","setShowToast","close","onFileUpload","AddVoucher","fetchVouchesJobs","docThumbnail","moengage","mixPanel","MoEConstants","Select","components","docformats","AddVoucherComponent","props","toggleProps","closeToggle","toggle","setToggle","jobsList","setJobsList","label","value","reactSelect","setReactSelect","jobDescription","setJobDesciption","name","detail","upload","errorData","setErrorData","filesUrl","setFilesUrl","localFiles","setLocalFiles","update","forceUpdate","toggler","setToggler","selectedSlide","setSelectSlide","prefetch","console","log","prev","length","id","page","tradieId","res_jobs","success","list_data","data","setItemToggle","index","removeFromItem","splice","Array","isArray","onFileChange","e","formData","FormData","newFile","target","files","fileType","type","split","toLowerCase","selectedFileSize","size","indexOf","includes","append","res","link","imgUrl","mediaType","URL","createObjectURL","renderbyFileFormat","item","split_item_format","get_split_fromat","split_item_name","get_split_name","image_render","handleSubmit","jobId","jobName","photos","vouchDescription","recommendation","response","moE_SendEvent","LEFT_VOUCHER","timeStamp","getCurrentTimeStamp","mixP_SendEvent","JobSelectOptions","map","unshift","NoOptionsMessage","trimLeft","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport cancel from \"../../assets/images/ic-cancel.png\";\nimport addMedia from \"../../assets/images/add-image.png\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { setShowToast } from \"../../redux/common/actions\";\n\nimport close from \"../../assets/images/icon-close-1.png\";\nimport { onFileUpload } from \"../../redux/auth/actions\";\nimport { AddVoucher, fetchVouchesJobs } from \"../../redux/jobs/actions\";\nimport docThumbnail from \"../../assets/images/add-document.png\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\nimport Select, { components } from \"react-select\";\nconst docformats: Array<any> = [\"pdf\", \"doc\", \"docx\", \"msword\"];\n\nconst AddVoucherComponent = (props: any) => {\n  const { toggleProps, closeToggle } = props;\n  const [toggle, setToggle] = useState(false);\n  const [jobsList, setJobsList] = useState([]);\n  const [reactSelect, setReactSelect] = useState({ label: \"\", value: \"\" });\n  const [jobDescription, setJobDesciption] = useState(\"\");\n\n  const [errorData, setErrorData] = useState({\n    name: \"\",\n    detail: \"\",\n    upload: \"\",\n  });\n  const [filesUrl, setFilesUrl] = useState([] as any);\n  const [localFiles, setLocalFiles] = useState({});\n\n  const [update, forceUpdate] = useState({});\n  const [toggler, setToggler] = useState(false);\n  const [selectedSlide, setSelectSlide] = useState(1);\n\n  useEffect(() => {\n    prefetch();\n  }, []);\n\n  useEffect(() => {\n    console.log({\n      toggleProps,\n    });\n    setToggle(toggleProps);\n  }, [toggleProps]);\n\n  useEffect(() => {\n    setErrorData((prev: any) => ({\n      ...prev,\n      detail:\n        jobDescription?.length > 1000\n          ? \"Maximum 1000 characters are allowed\"\n          : \"\",\n    }));\n  }, [jobDescription]);\n\n  // useEffect(() => {\n  //     setErrorData((prev: any) => ({ ...prev, upload: filesUrl?.length ? '' : 'Document file is required' }));\n  // }, [filesUrl]);\n\n  useEffect(() => {\n    console.log({ toggle });\n    if (!toggle) {\n      closeToggle(\"isRecall\");\n      setReactSelect((prev: any) => ({ ...prev, label: \"\", value: \"\" }));\n      setJobDesciption(\"\");\n      setFilesUrl([]);\n      setErrorData((prev: any) => ({\n        ...prev,\n        name: \"\",\n        detail: \"\",\n        upload: \"\",\n      }));\n    } else {\n      prefetch();\n    }\n  }, [toggle]);\n\n  const prefetch = async () => {\n    if (props?.id) {\n      let res_jobs: any = await fetchVouchesJobs({\n        page: 1,\n        tradieId: props.id,\n      });\n      if (res_jobs?.success) {\n        let list_data: any = res_jobs.data;\n        if (list_data?.length) {\n          // let item = list_data[0];\n          // item?.jobId\n          setReactSelect({ label: \"Please select  a job\", value: \"\" });\n        }\n        setJobsList(list_data);\n      }\n    }\n  };\n\n  const setItemToggle = (index: any) => {\n    setToggler((prev: boolean) => !prev);\n    setSelectSlide(index + 1);\n  };\n\n  const removeFromItem = (index: any) => {\n    filesUrl.splice(index, 1);\n    setFilesUrl(filesUrl);\n    Array.isArray(update) ? forceUpdate([]) : forceUpdate({});\n  };\n\n  const onFileChange = async (e: any) => {\n    const formData = new FormData();\n    const newFile = e.target.files[0];\n\n    var fileType = newFile?.type?.split(\"/\")[1]?.toLowerCase();\n    var selectedFileSize = newFile?.size / 1024 / 1024; // size in mib\n\n    if (docformats.indexOf(fileType) < 0 || selectedFileSize > 10) {\n      setShowToast(true, \"The file must be in proper format or size\");\n      return;\n    }\n\n    if (docformats.includes(fileType) && selectedFileSize > 10) {\n      // image validations\n      setShowToast(true, \"The image file size must be below 10 mb\");\n      return;\n    }\n\n    formData.append(\"file\", newFile);\n    const res = await onFileUpload(formData);\n    if (res.success) {\n      let link: string = res.imgUrl;\n\n      setFilesUrl((prev: Array<any>) => [\n        ...prev,\n        {\n          mediaType: [\"doc\", \"docx\", \"msword\"].includes(fileType) ? 3 : 4,\n          link: link,\n        },\n      ]);\n      setLocalFiles((prev: any) => ({\n        ...prev,\n        [filesUrl?.length]: URL.createObjectURL(newFile),\n      }));\n    }\n  };\n\n  const renderbyFileFormat = (item: any, index: any) => {\n    let split_item_format = item.split(\".\");\n    let get_split_fromat = split_item_format[split_item_format.length - 1];\n\n    let split_item_name = item.split(\"/\");\n    let get_split_name = split_item_name[split_item_name.length - 1];\n    let image_render: any = null;\n    if (get_split_fromat) {\n      if (docformats.includes(get_split_fromat)) {\n        image_render = (\n          <img\n            onClick={() => {\n              setItemToggle(index);\n            }}\n            title={get_split_name}\n            src={docThumbnail}\n            alt=\"media\"\n          />\n        );\n      }\n      return (\n        <figure className=\"img_video\">\n          {image_render}\n          <img\n            onClick={() => {\n              removeFromItem(index);\n            }}\n            src={close}\n            alt=\"remove\"\n            className=\"remove\"\n          />\n          {/* <span style={{ fontSize: '10px' }}>{get_split_name}</span> */}\n        </figure>\n      );\n    }\n  };\n\n  const handleSubmit = async () => {\n    let data = {\n      jobId: reactSelect?.value,\n      jobName: reactSelect?.label,\n      tradieId: props.id,\n      photos: [filesUrl[0].link],\n      vouchDescription: jobDescription,\n      recommendation: filesUrl[0].link,\n    };\n    let response = await AddVoucher(data);\n    if (response?.success) {\n      moengage.moE_SendEvent(MoEConstants.LEFT_VOUCHER, {\n        timeStamp: moengage.getCurrentTimeStamp(),\n      });\n      mixPanel.mixP_SendEvent(MoEConstants.LEFT_VOUCHER, {\n        timeStamp: moengage.getCurrentTimeStamp(),\n      });\n      setToggle((prev: any) => !prev);\n      await prefetch();\n    }\n  };\n\n  let JobSelectOptions: any = [];\n  if (jobsList?.length) {\n    JobSelectOptions = jobsList.map((item: any) => ({\n      label: item?.jobName,\n      value: item?.jobId,\n    }));\n    JobSelectOptions.unshift({ label: \"Please select a job\", value: \"\" });\n  }\n\n  const NoOptionsMessage = (props: any) => {\n    return (\n      <components.NoOptionsMessage {...props}>\n        <span className=\"custom-css-class\">\n          {\"No completed jobs with this tradesperson\"}\n        </span>\n      </components.NoOptionsMessage>\n    );\n  };\n\n  return (\n    <Modal\n      className=\"custom_modal\"\n      open={toggle}\n      onClose={() => {\n        closeToggle(\"isRecall\");\n        setToggle((prev: any) => !prev);\n      }}\n      aria-labelledby=\"simple-modal-title\"\n      aria-describedby=\"simple-modal-description\"\n    >\n      <div\n        className=\"custom_wh profile_modal vouch_modal\"\n        data-aos=\"zoom-in\"\n        data-aos-delay=\"30\"\n        data-aos-duration=\"1000\"\n      >\n        <div className=\"heading\">\n          <span className=\"sub_title\">{\"Leave a Vouch\"}</span>\n          <span className=\"info_note\">\n            {\"Upload the vouch and write the description.\"}\n          </span>\n          <button\n            onClick={() => {\n              closeToggle(\"isRecall\");\n              setToggle((prev: any) => !prev);\n            }}\n            className=\"close_btn\"\n          >\n            <img src={cancel} alt=\"cancel\" />\n          </button>\n        </div>\n        <div className=\"inner_wrap\">\n          <div className=\"inner_wrappr\">\n            <div className=\"form_field\">\n              <label className=\"form_label\">Job</label>\n              <div className=\"text_field\">\n                <Select\n                  className=\"select_menu\"\n                  value={reactSelect}\n                  options={JobSelectOptions}\n                  components={{ NoOptionsMessage }}\n                  // options={jobsList.map((item: any) => ({ label: item?.jobName, value: item?.jobId }))}\n                  onChange={(item: any) => {\n                    setReactSelect(item);\n                    setErrorData((prev: any) => ({ ...prev, name: \"\" }));\n                  }}\n                />\n              </div>\n              <span className=\"error_msg\">{errorData?.name}</span>\n            </div>\n            <div className=\"form_field\">\n              <label className=\"form_label\">{\"Job Description\"}</label>\n              <div className=\"text_field\">\n                <textarea\n                  onChange={(e) => {\n                    setJobDesciption(e.target.value.trimLeft());\n                  }}\n                  value={jobDescription}\n                  placeholder=\"Enter Description...\"\n                ></textarea>\n                {jobDescription.length ? (\n                  <span className=\"char_count\">\n                    {`character length : ${jobDescription.length} / 1000`}\n                  </span>\n                ) : (\n                  \"\"\n                )}\n              </div>\n              <span className=\"error_msg\">{errorData?.detail}</span>\n            </div>\n            <div className=\"upload_img_video\">\n              {filesUrl?.length\n                ? filesUrl.map((item: any, index: number) =>\n                    renderbyFileFormat(item.link, index)\n                  )\n                : null}\n\n              {filesUrl?.length < 1 ? (\n                <React.Fragment>\n                  <label className=\"upload_media\" htmlFor=\"upload_img_video\">\n                    <img src={addMedia} alt=\"\" />\n                  </label>\n                  <input\n                    onChange={onFileChange}\n                    type=\"file\"\n                    accept=\"image/png,image/jpg,image/jpeg,.pdf, .doc, video/mp4, video/wmv, video/avi\"\n                    style={{ display: \"none\" }}\n                    id=\"upload_img_video\"\n                  />\n                </React.Fragment>\n              ) : null}\n            </div>\n            <span className=\"error_msg\">{errorData?.upload}</span>\n          </div>\n        </div>\n        <div className=\"bottom_btn custom_btn\">\n          <button\n            onClick={() => {\n              if (!filesUrl?.length || !jobDescription?.length) {\n                if (!filesUrl?.length) {\n                  setErrorData((prev: any) => ({\n                    ...prev,\n                    upload: \"Document file is required.\",\n                  }));\n                }\n\n                if (!jobDescription?.length) {\n                  setErrorData((prev: any) => ({\n                    ...prev,\n                    detail: \"Job Description is required\",\n                  }));\n                }\n\n                if (!reactSelect?.value?.length) {\n                  setErrorData((prev: any) => ({\n                    ...prev,\n                    name: \"Job Name is required\",\n                  }));\n                }\n              } else {\n                handleSubmit();\n              }\n            }}\n            className={`fill_btn full_btn btn-effect`}\n          >\n            {\"Save changes\"}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default AddVoucherComponent;\n"]},"metadata":{},"sourceType":"module"}