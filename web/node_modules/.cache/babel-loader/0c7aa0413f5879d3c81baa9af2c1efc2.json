{"ast":null,"code":"import _defineProperty from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import Constants from'../../../utils/constants';import regex from'../../../utils/regex';import{validateABN}from'../../../utils/common';import NumberFormat from\"react-number-format\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AlmostDone=function AlmostDone(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState({company_name:'',position:'',abn:''}),_useState4=_slicedToArray(_useState3,2),almostDoneData=_useState4[0],setAlmostDoneData=_useState4[1];var changeHandler=function changeHandler(e){setAlmostDoneData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},e.target.name,e.target.value));});};var validateForm=function validateForm(){var newErrors={};if(!almostDoneData.company_name){newErrors.company_name=Constants.errorStrings.companyNameEmpty;}else{var nameRegex=new RegExp(regex.fullname);if(!nameRegex.test(almostDoneData.company_name.trim())){newErrors.company_name=Constants.errorStrings.companyNameErr;}}if(!almostDoneData.position){newErrors.position=Constants.errorStrings.positionNameEmpty;}else{var positionRegex=new RegExp(regex.fullname);if(!positionRegex.test(almostDoneData.position.trim())){newErrors.position=Constants.errorStrings.positionNameErr;}}if(!almostDoneData.abn){newErrors.abn=Constants.errorStrings.abnEmpty;}else{var abnRegex=new RegExp(regex.abn);if(!abnRegex.test(almostDoneData.abn.replaceAll(' ',''))){newErrors.abn=Constants.errorStrings.abnErr;}if(!validateABN(almostDoneData.abn.replaceAll(' ',''))){newErrors.abn=Constants.errorStrings.abnErr;}}setErrors(newErrors);return!Object.keys(newErrors).length;};var onSubmit=function onSubmit(e){e.preventDefault();if(validateForm()){var newAlmostData=almostDoneData;newAlmostData.abn=newAlmostData.abn.replaceAll(' ','');console.log(newAlmostData,\"newAlmostData\");props.onSubmitSignup(newAlmostData);}};return/*#__PURE__*/_jsx(\"div\",{className:\"form_wrapper\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Company Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Company Name\",value:almostDoneData.company_name,name:\"company_name\",onChange:changeHandler})}),!!errors.company_name&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.company_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Your Position\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Position\",value:almostDoneData.position,name:\"position\",onChange:changeHandler})}),!!errors.position&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.position})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Australian Business Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(NumberFormat,{type:\"text\",placeholder:\"51 824 753 556\",value:almostDoneData.abn,onValueChange:function onValueChange(_ref){var value=_ref.value;setAlmostDoneData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{\"abn\":value});});},format:\"## ### ### ###\"})}),!!errors.abn&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.abn})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn btn-effect\",children:\"Create account\"})})]})});};export default AlmostDone;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/almostDone.tsx"],"names":["useState","Constants","regex","validateABN","NumberFormat","AlmostDone","props","errors","setErrors","company_name","position","abn","almostDoneData","setAlmostDoneData","changeHandler","e","prevData","target","name","value","validateForm","newErrors","errorStrings","companyNameEmpty","nameRegex","RegExp","fullname","test","trim","companyNameErr","positionNameEmpty","positionRegex","positionNameErr","abnEmpty","abnRegex","replaceAll","abnErr","Object","keys","length","onSubmit","preventDefault","newAlmostData","console","log","onSubmitSignup"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport Constants from '../../../utils/constants';\nimport regex from '../../../utils/regex';\nimport { validateABN } from '../../../utils/common';\nimport NumberFormat from \"react-number-format\";\n\ninterface Propstype {\n    onSubmitSignup: (data: any) => void,\n}\n\nconst AlmostDone = (props: Propstype) => {\n    const [errors, setErrors] = useState<any>({});\n    const [almostDoneData, setAlmostDoneData] = useState<any>({\n        company_name: '',\n        position: '',\n        abn: '',\n    })\n\n    const changeHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: e.target.value }))\n    }\n\n    const validateForm = () => {\n        const newErrors: any = {};\n        if (!almostDoneData.company_name) {\n            newErrors.company_name = Constants.errorStrings.companyNameEmpty;\n        } else {\n            const nameRegex = new RegExp(regex.fullname);\n            if (!nameRegex.test(almostDoneData.company_name.trim())) {\n                newErrors.company_name = Constants.errorStrings.companyNameErr;\n            }\n        }\n        if (!almostDoneData.position) {\n            newErrors.position = Constants.errorStrings.positionNameEmpty;\n        } else {\n            const positionRegex = new RegExp(regex.fullname);\n            if (!positionRegex.test(almostDoneData.position.trim())) {\n                newErrors.position = Constants.errorStrings.positionNameErr;\n            }\n        }\n\n        if (!almostDoneData.abn) {\n            newErrors.abn = Constants.errorStrings.abnEmpty;\n        } else {\n            const abnRegex = new RegExp(regex.abn);\n            if (!abnRegex.test(almostDoneData.abn.replaceAll(' ', ''))) {\n                newErrors.abn = Constants.errorStrings.abnErr\n            }\n            if (!validateABN(almostDoneData.abn.replaceAll(' ', ''))) {\n                newErrors.abn = Constants.errorStrings.abnErr\n            }\n        }\n        setErrors(newErrors);\n        return !Object.keys(newErrors).length;\n    }\n\n    const onSubmit = (e: any) => {\n        e.preventDefault();\n        if (validateForm()) {\n            var newAlmostData = almostDoneData;\n            newAlmostData.abn = newAlmostData.abn.replaceAll(' ', '');\n            console.log(newAlmostData, \"newAlmostData\");\n            props.onSubmitSignup(newAlmostData)\n        }\n    }\n\n    return (\n        <div className=\"form_wrapper\">\n            <form onSubmit={onSubmit}>\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Company Name</label>\n                    <div className=\"text_field\">\n                        <input type=\"text\" placeholder=\"Enter Company Name\" value={almostDoneData.company_name} name=\"company_name\" onChange={changeHandler} />\n                    </div>\n                    {!!errors.company_name && <span className=\"error_msg\">{errors.company_name}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Your Position</label>\n                    <div className=\"text_field\">\n                        <input type=\"text\" placeholder=\"Enter Position\" value={almostDoneData.position} name=\"position\" onChange={changeHandler} />\n                    </div>\n                    {!!errors.position && <span className=\"error_msg\">{errors.position}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Australian Business Number</label>\n                    <div className=\"text_field\">\n                        <NumberFormat\n                            type=\"text\"\n                            placeholder=\"51 824 753 556\"\n                            value={almostDoneData.abn}\n                            onValueChange={({ value }) => {\n                                setAlmostDoneData((prevData: any) => ({ ...prevData, \"abn\": value }))\n                            }}\n                            format=\"## ### ### ###\"\n                        />\n                    </div>\n                    {!!errors.abn && <span className=\"error_msg\">{errors.abn}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <button className=\"fill_btn btn-effect\">Create account</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default AlmostDone\n"]},"metadata":{},"sourceType":"module"}