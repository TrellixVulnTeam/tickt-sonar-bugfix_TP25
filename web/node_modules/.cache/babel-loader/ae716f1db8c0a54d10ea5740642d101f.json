{"ast":null,"code":"import _toConsumableArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable eqeqeq */ /* eslint-disable jsx-a11y/anchor-is-valid */import{connect}from'react-redux';import{bindActionCreators}from'redux';import{callTradeList}from'./../../redux/auth/actions';import{getJobWithJobTypeLatLong,getJobTypeList}from'../../redux/homeSearch/actions';import{useState,useEffect}from'react';import Menu from'@material-ui/core/Menu';import Modal from'@material-ui/core/Modal';import filterUnselected from'../../assets/images/ic-filter-unselected.png';import filterSelected from'../../assets/images/ic-filter-selected.png';import cancel from\"../../assets/images/ic-cancel.png\";import spherePlaceholder from\"../../assets/images/ic_categories_placeholder.svg\";import{moengage,mixPanel}from'../../services/analyticsTools';import{MoEConstants}from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchFilter=function SearchFilter(props){var _props$tradeListData5,_props$tradeListData6,_props$tradeListData7;// const { data, searchText, selectedAddress, selectedTrade, exta } = props.selectedItem;\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),priceAnchorEl=_useState4[0],setPriceAnchorEl=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),filterAnchorEl=_useState6[0],setFilterAnchorEl=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),sortingAnchorEl=_useState8[0],setSortingAnchorEl=_useState8[1];var _useState9=useState({page:1}),_useState10=_slicedToArray(_useState9,2),filterState=_useState10[0],setFilterState=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),filterEnable=_useState12[0],setFilterEnable=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),prevLocal=_useState14[0],setPrevLocal=_useState14[1];var _useState15=useState({priceFilterClicked:false,payTypeClicked:false,pay_type:\"Fixed price\",max_budget:''}),_useState16=_slicedToArray(_useState15,2),sortByPrice=_useState16[0],setSortByPrice=_useState16[1];var _useState17=useState({sortByFilterClicked:false,tradeId:[],sortChanged:false,specializationId:[],allSpecializationClicked:false}),_useState18=_slicedToArray(_useState17,2),sortByFilter=_useState18[0],setSortByFilter=_useState18[1];// jobTypes: [],\nvar _useState19=useState({sortBySorting:false,sortBy:0}),_useState20=_slicedToArray(_useState19,2),sortBySorting=_useState20[0],setSortBySorting=_useState20[1];console.log({sortByFilter:sortByFilter,sortBySorting:sortBySorting,sortByPrice:sortByPrice});useEffect(function(){var _props$jobTypeListDat,_props$tradeListData;if(((_props$jobTypeListDat=props.jobTypeListData)===null||_props$jobTypeListDat===void 0?void 0:_props$jobTypeListDat.length)===0)props.getJobTypeList();if(((_props$tradeListData=props.tradeListData)===null||_props$tradeListData===void 0?void 0:_props$tradeListData.length)===0)props.callTradeList();setPrevLocal(props.localInfo);},[]);useEffect(function(){var _props$localInfo,_props$localInfo$trad;if(props===null||props===void 0?void 0:(_props$localInfo=props.localInfo)===null||_props$localInfo===void 0?void 0:(_props$localInfo$trad=_props$localInfo.tradeId)===null||_props$localInfo$trad===void 0?void 0:_props$localInfo$trad.length){// setSortByFilter((prev: any) => ({\n//     ...prev,\n//     tradeId: props.localInfo.tradeId,\n//     specializationId: props.localInfo.specializationId\n// }));\n}console.log({props:props});},[props]);var sortByPriceClick=function sortByPriceClick(event){setPriceAnchorEl(event.currentTarget);setSortByPrice(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{priceFilterClicked:true});});};var sortByPriceClose=function sortByPriceClose(){setPriceAnchorEl(null);setSortByPrice(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{priceFilterClicked:false});});};var sortByFilterClick=function sortByFilterClick(event){setFilterAnchorEl(event.currentTarget);setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortByFilterClicked:true,sortChanged:true});});};var sortByFilterClose=function sortByFilterClose(){setFilterAnchorEl(null);setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortByFilterClicked:false});});};var sortBySortingClick=function sortBySortingClick(event){setSortingAnchorEl(event.currentTarget);setSortBySorting(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortBySorting:true});});};var sortBySortingClose=function sortBySortingClose(){setSortingAnchorEl(null);setSortBySorting(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortBySorting:false});});};var sortByButtonClicked=function sortByButtonClicked(num){setSortBySorting(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortBy:num});});sortBySortingClose();updateOnChange(num);};var setSameOnClick=function setSameOnClick(){setSortBySorting(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{sortBy:0});});sortBySortingClose();updateOnChange(0);};var filterChangeHandler=function filterChangeHandler(id,name){if(name==='jobTypes'){if(sortByFilter.jobTypes[0]==id){setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{jobTypes:[]});});}else{setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{jobTypes:[id]});});}}else if(name==='specializationId'){setSortByFilter(function(prevData){var _prevData$specializat;var newData=[];if(Array.isArray(prevData.specializationId)&&(prevData===null||prevData===void 0?void 0:(_prevData$specializat=prevData.specializationId)===null||_prevData$specializat===void 0?void 0:_prevData$specializat.length)){newData=_toConsumableArray(prevData.specializationId);}if(sortByFilter.allSpecializationClicked){newData=[];}var itemIndex=newData.indexOf(id);if(newData.indexOf(id)<0){newData.push(id);}else{newData.splice(itemIndex,1);}return _objectSpread(_objectSpread({},prevData),{},{specializationId:newData,allSpecializationClicked:false});});}else if(name=='categories'){if(sortByFilter.tradeId.length&&sortByFilter.tradeId[0]==id){setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{tradeId:[],specializationId:[],allSpecializationClicked:false});});}else{setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{tradeId:[id],specializationId:[],allSpecializationClicked:false});});}}else if(name=='All Clicked'){if(sortByFilter.allSpecializationClicked){setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{allSpecializationClicked:false,specializationId:[]});});}else{var newSpecialization=id.map(function(_ref){var _id=_ref._id;return _id;});setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{allSpecializationClicked:true,specializationId:newSpecialization});});}}else if(name=='Clear All'){setSortByFilter(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{allSpecializationClicked:false,jobTypes:[],specializationId:[],tradeId:[]});});}};var renderFilterButtons=function renderFilterButtons(){return/*#__PURE__*/_jsxs(\"ul\",{className:\"filters_row\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{className:filterEnable?'active':'',onClick:sortByFilterClick,children:[/*#__PURE__*/_jsx(\"img\",{src:filterEnable?filterSelected:filterUnselected,alt:\"filter\"}),'Filter']})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:sortBySorting.sortBy>0?'active':'',onClick:sortBySortingClick,children:\"Sorting\"})})]});};var showResultSearch=function showResultSearch(){var _sortByFilter$tradeId;if(!(sortByFilter===null||sortByFilter===void 0?void 0:(_sortByFilter$tradeId=sortByFilter.tradeId)===null||_sortByFilter$tradeId===void 0?void 0:_sortByFilter$tradeId.length)){updateOnChange(sortBySorting.sortBy);sortByFilterClose();setFilterEnable(false);return;}updateOnChange(sortBySorting.sortBy);sortByFilterClose();setFilterEnable(true);};var updateOnChange=function updateOnChange(sort){var _props$tradeListData2,_props$tradeListData3,_props$tradeListData4,_filteredItem,_data$address,_props$tradeListData$,_JSON$parse,_JSON$parse2;var local_info=props.localInfo;var sort_=sort;console.log({sort_:sort_,local_info:local_info},'-------------------------->><<-------------- item_coord');var tradeInfo=(_props$tradeListData2=props.tradeListData)===null||_props$tradeListData2===void 0?void 0:_props$tradeListData2.find(function(item){var _sortByFilter$tradeId2;return item._id===((_sortByFilter$tradeId2=sortByFilter.tradeId)===null||_sortByFilter$tradeId2===void 0?void 0:_sortByFilter$tradeId2[0]);});var specializationList=(_props$tradeListData3=props.tradeListData)===null||_props$tradeListData3===void 0?void 0:(_props$tradeListData4=_props$tradeListData3.find(function(_ref2){var _sortByFilter$tradeId3;var _id=_ref2._id;return _id===((_sortByFilter$tradeId3=sortByFilter.tradeId)===null||_sortByFilter$tradeId3===void 0?void 0:_sortByFilter$tradeId3[0]);}))===null||_props$tradeListData4===void 0?void 0:_props$tradeListData4.specialisations;var specializationId=sortByFilter.specializationId,tradeId=sortByFilter.tradeId;console.log({specializationId:specializationId,sortByFilter:sortByFilter,props:props});// if (specializationId?.length) {\nvar filteredItem=[];// let name = specializationList[0].name;\nif(specializationList===null||specializationList===void 0?void 0:specializationList.length){filteredItem=specializationList.filter(function(item){if(Array.isArray(specializationId)&&(specializationId===null||specializationId===void 0?void 0:specializationId.length)){if(specializationId.includes(item._id)){return item;}}});}var name='';if(Array.isArray(filteredItem)&&((_filteredItem=filteredItem)===null||_filteredItem===void 0?void 0:_filteredItem.length)&&filteredItem[0].name){name=filteredItem[0].name;}var data={page:1,isFiltered:true};if(sort_){data['sortBy']=sort_;}if(Array.isArray(tradeId)&&(tradeId===null||tradeId===void 0?void 0:tradeId.length)||!Array.isArray(tradeId)&&(tradeId===null||tradeId===void 0?void 0:tradeId.length)){data['tradeId']=Array.isArray(tradeId)?tradeId:[tradeId];}if(Array.isArray(specializationId)&&(specializationId===null||specializationId===void 0?void 0:specializationId.length)){data['specializationId']=specializationId;}var get_position=localStorage.getItem('position');if(sort_===2){var _local_info$location,_local_info$location$,_local_info$location2;var item_coord=!(local_info===null||local_info===void 0?void 0:(_local_info$location=local_info.location)===null||_local_info$location===void 0?void 0:(_local_info$location$=_local_info$location.coordinates)===null||_local_info$location$===void 0?void 0:_local_info$location$.length)?JSON.parse(get_position).reverse():local_info===null||local_info===void 0?void 0:(_local_info$location2=local_info.location)===null||_local_info$location2===void 0?void 0:_local_info$location2.coordinates;if(item_coord===null||item_coord===void 0?void 0:item_coord.length){data['location']={\"coordinates\":item_coord};}}else{if(local_info===null||local_info===void 0?void 0:local_info.location){data['location']=local_info===null||local_info===void 0?void 0:local_info.location;}else{delete data.location;}}if(local_info===null||local_info===void 0?void 0:local_info.from_date){data['from_date']=local_info===null||local_info===void 0?void 0:local_info.from_date;}if(local_info===null||local_info===void 0?void 0:local_info.to_date){data['to_date']=local_info===null||local_info===void 0?void 0:local_info.to_date;}if(local_info===null||local_info===void 0?void 0:local_info.suggestionSelected){data['address']=JSON.stringify(local_info===null||local_info===void 0?void 0:local_info.suggestionSelected);if((data===null||data===void 0?void 0:data.address)==='{}'){delete data.address;}}if(!(data===null||data===void 0?void 0:data.address)||!(data===null||data===void 0?void 0:(_data$address=data.address)===null||_data$address===void 0?void 0:_data$address.length)){data===null||data===void 0?true:delete data.address;}props.postHomeSearchData(data);var mData=_objectSpread(_objectSpread(_objectSpread({timeStamp:moengage.getCurrentTimeStamp(),category:props===null||props===void 0?void 0:(_props$tradeListData$=props.tradeListData.find(function(i){return i._id===(data===null||data===void 0?void 0:data.tradeId[0]);}))===null||_props$tradeListData$===void 0?void 0:_props$tradeListData$.trade_name},data.address&&{location:\"\".concat((_JSON$parse=JSON.parse(data.address))===null||_JSON$parse===void 0?void 0:_JSON$parse.mainText,\" \").concat((_JSON$parse2=JSON.parse(data.address))===null||_JSON$parse2===void 0?void 0:_JSON$parse2.secondaryText)}),(data===null||data===void 0?void 0:data.from_date)&&{'start date':data===null||data===void 0?void 0:data.from_date}),(data===null||data===void 0?void 0:data.to_date)&&{'end date':data===null||data===void 0?void 0:data.to_date});moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES,mData);mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES,mData);var trade_name=tradeInfo===null||tradeInfo===void 0?void 0:tradeInfo.trade_name;var local_info_name=local_info===null||local_info===void 0?void 0:local_info.name;var local_info_count=local_info===null||local_info===void 0?void 0:local_info.count;var case_1=name?name:trade_name;var case_2=\"\".concat(local_info_name,\" \").concat(local_info_count>1?\"+\".concat(local_info_count-1):'');var name_=case_1?trade_name:local_info_name?case_2:'';;props.getTitleInfo({name:name_,isTradeName:(tradeInfo===null||tradeInfo===void 0?void 0:tradeInfo.trade_name)?true:false,count:(specializationId===null||specializationId===void 0?void 0:specializationId.length)||0,tradeId:data.tradeId,specializationId:data.specializationId||[],sortBy:data.sortBy||0,to_date:(local_info===null||local_info===void 0?void 0:local_info.to_date)||'',from_date:(local_info===null||local_info===void 0?void 0:local_info.from_date)||'',doingLocalChanges:false});};var specializationList=(_props$tradeListData5=props.tradeListData)===null||_props$tradeListData5===void 0?void 0:(_props$tradeListData6=_props$tradeListData5.find(function(_ref3){var _sortByFilter$tradeId4;var _id=_ref3._id;return _id===((_sortByFilter$tradeId4=sortByFilter.tradeId)===null||_sortByFilter$tradeId4===void 0?void 0:_sortByFilter$tradeId4[0]);}))===null||_props$tradeListData6===void 0?void 0:_props$tradeListData6.specialisations;var checkIfAllSelected=false;if(specializationList){var _sortByFilter$special;checkIfAllSelected=((_sortByFilter$special=sortByFilter.specializationId)===null||_sortByFilter$special===void 0?void 0:_sortByFilter$special.length)===(specializationList===null||specializationList===void 0?void 0:specializationList.length);}var sortOnChange=function sortOnChange(num){if(sortBySorting.sortBy!==num){sortByButtonClicked(num);}};var sortOnClick=function sortOnClick(num){if(sortBySorting.sortBy==num){setSameOnClick();}};var checksForActive=function checksForActive(_ref4){var _sortByFilter$special2,_sortByFilter$tradeId5;var checkIfAllSelected=_ref4.checkIfAllSelected,sortByFilter=_ref4.sortByFilter;if(sortByFilter===null||sortByFilter===void 0?void 0:sortByFilter.allSpecializationClicked){return true;}if(sortByFilter===null||sortByFilter===void 0?void 0:(_sortByFilter$special2=sortByFilter.specializationId)===null||_sortByFilter$special2===void 0?void 0:_sortByFilter$special2.length){return false;}if(checkIfAllSelected||(sortByFilter===null||sortByFilter===void 0?void 0:(_sortByFilter$tradeId5=sortByFilter.tradeId)===null||_sortByFilter$tradeId5===void 0?void 0:_sortByFilter$tradeId5.length)){return true;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"filters_wrapr\",children:[renderFilterButtons(),sortByFilter.sortByFilterClicked&&/*#__PURE__*/_jsx(Modal,{className:\"custom_modal\",open:sortByFilter.sortByFilterClicked,onClose:sortByFilterClose,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh filter_modal\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Filter\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:sortByFilterClose,children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner_wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:'Categories'})}),/*#__PURE__*/_jsx(\"div\",{className:\"select_sphere\",children:/*#__PURE__*/_jsx(\"ul\",{children:(_props$tradeListData7=props.tradeListData)===null||_props$tradeListData7===void 0?void 0:_props$tradeListData7.map(function(_ref5){var _sortByFilter$tradeId6;var _id=_ref5._id,trade_name=_ref5.trade_name,selected_url=_ref5.selected_url,specialisations=_ref5.specialisations;var active=((_sortByFilter$tradeId6=sortByFilter.tradeId)===null||_sortByFilter$tradeId6===void 0?void 0:_sortByFilter$tradeId6[0])===_id;return/*#__PURE__*/_jsxs(\"li\",{className:active?'active':'',onClick:function onClick(){return filterChangeHandler(_id,'categories');},children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:selected_url?selected_url:spherePlaceholder})}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:trade_name})]},_id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"Specialisation\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"tags_wrap\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[console.log({specializationList:specializationList,checkIfAllSelected:checkIfAllSelected,sortByFilter:sortByFilter.allSpecializationClicked}),(specializationList===null||specializationList===void 0?void 0:specializationList.length)>0&&/*#__PURE__*/_jsx(\"li\",{className:checksForActive({checkIfAllSelected:checkIfAllSelected,sortByFilter:sortByFilter})?'selected':''// className={sortByFilter.allSpecializationClicked ? 'selected' : ''}\n,onClick:function onClick(){var items=props.tradeListData.find(function(dt){return dt._id==sortByFilter.tradeId;});if(items){filterChangeHandler(items===null||items===void 0?void 0:items.specialisations,'All Clicked');}},children:'All'}),specializationList===null||specializationList===void 0?void 0:specializationList.map(function(_ref6){var _sortByFilter$special3;var _id=_ref6._id,name=_ref6.name;// let active = sortByFilter.specializationId?.indexOf(_id) >= 0;\nvar active=false;if((specializationList===null||specializationList===void 0?void 0:specializationList.length)!==((_sortByFilter$special3=sortByFilter.specializationId)===null||_sortByFilter$special3===void 0?void 0:_sortByFilter$special3.length)){var _sortByFilter$special4;active=false;if(Array.isArray(sortByFilter.specializationId)&&((_sortByFilter$special4=sortByFilter.specializationId)===null||_sortByFilter$special4===void 0?void 0:_sortByFilter$special4.length)){active=sortByFilter.specializationId.includes(_id);}}return/*#__PURE__*/_jsx(\"li\",{className:active?'selected':''// className={active && !sortByFilter.allSpecializationClicked ? 'selected' : ''}\n,onClick:function onClick(){if(checkIfAllSelected){var sort_by_spec=sortByFilter;sort_by_spec['specializationId']=[];setSortByFilter(sort_by_spec);}filterChangeHandler(_id,'specializationId');},children:name},_id);})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter_btn\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"link\",onClick:function onClick(){return filterChangeHandler('Clear All','Clear All');},children:\"Clear All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn full_btn btn-effect\",onClick:showResultSearch,children:\"Show Results\"})]})]})})}),sortBySorting.sortBySorting&&/*#__PURE__*/_jsxs(Menu// id=\"simple-menu\"\n,{className:\"fsp_modal range\",anchorEl:sortingAnchorEl,keepMounted:true,open:Boolean(sortingAnchorEl),onClose:sortBySortingClose,children:[/*#__PURE__*/_jsx(\"span\",{className:\"close_btn\",onClick:sortBySortingClose,children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:'Sort by'}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio_wrap agree_check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"filter-type filled-in\",type:\"radio\",id:\"highestRated\",value:\"Highest rated\",checked:sortBySorting.sortBy===1,onClick:function onClick(){sortOnClick(1);},onChange:function onChange(){sortOnChange(1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"highestRated\",children:\"Highest rated\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio_wrap agree_check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"filter-type filled-in\",type:\"radio\",id:\"closest\",value:\"Closest to me\",checked:sortBySorting.sortBy===2,onClick:function onClick(){sortOnClick(2);},onChange:function onChange(){sortOnChange(2);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"closest\",children:\"Closest to me\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio_wrap agree_check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"filter-type filled-in\",type:\"radio\",id:\"mostJob\",value:\"Most jobs completed\",checked:sortBySorting.sortBy===3,onClick:function onClick(){sortOnClick(3);},onChange:function onChange(){sortOnChange(3);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mostJob\",children:'Most jobs completed'})]})]})]});};var mapStateToProps=function mapStateToProps(state){return{jobDataWithJobTypeLatLong:state.homeSearch.jobDataWithJobTypeLatLong,jobTypeListData:state.homeSearch.jobTypeListData,tradeListData:state.auth.tradeListData};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({getJobWithJobTypeLatLong:getJobWithJobTypeLatLong,getJobTypeList:getJobTypeList,callTradeList:callTradeList},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(SearchFilter);","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/searchTradieResult/searchFilters.tsx"],"names":["connect","bindActionCreators","callTradeList","getJobWithJobTypeLatLong","getJobTypeList","useState","useEffect","Menu","Modal","filterUnselected","filterSelected","cancel","moengage","mixPanel","MoEConstants","SearchFilter","props","errors","setErrors","priceAnchorEl","setPriceAnchorEl","filterAnchorEl","setFilterAnchorEl","sortingAnchorEl","setSortingAnchorEl","page","filterState","setFilterState","filterEnable","setFilterEnable","prevLocal","setPrevLocal","priceFilterClicked","payTypeClicked","pay_type","max_budget","sortByPrice","setSortByPrice","sortByFilterClicked","tradeId","sortChanged","specializationId","allSpecializationClicked","sortByFilter","setSortByFilter","sortBySorting","sortBy","setSortBySorting","console","log","jobTypeListData","length","tradeListData","localInfo","sortByPriceClick","event","currentTarget","prevData","sortByPriceClose","sortByFilterClick","sortByFilterClose","sortBySortingClick","sortBySortingClose","sortByButtonClicked","num","updateOnChange","setSameOnClick","filterChangeHandler","id","name","jobTypes","newData","Array","isArray","itemIndex","indexOf","push","splice","newSpecialization","map","_id","renderFilterButtons","showResultSearch","sort","local_info","sort_","tradeInfo","find","item","specializationList","specialisations","filteredItem","filter","includes","data","isFiltered","get_position","localStorage","getItem","item_coord","location","coordinates","JSON","parse","reverse","from_date","to_date","suggestionSelected","stringify","address","postHomeSearchData","mData","timeStamp","getCurrentTimeStamp","category","i","trade_name","mainText","secondaryText","moE_SendEvent","SEARCHED_FOR_TRADIES","mixP_SendEvent","local_info_name","local_info_count","count","case_1","case_2","name_","getTitleInfo","isTradeName","doingLocalChanges","checkIfAllSelected","sortOnChange","sortOnClick","checksForActive","selected_url","active","spherePlaceholder","items","dt","sort_by_spec","Boolean","mapStateToProps","state","jobDataWithJobTypeLatLong","homeSearch","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["/* eslint-disable eqeqeq */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport { callTradeList } from './../../redux/auth/actions';\nimport {\n    getJobWithJobTypeLatLong,\n    getJobTypeList\n} from '../../redux/homeSearch/actions';\n\nimport { useState, useEffect } from 'react';\nimport Constants from '../../utils/constants';\nimport { setShowToast } from '../../redux/common/actions';\nimport regex from '../../utils/regex';\nimport Menu from '@material-ui/core/Menu';\nimport Modal from '@material-ui/core/Modal';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport filterUnselected from '../../assets/images/ic-filter-unselected.png';\nimport filterSelected from '../../assets/images/ic-filter-selected.png';\nimport cancel from \"../../assets/images/ic-cancel.png\";\nimport spherePlaceholder from '../../assets/images/ic_categories_placeholder.svg';\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\n\nconst SearchFilter = (props: any) => {\n    // const { data, searchText, selectedAddress, selectedTrade, exta } = props.selectedItem;\n    const [errors, setErrors] = useState<any>({});\n    const [priceAnchorEl, setPriceAnchorEl] = useState(null);\n    const [filterAnchorEl, setFilterAnchorEl] = useState(null);\n    const [sortingAnchorEl, setSortingAnchorEl] = useState(null);\n    const [filterState, setFilterState] = useState({\n        page: 1,\n    });\n\n    const [filterEnable, setFilterEnable] = useState(false);\n\n    const [prevLocal, setPrevLocal] = useState(null);\n\n    const [sortByPrice, setSortByPrice] = useState<any>({\n        priceFilterClicked: false,\n        payTypeClicked: false,\n        pay_type: \"Fixed price\",\n        max_budget: '',\n    });\n\n    const [sortByFilter, setSortByFilter] = useState<any>({\n        sortByFilterClicked: false,\n        tradeId: [],\n        sortChanged: false,\n        specializationId: [],\n        allSpecializationClicked: false,\n    })\n    // jobTypes: [],\n\n    const [sortBySorting, setSortBySorting] = useState<any>({\n        sortBySorting: false,\n        sortBy: 0,\n    })\n    console.log({ sortByFilter, sortBySorting, sortByPrice })\n    useEffect(() => {\n        if (props.jobTypeListData?.length === 0) props.getJobTypeList();\n        if (props.tradeListData?.length === 0) props.callTradeList();\n        setPrevLocal(props.localInfo);\n    }, []);\n\n    useEffect(() => {\n        if (props?.localInfo?.tradeId?.length) {\n            // setSortByFilter((prev: any) => ({\n            //     ...prev,\n            //     tradeId: props.localInfo.tradeId,\n            //     specializationId: props.localInfo.specializationId\n            // }));\n        }\n        console.log({ props })\n    }, [props])\n\n    const sortByPriceClick = (event: any) => {\n        setPriceAnchorEl(event.currentTarget);\n        setSortByPrice((prevData: any) => ({ ...prevData, priceFilterClicked: true }))\n    };\n\n    const sortByPriceClose = () => {\n        setPriceAnchorEl(null);\n        setSortByPrice((prevData: any) => ({ ...prevData, priceFilterClicked: false }))\n    };\n\n    const sortByFilterClick = (event: any) => {\n        setFilterAnchorEl(event.currentTarget);\n        setSortByFilter((prevData: any) => ({ ...prevData, sortByFilterClicked: true, sortChanged: true }))\n    };\n\n    const sortByFilterClose = () => {\n        setFilterAnchorEl(null);\n        setSortByFilter((prevData: any) => ({ ...prevData, sortByFilterClicked: false }))\n    };\n\n    const sortBySortingClick = (event: any) => {\n        setSortingAnchorEl(event.currentTarget);\n        setSortBySorting((prevData: any) => ({ ...prevData, sortBySorting: true }))\n    };\n\n    const sortBySortingClose = () => {\n        setSortingAnchorEl(null);\n        setSortBySorting((prevData: any) => ({ ...prevData, sortBySorting: false }))\n    };\n\n    const sortByButtonClicked = (num: number) => {\n        setSortBySorting((prevData: any) => ({ ...prevData, sortBy: num }));\n        sortBySortingClose();\n        updateOnChange(num);\n    }\n\n    const setSameOnClick = () => {\n        setSortBySorting((prevData: any) => ({ ...prevData, sortBy: 0 }));\n        sortBySortingClose();\n        updateOnChange(0);\n    }\n\n    const filterChangeHandler = (id: any, name: string) => {\n        if (name === 'jobTypes') {\n            if (sortByFilter.jobTypes[0] == id) {\n                setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [] }))\n            } else {\n                setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [id] }))\n            }\n        } else if (name === 'specializationId') {\n            setSortByFilter((prevData: any) => {\n                var newData: any = []\n                if (Array.isArray(prevData.specializationId) && prevData?.specializationId?.length) {\n                    newData = [...prevData.specializationId];\n                }\n                if (sortByFilter.allSpecializationClicked) {\n                    newData = []\n                }\n                const itemIndex = newData.indexOf(id);\n                if (newData.indexOf(id) < 0) {\n                    newData.push(id);\n                } else {\n                    newData.splice(itemIndex, 1);\n                }\n                return {\n                    ...prevData,\n                    specializationId: newData,\n                    allSpecializationClicked: false\n                }\n            })\n        } else if (name == 'categories') {\n\n            if (sortByFilter.tradeId.length && sortByFilter.tradeId[0] == id) {\n                setSortByFilter((prevData: any) => ({ ...prevData, tradeId: [], specializationId: [], allSpecializationClicked: false }))\n            } else {\n                setSortByFilter((prevData: any) => ({ ...prevData, tradeId: [id], specializationId: [], allSpecializationClicked: false }))\n            }\n        } else if (name == 'All Clicked') {\n            if (sortByFilter.allSpecializationClicked) {\n                setSortByFilter((prevData: any) => ({ ...prevData, allSpecializationClicked: false, specializationId: [] }))\n            } else {\n                const newSpecialization = id.map(({ _id }: { _id: string }) => {\n                    return _id\n                })\n                setSortByFilter((prevData: any) => ({ ...prevData, allSpecializationClicked: true, specializationId: newSpecialization }))\n            }\n        } else if (name == 'Clear All') {\n            setSortByFilter((prevData: any) => ({ ...prevData, allSpecializationClicked: false, jobTypes: [], specializationId: [], tradeId: [], }))\n        }\n    }\n\n    const renderFilterButtons = () => (\n        <ul className=\"filters_row\">\n            <li>\n                <a className={filterEnable ? 'active' : ''} onClick={sortByFilterClick}>\n                    <img\n                        src={filterEnable ? filterSelected : filterUnselected}\n                        alt=\"filter\" />\n                    {'Filter'}\n                </a>\n            </li>\n            <li>\n                <a className={sortBySorting.sortBy > 0 ? 'active' : ''} onClick={sortBySortingClick}>\n                    {`Sorting`}\n                </a>\n            </li>\n        </ul>\n    )\n\n    const showResultSearch = () => {\n        if (!sortByFilter?.tradeId?.length) {\n            updateOnChange(sortBySorting.sortBy);\n            sortByFilterClose();\n            setFilterEnable(false);\n            return\n        }\n\n        updateOnChange(sortBySorting.sortBy);\n        sortByFilterClose();\n        setFilterEnable(true);\n    }\n\n    const updateOnChange = (sort?: any) => {\n        let local_info: any = props.localInfo;\n        let sort_: any = sort;\n\n        console.log({ sort_, local_info }, '-------------------------->><<-------------- item_coord');\n        const tradeInfo = props.tradeListData?.find((item: any) => item._id === sortByFilter.tradeId?.[0]);\n        const specializationList = props.tradeListData?.find(({ _id }: { _id: string }) => _id === sortByFilter.tradeId?.[0])?.specialisations;\n        const { specializationId, tradeId } = sortByFilter;\n        console.log({ specializationId, sortByFilter, props })\n        // if (specializationId?.length) {\n        let filteredItem: any = []\n        // let name = specializationList[0].name;\n        if (specializationList?.length) {\n            filteredItem = specializationList.filter((item: any) => {\n                if (Array.isArray(specializationId) && specializationId?.length) {\n                    if (specializationId.includes(item._id)) {\n                        return item;\n                    }\n                }\n            });\n        }\n        let name = '';\n\n        if (Array.isArray(filteredItem) && filteredItem?.length && filteredItem[0].name) {\n            name = filteredItem[0].name;\n        }\n\n        let data: any = {\n            page: 1,\n            isFiltered: true\n        }\n\n        if (sort_) {\n            data['sortBy'] = sort_;\n        }\n\n        if ((Array.isArray(tradeId) && tradeId?.length) || (!Array.isArray(tradeId) && tradeId?.length)) {\n            data['tradeId'] = Array.isArray(tradeId) ? tradeId : [tradeId]\n        }\n\n        if (Array.isArray(specializationId) && specializationId?.length) {\n            data['specializationId'] = specializationId;\n        }\n\n        let get_position: any = localStorage.getItem('position');\n        if (sort_ === 2) {\n            let item_coord: any = !local_info?.location?.coordinates?.length ? JSON.parse(get_position).reverse() : local_info?.location?.coordinates;\n            if (item_coord?.length) {\n                data['location'] = {\n                    \"coordinates\": item_coord,\n                }\n            }\n        } else {\n            if (local_info?.location) {\n                data['location'] = local_info?.location;\n            } else {\n                delete data.location;\n            }\n        }\n\n        if (local_info?.from_date) {\n            data['from_date'] = local_info?.from_date;\n        }\n\n        if (local_info?.to_date) {\n            data['to_date'] = local_info?.to_date;\n        }\n\n\n        if (local_info?.suggestionSelected) {\n            data['address'] = JSON.stringify(local_info?.suggestionSelected);\n            if (data?.address === '{}') {\n                delete data.address;\n            }\n        }\n\n        if (!data?.address || !data?.address?.length) {\n            delete data?.address;\n        }\n\n        props.postHomeSearchData(data);\n\n        const mData = {\n            timeStamp: moengage.getCurrentTimeStamp(),\n            category: props?.tradeListData.find((i: any) => i._id === data?.tradeId[0])?.trade_name,\n            ...(data.address && { location: `${JSON.parse(data.address)?.mainText} ${JSON.parse(data.address)?.secondaryText}` }),\n            //'length of hire': '',\n            ...(data?.from_date && { 'start date': data?.from_date }),\n            ...(data?.to_date && { 'end date': data?.to_date }),\n        };\n        moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n        mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n        let trade_name: any = tradeInfo?.trade_name;\n        let local_info_name: any = local_info?.name;\n        let local_info_count: any = local_info?.count;\n        let case_1 = name ? name : trade_name\n        let case_2 = `${local_info_name} ${local_info_count > 1 ? `+${local_info_count - 1}` : ''}`\n        let name_: any = case_1 ? trade_name : local_info_name ? case_2 : '';;\n        props.getTitleInfo({\n            name: name_,\n            isTradeName: tradeInfo?.trade_name ? true : false,\n            count: specializationId?.length || 0,\n            tradeId: data.tradeId,\n            specializationId: data.specializationId || [],\n            sortBy: data.sortBy || 0,\n            to_date: local_info?.to_date || '',\n            from_date: local_info?.from_date || '',\n            doingLocalChanges: false\n        })\n    }\n\n    const specializationList = props.tradeListData?.find(({ _id }: { _id: string }) => _id === sortByFilter.tradeId?.[0])?.specialisations;\n    let checkIfAllSelected = false;\n    if (specializationList) {\n        checkIfAllSelected = sortByFilter.specializationId?.length === specializationList?.length;\n    }\n\n    const sortOnChange = (num: number) => {\n        if (sortBySorting.sortBy !== num) {\n            sortByButtonClicked(num)\n        }\n    }\n\n    const sortOnClick = (num: number) => {\n        if (sortBySorting.sortBy == num) {\n            setSameOnClick();\n        }\n    }\n\n    const checksForActive = ({ checkIfAllSelected, sortByFilter }: any) => {\n\n        if (sortByFilter?.allSpecializationClicked) {\n            return true\n        }\n\n        if (sortByFilter?.specializationId?.length) {\n            return false;\n        }\n\n        if (checkIfAllSelected || sortByFilter?.tradeId?.length) {\n            return true;\n        }\n    }\n\n    return (\n        <div className=\"filters_wrapr\">\n            {renderFilterButtons()}\n\n            {sortByFilter.sortByFilterClicked &&\n                <Modal\n                    className=\"custom_modal\"\n                    open={sortByFilter.sortByFilterClicked}\n                    onClose={sortByFilterClose}\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\">\n                    <>\n                        <div className=\"custom_wh filter_modal\" data-aos=\"zoom-in\" data-aos-delay=\"30\" data-aos-duration=\"1000\">\n                            <div className=\"heading\">\n                                <span className=\"sub_title\">Filter</span>\n                                <button className=\"close_btn\" onClick={sortByFilterClose}>\n                                    <img src={cancel} alt=\"cancel\" />\n                                </button>\n                            </div>\n\n                            <div className=\"inner_wrap\">\n                                <div className=\"form_field\">\n                                    <span className=\"xs_sub_title\">\n                                        {'Categories'}\n                                    </span>\n                                </div>\n                                <div className=\"select_sphere\">\n                                    <ul>\n                                        {props.tradeListData?.map((\n                                            { _id,\n                                                trade_name,\n                                                selected_url,\n                                                specialisations\n                                            }: {\n                                                _id: string,\n                                                trade_name: string,\n                                                selected_url: string,\n                                                specialisations: []\n                                            }) => {\n                                            const active = sortByFilter.tradeId?.[0] === _id;\n                                            return (\n                                                <li\n                                                    key={_id}\n                                                    className={active ? 'active' : ''}\n                                                    onClick={() => filterChangeHandler(_id, 'categories')}>\n                                                    <figure>\n                                                        <img\n                                                            alt=\"\"\n                                                            src={selected_url ? selected_url : spherePlaceholder}\n                                                        />\n                                                    </figure>\n                                                    <span className=\"name\">{trade_name}</span>\n                                                </li>\n                                            )\n                                        })}\n                                    </ul>\n                                    {/* <span className=\"error_msg\">{errors.categories}</span> */}\n                                </div>\n\n                                <div className=\"form_field\">\n                                    <span className=\"xs_sub_title\">Specialisation</span>\n                                </div>\n                                <div className=\"tags_wrap\">\n                                    <ul>\n                                        {console.log({\n                                            specializationList,\n                                            checkIfAllSelected,\n                                            sortByFilter: sortByFilter.allSpecializationClicked\n                                        })}\n                                        {specializationList?.length > 0 &&\n                                            <li\n                                                className={checksForActive({ checkIfAllSelected, sortByFilter }) ? 'selected' : ''}\n                                                // className={sortByFilter.allSpecializationClicked ? 'selected' : ''}\n                                                onClick={() => {\n                                                    let items: any = props.tradeListData.find((dt: any) => dt._id == sortByFilter.tradeId);\n                                                    if (items) {\n                                                        filterChangeHandler(items?.specialisations, 'All Clicked');\n                                                    }\n                                                }}>\n                                                {'All'}\n                                            </li>}\n                                        {specializationList?.map(({ _id, name }: { _id: string, name: string }) => {\n                                            // let active = sortByFilter.specializationId?.indexOf(_id) >= 0;\n                                            let active = false;\n                                            if (specializationList?.length !== sortByFilter.specializationId?.length) {\n                                                active = false;\n                                                if (Array.isArray(sortByFilter.specializationId) && sortByFilter.specializationId?.length) {\n                                                    active = sortByFilter.specializationId.includes(_id);\n                                                }\n                                            }\n                                            return (\n                                                <li\n                                                    key={_id}\n                                                    className={active ? 'selected' : ''}\n                                                    // className={active && !sortByFilter.allSpecializationClicked ? 'selected' : ''}\n                                                    onClick={() => {\n                                                        if (checkIfAllSelected) {\n                                                            let sort_by_spec: any = sortByFilter;\n                                                            sort_by_spec['specializationId'] = [];\n                                                            setSortByFilter(sort_by_spec);\n                                                        }\n                                                        filterChangeHandler(_id, 'specializationId')\n                                                    }}>\n                                                    {name}\n                                                </li>)\n                                        })}\n                                    </ul>\n                                    {/* <span className=\"error_msg\">{errors.specializationId}</span> */}\n\n                                </div>\n                            </div>\n                            <div className=\"filter_btn\">\n                                <a className=\"link\" onClick={() => filterChangeHandler('Clear All', 'Clear All')}>Clear All</a>\n                                <button className=\"fill_btn full_btn btn-effect\" onClick={showResultSearch}>Show Results</button>\n                            </div>\n                        </div>\n                    </>\n                </Modal>\n            }\n\n\n            {sortBySorting.sortBySorting &&\n                <Menu\n                    // id=\"simple-menu\"\n                    className=\"fsp_modal range\"\n                    anchorEl={sortingAnchorEl}\n                    keepMounted\n                    open={Boolean(sortingAnchorEl)}\n                    onClose={sortBySortingClose}\n                >\n                    <span className=\"close_btn\" onClick={sortBySortingClose}>\n                        <img src={cancel} alt=\"cancel\" />\n                    </span>\n                    <span className=\"sub_title\">\n                        {'Sort by'}\n                    </span>\n\n                    <div className=\"radio_wrap agree_check\">\n                        <input\n                            className=\"filter-type filled-in\"\n                            type=\"radio\"\n                            id=\"highestRated\"\n                            value=\"Highest rated\"\n                            checked={sortBySorting.sortBy === 1}\n                            onClick={() => { sortOnClick(1) }}\n                            onChange={() => { sortOnChange(1) }}\n                        />\n                        <label htmlFor=\"highestRated\">Highest rated</label>\n                    </div>\n                    <div className=\"radio_wrap agree_check\">\n                        <input\n                            className=\"filter-type filled-in\"\n                            type=\"radio\"\n                            id=\"closest\"\n                            value=\"Closest to me\"\n                            checked={sortBySorting.sortBy === 2}\n                            onClick={() => { sortOnClick(2) }}\n                            onChange={() => { sortOnChange(2) }}\n                        />\n                        <label htmlFor=\"closest\">Closest to me</label>\n                    </div>\n                    <div className=\"radio_wrap agree_check\">\n                        <input\n                            className=\"filter-type filled-in\"\n                            type=\"radio\"\n                            id=\"mostJob\"\n                            value=\"Most jobs completed\"\n                            checked={sortBySorting.sortBy === 3}\n                            onClick={() => { sortOnClick(3) }}\n                            onChange={() => { sortOnChange(3) }}\n                        />\n                        <label htmlFor=\"mostJob\">\n                            {'Most jobs completed'}\n                        </label>\n                    </div>\n                </Menu>}\n        </div >\n    )\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        jobDataWithJobTypeLatLong: state.homeSearch.jobDataWithJobTypeLatLong,\n        jobTypeListData: state.homeSearch.jobTypeListData,\n        tradeListData: state.auth.tradeListData,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return bindActionCreators({\n        getJobWithJobTypeLatLong,\n        getJobTypeList,\n        callTradeList\n    }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchFilter);\n"]},"metadata":{},"sourceType":"module"}