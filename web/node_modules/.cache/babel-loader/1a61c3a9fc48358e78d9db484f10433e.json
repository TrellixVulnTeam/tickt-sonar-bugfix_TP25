{"ast":null,"code":"import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import rateStar from\"../../../assets/images/ic-star-fill.png\";import pastJobs from\"../../../assets/images/pastJobs.png\";import jobTypePlaceholder from\"../../../assets/images/job-type-placeholder.png\";import RateThisJob from\"./ratethisJob/index\";import{useLocation}from\"react-router-dom\";import{renderTime}from\"../../../utils/common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PastJobs=function PastJobs(props){var dataItems=props.dataItems,jobType=props.jobType,isLoading=props.isLoading;var listData=dataItems;var _useState=useState({data:{},isTrue:false}),_useState2=_slicedToArray(_useState,2),enableRateJob=_useState2[0],setRateJob=_useState2[1];// toggle-rate-job\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEnable=_useState6[0],setEnable=_useState6[1];var location=useLocation();var redirectToInfo=function redirectToInfo(_ref){var jobId=_ref.jobId,status=_ref.status;if((jobId===null||jobId===void 0?void 0:jobId.length)&&(status===null||status===void 0?void 0:status.length)){// let urlEncode: any = window.btoa(`?jobId=${jobId}&status=${status}&job=past&activeType=${props?.activeType}`)\nvar urlEncode=\"?jobId=\".concat(jobId,\"&status=\").concat(status,\"&job=past&activeType=\").concat(props===null||props===void 0?void 0:props.activeType);props.history.push(\"/job-detail?\".concat(urlEncode));}};var backToScreen=function backToScreen(){props.history.replace(\"/jobs?active=past\");setRateJob(function(prev){return{data:{},isTrue:!prev.isTrue};});};useEffect(function(){var urlSearchParams=new URLSearchParams(location.search);var params=Object.fromEntries(urlSearchParams.entries());if(params===null||params===void 0?void 0:params.jobId){var jobId_=params===null||params===void 0?void 0:params.jobId;if(listData===null||listData===void 0?void 0:listData.length){var result=listData.find(function(item){return(item===null||item===void 0?void 0:item.jobId)===jobId_;});if(result){setRateJob({data:result,isTrue:true});}}}},[props]);useEffect(function(){if(isLoading===false){setEnable(true);}},[isLoading]);if(enableRateJob===null||enableRateJob===void 0?void 0:enableRateJob.isTrue){return/*#__PURE__*/_jsx(RateThisJob,{backToScreen:backToScreen,data:enableRateJob.data,history:null,location:null});}if(!isEnable){return null;}// \"60dadb661fed05158f8745e3\"\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"sub_title\",children:[jobType.charAt(0).toUpperCase()+jobType.slice(1),\" Jobs\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row tradies_row\",children:(listData===null||listData===void 0?void 0:listData.length)?listData.map(function(_ref2){var amount=_ref2.amount,fromDate=_ref2.fromDate,jobData=_ref2.jobData,jobId=_ref2.jobId,isRated=_ref2.isRated,jobName=_ref2.jobName,locationName=_ref2.locationName,isPublishedAgain=_ref2.isPublishedAgain,milestoneNumber=_ref2.milestoneNumber,specializationId=_ref2.specializationId,specializationName=_ref2.specializationName,status=_ref2.status,toDate=_ref2.toDate,totalMilestones=_ref2.totalMilestones,tradeId=_ref2.tradeId,tradieId=_ref2.tradieId,tradeName=_ref2.tradeName,tradeSelectedUrl=_ref2.tradeSelectedUrl,tradieData=_ref2.tradieData;return/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tradie_card\",\"data-aos\":\"fade-in\",\"data-aos-delay\":\"250\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){redirectToInfo({jobId:jobId,status:status});},className:\"more_detail circle\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_wrap\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"u_img icon\",children:/*#__PURE__*/_jsx(\"img\",{src:(jobData===null||jobData===void 0?void 0:jobData.tradeSelectedUrl)||jobTypePlaceholder,alt:\"traide-img\",onError:function onError(e){var _e$target,_e$target2;if(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.onerror){e.target.onerror=null;}if(e===null||e===void 0?void 0:(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.src){e.target.src=jobTypePlaceholder;}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:tradeName}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para\",children:jobName})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"job_info\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"icon calendar\",children:renderTime(fromDate,toDate)}),/*#__PURE__*/_jsx(\"li\",{className:\"icon dollar\",children:amount}),/*#__PURE__*/_jsx(\"li\",{className:\"icon location line-1\",children:locationName}),/*#__PURE__*/_jsx(\"li\",{className:\"job_status\",children:status})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"job_progress_wrap\",id:\"scroll-progress-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress_wrapper\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"completed-digit\",id:\"digit-progress\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Job Milestones \".concat(milestoneNumber,\" \")}),\"of \".concat(totalMilestones)]}),/*#__PURE__*/_jsx(\"span\",{className:\"progress_bar\",children:/*#__PURE__*/_jsx(\"input\",{className:\"done_progress\",id:\"progress-bar\",type:\"range\",min:\"0\",value:milestoneNumber/totalMilestones>0?milestoneNumber/totalMilestones*100:0})})]}),status===\"COMPLETED\"?!isRated&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setRateJob(function(prev){return{data:{amount:amount,fromDate:fromDate,jobData:jobData,jobId:jobId,jobName:jobName,locationName:locationName,milestoneNumber:milestoneNumber,specializationId:specializationId,specializationName:specializationName,status:status,toDate:toDate,totalMilestones:totalMilestones,tradeId:tradeId,tradieId:tradieId,tradeName:tradeName,tradeSelectedUrl:tradeSelectedUrl,tradieData:tradieData},isTrue:!prev.isTrue};});},className:\"fill_grey_btn full_btn\",children:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:rateStar,alt:\"rating-star\"}),\"Rate this tradesperson\"]})}):status===\"EXPIRED\"&&!isPublishedAgain&&/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn full_btn\",onClick:function onClick(){return redirectToInfo({jobId:jobId,status:status});},children:\"Publish again\"})]})]})});}):!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"no_record  m-t-vh\",children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"figure\",{className:\"no_img\",children:/*#__PURE__*/_jsx(\"img\",{src:pastJobs,alt:\"data not found\"})})}),/*#__PURE__*/_jsx(\"span\",{className:\"empty_screen_text\",children:\"You don't have any past job yet\"}),/*#__PURE__*/_jsx(\"button\",{className:\"empty_screen_button\",onClick:function onClick(){return props.history.push(\"/post-new-job\");},children:\"Post a job\"})]})})]});};export default PastJobs;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/builderJobDasboard/components/pastJobs.tsx"],"names":["React","useState","useEffect","rateStar","pastJobs","jobTypePlaceholder","RateThisJob","useLocation","renderTime","PastJobs","props","dataItems","jobType","isLoading","listData","data","isTrue","enableRateJob","setRateJob","currentPage","setCurrentPage","isEnable","setEnable","location","redirectToInfo","jobId","status","length","urlEncode","activeType","history","push","backToScreen","replace","prev","urlSearchParams","URLSearchParams","search","params","Object","fromEntries","entries","jobId_","result","find","item","charAt","toUpperCase","slice","map","amount","fromDate","jobData","isRated","jobName","locationName","isPublishedAgain","milestoneNumber","specializationId","specializationName","toDate","totalMilestones","tradeId","tradieId","tradeName","tradeSelectedUrl","tradieData","e","target","onerror","src"],"mappings":"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","sourcesContent":["import React, { ReactElement, useState, useEffect } from \"react\";\nimport dummy from \"../../../assets/images/u_placeholder.jpg\";\nimport approved from \"../../../assets/images/approved.png\";\nimport rateStar from \"../../../assets/images/ic-star-fill.png\";\nimport pastJobs from \"../../../assets/images/pastJobs.png\";\nimport jobTypePlaceholder from \"../../../assets/images/job-type-placeholder.png\";\nimport moment from \"moment\";\nimport RateThisJob from \"./ratethisJob/index\";\n\nimport { useLocation } from \"react-router-dom\";\n\nimport { renderTime } from \"../../../utils/common\";\ninterface Post {\n  amount: any;\n  fromDate: any;\n  jobData: any;\n  jobId: any;\n  isRated: any;\n  jobName: any;\n  locationName: any;\n  milestoneNumber: any;\n  specializationId: any;\n  specializationName: any;\n  status: any;\n  toDate: any;\n  totalMilestones: any;\n  isPublishedAgain: boolean;\n  tradeId: any;\n  tradieId: any;\n  tradeName: any;\n  tradeSelectedUrl: any;\n  isLoading: any;\n  tradieData: any;\n}\n\nconst PastJobs = (props: any) => {\n  const { dataItems, jobType, isLoading } = props;\n  let listData: any = dataItems;\n  const [enableRateJob, setRateJob] = useState({ data: {}, isTrue: false }); // toggle-rate-job\n  const [currentPage, setCurrentPage] = useState(1);\n  let [isEnable, setEnable] = useState<any>(false);\n\n  const location = useLocation();\n\n  const redirectToInfo = ({ jobId, status }: any) => {\n    if (jobId?.length && status?.length) {\n      // let urlEncode: any = window.btoa(`?jobId=${jobId}&status=${status}&job=past&activeType=${props?.activeType}`)\n      let urlEncode: any = `?jobId=${jobId}&status=${status}&job=past&activeType=${props?.activeType}`;\n      props.history.push(`/job-detail?${urlEncode}`);\n    }\n  };\n\n  const backToScreen = () => {\n    props.history.replace(\"/jobs?active=past\");\n    setRateJob((prev: any) => ({\n      data: {},\n      isTrue: !prev.isTrue,\n    }));\n  };\n\n  useEffect(() => {\n    const urlSearchParams = new URLSearchParams(location.search);\n    const params = Object.fromEntries(urlSearchParams.entries());\n\n    if (params?.jobId) {\n      let jobId_ = params?.jobId;\n      if (listData?.length) {\n        let result = listData.find((item: any) => item?.jobId === jobId_);\n        if (result) {\n          setRateJob({\n            data: result,\n            isTrue: true,\n          });\n        }\n      }\n    }\n  }, [props]);\n\n  useEffect(() => {\n    if (isLoading === false) {\n      setEnable(true);\n    }\n  }, [isLoading]);\n\n  if (enableRateJob?.isTrue) {\n    return (\n      <RateThisJob\n        backToScreen={backToScreen}\n        data={enableRateJob.data}\n        history={null}\n        location={null}\n      />\n    );\n  }\n\n  if (!isEnable) {\n    return null;\n  }\n  // \"60dadb661fed05158f8745e3\"\n  return (\n    <React.Fragment>\n      <span className=\"sub_title\">\n        {jobType.charAt(0).toUpperCase() + jobType.slice(1)} Jobs\n      </span>\n      <div className=\"flex_row tradies_row\">\n        {listData?.length\n          ? listData.map(\n              ({\n                amount,\n                fromDate,\n                jobData,\n                jobId,\n                isRated,\n                jobName,\n                locationName,\n                isPublishedAgain,\n                milestoneNumber,\n                specializationId,\n                specializationName,\n                status,\n                toDate,\n                totalMilestones,\n                tradeId,\n                tradieId,\n                tradeName,\n                tradeSelectedUrl,\n                tradieData,\n              }: Post) => (\n                <div className=\"flex_col_sm_6\">\n                  <div\n                    className=\"tradie_card\"\n                    data-aos=\"fade-in\"\n                    data-aos-delay=\"250\"\n                    data-aos-duration=\"1000\"\n                  >\n                    <span\n                      onClick={() => {\n                        redirectToInfo({ jobId, status });\n                      }}\n                      className=\"more_detail circle\"\n                    ></span>\n                    <div className=\"user_wrap\">\n                      <figure className=\"u_img icon\">\n                        <img\n                          src={jobData?.tradeSelectedUrl || jobTypePlaceholder}\n                          alt=\"traide-img\"\n                          onError={(e: any) => {\n                            if (e?.target?.onerror) {\n                              e.target.onerror = null;\n                            }\n                            if (e?.target?.src) {\n                              e.target.src = jobTypePlaceholder;\n                            }\n                          }}\n                        />\n                      </figure>\n                      <div className=\"details\">\n                        <span className=\"name\">{tradeName}</span>\n                        <p className=\"commn_para\">{jobName}</p>\n                      </div>\n                    </div>\n                    <div className=\"job_info\">\n                      <ul>\n                        <li className=\"icon calendar\">\n                          {renderTime(fromDate, toDate)}\n                        </li>\n                        <li className=\"icon dollar\">{amount}</li>\n                        <li className=\"icon location line-1\">{locationName}</li>\n                        <li className=\"job_status\">{status}</li>\n                      </ul>\n                    </div>\n                    <div className=\"job_progress_wrap\" id=\"scroll-progress-bar\">\n                      <div className=\"progress_wrapper\">\n                        <span className=\"completed-digit\" id=\"digit-progress\">\n                          <b>{`Job Milestones ${milestoneNumber} `}</b>\n                          {`of ${totalMilestones}`}\n                        </span>\n                        <span className=\"progress_bar\">\n                          <input\n                            className=\"done_progress\"\n                            id=\"progress-bar\"\n                            type=\"range\"\n                            min=\"0\"\n                            value={\n                              milestoneNumber / totalMilestones > 0\n                                ? (milestoneNumber / totalMilestones) * 100\n                                : 0\n                            }\n                          />\n                        </span>\n                      </div>\n                      {status === \"COMPLETED\"\n                        ? !isRated && (\n                            <button\n                              onClick={() => {\n                                setRateJob((prev: any) => ({\n                                  data: {\n                                    amount,\n                                    fromDate,\n                                    jobData,\n                                    jobId,\n                                    jobName,\n                                    locationName,\n                                    milestoneNumber,\n                                    specializationId,\n                                    specializationName,\n                                    status,\n                                    toDate,\n                                    totalMilestones,\n                                    tradeId,\n                                    tradieId,\n                                    tradeName,\n                                    tradeSelectedUrl,\n                                    tradieData,\n                                  },\n                                  isTrue: !prev.isTrue,\n                                }));\n                              }}\n                              className=\"fill_grey_btn full_btn\"\n                            >\n                              <React.Fragment>\n                                <img src={rateStar} alt=\"rating-star\" />\n                                {\"Rate this tradesperson\"}\n                              </React.Fragment>\n                            </button>\n                          )\n                        : status === \"EXPIRED\" &&\n                          !isPublishedAgain && (\n                            <button\n                              className=\"fill_grey_btn full_btn\"\n                              onClick={() => redirectToInfo({ jobId, status })}\n                            >\n                              {\"Publish again\"}\n                            </button>\n                          )}\n                    </div>\n                  </div>\n                </div>\n              )\n            )\n          : !isLoading && (\n              <div className=\"no_record  m-t-vh\">\n                <figure>\n                  <figure className=\"no_img\">\n                    <img src={pastJobs} alt=\"data not found\" />\n                  </figure>\n                </figure>\n\n                <span className=\"empty_screen_text\">\n                  You don't have any past job yet\n                </span>\n                <button\n                  className=\"empty_screen_button\"\n                  onClick={() => props.history.push(\"/post-new-job\")}\n                >\n                  Post a job\n                </button>\n              </div>\n            )}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default PastJobs;\n"]},"metadata":{},"sourceType":"module"}