{"ast":null,"code":"import _toConsumableArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Constants from\"../../utils/constants\";import{getHomeJobDetails,jobDetailsBuilder}from\"../../redux/homeSearch/actions\";import{getQuestionsList,answerQuestion,updateAnswer,deleteAnswer,handleCancelReply}from\"../../redux/jobs/actions\";import Modal from\"@material-ui/core/Modal\";import moment from\"moment\";import cancel from\"../../assets/images/ic-cancel.png\";import dummy from\"../../assets/images/u_placeholder.jpg\";import jobDummyImage from\"../../assets/images/ic-placeholder-detail.png\";import question from\"../../assets/images/ic-question.png\";import leftIcon from\"../../assets/images/ic-back-arrow-line.png\";import rightIcon from\"../../assets/images/ic-next-arrow-line.png\";import pendingIcon from\"../../assets/images/exclamation-icon.png\";import noDataFound from\"../../assets/images/no-search-data.png\";import approved from\"../../assets/images/approved.png\";import waiting from\"../../assets/images/exclamation.png\";import{renderTime}from\"../../utils/common\";import OwlCarousel from\"react-owl-carousel\";import\"owl.carousel/dist/assets/owl.carousel.css\";import\"owl.carousel/dist/assets/owl.theme.default.css\";import editIconBlue from\"../../assets/images/ic-edit-blue.png\";import Button from\"@material-ui/core/Button\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogTitle from\"@material-ui/core/DialogTitle\";import{deleteOpenJob}from\"../../redux/jobs/actions\";import{moengage,mixPanel}from\"../../services/analyticsTools\";import{MoEConstants}from\"../../utils/constants\";//@ts-ignore\nimport FsLightbox from\"fslightbox-react\";import{JobCancelReasons}from\"../../utils/common\";import docThumbnail from\"../../assets/images/add-document.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var options={items:1,nav:true,navText:[\"<div class='nav-btn prev-slide'> <img src=\\\"\".concat(leftIcon,\"\\\"> </div>\"),\"<div class='nav-btn next-slide'> <img src=\\\"\".concat(rightIcon,\"\\\"> </div>\")],rewind:true,autoplay:false,slideBy:1,dots:true,dotsEach:true,dotData:true,responsive:{0:{items:1},600:{items:1},1000:{items:1}}};var defaultQuestionValues={askQuestionsClicked:false,showAllQuestionsClicked:false,submitQuestionsClicked:false,deleteQuestionsClicked:false,updateQuestionsClicked:false,questionsClickedType:\"\",confirmationClicked:false,showAnswerButton:true,questionId:\"\",answerId:\"\",questionData:\"\",answerShownHideList:[],showHideAnswer:{},questionIndex:null};var JobDetailsPage=function JobDetailsPage(props){var _props$location3,_jobDetailsData$photo2,_jobDetailsData$chang,_jobDetailsData$rejec,_jobDetailsData$quote,_jobDetailsData$reaso,_jobDetailsData$quote2,_jobDetailsData$quote9,_jobDetailsData$jobMi,_jobDetailsData$jobTy,_jobDetailsData$jobTy2,_jobDetailsData$speci,_jobDetailsData$poste,_jobDetailsData$poste2,_jobDetailsData$poste5,_jobDetailsData$poste6,_jobDetailsData$poste7,_jobDetailsData$poste8,_jobDetailsData$poste9;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),jobDetailsData=_useState4[0],setJobDetailsData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),questionList=_useState6[0],setQuestionList=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),questionListPageNo=_useState8[0],setQuestionListPageNo=_useState8[1];var _useState9=useState(defaultQuestionValues),_useState10=_slicedToArray(_useState9,2),questionsData=_useState10[0],setQuestionsData=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),toggler=_useState12[0],setToggler=_useState12[1];var _useState13=useState(1),_useState14=_slicedToArray(_useState13,2),selectedSlide=_useState14[0],setSelectSlide=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),toggleDelete=_useState16[0],setToggleDelete=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),jobAcceptModal=_useState18[0],setJobAcceptModal=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),jobRejectModal=_useState20[0],setJobRejectModal=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),pendingRequestClicked=_useState22[0],setPendingRequestClicked=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),showMoreIndex=_useState24[0],setShowMoreIndex=_useState24[1];var _useState25=useState({}),_useState26=_slicedToArray(_useState25,2),jobData=_useState26[0],setJobData=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),replyText=_useState28[0],setReplyText=_useState28[1];var _useState29=useState({}),_useState30=_slicedToArray(_useState29,2),fsSlideListner=_useState30[0],setFsSlideListner=_useState30[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return preFetch();case 2:case\"end\":return _context.stop();}}},_callee);}))();},[]);useEffect(function(){var _jobDetailsData$photo,_Object$keys;var fsSlideObj={};var slideCount=1;if(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$photo=jobDetailsData.photos)===null||_jobDetailsData$photo===void 0?void 0:_jobDetailsData$photo.length){jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.photos.forEach(function(item,index){if((item===null||item===void 0?void 0:item.mediaType)===1||(item===null||item===void 0?void 0:item.mediaType)===2){fsSlideObj[\"\".concat(index)]=slideCount++;}});}if(((_Object$keys=Object.keys(fsSlideObj))===null||_Object$keys===void 0?void 0:_Object$keys.length)>0)setFsSlideListner(fsSlideObj);},[jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.photos]);var preFetch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _props$history,_props$history$locati;var location_search,params,res1,res,id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:location_search=(props===null||props===void 0?void 0:(_props$history=props.history)===null||_props$history===void 0?void 0:(_props$history$locati=_props$history.location)===null||_props$history$locati===void 0?void 0:_props$history$locati.search).substring(1);//window.atob()\nparams=new URLSearchParams(location_search);if(!(params.get(\"jobId\")&&params.get(\"tradeId\")&&params.get(\"specializationId\"))){_context2.next=9;break;}_context2.next=5;return getHomeJobDetails({jobId:params.get(\"jobId\"),tradeId:params.get(\"tradeId\"),specializationId:params.get(\"specializationId\")});case 5:res1=_context2.sent;if(res1.success){setJobDetailsData(res1.data);}_context2.next=15;break;case 9:if(!params.get(\"jobId\")){_context2.next=15;break;}_context2.next=12;return jobDetailsBuilder({jobId:params.get(\"jobId\")});case 12:res=_context2.sent;console.log({res:res},\"---->\");if(res.success){setJobDetailsData(res.data);}case 15:if(params.get(\"tradieId\")){id=params.get(\"tradieId\");}fetchQuestionsList();case 17:case\"end\":return _context2.stop();}}},_callee2);}));return function preFetch(){return _ref2.apply(this,arguments);};}();var fetchQuestionsList=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(isTrue){var _props$location;var location_search,params,questionData,res2,_res2$data,data_elements;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:location_search=(props===null||props===void 0?void 0:(_props$location=props.location)===null||_props$location===void 0?void 0:_props$location.search).substring(1);//window.atob()\nparams=new URLSearchParams(location_search);questionData={jobId:params.get(\"jobId\"),page:1};_context3.next=5;return getQuestionsList(questionData);case 5:res2=_context3.sent;if(res2.success){if(params.get(\"openQList\")===\"true\"){setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{showAllQuestionsClicked:true});});}console.log({res2:res2},\"question-list\");data_elements=(res2===null||res2===void 0?void 0:(_res2$data=res2.data)===null||_res2$data===void 0?void 0:_res2$data.list)||(res2===null||res2===void 0?void 0:res2.data);setQuestionList(data_elements);}if(isTrue){setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{submitQuestionsClicked:false,askQuestionsClicked:false,showAllQuestionsClicked:true,confirmationClicked:false,questionsClickedType:\"\",deleteQuestionsClicked:false,updateQuestionsClicked:false,questionId:\"\",answerId:\"\",questionData:\"\",showQuestionAnswer:false,questionIndex:null});});}case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchQuestionsList(_x){return _ref3.apply(this,arguments);};}();var modalCloseHandler=function modalCloseHandler(modalType){setQuestionsData(function(prevData){var _objectSpread2;return _objectSpread(_objectSpread({},prevData),{},(_objectSpread2={},_defineProperty(_objectSpread2,modalType,false),_defineProperty(_objectSpread2,\"deleteQuestionsClicked\",false),_defineProperty(_objectSpread2,\"answerShownHideList\",[]),_objectSpread2));});setErrors({});showMoreIndex&&setShowMoreIndex([]);};var loadMoreQuestionHandler=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _props$location2;var location_search,params,data,res,_res$data,data_elements;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:// will handle the pagination later\nlocation_search=(props===null||props===void 0?void 0:(_props$location2=props.location)===null||_props$location2===void 0?void 0:_props$location2.search).substring(1);// window.atob()\nparams=new URLSearchParams(location_search);data={jobId:params.get(\"jobId\"),page:questionListPageNo+1};_context4.next=5;return getQuestionsList(data);case 5:res=_context4.sent;if(res.success){console.log({res:res},\"question-list\");data_elements=(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.list)||(res===null||res===void 0?void 0:res.data);setQuestionList(function(prevData){return[].concat(_toConsumableArray(prevData),_toConsumableArray(data_elements));});setQuestionListPageNo(data.page);}case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function loadMoreQuestionHandler(){return _ref4.apply(this,arguments);};}();var validateForm=function validateForm(type){var _questionsData$questi;if(type==\"deleteQuestion\")return true;var newErrors={};if(!((_questionsData$questi=questionsData.questionData.trim())===null||_questionsData$questi===void 0?void 0:_questionsData$questi.length)){newErrors.questionData=Constants.errorStrings.askQuestion;}setErrors(newErrors);return!Object.keys(newErrors).length;};var submitQuestionHandler=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(type){var response,data,_questionList$,_questionList$2;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log(\"Here!------->\",{questionsData:questionsData});if(![\"askQuestion\",\"deleteQuestion\",\"updateQuestion\"].includes(type)){_context5.next=24;break;}if(validateForm(type)){_context5.next=4;break;}return _context5.abrupt(\"return\");case 4:if(!(type===\"askQuestion\")){_context5.next=11;break;}data={tradieId:(_questionList$=questionList[0])===null||_questionList$===void 0?void 0:_questionList$.tradieId,builderId:(_questionList$2=questionList[0])===null||_questionList$2===void 0?void 0:_questionList$2.builderId,answer:questionsData.questionData,questionId:questionsData.questionId};_context5.next=8;return answerQuestion(data);case 8:response=_context5.sent;_context5.next=23;break;case 11:if(!(type===\"deleteQuestion\")){_context5.next=18;break;}data={questionId:questionsData.questionId,answerId:questionsData.answerId};_context5.next=15;return deleteAnswer(data);case 15:response=_context5.sent;_context5.next=23;break;case 18:if(!(type===\"updateQuestion\")){_context5.next=23;break;}data={questionId:questionsData.questionId,answerId:questionsData.answerId,answer:questionsData.questionData};_context5.next=22;return updateAnswer(data);case 22:response=_context5.sent;case 23:if(response.success){fetchQuestionsList(true);if(type===\"deleteQuestion\"){questionHandler(\"showAnswerClicked\",questionsData.questionId);}}case 24:case\"end\":return _context5.stop();}}},_callee5);}));return function submitQuestionHandler(_x2){return _ref5.apply(this,arguments);};}();var questionHandler=function questionHandler(type,questionId,question,questionIndex,answerId){if(type==\"submitAskQuestion\"&&validateForm(\"askQuestion\")){setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{submitQuestionsClicked:true,confirmationClicked:true});});}else if(type==\"askQuestion\"){setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{questionId:questionId,askQuestionsClicked:true,showAllQuestionsClicked:false,questionsClickedType:type,answerId:\"\"});});}else if(type==\"deleteQuestion\"){setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{confirmationClicked:true,deleteQuestionsClicked:true,questionId:questionId,questionsClickedType:type,questionIndex:questionIndex,answerId:answerId});});}else if(type==\"updateQuestion\"){setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{askQuestionsClicked:true,updateQuestionsClicked:true,questionId:questionId,answerId:answerId,questionsClickedType:type,showAllQuestionsClicked:false,questionData:question});});}else if(type==\"questionCancelBtnClicked\"){setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{askQuestionsClicked:false,updateQuestionsClicked:false,deleteQuestionsClicked:false,showAllQuestionsClicked:true,questionData:\"\",questionsClickedType:\"\",questionId:\"\",answerId:\"\"});});setErrors({});}else if(type==\"hideAnswerClicked\"){// const newData = [...questionsData.answerShownHideList].filter(id => id !== questionId);\n// setQuestionsData((prevData: any) => ({ ...prevData, answerShownHideList: newData }));\nvar item_={};var question_id=questionId;item_=questionsData===null||questionsData===void 0?void 0:questionsData.showHideAnswer;if(item_[question_id]===undefined){item_[question_id]=true;}else{item_[question_id]=!item_[question_id];}setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{showHideAnswer:item_});});}else if(type==\"showAnswerClicked\"){var _item_={};var _question_id=questionId;_item_=questionsData===null||questionsData===void 0?void 0:questionsData.showHideAnswer;if(_item_[_question_id]===undefined){_item_[_question_id]=!_item_[_question_id];}else{_item_[_question_id]=!_item_[_question_id];}setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{showHideAnswer:_item_});});}};var handleChange=function handleChange(e,type){if(e.target.value.trim().length<=250){setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},type,e.target.value));});}};var renderBuilderAvatar=function renderBuilderAvatar(item){var postedBy=jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.postedBy;if(item===\"image\"){if(postedBy&&Array.isArray(postedBy)&&postedBy[0]&&postedBy[0].builderImage){return/*#__PURE__*/_jsx(\"img\",{src:postedBy[0].builderImage||dummy,alt:\"traide-img\",onError:function onError(e){var _e$target,_e$target2;if(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.onerror){e.target.onerror=null;}if(e===null||e===void 0?void 0:(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.src){e.target.src=dummy;}}});}else{return/*#__PURE__*/_jsx(\"img\",{src:dummy,alt:\"traide-img\"});}}if(item===\"name\"){if(postedBy&&Array.isArray(postedBy)&&postedBy[0]&&postedBy[0].firstName){return postedBy[0].firstName;}}};var paramStatus=\"\";var paramJobId=\"\";var activeType=\"\";var isPastJob=false;var hideDispute=null;if((_props$location3=props.location)===null||_props$location3===void 0?void 0:_props$location3.search){var _props$location4;var location_search=(props===null||props===void 0?void 0:(_props$location4=props.location)===null||_props$location4===void 0?void 0:_props$location4.search).substring(1);//window.atob()\nvar params=new URLSearchParams(location_search);if(params.get(\"status\")){paramStatus=params.get(\"status\");}if(params.get(\"jobId\")){paramJobId=params.get(\"jobId\");}if(params.get(\"job\")){isPastJob=true;}if(params.get(\"activeType\")){activeType=params.get(\"activeType\");}if(params.get(\"hide_dipute\")){hideDispute=params.get(\"hide_dipute\");}}console.log({activeType:activeType,hideDispute:hideDispute});var renderByStatus=function renderByStatus(){var _jobDetailsData$statu;return/*#__PURE__*/_jsxs(_Fragment,{children:[(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.status)===\"APPROVED\"&&/*#__PURE__*/_jsx(\"img\",{src:approved,alt:\"icon\"}),(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.status)===\"NEEDS APPROVAL\"&&/*#__PURE__*/_jsx(\"img\",{src:waiting,alt:\"icon\"}),jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$statu=jobDetailsData.status)===null||_jobDetailsData$statu===void 0?void 0:_jobDetailsData$statu.toUpperCase()]});};var handleCancelJob=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(type,job_detail){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(type==1){setJobAcceptModal(true);setJobRejectModal(false);}else{setJobAcceptModal(false);setJobRejectModal(true);}setJobData({jobId:job_detail===null||job_detail===void 0?void 0:job_detail.jobId,status:type,note:type===1?\"this is accepted\":\"this is rejected\"});case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function handleCancelJob(_x3,_x4){return _ref6.apply(this,arguments);};}();var operationCancelJob=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var data,response,_quote$,quote,quoteId;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:data=jobData;if(data===null||data===void 0?void 0:data.status){data[\"note\"]=replyText;}_context7.next=4;return handleCancelReply(data);case 4:response=_context7.sent;if(!(response===null||response===void 0?void 0:response.success)){_context7.next=11;break;}if(!(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quoteJob)){_context7.next=10;break;}quote=jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quote;if(quote&&Array.isArray(quote)&&quote[0]&&((_quote$=quote[0])===null||_quote$===void 0?void 0:_quote$.tradieId)){quoteId=quote[0].tradieId;props.history.push(\"/quote-job-cancel?jobId=\".concat(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.jobId,\"&tradieId=\").concat(quoteId));}return _context7.abrupt(\"return\");case 10:if((data===null||data===void 0?void 0:data.status)===1){props.history.push(\"/request-monitored/ccr\");}else{props.history.push(\"/request-monitored/cc/bb\");}// await preFetch();\ncase 11:case\"end\":return _context7.stop();}}},_callee7);}));return function operationCancelJob(){return _ref7.apply(this,arguments);};}();var renderFilteredItems=function renderFilteredItems(itemsMedia){var sources=[];var types=[];if(itemsMedia&&Array.isArray(itemsMedia)&&itemsMedia.length){itemsMedia.forEach(function(item){if((item===null||item===void 0?void 0:item.mediaType)===2){sources.push(item.link);types.push(\"video\");}else if((item===null||item===void 0?void 0:item.mediaType)===1){sources.push(item.link);types.push(\"image\");}});}return{sources:sources,types:types};};var itemsMedia=[];if(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$photo2=jobDetailsData.photos)===null||_jobDetailsData$photo2===void 0?void 0:_jobDetailsData$photo2.length){itemsMedia=jobDetailsData.photos;}var _renderFilteredItems=renderFilteredItems(itemsMedia),sources=_renderFilteredItems.sources,types=_renderFilteredItems.types;var deleteJob=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(jobId){var response;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return deleteOpenJob({jobId:jobId});case 2:response=_context8.sent;moengage.moE_SendEvent((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quoteJob)?MoEConstants.CANCEL_QUOTED_JOB:MoEConstants.CANCEL_JOB,{timeStamp:moengage.getCurrentTimeStamp()});mixPanel.mixP_SendEvent((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quoteJob)?MoEConstants.CANCEL_QUOTED_JOB:MoEConstants.CANCEL_JOB,{timeStamp:moengage.getCurrentTimeStamp()});props.history.push(\"/jobs?active=\".concat(activeType));case 6:case\"end\":return _context8.stop();}}},_callee8);}));return function deleteJob(_x5){return _ref8.apply(this,arguments);};}();var CASE_1=jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.isCancelJobRequest;var CASE_2=paramStatus===\"CANCELLED\"&&(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.reasonForCancelJobRequest)>0?jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.reasonForCancelJobRequest:false;var CASE_3=(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$chang=jobDetailsData.changeRequestDeclineReason)===null||_jobDetailsData$chang===void 0?void 0:_jobDetailsData$chang.length)?jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.changeRequestDeclineReason:false;var CASE_4=activeType===\"active\"&&(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$rejec=jobDetailsData.rejectReasonNoteForCancelJobRequest)===null||_jobDetailsData$rejec===void 0?void 0:_jobDetailsData$rejec.length)?jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.rejectReasonNoteForCancelJobRequest:false;var filterFileName=function filterFileName(link){if(link===null||link===void 0?void 0:link.length){var arrItems=link.split(\"/\");return arrItems[(arrItems===null||arrItems===void 0?void 0:arrItems.length)-1];}};var showNestedAnswersData=function showNestedAnswersData(answers,questionId,indexP){var _answers$slice;var val=(_answers$slice=answers.slice(0,(showMoreIndex===null||showMoreIndex===void 0?void 0:showMoreIndex.length)&&indexP===showMoreIndex[0]?answers===null||answers===void 0?void 0:answers.length:3))===null||_answers$slice===void 0?void 0:_answers$slice.map(function(item,indexC){var _item$tradie,_item$tradie$,_item$builder,_item$builder$,_item$builder2,_item$builder2$,_item$tradie2,_item$tradie2$,_item$builder3,_item$builder3$,_item$builder4,_item$builder4$,_answers,_answers4;return/*#__PURE__*/_jsxs(\"div\",{className:\"question_ans_card answer \".concat((item===null||item===void 0?void 0:item.sender_user_type)===1?\"tradie_ans\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user_detail\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"user_img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat((item===null||item===void 0?void 0:item.sender_user_type)===1?item===null||item===void 0?void 0:(_item$tradie=item.tradie)===null||_item$tradie===void 0?void 0:(_item$tradie$=_item$tradie[0])===null||_item$tradie$===void 0?void 0:_item$tradie$.user_image:(item===null||item===void 0?void 0:(_item$builder=item.builder)===null||_item$builder===void 0?void 0:(_item$builder$=_item$builder[0])===null||_item$builder$===void 0?void 0:_item$builder$.user_image)?item===null||item===void 0?void 0:(_item$builder2=item.builder)===null||_item$builder2===void 0?void 0:(_item$builder2$=_item$builder2[0])===null||_item$builder2$===void 0?void 0:_item$builder2$.user_image:dummy),alt:\"user-img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user_name\",children:\"\".concat((item===null||item===void 0?void 0:item.sender_user_type)===1?item===null||item===void 0?void 0:(_item$tradie2=item.tradie)===null||_item$tradie2===void 0?void 0:(_item$tradie2$=_item$tradie2[0])===null||_item$tradie2$===void 0?void 0:_item$tradie2$.firstName:(item===null||item===void 0?void 0:(_item$builder3=item.builder)===null||_item$builder3===void 0?void 0:(_item$builder3$=_item$builder3[0])===null||_item$builder3$===void 0?void 0:_item$builder3$.firstName)?item===null||item===void 0?void 0:(_item$builder4=item.builder)===null||_item$builder4===void 0?void 0:(_item$builder4$=_item$builder4[0])===null||_item$builder4$===void 0?void 0:_item$builder4$.firstName:\"\")}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:moment(item===null||item===void 0?void 0:item.updatedAt).format(\"Do MMMM YYYY\")||\"\"})]})]}),/*#__PURE__*/_jsx(\"p\",{children:item===null||item===void 0?void 0:item.answer}),indexC===(answers===null||answers===void 0?void 0:answers.length)-1&&(answers===null||answers===void 0?void 0:answers.length)>0&&(answers===null||answers===void 0?void 0:(_answers=answers[(answers===null||answers===void 0?void 0:answers.length)-1])===null||_answers===void 0?void 0:_answers.sender_user_type)===2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){var _answers2;return questionHandler(\"updateQuestion\",questionId,answers===null||answers===void 0?void 0:(_answers2=answers[(answers===null||answers===void 0?void 0:answers.length)-1])===null||_answers2===void 0?void 0:_answers2.answer,null,item===null||item===void 0?void 0:item._id);},className:\"show_hide_ans link\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){var _answers3;return questionHandler(\"deleteQuestion\",questionId,\"\",(answers===null||answers===void 0?void 0:answers.length)-1,answers===null||answers===void 0?void 0:(_answers3=answers[(answers===null||answers===void 0?void 0:answers.length)-1])===null||_answers3===void 0?void 0:_answers3._id);},className:\"show_hide_ans link\",children:\"Delete\"})]}),indexC===2&&(answers===null||answers===void 0?void 0:answers.length)>3&&indexP!==showMoreIndex[0]&&/*#__PURE__*/_jsx(\"span\",{className:\"show_hide_ans link\",onClick:function onClick(){return setShowMoreIndex([indexP]);},children:\"Show more\"}),indexC===(answers===null||answers===void 0?void 0:answers.length)-1&&(answers===null||answers===void 0?void 0:answers.length)>0&&(answers===null||answers===void 0?void 0:(_answers4=answers[(answers===null||answers===void 0?void 0:answers.length)-1])===null||_answers4===void 0?void 0:_answers4.sender_user_type)===1&&/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return questionHandler(\"askQuestion\",questionId);},className:\"show_hide_ans link\",children:\"Answer\"})]});});return val;};return/*#__PURE__*/_jsx(\"div\",{className:\"app_wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"section_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_container\",children:[[\"active\",\"open\"].includes(activeType)?/*#__PURE__*/_jsxs(\"span\",{className:\"dot_menu r0\",style:{left:\"420px\"},children:[activeType===\"active\"&&/*#__PURE__*/_jsx(\"img\",{src:editIconBlue,alt:\"edit\"}),activeType===\"open\"&&!((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quoteCount)>0||(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.isInvited)||!(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.editJob))&&/*#__PURE__*/_jsx(\"img\",{src:editIconBlue,alt:\"edit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"edit_menu\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[activeType==\"open\"&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){props.history.push(\"/post-new-job?update=true&jobId=\".concat(paramJobId));},className:\"icon edit_line\",children:\"Edit\"}),activeType==\"open\"&&!((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quoteCount)>0||(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.isInvited))&&/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){setToggleDelete(function(prev){return!prev;});},className:\"icon delete\",children:\"Delete\"})]}),activeType==\"active\"&&/*#__PURE__*/_jsxs(React.Fragment,{children:[!(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quoteJob)&&/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){props.history.push(\"/jobs?active=\".concat(activeType,\"&jobId=\").concat(paramJobId,\"&editMilestone=true\"));},className:\"icon edit_line\",children:\"Edit Milestone\"}),hideDispute===\"false\"&&/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){props.history.push(\"/jobs?active=\".concat(activeType,\"&jobId=\").concat(paramJobId,\"&lodgeDispute=true\"));},className:\"icon lodge\",children:\"Lodge dispute\"}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){props.history.push(\"/jobs?active=\".concat(activeType,\"&jobId=\").concat(paramJobId,\"&cancelJob=true\"));},className:\"icon delete\",children:\"Cancel job\"})]})]})})]}):null,/*#__PURE__*/_jsxs(Dialog,{open:toggleDelete,onClose:function onClose(){setToggleDelete(function(prev){return!prev;});},\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:activeType==\"open\"&&(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quoteJob)?\"Are you sure you want to delete the job ?\":\"Are you sure you want to delete the job ?\"}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:// if (activeType == \"open\" && jobDetailsData?.quoteJob) {\n//     let response = await closeOpenedJob({ jobId: paramJobId });\n//     setToggleDelete((prev: any) => !prev);\n//     if (response?.success) {\n//         props.history.push('/jobs?active=past');\n//     }\n// } else {\nif(activeType==\"open\")deleteJob(paramJobId);// }\ncase 1:case\"end\":return _context9.stop();}}},_callee9);})),color:\"primary\",autoFocus:true,children:\"Yes\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setToggleDelete(function(prev){return!prev;});},color:\"primary\",children:\"No\"})]})]}),/*#__PURE__*/_jsx(FsLightbox,{toggler:toggler,slide:selectedSlide,sources:sources,types:types,onClose:function onClose(){setSelectSlide(1);}},sources===null||sources===void 0?void 0:sources.length),/*#__PURE__*/_jsxs(\"div\",{className:\"vid_img_wrapper pt-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_8 relative\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back\",onClick:function onClick(){if(activeType){props.history.push(\"/jobs?active=\".concat(activeType));}else{var _props$history2;(_props$history2=props.history)===null||_props$history2===void 0?void 0:_props$history2.goBack();}}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_4 relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"detail_card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title line-3\",title:jobDetailsData.jobName,children:jobDetailsData.jobName}),/*#__PURE__*/_jsx(\"span\",{className:\"tagg\",children:\"Job details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"job_info\",children:(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$quote=jobDetailsData.quoteCount)===null||_jobDetailsData$quote===void 0?void 0:_jobDetailsData$quote.length)&&(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quoteJob)?/*#__PURE__*/ // temporary check\n_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"icon dollar\",children:jobDetailsData.amount}),/*#__PURE__*/_jsx(\"li\",{className:\"\"}),/*#__PURE__*/_jsx(\"li\",{className:\"icon location line-1\",title:jobDetailsData.locationName,children:jobDetailsData.locationName}),/*#__PURE__*/_jsx(\"li\",{className:\"icon calendar\",children:(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.time)?jobDetailsData.time:renderTime(jobDetailsData.fromDate,jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.toDate)})]}):!isPastJob?/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"icon clock\",children:jobDetailsData.duration}),/*#__PURE__*/_jsx(\"li\",{className:\"icon dollar\",children:jobDetailsData.amount}),/*#__PURE__*/_jsx(\"li\",{className:\"icon location line-1\",title:jobDetailsData.locationName,children:jobDetailsData.locationName}),/*#__PURE__*/_jsx(\"li\",{className:\"icon calendar\",children:(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.time)?jobDetailsData.time:renderTime(jobDetailsData.fromDate,jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.toDate)})]}):/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"icon calendar\",children:(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.time)?jobDetailsData.time:renderTime(jobDetailsData.fromDate,jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.toDate)}),/*#__PURE__*/_jsx(\"li\",{className:\"icon dollar\",children:jobDetailsData.amount}),/*#__PURE__*/_jsx(\"li\",{className:\"icon location line-1\",title:jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.locationName,children:jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.locationName}),/*#__PURE__*/_jsx(\"li\",{className:\"job_status\",children:paramStatus})]})}),console.log({changeRequestDeclineReason:jobDetailsData.changeRequestDeclineReason,isCancelJobRequest:jobDetailsData.isCancelJobRequest,isChangeRequest:jobDetailsData.isChangeRequest,isPublishedAgain:jobDetailsData.isPublishedAgain,reasonForCancelJobRequest:jobDetailsData.reasonForCancelJobRequest,reasonNoteForCancelJobRequestjob:jobDetailsData.reasonNoteForCancelJobRequest,rejectReasonNoteForCancelJobRequest:jobDetailsData.rejectReasonNoteForCancelJobRequest}),(CASE_1||CASE_2||CASE_3||CASE_4)&&/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn full_btn pending_info\",onClick:function onClick(){setPendingRequestClicked(true);},children:(CASE_1||CASE_2||CASE_3||CASE_4)&&/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"img\",{src:pendingIcon,alt:\"icon\"}),\"View all request(s)\"]})}),/*#__PURE__*/_jsx(Modal,{className:\"ques_ans_modal\",open:pendingRequestClicked,onClose:function onClose(){return setPendingRequestClicked(false);},\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:CASE_1&&\"Pending Request(s)\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:function onClick(){return setPendingRequestClicked(false);},children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),CASE_1&&/*#__PURE__*/_jsxs(\"div\",{className:\"chang_req_card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"Job cancellation request\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"commn_para line-2\",children:[/*#__PURE__*/_jsx(\"li\",{children:JobCancelReasons(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.reasonForCancelJobRequest)}),/*#__PURE__*/_jsx(\"li\",{children:jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.reasonNoteForCancelJobRequest})]}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn btn-effect\",onClick:function onClick(){handleCancelJob(1,jobDetailsData);// if (jobDetailsData?.quoteJob) {\n//     let quote: any = jobDetailsData?.quote;\n//     if (quote && Array.isArray(quote) && quote[0] && quote[0]?.tradieId) {\n//         let quoteId: any = quote[0].tradieId;\n//         props.history.push(`/quote-job-cancel?jobId=${jobDetailsData?.jobId}&tradieId=${quoteId}`);\n//     }\n// } else {\n//     handleCancelJob(1, jobDetailsData) ;\n// }\n},children:\"Accept\"}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn btn-effect\",onClick:function onClick(){handleCancelJob(2,jobDetailsData);},children:\"Reject\"})]}),(CASE_2||CASE_3||CASE_4)&&/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Reason(s)\"}),CASE_2&&/*#__PURE__*/_jsxs(\"div\",{className:\"chang_req_card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"Job cancelled reason\"}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para line-2\",children:JobCancelReasons(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.reasonForCancelJobRequest)}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para line-2\",children:(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$reaso=jobDetailsData.reasonNoteForCancelJobRequest)===null||_jobDetailsData$reaso===void 0?void 0:_jobDetailsData$reaso.length)?jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.reasonNoteForCancelJobRequest:jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.rejectReasonNoteForCancelJobRequest})]}),CASE_3&&/*#__PURE__*/_jsxs(\"div\",{className:\"chang_req_card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"Change request reject reason\"}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para line-2\",children:jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.changeRequestDeclineReason})]}),CASE_4&&/*#__PURE__*/_jsxs(\"div\",{className:\"chang_req_card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"Job cancelled rejected reason\"}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para line-2\",children:jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.rejectReasonNoteForCancelJobRequest})]})]})}),(paramStatus===\"EXPIRED\"||paramStatus===\"expired\")&&!(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.isPublishedAgain)&&/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn full_btn btn-effect mt-sm\",onClick:function onClick(){return props.history.push(\"/post-new-job?jobId=\".concat(paramJobId));},children:\"Publish again\"}),(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$quote2=jobDetailsData.quote)===null||_jobDetailsData$quote2===void 0?void 0:_jobDetailsData$quote2.length)>0&&[\"active\",\"open\"].includes(activeType)&&jobDetailsData.quoteJob&&/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn full_btn btn-effect mt-sm\",onClick:function onClick(){if(activeType==\"active\"){var _jobDetailsData$quote3,_jobDetailsData$quote4,_jobDetailsData$quote5,_jobDetailsData$quote6;var quoteId=null;if((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quote)&&Array.isArray(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.quote)&&(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$quote3=jobDetailsData.quote[0])===null||_jobDetailsData$quote3===void 0?void 0:_jobDetailsData$quote3.quote)&&Array.isArray(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$quote4=jobDetailsData.quote[0])===null||_jobDetailsData$quote4===void 0?void 0:_jobDetailsData$quote4.quote)&&(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$quote5=jobDetailsData.quote[0])===null||_jobDetailsData$quote5===void 0?void 0:(_jobDetailsData$quote6=_jobDetailsData$quote5.quote[0])===null||_jobDetailsData$quote6===void 0?void 0:_jobDetailsData$quote6._id)){var _jobDetailsData$quote7,_jobDetailsData$quote8;quoteId=jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$quote7=jobDetailsData.quote[0])===null||_jobDetailsData$quote7===void 0?void 0:(_jobDetailsData$quote8=_jobDetailsData$quote7.quote[0])===null||_jobDetailsData$quote8===void 0?void 0:_jobDetailsData$quote8._id;}if(quoteId){props.history.push(\"/jobs?active=\".concat(activeType,\"&viewQuotes=true&jobId=\").concat(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.jobId,\"&id=\").concat(quoteId));}}else{props.history.push(\"/jobs?active=\".concat(activeType,\"&quotes=true&jobId=\").concat(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.jobId));}},children:activeType==\"active\"?\"View quote\":\"\".concat(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$quote9=jobDetailsData.quote)===null||_jobDetailsData$quote9===void 0?void 0:_jobDetailsData$quote9.length,\" Quotes\")}),/*#__PURE__*/_jsx(Modal,{className:\"custom_modal\",open:jobRejectModal,onClose:function onClose(){setJobRejectModal(false);},\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh profile_modal\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Your reply to job cancellation\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:function onClick(){setJobRejectModal(false);},children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Let the tradesperson and Tickt know if you accept or reject cancelling for this job.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text_field\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"I disagree with this cancelling\",maxLength:250,value:replyText,onChange:function onChange(e){setReplyText(e.target.value.trimLeft());}}),/*#__PURE__*/_jsx(\"span\",{className:\"char_count\",children:\"\".concat(replyText===null||replyText===void 0?void 0:replyText.length,\"/250\")})]}),(replyText===null||replyText===void 0?void 0:replyText.length)>250&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.replyCancelReason})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom_btn custom_btn\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn full_btn btn-effect\",onClick:function onClick(){operationCancelJob();},children:\"Send\"}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn btn-effect\",onClick:function onClick(){setJobRejectModal(false);setJobData({});setPendingRequestClicked(true);},children:\"Cancel\"})]})]})}),/*#__PURE__*/_jsx(Modal,{className:\"custom_modal\",open:jobAcceptModal,onClose:function onClose(){setJobAcceptModal(false);},\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh confirmation\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"Accept Job Cancellation Request\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:function onClick(){setJobAcceptModal(false);setPendingRequestClicked(false);},children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal_message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you still want to proceed?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog_actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn btn-effect\",onClick:function onClick(){operationCancelJob();},children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn btn-effect\",onClick:function onClick(){setJobAcceptModal(false);setJobData({});setPendingRequestClicked(true);},children:\"No\"})]})]})})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",style:{marginTop:\"30px\"},children:\"Photos & Docs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_8\",children:/*#__PURE__*/_jsx(\"figure\",{className:\"\",children:/*#__PURE__*/_jsx(OwlCarousel,_objectSpread(_objectSpread({},options),{},{className:\"customOwlCarousel\",children:itemsMedia.length?itemsMedia.map(function(image,index){console.log({image:image,mediaType:image===null||image===void 0?void 0:image.mediaType},\"---?\");return(image===null||image===void 0?void 0:image.mediaType)===1?/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){setToggler(function(prev){return!prev;});setSelectSlide(fsSlideListner[\"\".concat(index)]);},title:filterFileName(image.link),alt:\"\",src:(image===null||image===void 0?void 0:image.link)?image===null||image===void 0?void 0:image.link:jobDummyImage},\"\".concat(image).concat(index)):(image===null||image===void 0?void 0:image.mediaType)===2?/*#__PURE__*/_jsx(\"video\",{onClick:function onClick(){setToggler(function(prev){return!prev;});setSelectSlide(fsSlideListner[\"\".concat(index)]);},title:filterFileName(image.link),src:image===null||image===void 0?void 0:image.link,style:{height:\"400px\",width:\"800px\"}},\"\".concat(image).concat(index)):/*#__PURE__*/_jsx(\"img\",{className:\"doc_icon\",onClick:function onClick(){var url=\"/doc-view?url=\".concat(image.link);//\nwindow.open(url,\"_blank\");},title:filterFileName(image.link),alt:\"\",src:docThumbnail},\"\".concat(image).concat(index));}):/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:jobDummyImage})}))})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"description\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Job Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para\",children:jobDetailsData.details})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex_row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"sub_title\",children:[\"Job Milestones\",/*#__PURE__*/_jsxs(\"b\",{className:\"ft_normal\",children:[\" \",\"\".concat(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.milestoneNumber,\" \"),\"of \".concat((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.totalMilestones)||\"\"),\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"job_progress_wrap\",id:\"scroll-progress-bar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"progress_wrapper\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"approval_info\",id:\"digit-progress\",children:renderByStatus()}),/*#__PURE__*/_jsx(\"span\",{className:\"progress_bar\",children:/*#__PURE__*/_jsx(\"input\",{className:\"done_progress\",id:\"progress-bar\",type:\"range\",min:\"0\",value:(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.milestoneNumber)>0?(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.milestoneNumber)/(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.totalMilestones)*100:0})})]})}),/*#__PURE__*/_jsx(\"ul\",{className:\"job_milestone\",children:jobDetailsData&&(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$jobMi=jobDetailsData.jobMilestonesData)===null||_jobDetailsData$jobMi===void 0?void 0:_jobDetailsData$jobMi.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\".concat(index+1,\". \").concat(item===null||item===void 0?void 0:item.milestoneName)}),console.log({item:item}),/*#__PURE__*/_jsx(\"span\",{children:renderTime(item===null||item===void 0?void 0:item.fromDate,item===null||item===void 0?void 0:item.toDate)})]},item.milestoneId);}))}),/*#__PURE__*/_jsxs(\"button\",{className:\"fill_grey_btn ques_btn btn-effect\",onClick:function onClick(){return setQuestionsData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{showAllQuestionsClicked:true});});},children:[/*#__PURE__*/_jsx(\"img\",{src:question,alt:\"question\"}),\"\".concat((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.questionsCount)||\"0\",\" \").concat((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.questionsCount)===1?\"question\":\"questions\")]})]}),questionsData.showAllQuestionsClicked&&/*#__PURE__*/_jsx(Modal,{className:\"ques_ans_modal\",open:questionsData.showAllQuestionsClicked,onClose:function onClose(){modalCloseHandler(\"showAllQuestionsClicked\");},\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.questionsCount)?\"\".concat(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.questionsCount,\" \").concat((jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.questionsCount)===1?\"question\":\"questions\"):\"\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:function onClick(){return modalCloseHandler(\"showAllQuestionsClicked\");},children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner_wrap\",children:[(questionList===null||questionList===void 0?void 0:questionList.length)>0&&(questionList===null||questionList===void 0?void 0:questionList.map(function(item,index){var _tradieData$,_tradieData$2,_item$answers,_item$answers2;var tradieData=item.tradieData;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question_ans_card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user_detail\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"user_img\",children:/*#__PURE__*/_jsx(\"img\",{src:(tradieData===null||tradieData===void 0?void 0:(_tradieData$=tradieData[0])===null||_tradieData$===void 0?void 0:_tradieData$.user_image)||dummy,alt:\"user-img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user_name\",children:(tradieData===null||tradieData===void 0?void 0:(_tradieData$2=tradieData[0])===null||_tradieData$2===void 0?void 0:_tradieData$2.firstName)||\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:moment(item===null||item===void 0?void 0:item.updatedAt).format(\"Do MMMM YYYY\")||\"\"})]})]}),/*#__PURE__*/_jsx(\"p\",{children:(item===null||item===void 0?void 0:item.question)||\"\"}),(item===null||item===void 0?void 0:(_item$answers=item.answers)===null||_item$answers===void 0?void 0:_item$answers.length)===0&&/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return questionHandler(\"askQuestion\",item===null||item===void 0?void 0:item._id);},className:\"show_hide_ans link\",children:\"Answer\"})]}),(item===null||item===void 0?void 0:(_item$answers2=item.answers)===null||_item$answers2===void 0?void 0:_item$answers2.length)>0&&showNestedAnswersData(item===null||item===void 0?void 0:item.answers,item===null||item===void 0?void 0:item._id,index)]},item===null||item===void 0?void 0:item._id);})),(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.questionsCount)>questionList.length&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn load_more\",onClick:loadMoreQuestionHandler,children:\"View more\"})})]}),(questionList===null||questionList===void 0?void 0:questionList.length)===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"no_record align_centr\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"no_img\",children:/*#__PURE__*/_jsx(\"img\",{src:noDataFound,alt:\"data not found\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"No Questions Found\"})]})]})})}),questionsData.askQuestionsClicked&&/*#__PURE__*/_jsx(Modal,{className:\"ques_ans_modal\",open:questionsData.askQuestionsClicked,onClose:function onClose(){return modalCloseHandler(\"askQuestionsClicked\");},\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh ask_ques\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:questionsData.updateQuestionsClicked?\"Edit Answer\":\"Answer\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:function onClick(){return modalCloseHandler(\"askQuestionsClicked\");},children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Your answer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text_field\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Text\",value:questionsData.questionData,onChange:function onChange(e){return handleChange(e,\"questionData\");}}),/*#__PURE__*/_jsx(\"span\",{className:\"char_count\",children:\"\".concat(questionsData.questionData.trim().length,\"/250\")})]}),!!errors.questionData&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.questionData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom_btn custom_btn\",children:[questionsData.updateQuestionsClicked?/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn full_btn\",onClick:function onClick(){return submitQuestionHandler(\"updateQuestion\");},children:\"Save\"}):/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn full_btn\",onClick:function onClick(){return questionHandler(\"submitAskQuestion\");},children:\"Send\"}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn\",onClick:function onClick(){return questionHandler(\"questionCancelBtnClicked\");},children:\"Cancel\"})]})]})}),questionsData.confirmationClicked&&/*#__PURE__*/_jsx(Modal,{className:\"custom_modal\",open:questionsData.confirmationClicked,onClose:function onClose(){return modalCloseHandler(\"confirmationClicked\");},\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh confirmation\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"xs_sub_title\",children:\"\".concat(questionsData.deleteQuestionsClicked?\"Delete\":\"Post\",\" Answer Confirmation\")}),/*#__PURE__*/_jsx(\"button\",{className:\"close_btn\",onClick:function onClick(){return modalCloseHandler(\"confirmationClicked\");},children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal_message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to \".concat(questionsData.deleteQuestionsClicked?\"delete\":\"post\",\" a answer?\")})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog_actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn\",onClick:function onClick(){return submitQuestionHandler(questionsData.questionsClickedType);},children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"fill_grey_btn\",onClick:function onClick(){return modalCloseHandler(\"confirmationClicked\");},children:\"No\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_12\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Job type\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"job_categories\",children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"figure\",{className:\"type_icon\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$jobTy=jobDetailsData.jobType)===null||_jobDetailsData$jobTy===void 0?void 0:_jobDetailsData$jobTy.jobTypeImage})}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$jobTy2=jobDetailsData.jobType)===null||_jobDetailsData$jobTy2===void 0?void 0:_jobDetailsData$jobTy2.jobTypeName})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_12\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Specialisations needed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tags_wrap\",children:/*#__PURE__*/_jsx(\"ul\",{children:jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$speci=jobDetailsData.specializationData)===null||_jobDetailsData$speci===void 0?void 0:_jobDetailsData$speci.map(function(item){return/*#__PURE__*/_jsx(\"li\",{children:item.specializationName},item.specializationId);})})})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section_wrapper\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Posted by\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tradie_card posted_by\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_wrap\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"u_img\",children:(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste=jobDetailsData.postedBy)===null||_jobDetailsData$poste===void 0?void 0:_jobDetailsData$poste.hasOwnProperty(\"builderImage\"))?/*#__PURE__*/_jsx(\"img\",{src:(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste2=jobDetailsData.postedBy)===null||_jobDetailsData$poste2===void 0?void 0:_jobDetailsData$poste2.builderImage)||dummy,alt:\"traide-img\",onError:function onError(e){var _e$target3,_e$target4;if(e===null||e===void 0?void 0:(_e$target3=e.target)===null||_e$target3===void 0?void 0:_e$target3.onerror){e.target.onerror=null;}if(e===null||e===void 0?void 0:(_e$target4=e.target)===null||_e$target4===void 0?void 0:_e$target4.src){e.target.src=dummy;}}}):Array.isArray(jobDetailsData===null||jobDetailsData===void 0?void 0:jobDetailsData.postedBy)?renderBuilderAvatar(\"image\"):/*#__PURE__*/_jsx(\"img\",{src:dummy,alt:\"traide-img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",onClick:function onClick(){var _jobDetailsData$poste3;if(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste3=jobDetailsData.postedBy)===null||_jobDetailsData$poste3===void 0?void 0:_jobDetailsData$poste3.builderName){var _props$history3,_jobDetailsData$poste4;props===null||props===void 0?void 0:(_props$history3=props.history)===null||_props$history3===void 0?void 0:_props$history3.push(\"/builder-info?builderId=\".concat(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste4=jobDetailsData.postedBy)===null||_jobDetailsData$poste4===void 0?void 0:_jobDetailsData$poste4.builderId));}},children:(jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste5=jobDetailsData.postedBy)===null||_jobDetailsData$poste5===void 0?void 0:_jobDetailsData$poste5.builderName)||renderBuilderAvatar(\"name\")}),/*#__PURE__*/_jsx(\"span\",{className:\"rating\",children:\"\".concat((jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste6=jobDetailsData.postedBy)===null||_jobDetailsData$poste6===void 0?void 0:_jobDetailsData$poste6.ratings)?jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste7=jobDetailsData.postedBy)===null||_jobDetailsData$poste7===void 0?void 0:_jobDetailsData$poste7.ratings:\"0\",\" | \").concat((jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste8=jobDetailsData.postedBy)===null||_jobDetailsData$poste8===void 0?void 0:_jobDetailsData$poste8.reviews)?jobDetailsData===null||jobDetailsData===void 0?void 0:(_jobDetailsData$poste9=jobDetailsData.postedBy)===null||_jobDetailsData$poste9===void 0?void 0:_jobDetailsData$poste9.reviews:\"0\",\" reviews\")})]})]})})})})]})]})]})})});};export default JobDetailsPage;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/jobDetailsPageBuilder/jobDetailsPage.tsx"],"names":["React","useState","useEffect","Constants","getHomeJobDetails","jobDetailsBuilder","getQuestionsList","answerQuestion","updateAnswer","deleteAnswer","handleCancelReply","Modal","moment","cancel","dummy","jobDummyImage","question","leftIcon","rightIcon","pendingIcon","noDataFound","approved","waiting","renderTime","OwlCarousel","editIconBlue","Button","Dialog","DialogActions","DialogTitle","deleteOpenJob","moengage","mixPanel","MoEConstants","FsLightbox","JobCancelReasons","docThumbnail","options","items","nav","navText","rewind","autoplay","slideBy","dots","dotsEach","dotData","responsive","defaultQuestionValues","askQuestionsClicked","showAllQuestionsClicked","submitQuestionsClicked","deleteQuestionsClicked","updateQuestionsClicked","questionsClickedType","confirmationClicked","showAnswerButton","questionId","answerId","questionData","answerShownHideList","showHideAnswer","questionIndex","JobDetailsPage","props","errors","setErrors","jobDetailsData","setJobDetailsData","questionList","setQuestionList","questionListPageNo","setQuestionListPageNo","questionsData","setQuestionsData","toggler","setToggler","selectedSlide","setSelectSlide","toggleDelete","setToggleDelete","jobAcceptModal","setJobAcceptModal","jobRejectModal","setJobRejectModal","pendingRequestClicked","setPendingRequestClicked","showMoreIndex","setShowMoreIndex","jobData","setJobData","replyText","setReplyText","fsSlideListner","setFsSlideListner","preFetch","fsSlideObj","slideCount","photos","length","forEach","item","index","mediaType","Object","keys","location_search","history","location","search","substring","params","URLSearchParams","get","jobId","tradeId","specializationId","res1","success","data","res","console","log","id","fetchQuestionsList","isTrue","page","res2","prevData","data_elements","list","showQuestionAnswer","modalCloseHandler","modalType","loadMoreQuestionHandler","validateForm","type","newErrors","trim","errorStrings","askQuestion","submitQuestionHandler","includes","tradieId","builderId","answer","response","questionHandler","item_","question_id","undefined","handleChange","e","target","value","renderBuilderAvatar","postedBy","Array","isArray","builderImage","onerror","src","firstName","paramStatus","paramJobId","activeType","isPastJob","hideDispute","renderByStatus","status","toUpperCase","handleCancelJob","job_detail","note","operationCancelJob","quoteJob","quote","quoteId","push","renderFilteredItems","itemsMedia","sources","types","link","deleteJob","moE_SendEvent","CANCEL_QUOTED_JOB","CANCEL_JOB","timeStamp","getCurrentTimeStamp","mixP_SendEvent","CASE_1","isCancelJobRequest","CASE_2","reasonForCancelJobRequest","CASE_3","changeRequestDeclineReason","CASE_4","rejectReasonNoteForCancelJobRequest","filterFileName","arrItems","split","showNestedAnswersData","answers","indexP","val","slice","map","indexC","sender_user_type","tradie","user_image","builder","updatedAt","format","_id","left","quoteCount","isInvited","editJob","prev","goBack","jobName","amount","locationName","time","fromDate","toDate","duration","isChangeRequest","isPublishedAgain","reasonNoteForCancelJobRequestjob","reasonNoteForCancelJobRequest","trimLeft","replyCancelReason","marginTop","image","height","width","url","window","open","details","milestoneNumber","totalMilestones","jobMilestonesData","milestoneName","milestoneId","questionsCount","tradieData","jobType","jobTypeImage","jobTypeName","specializationData","specializationName","hasOwnProperty","builderName","ratings","reviews"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Constants from \"../../utils/constants\";\nimport {\n  getHomeJobDetails,\n  getHomeSaveJob,\n  jobDetailsBuilder,\n  postHomeApplyJob,\n} from \"../../redux/homeSearch/actions\";\nimport { closeOpenedJob } from \"../../redux/jobs/actions\";\nimport {\n  getQuestionsList,\n  answerQuestion,\n  updateAnswer,\n  deleteAnswer,\n  handleCancelReply,\n} from \"../../redux/jobs/actions\";\nimport Modal from \"@material-ui/core/Modal\";\nimport moment from \"moment\";\n\nimport cancel from \"../../assets/images/ic-cancel.png\";\nimport dummy from \"../../assets/images/u_placeholder.jpg\";\nimport jobDummyImage from \"../../assets/images/ic-placeholder-detail.png\";\nimport question from \"../../assets/images/ic-question.png\";\nimport leftIcon from \"../../assets/images/ic-back-arrow-line.png\";\nimport rightIcon from \"../../assets/images/ic-next-arrow-line.png\";\nimport pendingIcon from \"../../assets/images/exclamation-icon.png\";\n\nimport noDataFound from \"../../assets/images/no-search-data.png\";\n\nimport approved from \"../../assets/images/approved.png\";\nimport waiting from \"../../assets/images/exclamation.png\";\n\nimport { renderTime } from \"../../utils/common\";\n\nimport OwlCarousel from \"react-owl-carousel\";\nimport \"owl.carousel/dist/assets/owl.carousel.css\";\nimport \"owl.carousel/dist/assets/owl.theme.default.css\";\n\nimport editIconBlue from \"../../assets/images/ic-edit-blue.png\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport { deleteOpenJob } from \"../../redux/jobs/actions\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\n//@ts-ignore\nimport FsLightbox from \"fslightbox-react\";\nimport { JobCancelReasons } from \"../../utils/common\";\nimport docThumbnail from \"../../assets/images/add-document.png\";\ninterface PropsType {\n  history: any;\n  location: any;\n}\n\nconst options = {\n  items: 1,\n  nav: true,\n  navText: [\n    `<div class='nav-btn prev-slide'> <img src=\"${leftIcon}\"> </div>`,\n    `<div class='nav-btn next-slide'> <img src=\"${rightIcon}\"> </div>`,\n  ],\n  rewind: true,\n  autoplay: false,\n  slideBy: 1,\n  dots: true,\n  dotsEach: true,\n  dotData: true,\n  responsive: {\n    0: {\n      items: 1,\n    },\n    600: {\n      items: 1,\n    },\n    1000: {\n      items: 1,\n    },\n  },\n};\n\nconst defaultQuestionValues = {\n  askQuestionsClicked: false,\n  showAllQuestionsClicked: false,\n  submitQuestionsClicked: false,\n  deleteQuestionsClicked: false,\n  updateQuestionsClicked: false,\n  questionsClickedType: \"\",\n  confirmationClicked: false,\n  showAnswerButton: true,\n  questionId: \"\",\n  answerId: \"\",\n  questionData: \"\",\n  answerShownHideList: [],\n  showHideAnswer: {},\n  questionIndex: null,\n};\n\nconst JobDetailsPage = (props: PropsType) => {\n  const [errors, setErrors] = useState<any>({});\n  const [jobDetailsData, setJobDetailsData] = useState<any>(\"\");\n  const [questionList, setQuestionList] = useState<Array<any>>([]);\n  const [questionListPageNo, setQuestionListPageNo] = useState<number>(1);\n  const [questionsData, setQuestionsData] = useState<any>(\n    defaultQuestionValues\n  );\n\n  const [toggler, setToggler] = useState(false);\n  const [selectedSlide, setSelectSlide] = useState(1);\n  const [toggleDelete, setToggleDelete] = useState(false);\n\n  const [jobAcceptModal, setJobAcceptModal] = useState(false);\n  const [jobRejectModal, setJobRejectModal] = useState(false);\n  const [pendingRequestClicked, setPendingRequestClicked] = useState(false);\n\n  const [showMoreIndex, setShowMoreIndex] = useState<Array<any>>([]);\n  const [jobData, setJobData] = useState({});\n  const [replyText, setReplyText] = useState(\"\");\n  const [fsSlideListner, setFsSlideListner] = useState<any>({});\n\n  useEffect(() => {\n    (async () => {\n      await preFetch();\n    })();\n  }, []);\n\n  useEffect(() => {\n    let fsSlideObj: any = {};\n    let slideCount = 1;\n\n    if (jobDetailsData?.photos?.length) {\n      jobDetailsData?.photos.forEach((item: any, index: number) => {\n        if (item?.mediaType === 1 || item?.mediaType === 2) {\n          fsSlideObj[`${index}`] = slideCount++;\n        }\n      });\n    }\n    if (Object.keys(fsSlideObj)?.length > 0) setFsSlideListner(fsSlideObj);\n  }, [jobDetailsData?.photos]);\n\n  const preFetch = async () => {\n    let location_search = (props?.history?.location?.search).substring(1); //window.atob()\n    const params = new URLSearchParams(location_search);\n\n    if (\n      params.get(\"jobId\") &&\n      params.get(\"tradeId\") &&\n      params.get(\"specializationId\")\n    ) {\n      const res1 = await getHomeJobDetails({\n        jobId: params.get(\"jobId\"),\n        tradeId: params.get(\"tradeId\"),\n        specializationId: params.get(\"specializationId\"),\n      });\n      if (res1.success) {\n        setJobDetailsData(res1.data);\n      }\n    } else {\n      if (params.get(\"jobId\")) {\n        let res = await jobDetailsBuilder({ jobId: params.get(\"jobId\") });\n        console.log({ res }, \"---->\");\n        if (res.success) {\n          setJobDetailsData(res.data);\n        }\n      }\n    }\n    if (params.get(\"tradieId\")) {\n      const id: string | null = params.get(\"tradieId\");\n    }\n    fetchQuestionsList();\n  };\n\n  const fetchQuestionsList = async (isTrue?: boolean) => {\n    let location_search = (props?.location?.search).substring(1); //window.atob()\n    const params = new URLSearchParams(location_search);\n    const questionData: any = {\n      jobId: params.get(\"jobId\"),\n      page: 1,\n    };\n    const res2 = await getQuestionsList(questionData);\n    if (res2.success) {\n      if (params.get(\"openQList\") === \"true\") {\n        setQuestionsData((prevData: any) => ({\n          ...prevData,\n          showAllQuestionsClicked: true,\n        }));\n      }\n      console.log({ res2 }, \"question-list\");\n      let data_elements = res2?.data?.list || res2?.data;\n      setQuestionList(data_elements);\n    }\n\n    if (isTrue) {\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        submitQuestionsClicked: false,\n        askQuestionsClicked: false,\n        showAllQuestionsClicked: true,\n        confirmationClicked: false,\n        questionsClickedType: \"\",\n        deleteQuestionsClicked: false,\n        updateQuestionsClicked: false,\n        questionId: \"\",\n        answerId: \"\",\n        questionData: \"\",\n        showQuestionAnswer: false,\n        questionIndex: null,\n      }));\n    }\n  };\n\n  const modalCloseHandler = (modalType: string) => {\n    setQuestionsData((prevData: any) => ({\n      ...prevData,\n      [modalType]: false,\n      deleteQuestionsClicked: false,\n      answerShownHideList: [],\n    }));\n    setErrors({});\n    showMoreIndex && setShowMoreIndex([]);\n  };\n\n  const loadMoreQuestionHandler = async () => {\n    // will handle the pagination later\n    let location_search = (props?.location?.search).substring(1); // window.atob()\n    const params = new URLSearchParams(location_search);\n    const data: any = {\n      jobId: params.get(\"jobId\"),\n      page: questionListPageNo + 1,\n    };\n    const res = await getQuestionsList(data);\n    if (res.success) {\n      console.log({ res }, \"question-list\");\n      let data_elements = res?.data?.list || res?.data;\n      setQuestionList((prevData: any) => [...prevData, ...data_elements]);\n      setQuestionListPageNo(data.page);\n    }\n  };\n\n  const validateForm = (type: string) => {\n    if (type == \"deleteQuestion\") return true;\n    const newErrors: any = {};\n    if (!questionsData.questionData.trim()?.length) {\n      newErrors.questionData = Constants.errorStrings.askQuestion;\n    }\n    setErrors(newErrors);\n    return !Object.keys(newErrors).length;\n  };\n\n  const submitQuestionHandler = async (type: string) => {\n    console.log(\"Here!------->\", { questionsData });\n    if ([\"askQuestion\", \"deleteQuestion\", \"updateQuestion\"].includes(type)) {\n      if (!validateForm(type)) {\n        return;\n      }\n      var response: any;\n      var data: any;\n      if (type === \"askQuestion\") {\n        data = {\n          tradieId: questionList[0]?.tradieId,\n          builderId: questionList[0]?.builderId,\n          answer: questionsData.questionData,\n          questionId: questionsData.questionId,\n        };\n        response = await answerQuestion(data); // answer question\n      } else if (type === \"deleteQuestion\") {\n        data = {\n          questionId: questionsData.questionId,\n          answerId: questionsData.answerId,\n        };\n        response = await deleteAnswer(data); // delete answer\n      } else if (type === \"updateQuestion\") {\n        data = {\n          questionId: questionsData.questionId,\n          answerId: questionsData.answerId,\n          answer: questionsData.questionData,\n        };\n        response = await updateAnswer(data); // update answer\n      }\n\n      if (response.success) {\n        fetchQuestionsList(true);\n        if (type === \"deleteQuestion\") {\n          questionHandler(\"showAnswerClicked\", questionsData.questionId);\n        }\n      }\n    }\n  };\n\n  const questionHandler = (\n    type: string,\n    questionId?: string,\n    question?: string,\n    questionIndex?: any,\n    answerId?: any\n  ) => {\n    if (type == \"submitAskQuestion\" && validateForm(\"askQuestion\")) {\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        submitQuestionsClicked: true,\n        confirmationClicked: true,\n      }));\n    } else if (type == \"askQuestion\") {\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        questionId: questionId,\n        askQuestionsClicked: true,\n        showAllQuestionsClicked: false,\n        questionsClickedType: type,\n        answerId: \"\",\n      }));\n    } else if (type == \"deleteQuestion\") {\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        confirmationClicked: true,\n        deleteQuestionsClicked: true,\n        questionId: questionId,\n        questionsClickedType: type,\n        questionIndex: questionIndex,\n        answerId: answerId,\n      }));\n    } else if (type == \"updateQuestion\") {\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        askQuestionsClicked: true,\n        updateQuestionsClicked: true,\n        questionId: questionId,\n        answerId: answerId,\n        questionsClickedType: type,\n        showAllQuestionsClicked: false,\n        questionData: question,\n      }));\n    } else if (type == \"questionCancelBtnClicked\") {\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        askQuestionsClicked: false,\n        updateQuestionsClicked: false,\n        deleteQuestionsClicked: false,\n        showAllQuestionsClicked: true,\n        questionData: \"\",\n        questionsClickedType: \"\",\n        questionId: \"\",\n        answerId: \"\",\n      }));\n      setErrors({});\n    } else if (type == \"hideAnswerClicked\") {\n      // const newData = [...questionsData.answerShownHideList].filter(id => id !== questionId);\n      // setQuestionsData((prevData: any) => ({ ...prevData, answerShownHideList: newData }));\n\n      let item_: any = {};\n      let question_id: any = questionId;\n      item_ = questionsData?.showHideAnswer;\n      if (item_[question_id] === undefined) {\n        item_[question_id] = true;\n      } else {\n        item_[question_id] = !item_[question_id];\n      }\n\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        showHideAnswer: item_,\n      }));\n    } else if (type == \"showAnswerClicked\") {\n      let item_: any = {};\n      let question_id: any = questionId;\n      item_ = questionsData?.showHideAnswer;\n      if (item_[question_id] === undefined) {\n        item_[question_id] = !item_[question_id];\n      } else {\n        item_[question_id] = !item_[question_id];\n      }\n\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        showHideAnswer: item_,\n      }));\n    }\n  };\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLTextAreaElement>,\n    type: string\n  ) => {\n    if (e.target.value.trim().length <= 250) {\n      setQuestionsData((prevData: any) => ({\n        ...prevData,\n        [type]: e.target.value,\n      }));\n    }\n  };\n\n  const renderBuilderAvatar = (item: any) => {\n    let postedBy: any = jobDetailsData?.postedBy;\n    if (item === \"image\") {\n      if (\n        postedBy &&\n        Array.isArray(postedBy) &&\n        postedBy[0] &&\n        postedBy[0].builderImage\n      ) {\n        return (\n          <img\n            src={postedBy[0].builderImage || dummy}\n            alt=\"traide-img\"\n            onError={(e: any) => {\n              if (e?.target?.onerror) {\n                e.target.onerror = null;\n              }\n              if (e?.target?.src) {\n                e.target.src = dummy;\n              }\n            }}\n          />\n        );\n      } else {\n        return <img src={dummy} alt=\"traide-img\" />;\n      }\n    }\n    if (item === \"name\") {\n      if (\n        postedBy &&\n        Array.isArray(postedBy) &&\n        postedBy[0] &&\n        postedBy[0].firstName\n      ) {\n        return postedBy[0].firstName;\n      }\n    }\n  };\n\n  let paramStatus: any = \"\";\n  let paramJobId: any = \"\";\n  let activeType: any = \"\";\n  let isPastJob: boolean = false;\n  let hideDispute: any = null;\n  if (props.location?.search) {\n    let location_search = (props?.location?.search).substring(1); //window.atob()\n    const params = new URLSearchParams(location_search);\n    if (params.get(\"status\")) {\n      paramStatus = params.get(\"status\");\n    }\n    if (params.get(\"jobId\")) {\n      paramJobId = params.get(\"jobId\");\n    }\n    if (params.get(\"job\")) {\n      isPastJob = true;\n    }\n    if (params.get(\"activeType\")) {\n      activeType = params.get(\"activeType\");\n    }\n\n    if (params.get(\"hide_dipute\")) {\n      hideDispute = params.get(\"hide_dipute\");\n    }\n  }\n  console.log({ activeType, hideDispute });\n\n  const renderByStatus = () => {\n    return (\n      <>\n        {jobDetailsData?.status === \"APPROVED\" && (\n          <img src={approved} alt=\"icon\" />\n        )}\n        {jobDetailsData?.status === \"NEEDS APPROVAL\" && (\n          <img src={waiting} alt=\"icon\" />\n        )}\n        {jobDetailsData?.status?.toUpperCase()}\n      </>\n    );\n  };\n\n  const handleCancelJob = async (type: any, job_detail: any) => {\n    if (type == 1) {\n      setJobAcceptModal(true);\n      setJobRejectModal(false);\n    } else {\n      setJobAcceptModal(false);\n      setJobRejectModal(true);\n    }\n\n    setJobData({\n      jobId: job_detail?.jobId,\n      status: type,\n      note: type === 1 ? \"this is accepted\" : \"this is rejected\",\n    });\n  };\n\n  const operationCancelJob = async () => {\n    let data: any = jobData;\n    if (data?.status) {\n      data[\"note\"] = replyText;\n    }\n\n    let response = await handleCancelReply(data);\n    if (response?.success) {\n      if (jobDetailsData?.quoteJob) {\n        let quote: any = jobDetailsData?.quote;\n        if (quote && Array.isArray(quote) && quote[0] && quote[0]?.tradieId) {\n          let quoteId: any = quote[0].tradieId;\n          props.history.push(\n            `/quote-job-cancel?jobId=${jobDetailsData?.jobId}&tradieId=${quoteId}`\n          );\n        }\n        return;\n      }\n\n      if (data?.status === 1) {\n        props.history.push(\"/request-monitored/ccr\");\n      } else {\n        props.history.push(\"/request-monitored/cc/bb\");\n      }\n      // await preFetch();\n    }\n  };\n\n  const renderFilteredItems = (itemsMedia: any) => {\n    let sources: any = [];\n    let types: any = [];\n\n    if (itemsMedia && Array.isArray(itemsMedia) && itemsMedia.length) {\n      itemsMedia.forEach((item: any) => {\n        if (item?.mediaType === 2) {\n          sources.push(item.link);\n          types.push(\"video\");\n        } else if (item?.mediaType === 1) {\n          sources.push(item.link);\n          types.push(\"image\");\n        }\n      });\n    }\n\n    return { sources, types };\n  };\n  let itemsMedia: any = [];\n  if (jobDetailsData?.photos?.length) {\n    itemsMedia = jobDetailsData.photos;\n  }\n  const { sources, types } = renderFilteredItems(itemsMedia);\n\n  const deleteJob = async (jobId: any) => {\n    let response: any = await deleteOpenJob({ jobId });\n    moengage.moE_SendEvent(\n      jobDetailsData?.quoteJob\n        ? MoEConstants.CANCEL_QUOTED_JOB\n        : MoEConstants.CANCEL_JOB,\n      { timeStamp: moengage.getCurrentTimeStamp() }\n    );\n    mixPanel.mixP_SendEvent(\n      jobDetailsData?.quoteJob\n        ? MoEConstants.CANCEL_QUOTED_JOB\n        : MoEConstants.CANCEL_JOB,\n      { timeStamp: moengage.getCurrentTimeStamp() }\n    );\n    props.history.push(`/jobs?active=${activeType}`);\n  };\n\n  let CASE_1 = jobDetailsData?.isCancelJobRequest;\n  let CASE_2 =\n    paramStatus === \"CANCELLED\" && jobDetailsData?.reasonForCancelJobRequest > 0\n      ? jobDetailsData?.reasonForCancelJobRequest\n      : false;\n  let CASE_3 = jobDetailsData?.changeRequestDeclineReason?.length\n    ? jobDetailsData?.changeRequestDeclineReason\n    : false;\n\n  let CASE_4 =\n    activeType === \"active\" &&\n    jobDetailsData?.rejectReasonNoteForCancelJobRequest?.length\n      ? jobDetailsData?.rejectReasonNoteForCancelJobRequest\n      : false;\n\n  const filterFileName = (link: any) => {\n    if (link?.length) {\n      let arrItems = link.split(\"/\");\n      return arrItems[arrItems?.length - 1];\n    }\n  };\n\n  const showNestedAnswersData = (\n    answers: Array<any>,\n    questionId: string,\n    indexP: number\n  ) => {\n    let val = answers\n      .slice(\n        0,\n        showMoreIndex?.length && indexP === showMoreIndex[0]\n          ? answers?.length\n          : 3\n      )\n      ?.map((item: any, indexC: number) => {\n        return (\n          <div\n            className={`question_ans_card answer ${\n              item?.sender_user_type === 1 ? \"tradie_ans\" : \"\"\n            }`}\n          >\n            <div className=\"user_detail\">\n              <figure className=\"user_img\">\n                <img\n                  src={`${\n                    item?.sender_user_type === 1\n                      ? item?.tradie?.[0]?.user_image\n                      : item?.builder?.[0]?.user_image\n                      ? item?.builder?.[0]?.user_image\n                      : dummy\n                  }`}\n                  alt=\"user-img\"\n                />\n              </figure>\n              <div className=\"details\">\n                <span className=\"user_name\">{`${\n                  item?.sender_user_type === 1\n                    ? item?.tradie?.[0]?.firstName\n                    : item?.builder?.[0]?.firstName\n                    ? item?.builder?.[0]?.firstName\n                    : \"\"\n                }`}</span>\n                <span className=\"date\">\n                  {moment(item?.updatedAt).format(\"Do MMMM YYYY\") || \"\"}\n                </span>\n              </div>\n            </div>\n            <p>{item?.answer}</p>\n            {indexC === answers?.length - 1 &&\n              answers?.length > 0 &&\n              answers?.[answers?.length - 1]?.sender_user_type === 2 && (\n                <>\n                  <span\n                    onClick={() =>\n                      questionHandler(\n                        \"updateQuestion\",\n                        questionId,\n                        answers?.[answers?.length - 1]?.answer,\n                        null,\n                        item?._id\n                      )\n                    }\n                    className=\"show_hide_ans link\"\n                  >\n                    Edit\n                  </span>\n                  <span\n                    onClick={() =>\n                      questionHandler(\n                        \"deleteQuestion\",\n                        questionId,\n                        \"\",\n                        answers?.length - 1,\n                        answers?.[answers?.length - 1]?._id\n                      )\n                    }\n                    className=\"show_hide_ans link\"\n                  >\n                    Delete\n                  </span>\n                </>\n              )}\n\n            {indexC === 2 &&\n              answers?.length > 3 &&\n              indexP !== showMoreIndex[0] && (\n                <span\n                  className=\"show_hide_ans link\"\n                  onClick={() => setShowMoreIndex([indexP])}\n                >\n                  Show more\n                </span>\n              )}\n\n            {indexC === answers?.length - 1 &&\n              answers?.length > 0 &&\n              answers?.[answers?.length - 1]?.sender_user_type === 1 && (\n                <span\n                  onClick={() => questionHandler(\"askQuestion\", questionId)}\n                  className=\"show_hide_ans link\"\n                >\n                  {\"Answer\"}\n                </span>\n              )}\n          </div>\n        );\n      });\n    return val;\n  };\n\n  return (\n    <div className=\"app_wrapper\">\n      <div className=\"section_wrapper\">\n        <div className=\"custom_container\">\n          {[\"active\", \"open\"].includes(activeType) ? (\n            <span className=\"dot_menu r0\" style={{ left: \"420px\" }}>\n              {activeType === \"active\" && <img src={editIconBlue} alt=\"edit\" />}\n              {activeType === \"open\" &&\n                !(\n                  jobDetailsData?.quoteCount > 0 ||\n                  jobDetailsData?.isInvited ||\n                  !jobDetailsData?.editJob\n                ) && <img src={editIconBlue} alt=\"edit\" />}\n              <div className=\"edit_menu\">\n                <ul>\n                  {activeType == \"open\" && (\n                    <React.Fragment>\n                      <li\n                        onClick={() => {\n                          props.history.push(\n                            `/post-new-job?update=true&jobId=${paramJobId}`\n                          );\n                        }}\n                        className=\"icon edit_line\"\n                      >\n                        {\"Edit\"}\n                      </li>\n                      {activeType == \"open\" &&\n                        !(\n                          jobDetailsData?.quoteCount > 0 ||\n                          jobDetailsData?.isInvited\n                        ) && (\n                          <li\n                            onClick={() => {\n                              setToggleDelete((prev: any) => !prev);\n                            }}\n                            className=\"icon delete\"\n                          >\n                            {\"Delete\"}\n                          </li>\n                        )}\n                      {/* :\n                                            <li\n                                                onClick={() => {\n                                                    setToggleDelete((prev: any) => !prev);\n                                                }}\n                                                className=\"icon delete\">\n                                                {'Delete'}\n                                            </li> */}\n                    </React.Fragment>\n                  )}\n                  {activeType == \"active\" && (\n                    <React.Fragment>\n                      {!jobDetailsData?.quoteJob && (\n                        <li\n                          onClick={() => {\n                            props.history.push(\n                              `/jobs?active=${activeType}&jobId=${paramJobId}&editMilestone=true`\n                            );\n                          }}\n                          className=\"icon edit_line\"\n                        >\n                          {\"Edit Milestone\"}\n                        </li>\n                      )}\n\n                      {hideDispute === \"false\" && (\n                        <li\n                          onClick={() => {\n                            props.history.push(\n                              `/jobs?active=${activeType}&jobId=${paramJobId}&lodgeDispute=true`\n                            );\n                          }}\n                          className=\"icon lodge\"\n                        >\n                          {\"Lodge dispute\"}\n                        </li>\n                      )}\n                      <li\n                        onClick={() => {\n                          props.history.push(\n                            `/jobs?active=${activeType}&jobId=${paramJobId}&cancelJob=true`\n                          );\n                        }}\n                        className=\"icon delete\"\n                      >\n                        {\"Cancel job\"}\n                      </li>\n                    </React.Fragment>\n                  )}\n                </ul>\n              </div>\n            </span>\n          ) : null}\n          <Dialog\n            open={toggleDelete}\n            onClose={() => {\n              setToggleDelete((prev: any) => !prev);\n            }}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">\n              {activeType == \"open\" && jobDetailsData?.quoteJob\n                ? \"Are you sure you want to delete the job ?\"\n                : \"Are you sure you want to delete the job ?\"}\n            </DialogTitle>\n            <DialogActions>\n              <Button\n                onClick={async () => {\n                  // if (activeType == \"open\" && jobDetailsData?.quoteJob) {\n                  //     let response = await closeOpenedJob({ jobId: paramJobId });\n                  //     setToggleDelete((prev: any) => !prev);\n                  //     if (response?.success) {\n                  //         props.history.push('/jobs?active=past');\n                  //     }\n                  // } else {\n                  if (activeType == \"open\") deleteJob(paramJobId);\n                  // }\n                }}\n                color=\"primary\"\n                autoFocus\n              >\n                {\"Yes\"}\n              </Button>\n              <Button\n                onClick={() => {\n                  setToggleDelete((prev: any) => !prev);\n                }}\n                color=\"primary\"\n              >\n                {\"No\"}\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n          <FsLightbox\n            toggler={toggler}\n            slide={selectedSlide}\n            sources={sources}\n            types={types}\n            key={sources?.length}\n            onClose={() => {\n              setSelectSlide(1);\n            }}\n          />\n\n          <div className=\"vid_img_wrapper pt-20\">\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8 relative\">\n                <button\n                  className=\"back\"\n                  onClick={() => {\n                    if (activeType) {\n                      props.history.push(`/jobs?active=${activeType}`);\n                    } else {\n                      props.history?.goBack();\n                    }\n                  }}\n                ></button>\n              </div>\n            </div>\n            <div className=\"flex_col_sm_4 relative\">\n              <div className=\"detail_card\">\n                <span className=\"title line-3\" title={jobDetailsData.jobName}>\n                  {jobDetailsData.jobName}\n                </span>\n                <span className=\"tagg\">Job details</span>\n                <div className=\"job_info\">\n                  {jobDetailsData?.quoteCount?.length &&\n                  jobDetailsData?.quoteJob ? ( // temporary check\n                    <ul>\n                      <li className=\"icon dollar\">{jobDetailsData.amount}</li>\n                      <li className=\"\"></li>\n                      <li\n                        className=\"icon location line-1\"\n                        title={jobDetailsData.locationName}\n                      >\n                        {jobDetailsData.locationName}\n                      </li>\n                      <li className=\"icon calendar\">\n                        {jobDetailsData?.time\n                          ? jobDetailsData.time\n                          : renderTime(\n                              jobDetailsData.fromDate,\n                              jobDetailsData?.toDate\n                            )}\n                      </li>\n                    </ul>\n                  ) : !isPastJob ? (\n                    <ul>\n                      <li className=\"icon clock\">{jobDetailsData.duration}</li>\n                      <li className=\"icon dollar\">{jobDetailsData.amount}</li>\n                      <li\n                        className=\"icon location line-1\"\n                        title={jobDetailsData.locationName}\n                      >\n                        {jobDetailsData.locationName}\n                      </li>\n                      <li className=\"icon calendar\">\n                        {jobDetailsData?.time\n                          ? jobDetailsData.time\n                          : renderTime(\n                              jobDetailsData.fromDate,\n                              jobDetailsData?.toDate\n                            )}\n                      </li>\n                    </ul>\n                  ) : (\n                    <ul>\n                      <li className=\"icon calendar\">\n                        {jobDetailsData?.time\n                          ? jobDetailsData.time\n                          : renderTime(\n                              jobDetailsData.fromDate,\n                              jobDetailsData?.toDate\n                            )}\n                      </li>\n                      <li className=\"icon dollar\">{jobDetailsData.amount}</li>\n                      <li\n                        className=\"icon location line-1\"\n                        title={jobDetailsData?.locationName}\n                      >\n                        {jobDetailsData?.locationName}\n                      </li>\n                      <li className=\"job_status\">{paramStatus}</li>\n                      {/* <li className=\"job_status\">{jobDetailsData?.status}</li> */}\n                    </ul>\n                  )}\n                </div>\n                {console.log({\n                  changeRequestDeclineReason:\n                    jobDetailsData.changeRequestDeclineReason,\n                  isCancelJobRequest: jobDetailsData.isCancelJobRequest,\n                  isChangeRequest: jobDetailsData.isChangeRequest,\n                  isPublishedAgain: jobDetailsData.isPublishedAgain,\n                  reasonForCancelJobRequest:\n                    jobDetailsData.reasonForCancelJobRequest,\n                  reasonNoteForCancelJobRequestjob:\n                    jobDetailsData.reasonNoteForCancelJobRequest,\n                  rejectReasonNoteForCancelJobRequest:\n                    jobDetailsData.rejectReasonNoteForCancelJobRequest,\n                })}\n\n                {(CASE_1 || CASE_2 || CASE_3 || CASE_4) && (\n                  <button\n                    className=\"fill_grey_btn full_btn pending_info\"\n                    onClick={() => {\n                      setPendingRequestClicked(true);\n                    }}\n                  >\n                    {(CASE_1 || CASE_2 || CASE_3 || CASE_4) && (\n                      <span>\n                        <img src={pendingIcon} alt=\"icon\" />\n                        {`View all request(s)`}\n                      </span>\n                    )}\n                  </button>\n                )}\n\n                <Modal\n                  className=\"ques_ans_modal\"\n                  open={pendingRequestClicked}\n                  onClose={() => setPendingRequestClicked(false)}\n                  aria-labelledby=\"simple-modal-title\"\n                  aria-describedby=\"simple-modal-description\"\n                >\n                  <div\n                    className=\"custom_wh\"\n                    data-aos=\"zoom-in\"\n                    data-aos-delay=\"30\"\n                    data-aos-duration=\"1000\"\n                  >\n                    <div className=\"heading\">\n                      <span className=\"sub_title\">\n                        {CASE_1 && `Pending Request(s)`}\n                      </span>\n                      <button\n                        className=\"close_btn\"\n                        onClick={() => setPendingRequestClicked(false)}\n                      >\n                        <img src={cancel} alt=\"cancel\" />\n                      </button>\n                    </div>\n                    {CASE_1 && (\n                      <div className=\"chang_req_card\">\n                        <span className=\"xs_sub_title\">\n                          Job cancellation request\n                        </span>\n                        <p className=\"commn_para line-2\">\n                          <li>\n                            {JobCancelReasons(\n                              jobDetailsData?.reasonForCancelJobRequest\n                            )}\n                          </li>\n                          <li>\n                            {jobDetailsData?.reasonNoteForCancelJobRequest}\n                          </li>\n                        </p>\n                        <button\n                          className=\"fill_btn btn-effect\"\n                          onClick={() => {\n                            handleCancelJob(1, jobDetailsData);\n                            // if (jobDetailsData?.quoteJob) {\n                            //     let quote: any = jobDetailsData?.quote;\n                            //     if (quote && Array.isArray(quote) && quote[0] && quote[0]?.tradieId) {\n                            //         let quoteId: any = quote[0].tradieId;\n                            //         props.history.push(`/quote-job-cancel?jobId=${jobDetailsData?.jobId}&tradieId=${quoteId}`);\n                            //     }\n                            // } else {\n                            //     handleCancelJob(1, jobDetailsData) ;\n                            // }\n                          }}\n                        >\n                          {\"Accept\"}\n                        </button>\n                        <button\n                          className=\"fill_grey_btn btn-effect\"\n                          onClick={() => {\n                            handleCancelJob(2, jobDetailsData);\n                          }}\n                        >\n                          {\"Reject\"}\n                        </button>\n                      </div>\n                    )}\n\n                    {(CASE_2 || CASE_3 || CASE_4) && (\n                      <span className=\"sub_title\">{\"Reason(s)\"}</span>\n                    )}\n\n                    {CASE_2 && (\n                      <div className=\"chang_req_card\">\n                        <span className=\"xs_sub_title\">\n                          {`Job cancelled reason`}\n                        </span>\n                        <p className=\"commn_para line-2\">\n                          {JobCancelReasons(\n                            jobDetailsData?.reasonForCancelJobRequest\n                          )}\n                        </p>\n                        <p className=\"commn_para line-2\">\n                          {jobDetailsData?.reasonNoteForCancelJobRequest?.length\n                            ? jobDetailsData?.reasonNoteForCancelJobRequest\n                            : jobDetailsData?.rejectReasonNoteForCancelJobRequest}\n                        </p>\n                      </div>\n                    )}\n\n                    {CASE_3 && (\n                      <div className=\"chang_req_card\">\n                        <span className=\"xs_sub_title\">\n                          {\"Change request reject reason\"}\n                        </span>\n                        <p className=\"commn_para line-2\">\n                          {jobDetailsData?.changeRequestDeclineReason}\n                        </p>\n                      </div>\n                    )}\n\n                    {CASE_4 && (\n                      <div className=\"chang_req_card\">\n                        <span className=\"xs_sub_title\">\n                          {`Job cancelled rejected reason`}\n                        </span>\n                        <p className=\"commn_para line-2\">\n                          {jobDetailsData?.rejectReasonNoteForCancelJobRequest}\n                        </p>\n                      </div>\n                    )}\n\n                    {/* {} */}\n                  </div>\n                </Modal>\n\n                {(paramStatus === \"EXPIRED\" || paramStatus === \"expired\") &&\n                  !jobDetailsData?.isPublishedAgain && (\n                    <button\n                      className=\"fill_btn full_btn btn-effect mt-sm\"\n                      onClick={() =>\n                        props.history.push(`/post-new-job?jobId=${paramJobId}`)\n                      }\n                    >\n                      Publish again\n                    </button>\n                  )}\n\n                {jobDetailsData?.quote?.length > 0 &&\n                  [\"active\", \"open\"].includes(activeType) &&\n                  jobDetailsData.quoteJob && (\n                    <button\n                      className=\"fill_grey_btn full_btn btn-effect mt-sm\"\n                      onClick={() => {\n                        if (activeType == \"active\") {\n                          let quoteId = null;\n                          if (\n                            jobDetailsData?.quote &&\n                            Array.isArray(jobDetailsData?.quote) &&\n                            jobDetailsData?.quote[0]?.quote &&\n                            Array.isArray(jobDetailsData?.quote[0]?.quote) &&\n                            jobDetailsData?.quote[0]?.quote[0]?._id\n                          ) {\n                            quoteId = jobDetailsData?.quote[0]?.quote[0]?._id;\n                          }\n                          if (quoteId) {\n                            props.history.push(\n                              `/jobs?active=${activeType}&viewQuotes=true&jobId=${jobDetailsData?.jobId}&id=${quoteId}`\n                            );\n                          }\n                        } else {\n                          props.history.push(\n                            `/jobs?active=${activeType}&quotes=true&jobId=${jobDetailsData?.jobId}`\n                          );\n                        }\n                      }}\n                    >\n                      {activeType == \"active\"\n                        ? \"View quote\"\n                        : `${jobDetailsData?.quote?.length} Quotes`}\n                    </button>\n                  )}\n\n                <Modal\n                  className=\"custom_modal\"\n                  open={jobRejectModal}\n                  onClose={() => {\n                    setJobRejectModal(false);\n                  }}\n                  aria-labelledby=\"simple-modal-title\"\n                  aria-describedby=\"simple-modal-description\"\n                >\n                  <div\n                    className=\"custom_wh profile_modal\"\n                    data-aos=\"zoom-in\"\n                    data-aos-delay=\"30\"\n                    data-aos-duration=\"1000\"\n                  >\n                    <div className=\"heading\">\n                      <span className=\"sub_title\">{`Your reply to job cancellation`}</span>\n                      <button\n                        className=\"close_btn\"\n                        onClick={() => {\n                          setJobRejectModal(false);\n                        }}\n                      >\n                        <img src={cancel} alt=\"cancel\" />\n                      </button>\n                    </div>\n                    <div className=\"form_field\">\n                      <label className=\"form_label\">{`Let the tradesperson and Tickt know if you accept or reject cancelling for this job.`}</label>\n                      <div className=\"text_field\">\n                        <textarea\n                          placeholder={`I disagree with this cancelling`}\n                          maxLength={250}\n                          value={replyText}\n                          onChange={(e: any) => {\n                            setReplyText(e.target.value.trimLeft());\n                          }}\n                        />\n                        <span className=\"char_count\">{`${replyText?.length}/250`}</span>\n                      </div>\n                      {replyText?.length > 250 && (\n                        <span className=\"error_msg\">\n                          {errors.replyCancelReason}\n                        </span>\n                      )}\n                    </div>\n                    <div className=\"bottom_btn custom_btn\">\n                      <button\n                        className=\"fill_btn full_btn btn-effect\"\n                        onClick={() => {\n                          operationCancelJob();\n                        }}\n                      >\n                        {\"Send\"}\n                      </button>\n                      <button\n                        className=\"fill_grey_btn btn-effect\"\n                        onClick={() => {\n                          setJobRejectModal(false);\n                          setJobData({});\n                          setPendingRequestClicked(true);\n                        }}\n                      >\n                        {\"Cancel\"}\n                      </button>\n                    </div>\n                  </div>\n                </Modal>\n\n                <Modal\n                  className=\"custom_modal\"\n                  open={jobAcceptModal}\n                  onClose={() => {\n                    setJobAcceptModal(false);\n                  }}\n                  aria-labelledby=\"simple-modal-title\"\n                  aria-describedby=\"simple-modal-description\"\n                >\n                  <div\n                    className=\"custom_wh confirmation\"\n                    data-aos=\"zoom-in\"\n                    data-aos-delay=\"30\"\n                    data-aos-duration=\"1000\"\n                  >\n                    <div className=\"heading\">\n                      <span className=\"xs_sub_title\">{`Accept Job Cancellation Request`}</span>\n                      <button\n                        className=\"close_btn\"\n                        onClick={() => {\n                          setJobAcceptModal(false);\n                          setPendingRequestClicked(false);\n                        }}\n                      >\n                        <img src={cancel} alt=\"cancel\" />\n                      </button>\n                    </div>\n                    <div className=\"modal_message\">\n                      <p>Are you sure you still want to proceed?</p>\n                    </div>\n                    <div className=\"dialog_actions\">\n                      <button\n                        className=\"fill_btn btn-effect\"\n                        onClick={() => {\n                          operationCancelJob();\n                        }}\n                      >\n                        Yes\n                      </button>\n                      <button\n                        className=\"fill_grey_btn btn-effect\"\n                        onClick={() => {\n                          setJobAcceptModal(false);\n                          setJobData({});\n                          setPendingRequestClicked(true);\n                        }}\n                      >\n                        No\n                      </button>\n                    </div>\n                  </div>\n                </Modal>\n              </div>\n            </div>\n            <span className=\"sub_title\" style={{ marginTop: \"30px\" }}>\n              {\"Photos & Docs\"}\n            </span>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8\">\n                <figure className=\"\">\n                  <OwlCarousel {...options} className=\"customOwlCarousel\">\n                    {itemsMedia.length ? (\n                      itemsMedia.map((image: any, index: number) => {\n                        console.log(\n                          {\n                            image,\n                            mediaType: image?.mediaType,\n                          },\n                          \"---?\"\n                        );\n                        return image?.mediaType === 1 ? (\n                          <img\n                            key={`${image}${index}`}\n                            onClick={() => {\n                              setToggler((prev: any) => !prev);\n                              setSelectSlide(fsSlideListner[`${index}`]);\n                            }}\n                            title={filterFileName(image.link)}\n                            alt=\"\"\n                            src={image?.link ? image?.link : jobDummyImage}\n                          />\n                        ) : image?.mediaType === 2 ? (\n                          <video\n                            key={`${image}${index}`}\n                            onClick={() => {\n                              setToggler((prev: any) => !prev);\n                              setSelectSlide(fsSlideListner[`${index}`]);\n                            }}\n                            title={filterFileName(image.link)}\n                            src={image?.link}\n                            style={{ height: \"400px\", width: \"800px\" }}\n                          />\n                        ) : (\n                          <img\n                            key={`${image}${index}`}\n                            className=\"doc_icon\"\n                            onClick={() => {\n                              let url = `/doc-view?url=${image.link}`; //\n                              window.open(url, \"_blank\");\n                            }}\n                            title={filterFileName(image.link)}\n                            alt=\"\"\n                            src={docThumbnail}\n                          />\n                        );\n                      })\n                    ) : (\n                      <img alt=\"\" src={jobDummyImage} />\n                    )}\n                  </OwlCarousel>\n                </figure>\n              </div>\n            </div>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8\">\n                <div className=\"description\">\n                  <span className=\"sub_title\">Job Description</span>\n                  <p className=\"commn_para\">{jobDetailsData.details}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_4\">\n                <span className=\"sub_title\">\n                  Job Milestones\n                  {/* <b>{`Job Milestones ${jobDetailsData?.milestoneNumber} `}</b>{`of ${jobDetailsData?.totalMilestones}`} */}\n                  <b className=\"ft_normal\">\n                    {\" \"}\n                    {`${jobDetailsData?.milestoneNumber} `}\n                    {`of ${jobDetailsData?.totalMilestones || \"\"}`}{\" \"}\n                  </b>\n                </span>\n\n                <div className=\"job_progress_wrap\" id=\"scroll-progress-bar\">\n                  <div className=\"progress_wrapper\">\n                    <span className=\"approval_info\" id=\"digit-progress\">\n                      {renderByStatus()}\n                    </span>\n                    <span className=\"progress_bar\">\n                      <input\n                        className=\"done_progress\"\n                        id=\"progress-bar\"\n                        type=\"range\"\n                        min=\"0\"\n                        value={\n                          jobDetailsData?.milestoneNumber > 0\n                            ? (jobDetailsData?.milestoneNumber /\n                                jobDetailsData?.totalMilestones) *\n                              100\n                            : 0\n                        }\n                      />\n                    </span>\n                  </div>\n                </div>\n\n                <ul className=\"job_milestone\">\n                  {jobDetailsData &&\n                    jobDetailsData?.jobMilestonesData?.map(\n                      (item: any, index: number) => {\n                        return (\n                          <li key={item.milestoneId}>\n                            <span>{`${index + 1}. ${\n                              item?.milestoneName\n                            }`}</span>\n                            {console.log({ item })}\n                            <span>\n                              {renderTime(item?.fromDate, item?.toDate)}\n                            </span>\n                          </li>\n                        );\n                      }\n                    )}\n                </ul>\n                <button\n                  className=\"fill_grey_btn ques_btn btn-effect\"\n                  onClick={() =>\n                    setQuestionsData((prevData: any) => ({\n                      ...prevData,\n                      showAllQuestionsClicked: true,\n                    }))\n                  }\n                >\n                  <img src={question} alt=\"question\" />\n                  {`${jobDetailsData?.questionsCount || \"0\"} ${\n                    jobDetailsData?.questionsCount === 1\n                      ? \"question\"\n                      : \"questions\"\n                  }`}\n                </button>\n              </div>\n              {/* show all questions modal */}\n              {questionsData.showAllQuestionsClicked && (\n                <Modal\n                  className=\"ques_ans_modal\"\n                  open={questionsData.showAllQuestionsClicked}\n                  onClose={() => {\n                    modalCloseHandler(\"showAllQuestionsClicked\");\n                  }}\n                  aria-labelledby=\"simple-modal-title\"\n                  aria-describedby=\"simple-modal-description\"\n                >\n                  <>\n                    <div\n                      className=\"custom_wh\"\n                      data-aos=\"zoom-in\"\n                      data-aos-delay=\"30\"\n                      data-aos-duration=\"1000\"\n                    >\n                      <div className=\"heading\">\n                        <span className=\"sub_title\">\n                          {jobDetailsData?.questionsCount\n                            ? `${jobDetailsData?.questionsCount} ${\n                                jobDetailsData?.questionsCount === 1\n                                  ? \"question\"\n                                  : \"questions\"\n                              }`\n                            : \"\"}\n                        </span>\n                        <button\n                          className=\"close_btn\"\n                          onClick={() =>\n                            modalCloseHandler(\"showAllQuestionsClicked\")\n                          }\n                        >\n                          <img src={cancel} alt=\"cancel\" />\n                        </button>\n                      </div>\n                      <div className=\"inner_wrap\">\n                        {questionList?.length > 0 &&\n                          questionList?.map((item: any, index: number) => {\n                            const { tradieData } = item;\n                            return (\n                              <div key={item?._id}>\n                                <div className=\"question_ans_card\">\n                                  <div className=\"user_detail\">\n                                    <figure className=\"user_img\">\n                                      <img\n                                        src={\n                                          tradieData?.[0]?.user_image || dummy\n                                        }\n                                        alt=\"user-img\"\n                                      />\n                                    </figure>\n                                    <div className=\"details\">\n                                      <span className=\"user_name\">\n                                        {tradieData?.[0]?.firstName || \"\"}\n                                      </span>\n                                      <span className=\"date\">\n                                        {moment(item?.updatedAt).format(\n                                          \"Do MMMM YYYY\"\n                                        ) || \"\"}\n                                      </span>\n                                    </div>\n                                  </div>\n                                  <p>{item?.question || \"\"}</p>\n                                  {/* {Object.keys(questionsData?.showHideAnswer).length &&\n                                                                        questionsData?.showHideAnswer[questionData?.questionId] ? (\n                                                                        <span\n                                                                            onClick={() => questionHandler('showAnswerClicked', item?.questionData?.questionId)}\n                                                                            className=\"show_hide_ans link\">\n                                                                            {'Hide answer'}\n                                                                        </span>\n                                                                    ) : Object.keys(item?.questionData?.answerData).length ? (\n                                                                        <span\n                                                                            onClick={() => questionHandler('hideAnswerClicked', item?.questionData?.questionId)}\n                                                                            className=\"show_hide_ans link\">\n                                                                            {'Show answer'}\n                                                                        </span>\n                                                                    ) : (\n                                                                        <span\n                                                                            onClick={() => questionHandler('askQuestion', item?.questionData?.questionId)}\n                                                                            className=\"show_hide_ans link\">\n                                                                            {'Answer'}\n                                                                        </span>\n                                                                    )} */}\n\n                                  {item?.answers?.length === 0 && (\n                                    <span\n                                      onClick={() =>\n                                        questionHandler(\n                                          \"askQuestion\",\n                                          item?._id\n                                        )\n                                      }\n                                      className=\"show_hide_ans link\"\n                                    >\n                                      {\"Answer\"}\n                                    </span>\n                                  )}\n                                </div>\n                                {item?.answers?.length > 0 &&\n                                  showNestedAnswersData(\n                                    item?.answers,\n                                    item?._id,\n                                    index\n                                  )}\n                                {/* {item?.answers?.length && item?.answers?.[0]?.hasOwnProperty('answer') && item?.answers?.[item?.answers?.length - 1]?.sender_user_type === 2 &&\n                                                                    <>\n                                                                        <span onClick={() => questionHandler('updateQuestion', item?.questionData?.questionId, item?.questionData?.answerData?.answer, null, item?.questionData?.answerData?.answerId)}\n                                                                            className=\"show_hide_ans link\">Edit</span>\n                                                                        <span onClick={() => questionHandler('deleteQuestion', item?.questionData?.questionId, '', index, item?.questionData?.answerData?.answerId)}\n                                                                            className=\"show_hide_ans link\">Delete</span>\n                                                                    </>\n                                                                } */}\n                              </div>\n                            );\n                          })}\n                        {jobDetailsData?.questionsCount >\n                          questionList.length && (\n                          <div className=\"text-center\">\n                            <button\n                              className=\"fill_grey_btn load_more\"\n                              onClick={loadMoreQuestionHandler}\n                            >\n                              View more\n                            </button>\n                          </div>\n                        )}\n                      </div>\n                      {questionList?.length === 0 && (\n                        <div className=\"no_record align_centr\">\n                          <figure className=\"no_img\">\n                            <img src={noDataFound} alt=\"data not found\" />\n                          </figure>\n                          <span>No Questions Found</span>\n                        </div>\n                      )}\n                    </div>\n                  </>\n                </Modal>\n              )}\n              {/* show ask question modal */}\n              {questionsData.askQuestionsClicked && (\n                <Modal\n                  className=\"ques_ans_modal\"\n                  open={questionsData.askQuestionsClicked}\n                  onClose={() => modalCloseHandler(\"askQuestionsClicked\")}\n                  aria-labelledby=\"simple-modal-title\"\n                  aria-describedby=\"simple-modal-description\"\n                >\n                  <div\n                    className=\"custom_wh ask_ques\"\n                    data-aos=\"zoom-in\"\n                    data-aos-delay=\"30\"\n                    data-aos-duration=\"1000\"\n                  >\n                    <div className=\"heading\">\n                      <span className=\"sub_title\">\n                        {questionsData.updateQuestionsClicked\n                          ? \"Edit Answer\"\n                          : `Answer`}\n                      </span>\n                      <button\n                        className=\"close_btn\"\n                        onClick={() => modalCloseHandler(\"askQuestionsClicked\")}\n                      >\n                        <img src={cancel} alt=\"cancel\" />\n                      </button>\n                    </div>\n                    <div className=\"form_field\">\n                      <label className=\"form_label\">Your answer</label>\n                      <div className=\"text_field\">\n                        <textarea\n                          placeholder=\"Text\"\n                          value={questionsData.questionData}\n                          onChange={(e) => handleChange(e, \"questionData\")}\n                        ></textarea>\n                        <span className=\"char_count\">{`${\n                          questionsData.questionData.trim().length\n                        }/250`}</span>\n                      </div>\n                      {!!errors.questionData && (\n                        <span className=\"error_msg\">{errors.questionData}</span>\n                      )}\n                    </div>\n                    <div className=\"bottom_btn custom_btn\">\n                      {questionsData.updateQuestionsClicked ? (\n                        <button\n                          className=\"fill_btn full_btn\"\n                          onClick={() =>\n                            submitQuestionHandler(\"updateQuestion\")\n                          }\n                        >\n                          Save\n                        </button>\n                      ) : (\n                        <button\n                          className=\"fill_btn full_btn\"\n                          onClick={() => questionHandler(\"submitAskQuestion\")}\n                        >\n                          Send\n                        </button>\n                      )}\n                      <button\n                        className=\"fill_grey_btn\"\n                        onClick={() =>\n                          questionHandler(\"questionCancelBtnClicked\")\n                        }\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                  </div>\n                </Modal>\n              )}\n              {/* send confirmation yes/no modal */}\n              {questionsData.confirmationClicked && (\n                <Modal\n                  className=\"custom_modal\"\n                  open={questionsData.confirmationClicked}\n                  onClose={() => modalCloseHandler(\"confirmationClicked\")}\n                  aria-labelledby=\"simple-modal-title\"\n                  aria-describedby=\"simple-modal-description\"\n                >\n                  <>\n                    <div\n                      className=\"custom_wh confirmation\"\n                      data-aos=\"zoom-in\"\n                      data-aos-delay=\"30\"\n                      data-aos-duration=\"1000\"\n                    >\n                      <div className=\"heading\">\n                        <span className=\"xs_sub_title\">{`${\n                          questionsData.deleteQuestionsClicked\n                            ? \"Delete\"\n                            : \"Post\"\n                        } Answer Confirmation`}</span>\n                        <button\n                          className=\"close_btn\"\n                          onClick={() =>\n                            modalCloseHandler(\"confirmationClicked\")\n                          }\n                        >\n                          <img src={cancel} alt=\"cancel\" />\n                        </button>\n                      </div>\n                      <div className=\"modal_message\">\n                        <p>{`Are you sure you want to ${\n                          questionsData.deleteQuestionsClicked\n                            ? \"delete\"\n                            : \"post\"\n                        } a answer?`}</p>\n                      </div>\n                      <div className=\"dialog_actions\">\n                        <button\n                          className=\"fill_btn\"\n                          onClick={() =>\n                            submitQuestionHandler(\n                              questionsData.questionsClickedType\n                            )\n                          }\n                        >\n                          Yes\n                        </button>\n                        <button\n                          className=\"fill_grey_btn\"\n                          onClick={() =>\n                            modalCloseHandler(\"confirmationClicked\")\n                          }\n                        >\n                          No\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                </Modal>\n              )}\n              <div className=\"flex_col_sm_8\">\n                <div className=\"flex_row\">\n                  <div className=\"flex_col_sm_12\">\n                    <span className=\"sub_title\">Job type</span>\n                    <ul className=\"job_categories\">\n                      <li>\n                        <figure className=\"type_icon\">\n                          <img\n                            alt=\"\"\n                            src={jobDetailsData?.jobType?.jobTypeImage}\n                          />\n                        </figure>\n                        <span className=\"name\">\n                          {jobDetailsData?.jobType?.jobTypeName}\n                        </span>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n                <div className=\"flex_row\">\n                  <div className=\"flex_col_sm_12\">\n                    <span className=\"sub_title\">\n                      {\"Specialisations needed\"}\n                    </span>\n                    <div className=\"tags_wrap\">\n                      <ul>\n                        {jobDetailsData?.specializationData?.map(\n                          (item: any) => {\n                            return (\n                              <li key={item.specializationId}>\n                                {item.specializationName}\n                              </li>\n                            );\n                          }\n                        )}\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"section_wrapper\">\n              <span className=\"sub_title\">Posted by</span>\n              <div className=\"flex_row\">\n                <div className=\"flex_col_sm_3\">\n                  <div className={`tradie_card posted_by`}>\n                    <div className=\"user_wrap\">\n                      <figure className={`u_img`}>\n                        {jobDetailsData?.postedBy?.hasOwnProperty(\n                          \"builderImage\"\n                        ) ? (\n                          <img\n                            src={\n                              jobDetailsData?.postedBy?.builderImage || dummy\n                            }\n                            alt=\"traide-img\"\n                            onError={(e: any) => {\n                              if (e?.target?.onerror) {\n                                e.target.onerror = null;\n                              }\n                              if (e?.target?.src) {\n                                e.target.src = dummy;\n                              }\n                            }}\n                          />\n                        ) : Array.isArray(jobDetailsData?.postedBy) ? (\n                          renderBuilderAvatar(\"image\")\n                        ) : (\n                          <img src={dummy} alt=\"traide-img\" />\n                        )}\n                      </figure>\n                      <div className=\"details\">\n                        <span\n                          className=\"name\"\n                          onClick={() => {\n                            if (jobDetailsData?.postedBy?.builderName) {\n                              props?.history?.push(\n                                `/builder-info?builderId=${jobDetailsData?.postedBy?.builderId}`\n                              );\n                            }\n                          }}\n                        >\n                          {jobDetailsData?.postedBy?.builderName ||\n                            renderBuilderAvatar(\"name\")}\n                        </span>\n\n                        <span className=\"rating\">\n                          {`${\n                            jobDetailsData?.postedBy?.ratings\n                              ? jobDetailsData?.postedBy?.ratings\n                              : \"0\"\n                          } | ${\n                            jobDetailsData?.postedBy?.reviews\n                              ? jobDetailsData?.postedBy?.reviews\n                              : \"0\"\n                          } reviews`}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default JobDetailsPage;\n"]},"metadata":{},"sourceType":"module"}