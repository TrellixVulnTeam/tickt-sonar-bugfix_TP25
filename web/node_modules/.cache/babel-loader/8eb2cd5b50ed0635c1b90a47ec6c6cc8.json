{"ast":null,"code":"import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import dummy from\"../../../assets/images/u_placeholder.jpg\";import question from\"../../../assets/images/ic-question.png\";import editIconBlue from\"../../../assets/images/ic-edit-blue.png\";import leftIcon from\"../../../assets/images/ic-back-arrow-line.png\";import rightIcon from\"../../../assets/images/ic-next-arrow-line.png\";import{createPostJob,publishJobAgain,publishOpenJobAgain}from\"../../../redux/jobs/actions\";import moment from\"moment\";import jobDummyImage from\"../../../assets/images/ic-placeholder-detail.png\";import OwlCarousel from\"react-owl-carousel\";import\"owl.carousel/dist/assets/owl.carousel.css\";import\"owl.carousel/dist/assets/owl.theme.default.css\";import docThumbnail from\"../../../assets/images/add-document.png\";import{renderTimeWithFormat}from\"../../../utils/common\";import{useHistory}from\"react-router-dom\";import{moengage,mixPanel}from\"../../../services/analyticsTools\";import{MoEConstants}from\"../../../utils/constants\";//@ts-ignore\nimport FsLightbox from\"fslightbox-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isDevelopment=process.env.NODE_ENV===\"development\"?true:false;var options={items:1,nav:true,navText:[\"<div class='nav-btn prev-slide'> <img src=\\\"\".concat(leftIcon,\"\\\"> </div>\"),\"<div class='nav-btn next-slide'> <img src=\\\"\".concat(rightIcon,\"\\\"> </div>\")],rewind:true,autoplay:false,slideBy:1,dots:true,dotsEach:true,dotData:true,responsive:{0:{items:1},600:{items:1},1000:{items:1}}};var imageFormats=[\"jpeg\",\"jpg\",\"png\"];var videoFormats=[\"mp4\",\"wmv\",\"avi\"];var docformats=[\"pdf\",\"doc\",\"docx\",\"msword\"];var JobDetails=function JobDetails(_ref){var _data_clone$urls3,_data$urls2,_data$urls3,_categorySelected$job,_categorySelected$job2,_categorySelected$cat,_categorySelected$cat2;var data=_ref.data,milestones=_ref.milestones,categories=_ref.categories,builderProfile=_ref.builderProfile,jobTypes=_ref.jobTypes,stepCompleted=_ref.stepCompleted,updateDetailScreen=_ref.updateDetailScreen,handleStepForward=_ref.handleStepForward,handleStepComplete=_ref.handleStepComplete,clearParentStates=_ref.clearParentStates,handleStepBack=_ref.handleStepBack,jobId=_ref.jobId;var _useState=useState({category:{},job_type:{}}),_useState2=_slicedToArray(_useState,2),categorySelected=_useState2[0],setSelected=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isEnablePopup=_useState4[0],setPopUp=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),toggler=_useState6[0],setToggler=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),selectedSlide=_useState8[0],setSelectSlide=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),fsSlideListner=_useState10[0],setFsSlideListner=_useState10[1];var history=useHistory();var tradeListRedux=useSelector(function(state){return state.auth.tradeListData;});var findSelectedCategory=function findSelectedCategory(){var _data$categories,_data$job_type,_data$specialization;var preSelectedItem=null;var preSelectedJobType=null;var preSelectedSpecialization=null;if((data===null||data===void 0?void 0:data.categories)&&(data===null||data===void 0?void 0:(_data$categories=data.categories)===null||_data$categories===void 0?void 0:_data$categories.length)){preSelectedItem=data===null||data===void 0?void 0:data.categories[0];}if((data===null||data===void 0?void 0:data.job_type)&&(data===null||data===void 0?void 0:(_data$job_type=data.job_type)===null||_data$job_type===void 0?void 0:_data$job_type.length)){preSelectedJobType=data===null||data===void 0?void 0:data.job_type[0];}if((data===null||data===void 0?void 0:data.specialization)&&(data===null||data===void 0?void 0:(_data$specialization=data.specialization)===null||_data$specialization===void 0?void 0:_data$specialization.length)){preSelectedSpecialization=data===null||data===void 0?void 0:data.specialization;}if((categories===null||categories===void 0?void 0:categories.length)&&preSelectedItem&&preSelectedJobType){var _filterItem$specialis;var filterItem=categories.find(function(item){return item._id===preSelectedItem;});var filter_specialization=[];if((filterItem===null||filterItem===void 0?void 0:filterItem.specialisations)&&(filterItem===null||filterItem===void 0?void 0:(_filterItem$specialis=filterItem.specialisations)===null||_filterItem$specialis===void 0?void 0:_filterItem$specialis.length)){var _filterItem$specialis2;filter_specialization=filterItem===null||filterItem===void 0?void 0:(_filterItem$specialis2=filterItem.specialisations)===null||_filterItem$specialis2===void 0?void 0:_filterItem$specialis2.filter(function(item){if(preSelectedSpecialization.includes(item._id)){return item;}});}var filterJobType=jobTypes.find(function(item){return item._id===preSelectedJobType;});if(filterJobType||filter_specialization){setSelected({category:filter_specialization,// specialisations\njob_type:filterJobType});}}};useEffect(function(){updateDetailScreen(null);if(categorySelected!==undefined&&categorySelected!==null&&!Object.keys(categorySelected===null||categorySelected===void 0?void 0:categorySelected.category).length||categorySelected!==undefined&&categorySelected!==null&&!Object.keys(categorySelected===null||categorySelected===void 0?void 0:categorySelected.job_type).length){findSelectedCategory();}},[categories,jobTypes,stepCompleted]);useEffect(function(){var _data$urls,_Object$keys;var fsSlideObj={};var slideCount=1;if(data===null||data===void 0?void 0:(_data$urls=data.urls)===null||_data$urls===void 0?void 0:_data$urls.length){data===null||data===void 0?void 0:data.urls.forEach(function(item,index){if((item===null||item===void 0?void 0:item.mediaType)===1||(item===null||item===void 0?void 0:item.mediaType)===2){fsSlideObj[\"\".concat(index)]=slideCount++;}});}if(((_Object$keys=Object.keys(fsSlideObj))===null||_Object$keys===void 0?void 0:_Object$keys.length)>0)setFsSlideListner(fsSlideObj);},[data.urls]);var forwardScreenStep=function forwardScreenStep(id,data){updateDetailScreen({currentScreen:id,data:data});handleStepForward(id);};var filterFileName=function filterFileName(link){if(link===null||link===void 0?void 0:link.length){var arrItems=link.split(\"/\");return arrItems[(arrItems===null||arrItems===void 0?void 0:arrItems.length)-1];}};var handlePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _history$location,_data_clone$urls,_response;var data_clone,milestones_clone,params,update,filter_milestones,from_date,to_date,urls_,filteredItems,createJob,response,_tradeListRedux$find,_data_clone$milestone,mData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data_clone=data;milestones_clone=milestones;params=new URLSearchParams((_history$location=history.location)===null||_history$location===void 0?void 0:_history$location.search);update=params.get(\"update\")||\"\";filter_milestones=milestones_clone.filter(function(item,index){if(Object.keys(item).length){var _item$to_date,_item$from_date;if(!(item===null||item===void 0?void 0:(_item$to_date=item.to_date)===null||_item$to_date===void 0?void 0:_item$to_date.length)){item===null||item===void 0?true:delete item.to_date;}if(!(item===null||item===void 0?void 0:(_item$from_date=item.from_date)===null||_item$from_date===void 0?void 0:_item$from_date.length)||(item===null||item===void 0?void 0:item.from_date)===\"Invalid date\"){item===null||item===void 0?true:delete item.from_date;}item[\"order\"]=index+1;return item;}});data_clone[\"milestones\"]=filter_milestones;from_date=data_clone===null||data_clone===void 0?void 0:data_clone.from_date;to_date=data_clone===null||data_clone===void 0?void 0:data_clone.to_date;console.log({from_date:from_date,to_date:to_date});if(!data_clone.isSingleDayJob&&moment(from_date).isSame(moment(to_date))){data_clone===null||data_clone===void 0?true:delete data_clone.to_date;}if(!(to_date===null||to_date===void 0?void 0:to_date.length)){data_clone===null||data_clone===void 0?true:delete data_clone.to_date;}if(!(data_clone===null||data_clone===void 0?void 0:(_data_clone$urls=data_clone.urls)===null||_data_clone$urls===void 0?void 0:_data_clone$urls.length)){data_clone===null||data_clone===void 0?true:delete data_clone.urls;}else{urls_=data_clone===null||data_clone===void 0?void 0:data_clone.urls;filteredItems=[];if(urls_&&Array.isArray(urls_)&&(urls_===null||urls_===void 0?void 0:urls_.length)){filteredItems=urls_.map(function(item_dt){if(item_dt===null||item_dt===void 0?void 0:item_dt.base64){item_dt===null||item_dt===void 0?true:delete item_dt.base64;}return item_dt;});data_clone[\"urls\"]=filteredItems;}}if(jobId){data_clone.jobId=jobId;}createJob=jobId?publishJobAgain:createPostJob;response=null;if(data_clone.isJobRepublish)delete data_clone.isJobRepublish;delete data_clone.isSingleDayJob;if(data_clone.quoteJob==\"1\"&&data_clone.amount)delete data_clone.amount;if(!update){_context.next=27;break;}delete data_clone.editJob;if(data_clone.to_date===\"Invalid date\"||data_clone.to_date===\"\")delete data_clone.to_date;_context.next=24;return publishOpenJobAgain(data_clone);case 24:response=_context.sent;_context.next=31;break;case 27:_context.next=29;return createJob(data_clone);case 29:response=_context.sent;if(jobId){moengage.moE_SendEvent(MoEConstants.REPUBLISHED_JOB,{timeStamp:moengage.getCurrentTimeStamp()});mixPanel.mixP_SendEvent(MoEConstants.REPUBLISHED_JOB,{timeStamp:moengage.getCurrentTimeStamp()});}else{mData=_objectSpread({timeStamp:moengage.getCurrentTimeStamp(),category:(_tradeListRedux$find=tradeListRedux.find(function(i){return i._id===(data_clone===null||data_clone===void 0?void 0:data_clone.categories[0]);}))===null||_tradeListRedux$find===void 0?void 0:_tradeListRedux$find.trade_name,location:data_clone===null||data_clone===void 0?void 0:data_clone.location_name,\"Number of milestones\":data_clone===null||data_clone===void 0?void 0:(_data_clone$milestone=data_clone.milestones)===null||_data_clone$milestone===void 0?void 0:_data_clone$milestone.length,\"start date\":data_clone===null||data_clone===void 0?void 0:data_clone.from_date},(data_clone===null||data_clone===void 0?void 0:data_clone.to_date)&&{\"end date\":data_clone===null||data_clone===void 0?void 0:data_clone.to_date});moengage.moE_SendEvent(MoEConstants.POSTED_A_JOB,mData);mixPanel.mixP_SendEvent(MoEConstants.POSTED_A_JOB,mData);}case 31:if((_response=response)===null||_response===void 0?void 0:_response.success){clearParentStates();handleStepForward(12);}// console.log({data: data_clone, filter_milestones });\ncase 32:case\"end\":return _context.stop();}}},_callee);}));return function handlePost(_x){return _ref2.apply(this,arguments);};}();var data_clone=data;var renderFilteredItems=function renderFilteredItems(){var _data_clone$urls2;var sources=[];var types=[];if(data_clone===null||data_clone===void 0?void 0:(_data_clone$urls2=data_clone.urls)===null||_data_clone$urls2===void 0?void 0:_data_clone$urls2.length){data_clone===null||data_clone===void 0?void 0:data_clone.urls.forEach(function(item){if((item===null||item===void 0?void 0:item.mediaType)===2){sources.push(item.link);types.push(\"video\");}if((item===null||item===void 0?void 0:item.mediaType)===1){sources.push(item.link);types.push(\"image\");}if((item===null||item===void 0?void 0:item.mediaType)===3){sources.push(docThumbnail);types.push(\"image\");}});}return{sources:sources,types:types};};var renderTime=function renderTime(data){var format=\"YYYY-MM-DD\";var current_date=moment().startOf(\"day\").toDate();var start_date=moment(data===null||data===void 0?void 0:data.from_date,format).isValid()?moment(data===null||data===void 0?void 0:data.from_date,format).startOf(\"day\").toDate():false;var end_date=moment(data===null||data===void 0?void 0:data.to_date,format).isValid()?moment(data===null||data===void 0?void 0:data.to_date,format).startOf(\"day\").toDate():false;var result=null;if(start_date&&end_date){if(moment(start_date).isSame(moment(end_date))){end_date=false;}if(moment(start_date).isSame(moment(current_date))){result=\"Today\";}if(moment(start_date).isAfter(moment(current_date))){var days_diff=moment(start_date).diff(moment(current_date),\"days\");result=\"\".concat(days_diff,\" days\");}}if(start_date&&!end_date){if(moment(start_date).isSame(moment(current_date))){result=\"Today\";}if(moment(start_date).isAfter(moment(current_date))){var _days_diff=moment(start_date).diff(moment(current_date),\"days\");result=\"\".concat(_days_diff,\" days\");}}if(start_date){if(moment(start_date).isAfter(moment(current_date))){var _days_diff2=moment(start_date).diff(moment(current_date),\"days\");result=\"\".concat(_days_diff2,\" days\");}}return result;};var format=\"MM-DD-YYYY\";var _renderFilteredItems=renderFilteredItems(),sources=_renderFilteredItems.sources,types=_renderFilteredItems.types;return/*#__PURE__*/_jsx(\"div\",{className:\"app_wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"section_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_container\",children:[/*#__PURE__*/_jsx(FsLightbox,{toggler:toggler,slide:selectedSlide,sources:sources,types:types,onClose:function onClose(){setSelectSlide(1);}},sources===null||sources===void 0?void 0:sources.length),/*#__PURE__*/_jsxs(\"div\",{className:\"vid_img_wrapper pt-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_8 relative\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleStepBack,className:\"back\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_4 relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"detail_card\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"title line-3 pr-20\",title:data===null||data===void 0?void 0:data.jobName,children:[data===null||data===void 0?void 0:data.jobName,/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){forwardScreenStep(1);},className:\"edit_icon\",title:\"Edit\",children:/*#__PURE__*/_jsx(\"img\",{src:editIconBlue,alt:\"edit\"})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"tagg\",children:\"Job details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"job_info\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"icon calendar\",children:renderTime(data)}),data.quoteJob==0&&/*#__PURE__*/_jsxs(\"li\",{className:\"icon dollar\",children:[\"$\",data===null||data===void 0?void 0:data.amount,\" \",(data===null||data===void 0?void 0:data.pay_type)===\"Fixed price\"?\"f/p\":\"p/h\",\" \"]}),data.quoteJob==1&&/*#__PURE__*/_jsx(\"li\",{className:\"icon dollar\",children:\"For Quoting\"}),/*#__PURE__*/_jsx(\"li\",{className:\"icon location line-1\",title:data===null||data===void 0?void 0:data.location_name,children:data===null||data===void 0?void 0:data.location_name})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePost,className:\"fill_btn full_btn btn-effect mt-15\",children:jobId?\"Republish job\":\"Post job\"})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",style:{marginTop:\"30px\"},children:\"Photos & Docs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_8\",children:/*#__PURE__*/_jsx(\"figure\",{className:\"\",children:(data_clone===null||data_clone===void 0?void 0:(_data_clone$urls3=data_clone.urls)===null||_data_clone$urls3===void 0?void 0:_data_clone$urls3.length)?/*#__PURE__*/_jsx(OwlCarousel,_objectSpread(_objectSpread({},options),{},{children:(data===null||data===void 0?void 0:(_data$urls2=data.urls)===null||_data$urls2===void 0?void 0:_data$urls2.length)?data===null||data===void 0?void 0:(_data$urls3=data.urls)===null||_data$urls3===void 0?void 0:_data$urls3.map(function(image,index){console.log({image:image,mediaType:image===null||image===void 0?void 0:image.mediaType},\"---?\");return(image===null||image===void 0?void 0:image.mediaType)===1?/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){setToggler(function(prev){return!prev;});setSelectSlide(fsSlideListner[\"\".concat(index)]);},title:filterFileName(image.link),alt:\"\",src:(image===null||image===void 0?void 0:image.link)?image===null||image===void 0?void 0:image.link:jobDummyImage},\"\".concat(image).concat(index)):(image===null||image===void 0?void 0:image.mediaType)===2?/*#__PURE__*/_jsx(\"video\",{onClick:function onClick(){setToggler(function(prev){return!prev;});setSelectSlide(fsSlideListner[\"\".concat(index)]);},title:filterFileName(image.link),src:image===null||image===void 0?void 0:image.link,style:{height:\"400px\",width:\"800px\"}},\"\".concat(image).concat(index)):/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){var url=\"/doc-view?url=\".concat(image.link);//\nwindow.open(url,\"_blank\");},title:filterFileName(image.link),alt:\"\",src:docThumbnail},\"\".concat(image).concat(index));}):/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:jobDummyImage})})):/*#__PURE__*/_jsx(\"img\",{src:jobDummyImage,alt:\"item-url\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"description\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"sub_title\",children:[\"Job Description\",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){forwardScreenStep(1);},className:\"edit_icon\",title:\"Edit\",children:/*#__PURE__*/_jsx(\"img\",{src:editIconBlue,alt:\"edit\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para\",children:data===null||data===void 0?void 0:data.job_description})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex_row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"sub_title\",children:[\"Job milestones\",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){forwardScreenStep(6);},className:\"edit_icon\",title:\"Edit\",children:/*#__PURE__*/_jsx(\"img\",{src:editIconBlue,alt:\"edit\"})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"job_milestone\",children:(milestones===null||milestones===void 0?void 0:milestones.length)?milestones.map(function(item,index){return(item===null||item===void 0?void 0:item.milestone_name)&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\".concat(index+1,\". \").concat(item===null||item===void 0?void 0:item.milestone_name)}),/*#__PURE__*/_jsx(\"span\",{children:renderTimeWithFormat(item===null||item===void 0?void 0:item.from_date,item===null||item===void 0?void 0:item.to_date,format)})]});}):null}),/*#__PURE__*/_jsxs(\"button\",{style:{cursor:\"default\"},className:\"fill_grey_btn ques_btn btn-effect\",children:[/*#__PURE__*/_jsx(\"img\",{src:question,alt:\"question\"}),\"0 questions\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_12\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"sub_title\",children:[\"Job type\",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){forwardScreenStep(2);},className:\"edit_icon\",title:\"Edit\",children:/*#__PURE__*/_jsx(\"img\",{src:editIconBlue,alt:\"edit\"})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"job_categories\",children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"figure\",{className:\"type_icon\",children:/*#__PURE__*/_jsx(\"img\",{src:categorySelected===null||categorySelected===void 0?void 0:(_categorySelected$job=categorySelected.job_type)===null||_categorySelected$job===void 0?void 0:_categorySelected$job.image,alt:\"icon\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:categorySelected===null||categorySelected===void 0?void 0:(_categorySelected$job2=categorySelected.job_type)===null||_categorySelected$job2===void 0?void 0:_categorySelected$job2.name})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_12\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"sub_title\",children:[\"Specialisations needed\",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){forwardScreenStep(2);},className:\"edit_icon\",title:\"Edit\",children:/*#__PURE__*/_jsx(\"img\",{src:editIconBlue,alt:\"edit\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tags_wrap\",children:/*#__PURE__*/_jsx(\"ul\",{children:(categorySelected===null||categorySelected===void 0?void 0:(_categorySelected$cat=categorySelected.category)===null||_categorySelected$cat===void 0?void 0:_categorySelected$cat.length)?categorySelected===null||categorySelected===void 0?void 0:(_categorySelected$cat2=categorySelected.category)===null||_categorySelected$cat2===void 0?void 0:_categorySelected$cat2.map(function(item){return/*#__PURE__*/_jsx(\"li\",{children:item===null||item===void 0?void 0:item.name});}):null})})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section_wrapper\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Posted by\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_3\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){history.push(\"/builder-info?builderId=\".concat(builderProfile===null||builderProfile===void 0?void 0:builderProfile.userId));},className:\"tradie_card posted_by \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_wrap\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"u_img\",children:/*#__PURE__*/_jsx(\"img\",{src:(builderProfile===null||builderProfile===void 0?void 0:builderProfile.userImage)||dummy,alt:\"traide-img\",onError:function onError(e){var _e$target,_e$target2;if(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.onerror){e.target.onerror=null;}if(e===null||e===void 0?void 0:(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.src){e.target.src=dummy;}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:builderProfile===null||builderProfile===void 0?void 0:builderProfile.userName}),/*#__PURE__*/_jsxs(\"span\",{className:\"rating\",children:[(builderProfile===null||builderProfile===void 0?void 0:builderProfile.rating)||\"0\",\" |\",\" \",(builderProfile===null||builderProfile===void 0?void 0:builderProfile.reviews)||\"0\",\" reviews\"]})]})]})})})})]})]})]})})});};export default JobDetails;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/jobDetails.tsx"],"names":["React","useEffect","useState","useSelector","dummy","question","editIconBlue","leftIcon","rightIcon","createPostJob","publishJobAgain","publishOpenJobAgain","moment","jobDummyImage","OwlCarousel","docThumbnail","renderTimeWithFormat","useHistory","moengage","mixPanel","MoEConstants","FsLightbox","isDevelopment","process","env","NODE_ENV","options","items","nav","navText","rewind","autoplay","slideBy","dots","dotsEach","dotData","responsive","imageFormats","videoFormats","docformats","JobDetails","data","milestones","categories","builderProfile","jobTypes","stepCompleted","updateDetailScreen","handleStepForward","handleStepComplete","clearParentStates","handleStepBack","jobId","category","job_type","categorySelected","setSelected","isEnablePopup","setPopUp","toggler","setToggler","selectedSlide","setSelectSlide","fsSlideListner","setFsSlideListner","history","tradeListRedux","state","auth","tradeListData","findSelectedCategory","preSelectedItem","preSelectedJobType","preSelectedSpecialization","length","specialization","filterItem","find","item","_id","filter_specialization","specialisations","filter","includes","filterJobType","undefined","Object","keys","fsSlideObj","slideCount","urls","forEach","index","mediaType","forwardScreenStep","id","currentScreen","filterFileName","link","arrItems","split","handlePost","e","preventDefault","data_clone","milestones_clone","params","URLSearchParams","location","search","update","get","filter_milestones","to_date","from_date","console","log","isSingleDayJob","isSame","urls_","filteredItems","Array","isArray","map","item_dt","base64","createJob","response","isJobRepublish","quoteJob","amount","editJob","moE_SendEvent","REPUBLISHED_JOB","timeStamp","getCurrentTimeStamp","mixP_SendEvent","mData","i","trade_name","location_name","POSTED_A_JOB","success","renderFilteredItems","sources","types","push","renderTime","format","current_date","startOf","toDate","start_date","isValid","end_date","result","isAfter","days_diff","diff","jobName","pay_type","marginTop","image","prev","height","width","url","window","open","job_description","milestone_name","cursor","name","userId","userImage","target","onerror","src","userName","rating","reviews"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport dummy from \"../../../assets/images/u_placeholder.jpg\";\nimport question from \"../../../assets/images/ic-question.png\";\nimport editIconBlue from \"../../../assets/images/ic-edit-blue.png\";\nimport leftIcon from \"../../../assets/images/ic-back-arrow-line.png\";\nimport rightIcon from \"../../../assets/images/ic-next-arrow-line.png\";\nimport {\n  createPostJob,\n  publishJobAgain,\n  publishOpenJobAgain,\n} from \"../../../redux/jobs/actions\";\nimport moment from \"moment\";\nimport jobDummyImage from \"../../../assets/images/ic-placeholder-detail.png\";\nimport OwlCarousel from \"react-owl-carousel\";\nimport \"owl.carousel/dist/assets/owl.carousel.css\";\nimport \"owl.carousel/dist/assets/owl.theme.default.css\";\n\nimport docThumbnail from \"../../../assets/images/add-document.png\";\n\nimport { renderTime, renderTimeWithFormat } from \"../../../utils/common\";\nimport { useHistory } from \"react-router-dom\";\nimport { moengage, mixPanel } from \"../../../services/analyticsTools\";\nimport { MoEConstants } from \"../../../utils/constants\";\n\n//@ts-ignore\nimport FsLightbox from \"fslightbox-react\";\nconst isDevelopment = process.env.NODE_ENV === \"development\" ? true : false;\ninterface Proptypes {\n  data: any;\n  milestones: any;\n  builderProfile: any;\n  stepCompleted: Boolean;\n  categories: any;\n  jobTypes: any;\n  handleStepComplete: (data: any) => void;\n  handleStepForward: (data: any) => void;\n  handleStepBack: () => void;\n  clearParentStates: () => void;\n  updateDetailScreen: (data: any) => void;\n  jobId: string;\n}\n\nconst options = {\n  items: 1,\n  nav: true,\n  navText: [\n    `<div class='nav-btn prev-slide'> <img src=\"${leftIcon}\"> </div>`,\n    `<div class='nav-btn next-slide'> <img src=\"${rightIcon}\"> </div>`,\n  ],\n  rewind: true,\n  autoplay: false,\n  slideBy: 1,\n  dots: true,\n  dotsEach: true,\n  dotData: true,\n  responsive: {\n    0: {\n      items: 1,\n    },\n    600: {\n      items: 1,\n    },\n    1000: {\n      items: 1,\n    },\n  },\n};\n\nconst imageFormats: Array<any> = [\"jpeg\", \"jpg\", \"png\"];\nconst videoFormats: Array<any> = [\"mp4\", \"wmv\", \"avi\"];\nconst docformats: Array<any> = [\"pdf\", \"doc\", \"docx\", \"msword\"];\n\nconst JobDetails = ({\n  data,\n  milestones,\n  categories,\n  builderProfile,\n  jobTypes,\n  stepCompleted,\n  updateDetailScreen,\n  handleStepForward,\n  handleStepComplete,\n  clearParentStates,\n  handleStepBack,\n  jobId,\n}: Proptypes) => {\n  const [categorySelected, setSelected] = useState<{ [index: string]: any }>({\n    category: {},\n    job_type: {},\n  });\n  const [isEnablePopup, setPopUp] = useState(false);\n  const [toggler, setToggler] = useState(false);\n  const [selectedSlide, setSelectSlide] = useState(1);\n  const [fsSlideListner, setFsSlideListner] = useState<any>({});\n\n  const history = useHistory();\n  const tradeListRedux = useSelector((state: any) => state.auth.tradeListData);\n\n  const findSelectedCategory = () => {\n    let preSelectedItem: any = null;\n    let preSelectedJobType: any = null;\n    let preSelectedSpecialization: any = null;\n\n    if (data?.categories && data?.categories?.length) {\n      preSelectedItem = data?.categories[0];\n    }\n\n    if (data?.job_type && data?.job_type?.length) {\n      preSelectedJobType = data?.job_type[0];\n    }\n\n    if (data?.specialization && data?.specialization?.length) {\n      preSelectedSpecialization = data?.specialization;\n    }\n\n    if (categories?.length && preSelectedItem && preSelectedJobType) {\n      let filterItem = categories.find(\n        (item: any) => item._id === preSelectedItem\n      );\n      let filter_specialization = [];\n      if (filterItem?.specialisations && filterItem?.specialisations?.length) {\n        filter_specialization = filterItem?.specialisations?.filter(\n          (item: any) => {\n            if (preSelectedSpecialization.includes(item._id)) {\n              return item;\n            }\n          }\n        );\n      }\n\n      let filterJobType = jobTypes.find(\n        (item: any) => item._id === preSelectedJobType\n      );\n      if (filterJobType || filter_specialization) {\n        setSelected({\n          category: filter_specialization, // specialisations\n          job_type: filterJobType,\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateDetailScreen(null);\n    if (\n      (categorySelected !== undefined &&\n        categorySelected !== null &&\n        !Object.keys(categorySelected?.category).length) ||\n      (categorySelected !== undefined &&\n        categorySelected !== null &&\n        !Object.keys(categorySelected?.job_type).length)\n    ) {\n      findSelectedCategory();\n    }\n  }, [categories, jobTypes, stepCompleted]);\n\n  useEffect(() => {\n    let fsSlideObj: any = {};\n    let slideCount = 1;\n\n    if (data?.urls?.length) {\n      data?.urls.forEach((item: any, index: number) => {\n        if (item?.mediaType === 1 || item?.mediaType === 2) {\n          fsSlideObj[`${index}`] = slideCount++;\n        }\n      });\n    }\n    if (Object.keys(fsSlideObj)?.length > 0) setFsSlideListner(fsSlideObj);\n  }, [data.urls]);\n\n  const forwardScreenStep = (id: any, data?: any) => {\n    updateDetailScreen({ currentScreen: id, data });\n    handleStepForward(id);\n  };\n\n  const filterFileName = (link: any) => {\n    if (link?.length) {\n      let arrItems = link.split(\"/\");\n      return arrItems[arrItems?.length - 1];\n    }\n  };\n\n  const handlePost = async (e: any) => {\n    e.preventDefault();\n    let data_clone: any = data;\n    let milestones_clone: any = milestones;\n    const params = new URLSearchParams(history.location?.search);\n    const update: any = params.get(\"update\") || \"\";\n    let filter_milestones = milestones_clone.filter((item: any, index: any) => {\n      if (Object.keys(item).length) {\n        if (!item?.to_date?.length) {\n          delete item?.to_date;\n        }\n\n        if (!item?.from_date?.length || item?.from_date === \"Invalid date\") {\n          delete item?.from_date;\n        }\n        item[\"order\"] = index + 1;\n        return item;\n      }\n    });\n\n    data_clone[\"milestones\"] = filter_milestones;\n    let from_date = data_clone?.from_date;\n    let to_date = data_clone?.to_date;\n    console.log({ from_date, to_date });\n    if (\n      !data_clone.isSingleDayJob &&\n      moment(from_date).isSame(moment(to_date))\n    ) {\n      delete data_clone?.to_date;\n    }\n\n    if (!to_date?.length) {\n      delete data_clone?.to_date;\n    }\n\n    if (!data_clone?.urls?.length) {\n      delete data_clone?.urls;\n    } else {\n      let urls_: any = data_clone?.urls;\n      let filteredItems: any = [];\n      if (urls_ && Array.isArray(urls_) && urls_?.length) {\n        filteredItems = urls_.map((item_dt: any) => {\n          if (item_dt?.base64) {\n            delete item_dt?.base64;\n          }\n          return item_dt;\n        });\n        data_clone[\"urls\"] = filteredItems;\n      }\n    }\n\n    if (jobId) {\n      data_clone.jobId = jobId;\n    }\n\n    const createJob = jobId ? publishJobAgain : createPostJob;\n\n    let response: any = null;\n    if (data_clone.isJobRepublish) delete data_clone.isJobRepublish;\n    delete data_clone.isSingleDayJob;\n    if (data_clone.quoteJob == \"1\" && data_clone.amount)\n      delete data_clone.amount;\n    if (update) {\n      delete data_clone.editJob;\n      if (data_clone.to_date === \"Invalid date\" || data_clone.to_date === \"\")\n        delete data_clone.to_date;\n      response = await publishOpenJobAgain(data_clone);\n    } else {\n      response = await createJob(data_clone);\n      if (jobId) {\n        moengage.moE_SendEvent(MoEConstants.REPUBLISHED_JOB, {\n          timeStamp: moengage.getCurrentTimeStamp(),\n        });\n        mixPanel.mixP_SendEvent(MoEConstants.REPUBLISHED_JOB, {\n          timeStamp: moengage.getCurrentTimeStamp(),\n        });\n      } else {\n        const mData = {\n          timeStamp: moengage.getCurrentTimeStamp(),\n          category: tradeListRedux.find(\n            (i: any) => i._id === data_clone?.categories[0]\n          )?.trade_name,\n          location: data_clone?.location_name,\n          \"Number of milestones\": data_clone?.milestones?.length,\n          \"start date\": data_clone?.from_date,\n          ...(data_clone?.to_date && { \"end date\": data_clone?.to_date }),\n        };\n        moengage.moE_SendEvent(MoEConstants.POSTED_A_JOB, mData);\n        mixPanel.mixP_SendEvent(MoEConstants.POSTED_A_JOB, mData);\n      }\n    }\n    if (response?.success) {\n      clearParentStates();\n      handleStepForward(12);\n    }\n    // console.log({data: data_clone, filter_milestones });\n  };\n\n  let data_clone: any = data;\n\n  const renderFilteredItems = () => {\n    let sources: any = [];\n    let types: any = [];\n\n    if (data_clone?.urls?.length) {\n      data_clone?.urls.forEach((item: any) => {\n        if (item?.mediaType === 2) {\n          sources.push(item.link);\n          types.push(\"video\");\n        }\n        if (item?.mediaType === 1) {\n          sources.push(item.link);\n          types.push(\"image\");\n        }\n        if (item?.mediaType === 3) {\n          sources.push(docThumbnail);\n          types.push(\"image\");\n        }\n      });\n    }\n\n    return { sources, types };\n  };\n\n  const renderTime = (data: any) => {\n    let format = \"YYYY-MM-DD\";\n    let current_date = moment().startOf(\"day\").toDate();\n    let start_date = moment(data?.from_date, format).isValid()\n      ? moment(data?.from_date, format).startOf(\"day\").toDate()\n      : false;\n    let end_date = moment(data?.to_date, format).isValid()\n      ? moment(data?.to_date, format).startOf(\"day\").toDate()\n      : false;\n    let result = null;\n\n    if (start_date && end_date) {\n      if (moment(start_date).isSame(moment(end_date))) {\n        end_date = false;\n      }\n\n      if (moment(start_date).isSame(moment(current_date))) {\n        result = \"Today\";\n      }\n\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    if (start_date && !end_date) {\n      if (moment(start_date).isSame(moment(current_date))) {\n        result = \"Today\";\n      }\n\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    if (start_date) {\n      if (moment(start_date).isAfter(moment(current_date))) {\n        let days_diff = moment(start_date).diff(moment(current_date), \"days\");\n        result = `${days_diff} days`;\n      }\n    }\n\n    return result;\n  };\n\n  const format = \"MM-DD-YYYY\";\n  const { sources, types } = renderFilteredItems();\n  return (\n    <div className=\"app_wrapper\">\n      <div className=\"section_wrapper\">\n        <div className=\"custom_container\">\n          <FsLightbox\n            toggler={toggler}\n            slide={selectedSlide}\n            sources={sources}\n            types={types}\n            key={sources?.length}\n            onClose={() => {\n              setSelectSlide(1);\n            }}\n          />\n\n          <div className=\"vid_img_wrapper pt-20\">\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8 relative\">\n                <button onClick={handleStepBack} className=\"back\"></button>\n              </div>\n            </div>\n            <div className=\"flex_col_sm_4 relative\">\n              <div className=\"detail_card\">\n                <span className=\"title line-3 pr-20\" title={data?.jobName}>\n                  {data?.jobName}\n                  <span\n                    onClick={() => {\n                      forwardScreenStep(1);\n                    }}\n                    className=\"edit_icon\"\n                    title=\"Edit\"\n                  >\n                    <img src={editIconBlue} alt=\"edit\" />\n                  </span>\n                </span>\n                <span className=\"tagg\">Job details</span>\n                <div className=\"job_info\">\n                  <ul>\n                    <li className=\"icon calendar\">{renderTime(data)}</li>\n                    {data.quoteJob == 0 && (\n                      <li className=\"icon dollar\">\n                        ${data?.amount}{\" \"}\n                        {data?.pay_type === \"Fixed price\" ? \"f/p\" : \"p/h\"}{\" \"}\n                      </li>\n                    )}\n                    {data.quoteJob == 1 && (\n                      <li className=\"icon dollar\">For Quoting</li>\n                    )}\n                    <li\n                      className=\"icon location line-1\"\n                      title={data?.location_name}\n                    >\n                      {data?.location_name}\n                    </li>\n                  </ul>\n                </div>\n                <button\n                  onClick={handlePost}\n                  className=\"fill_btn full_btn btn-effect mt-15\"\n                >\n                  {jobId ? \"Republish job\" : \"Post job\"}\n                </button>\n              </div>\n            </div>\n            <span className=\"sub_title\" style={{ marginTop: \"30px\" }}>\n              {\"Photos & Docs\"}\n            </span>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8\">\n                <figure className=\"\">\n                  {data_clone?.urls?.length ? (\n                    <OwlCarousel {...options}>\n                      {/* {renderByFileFormat(data)} */}\n                      {data?.urls?.length ? (\n                        data?.urls?.map((image: any, index: number) => {\n                          console.log(\n                            {\n                              image,\n                              mediaType: image?.mediaType,\n                            },\n                            \"---?\"\n                          );\n                          return image?.mediaType === 1 ? (\n                            <img\n                              key={`${image}${index}`}\n                              onClick={() => {\n                                setToggler((prev: any) => !prev);\n                                setSelectSlide(fsSlideListner[`${index}`]);\n                              }}\n                              title={filterFileName(image.link)}\n                              alt=\"\"\n                              src={image?.link ? image?.link : jobDummyImage}\n                            />\n                          ) : image?.mediaType === 2 ? (\n                            <video\n                              key={`${image}${index}`}\n                              onClick={() => {\n                                setToggler((prev: any) => !prev);\n                                setSelectSlide(fsSlideListner[`${index}`]);\n                              }}\n                              title={filterFileName(image.link)}\n                              src={image?.link}\n                              style={{ height: \"400px\", width: \"800px\" }}\n                            />\n                          ) : (\n                            <img\n                              key={`${image}${index}`}\n                              onClick={() => {\n                                let url = `/doc-view?url=${image.link}`; //\n                                window.open(url, \"_blank\");\n                              }}\n                              title={filterFileName(image.link)}\n                              alt=\"\"\n                              src={docThumbnail}\n                            />\n                          );\n                        })\n                      ) : (\n                        <img alt=\"\" src={jobDummyImage} />\n                      )}\n                    </OwlCarousel>\n                  ) : (\n                    <img src={jobDummyImage} alt=\"item-url\" />\n                  )}\n                </figure>\n              </div>\n            </div>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_8\">\n                <div className=\"description\">\n                  <span className=\"sub_title\">\n                    {\"Job Description\"}\n                    <span\n                      onClick={() => {\n                        forwardScreenStep(1);\n                      }}\n                      className=\"edit_icon\"\n                      title=\"Edit\"\n                    >\n                      <img src={editIconBlue} alt=\"edit\" />\n                    </span>\n                  </span>\n                  <p className=\"commn_para\">{data?.job_description}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_4\">\n                <span className=\"sub_title\">\n                  {\"Job milestones\"}\n                  <span\n                    onClick={() => {\n                      forwardScreenStep(6);\n                    }}\n                    className=\"edit_icon\"\n                    title=\"Edit\"\n                  >\n                    <img src={editIconBlue} alt=\"edit\" />\n                  </span>\n                </span>\n                <ul className=\"job_milestone\">\n                  {milestones?.length\n                    ? milestones.map(\n                        (item: any, index: any) =>\n                          item?.milestone_name && (\n                            <li>\n                              <span>{`${index + 1}. ${\n                                item?.milestone_name\n                              }`}</span>\n                              <span>\n                                {renderTimeWithFormat(\n                                  item?.from_date,\n                                  item?.to_date,\n                                  format\n                                )}\n                              </span>\n                            </li>\n                          )\n                      )\n                    : null}\n                </ul>\n                <button\n                  style={{ cursor: \"default\" }}\n                  className=\"fill_grey_btn ques_btn btn-effect\"\n                >\n                  <img src={question} alt=\"question\" />\n                  {\"0 questions\"}\n                </button>\n              </div>\n\n              <div className=\"flex_col_sm_8\">\n                <div className=\"flex_row\">\n                  <div className=\"flex_col_sm_12\">\n                    <span className=\"sub_title\">\n                      {\"Job type\"}\n                      <span\n                        onClick={() => {\n                          forwardScreenStep(2);\n                        }}\n                        className=\"edit_icon\"\n                        title=\"Edit\"\n                      >\n                        <img src={editIconBlue} alt=\"edit\" />\n                      </span>\n                    </span>\n                    <ul className=\"job_categories\">\n                      <li>\n                        <figure className=\"type_icon\">\n                          <img\n                            src={categorySelected?.job_type?.image}\n                            alt=\"icon\"\n                          />\n                        </figure>\n                        <span className=\"name\">\n                          {categorySelected?.job_type?.name}\n                        </span>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n                <div className=\"flex_row\">\n                  <div className=\"flex_col_sm_12\">\n                    <span className=\"sub_title\">\n                      {\"Specialisations needed\"}\n                      <span\n                        onClick={() => {\n                          forwardScreenStep(2);\n                        }}\n                        className=\"edit_icon\"\n                        title=\"Edit\"\n                      >\n                        <img src={editIconBlue} alt=\"edit\" />\n                      </span>\n                    </span>\n                    <div className=\"tags_wrap\">\n                      <ul>\n                        {categorySelected?.category?.length\n                          ? categorySelected?.category?.map((item: any) => (\n                              <li>{item?.name}</li>\n                            ))\n                          : null}\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"section_wrapper\">\n              <span className=\"sub_title\">Posted by</span>\n              <div className=\"flex_row\">\n                <div className=\"flex_col_sm_3\">\n                  <div\n                    onClick={() => {\n                      history.push(\n                        `/builder-info?builderId=${builderProfile?.userId}`\n                      );\n                    }}\n                    className=\"tradie_card posted_by \"\n                  >\n                    {/* <span className=\"chat circle\"></span> */}\n                    <div className=\"user_wrap\">\n                      <figure className=\"u_img\">\n                        <img\n                          src={builderProfile?.userImage || dummy}\n                          alt=\"traide-img\"\n                          onError={(e: any) => {\n                            if (e?.target?.onerror) {\n                              e.target.onerror = null;\n                            }\n                            if (e?.target?.src) {\n                              e.target.src = dummy;\n                            }\n                          }}\n                        />\n                      </figure>\n                      <div className=\"details\">\n                        <span className=\"name\">{builderProfile?.userName}</span>\n                        <span className=\"rating\">\n                          {builderProfile?.rating || \"0\"} |{\" \"}\n                          {builderProfile?.reviews || \"0\"} reviews\n                        </span>\n                        {/* <span className=\"prof\">Project Manager</span> */}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default JobDetails;\n"]},"metadata":{},"sourceType":"module"}