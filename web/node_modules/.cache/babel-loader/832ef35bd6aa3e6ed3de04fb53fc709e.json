{"ast":null,"code":"import _defineProperty from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import cancel from'../../assets/images/ic-cancel.png';import addMedia from\"../../assets/images/add-image.png\";import Modal from'@material-ui/core/Modal';import{setShowToast}from'../../redux/common/actions';import close from'../../assets/images/icon-close-1.png';import{onFileUpload}from'../../redux/auth/actions';import{AddVoucher,fetchVouchesJobs}from'../../redux/jobs/actions';import docThumbnail from'../../assets/images/add-document.png';import{moengage,mixPanel}from'../../services/analyticsTools';import{MoEConstants}from'../../utils/constants';import Select,{components}from'react-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var docformats=[\"pdf\",\"doc\",\"docx\",\"msword\"];var AddVoucherComponent=function AddVoucherComponent(props){var toggleProps=props.toggleProps,closeToggle=props.closeToggle;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggle=_useState2[0],setToggle=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),jobsList=_useState4[0],setJobsList=_useState4[1];var _useState5=useState({label:'',value:''}),_useState6=_slicedToArray(_useState5,2),reactSelect=_useState6[0],setReactSelect=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),jobDescription=_useState8[0],setJobDesciption=_useState8[1];var _useState9=useState({name:'',detail:'',upload:''}),_useState10=_slicedToArray(_useState9,2),errorData=_useState10[0],setErrorData=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),filesUrl=_useState12[0],setFilesUrl=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),localFiles=_useState14[0],setLocalFiles=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),update=_useState16[0],forceUpdate=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),toggler=_useState18[0],setToggler=_useState18[1];var _useState19=useState(1),_useState20=_slicedToArray(_useState19,2),selectedSlide=_useState20[0],setSelectSlide=_useState20[1];useEffect(function(){prefetch();},[]);useEffect(function(){console.log({toggleProps:toggleProps});setToggle(toggleProps);},[toggleProps]);useEffect(function(){setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{detail:(jobDescription===null||jobDescription===void 0?void 0:jobDescription.length)>250?'Maximum 250 characters are allowed':''});});},[jobDescription]);// useEffect(() => {\n//     setErrorData((prev: any) => ({ ...prev, upload: filesUrl?.length ? '' : 'Document file is required' }));\n// }, [filesUrl]);\nuseEffect(function(){console.log({toggle:toggle});if(!toggle){closeToggle('isRecall');setReactSelect(function(prev){return _objectSpread(_objectSpread({},prev),{},{label:'',value:''});});setJobDesciption(\"\");setFilesUrl([]);setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:'',detail:'',upload:''});});}else{prefetch();}},[toggle]);var prefetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res_jobs,list_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(props===null||props===void 0?void 0:props.id)){_context.next=5;break;}_context.next=3;return fetchVouchesJobs({page:1,tradieId:props.id});case 3:res_jobs=_context.sent;if(res_jobs===null||res_jobs===void 0?void 0:res_jobs.success){list_data=res_jobs.data;if(list_data===null||list_data===void 0?void 0:list_data.length){// let item = list_data[0];\n// item?.jobId \nsetReactSelect({label:'Please select  a job',value:''});}setJobsList(list_data);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function prefetch(){return _ref.apply(this,arguments);};}();var setItemToggle=function setItemToggle(index){setToggler(function(prev){return!prev;});setSelectSlide(index+1);};var removeFromItem=function removeFromItem(index){filesUrl.splice(index,1);setFilesUrl(filesUrl);Array.isArray(update)?forceUpdate([]):forceUpdate({});};var onFileChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _newFile$type,_newFile$type$split$;var formData,newFile,fileType,selectedFileSize,res,link;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formData=new FormData();newFile=e.target.files[0];fileType=newFile===null||newFile===void 0?void 0:(_newFile$type=newFile.type)===null||_newFile$type===void 0?void 0:(_newFile$type$split$=_newFile$type.split('/')[1])===null||_newFile$type$split$===void 0?void 0:_newFile$type$split$.toLowerCase();selectedFileSize=(newFile===null||newFile===void 0?void 0:newFile.size)/1024/1024;// size in mib\nif(!(docformats.indexOf(fileType)<0||selectedFileSize>10)){_context2.next=7;break;}setShowToast(true,\"The file must be in proper format or size\");return _context2.abrupt(\"return\");case 7:if(!(docformats.includes(fileType)&&selectedFileSize>10)){_context2.next=10;break;}// image validations\nsetShowToast(true,\"The image file size must be below 10 mb\");return _context2.abrupt(\"return\");case 10:formData.append('file',newFile);_context2.next=13;return onFileUpload(formData);case 13:res=_context2.sent;if(res.success){link=res.imgUrl;setFilesUrl(function(prev){return[].concat(_toConsumableArray(prev),[{\"mediaType\":[\"doc\",\"docx\",\"msword\"].includes(fileType)?3:4,\"link\":link}]);});setLocalFiles(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},filesUrl===null||filesUrl===void 0?void 0:filesUrl.length,URL.createObjectURL(newFile)));});}case 15:case\"end\":return _context2.stop();}}},_callee2);}));return function onFileChange(_x){return _ref2.apply(this,arguments);};}();var renderbyFileFormat=function renderbyFileFormat(item,index){var split_item_format=item.split('.');var get_split_fromat=split_item_format[split_item_format.length-1];var split_item_name=item.split('/');var get_split_name=split_item_name[split_item_name.length-1];var image_render=null;if(get_split_fromat){if(docformats.includes(get_split_fromat)){image_render=/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){setItemToggle(index);},title:get_split_name,src:docThumbnail,alt:\"media\"});}return/*#__PURE__*/_jsxs(\"figure\",{className:\"img_video\",children:[image_render,/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){removeFromItem(index);},src:close,alt:\"remove\",className:\"remove\"})]});}};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:data={\"jobId\":reactSelect===null||reactSelect===void 0?void 0:reactSelect.value,\"jobName\":reactSelect===null||reactSelect===void 0?void 0:reactSelect.label,\"tradieId\":props.id,\"photos\":[filesUrl[0].link],\"vouchDescription\":jobDescription,\"recommendation\":filesUrl[0].link};_context3.next=3;return AddVoucher(data);case 3:response=_context3.sent;if(!(response===null||response===void 0?void 0:response.success)){_context3.next=10;break;}moengage.moE_SendEvent(MoEConstants.LEFT_VOUCHER,{timeStamp:moengage.getCurrentTimeStamp()});mixPanel.mixP_SendEvent(MoEConstants.LEFT_VOUCHER,{timeStamp:moengage.getCurrentTimeStamp()});setToggle(function(prev){return!prev;});_context3.next=10;return prefetch();case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSubmit(){return _ref3.apply(this,arguments);};}();var JobSelectOptions=[];if(jobsList===null||jobsList===void 0?void 0:jobsList.length){JobSelectOptions=jobsList.map(function(item){return{label:item===null||item===void 0?void 0:item.jobName,value:item===null||item===void 0?void 0:item.jobId};});JobSelectOptions.unshift({label:'Please select a job',value:''});}var NoOptionsMessage=function NoOptionsMessage(props){return/*#__PURE__*/_jsx(components.NoOptionsMessage,_objectSpread(_objectSpread({},props),{},{children:/*#__PURE__*/_jsx(\"span\",{className:\"custom-css-class\",children:'No completed jobs with this tradesperson'})}));};return/*#__PURE__*/_jsx(Modal,{className:\"custom_modal\",open:toggle,onClose:function onClose(){closeToggle('isRecall');setToggle(function(prev){return!prev;});},\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_wh profile_modal vouch_modal\",\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"30\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:'Leave a Vouch'}),/*#__PURE__*/_jsx(\"span\",{className:\"info_note\",children:'Upload the vouch and write the description.'}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){closeToggle('isRecall');setToggle(function(prev){return!prev;});},className:\"close_btn\",children:/*#__PURE__*/_jsx(\"img\",{src:cancel,alt:\"cancel\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inner_wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner_wrappr\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Job\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(Select,{className:\"select_menu\",value:reactSelect,options:JobSelectOptions,components:{NoOptionsMessage:NoOptionsMessage}// options={jobsList.map((item: any) => ({ label: item?.jobName, value: item?.jobId }))}\n,onChange:function onChange(item){setReactSelect(item);setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:''});});}})}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errorData===null||errorData===void 0?void 0:errorData.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:'Job Description'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text_field\",children:[/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setJobDesciption(e.target.value.trimLeft());},value:jobDescription,placeholder:\"Enter Description...\"}),jobDescription.length?/*#__PURE__*/_jsx(\"span\",{className:\"char_count\",children:\"character length : \".concat(jobDescription.length,\" / 250\")}):'']}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errorData===null||errorData===void 0?void 0:errorData.detail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload_img_video\",children:[(filesUrl===null||filesUrl===void 0?void 0:filesUrl.length)?filesUrl.map(function(item,index){return renderbyFileFormat(item.link,index);}):null,(filesUrl===null||filesUrl===void 0?void 0:filesUrl.length)<1?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"upload_media\",htmlFor:\"upload_img_video\",children:/*#__PURE__*/_jsx(\"img\",{src:addMedia,alt:\"\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:onFileChange,type:\"file\",accept:\"image/png,image/jpg,image/jpeg,.pdf, .doc, video/mp4, video/wmv, video/avi\",style:{display:\"none\"},id:\"upload_img_video\"})]}):null]}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errorData===null||errorData===void 0?void 0:errorData.upload})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom_btn custom_btn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){if(!(filesUrl===null||filesUrl===void 0?void 0:filesUrl.length)||!(jobDescription===null||jobDescription===void 0?void 0:jobDescription.length)){var _reactSelect$value;if(!(filesUrl===null||filesUrl===void 0?void 0:filesUrl.length)){setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{upload:'Document file is required.'});});}if(!(jobDescription===null||jobDescription===void 0?void 0:jobDescription.length)){setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{detail:'Job Description is required'});});}if(!(reactSelect===null||reactSelect===void 0?void 0:(_reactSelect$value=reactSelect.value)===null||_reactSelect$value===void 0?void 0:_reactSelect$value.length)){setErrorData(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:'Job Name is required'});});}}else{handleSubmit();}},className:\"fill_btn full_btn btn-effect\",children:'Save changes'})})]})});};export default AddVoucherComponent;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieInfo/addVoucher.tsx"],"names":["React","useState","useEffect","cancel","addMedia","Modal","setShowToast","close","onFileUpload","AddVoucher","fetchVouchesJobs","docThumbnail","moengage","mixPanel","MoEConstants","Select","components","docformats","AddVoucherComponent","props","toggleProps","closeToggle","toggle","setToggle","jobsList","setJobsList","label","value","reactSelect","setReactSelect","jobDescription","setJobDesciption","name","detail","upload","errorData","setErrorData","filesUrl","setFilesUrl","localFiles","setLocalFiles","update","forceUpdate","toggler","setToggler","selectedSlide","setSelectSlide","prefetch","console","log","prev","length","id","page","tradieId","res_jobs","success","list_data","data","setItemToggle","index","removeFromItem","splice","Array","isArray","onFileChange","e","formData","FormData","newFile","target","files","fileType","type","split","toLowerCase","selectedFileSize","size","indexOf","includes","append","res","link","imgUrl","URL","createObjectURL","renderbyFileFormat","item","split_item_format","get_split_fromat","split_item_name","get_split_name","image_render","handleSubmit","response","moE_SendEvent","LEFT_VOUCHER","timeStamp","getCurrentTimeStamp","mixP_SendEvent","JobSelectOptions","map","jobName","jobId","unshift","NoOptionsMessage","trimLeft","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport cancel from '../../assets/images/ic-cancel.png';\nimport addMedia from \"../../assets/images/add-image.png\";\nimport Modal from '@material-ui/core/Modal';\nimport { setShowToast } from '../../redux/common/actions';\n\nimport close from '../../assets/images/icon-close-1.png';\nimport { onFileUpload } from '../../redux/auth/actions';\nimport { AddVoucher, fetchVouchesJobs } from '../../redux/jobs/actions';\nimport docThumbnail from '../../assets/images/add-document.png'\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\nimport Select, { components } from 'react-select';\nconst docformats: Array<any> = [\"pdf\", \"doc\", \"docx\", \"msword\"];\n\nconst AddVoucherComponent = (props: any) => {\n    const { toggleProps, closeToggle } = props;\n    const [toggle, setToggle] = useState(false);\n    const [jobsList, setJobsList] = useState([]);\n    const [reactSelect, setReactSelect] = useState({ label: '', value: '' });\n    const [jobDescription, setJobDesciption] = useState('');\n\n    const [errorData, setErrorData] = useState({ name: '', detail: '', upload: '' });\n    const [filesUrl, setFilesUrl] = useState([] as any);\n    const [localFiles, setLocalFiles] = useState({});\n\n    const [update, forceUpdate] = useState({});\n    const [toggler, setToggler] = useState(false);\n    const [selectedSlide, setSelectSlide] = useState(1);\n\n    useEffect(() => {\n        prefetch();\n    }, [])\n\n    useEffect(() => {\n        console.log({\n            toggleProps\n        })\n        setToggle(toggleProps);\n    }, [toggleProps])\n\n    useEffect(() => {\n        setErrorData((prev: any) => ({ ...prev, detail: jobDescription?.length > 250 ? 'Maximum 250 characters are allowed' : '' }));\n    }, [jobDescription])\n\n    // useEffect(() => {\n    //     setErrorData((prev: any) => ({ ...prev, upload: filesUrl?.length ? '' : 'Document file is required' }));\n    // }, [filesUrl]);\n\n    useEffect(() => {\n        console.log({ toggle })\n        if (!toggle) {\n            closeToggle('isRecall');\n            setReactSelect((prev: any) => ({ ...prev, label: '', value: '' }));\n            setJobDesciption(\"\");\n            setFilesUrl([]);\n            setErrorData((prev: any) => ({ ...prev, name: '', detail: '', upload: '' }))\n        } else {\n            prefetch();\n        }\n    }, [toggle])\n\n    const prefetch = async () => {\n        if (props?.id) {\n            let res_jobs: any = await fetchVouchesJobs({ page: 1, tradieId: props.id });\n            if (res_jobs?.success) {\n                let list_data: any = res_jobs.data;\n                if (list_data?.length) {\n                    // let item = list_data[0];\n                    // item?.jobId \n                    setReactSelect({ label: 'Please select  a job', value: '' })\n                }\n                setJobsList(list_data)\n            }\n        }\n    }\n\n    const setItemToggle = (index: any) => {\n        setToggler((prev: boolean) => !prev);\n        setSelectSlide(index + 1);\n    }\n\n\n    const removeFromItem = (index: any) => {\n        filesUrl.splice(index, 1);\n        setFilesUrl(filesUrl);\n        Array.isArray(update) ? forceUpdate([]) : forceUpdate({});\n    }\n\n    const onFileChange = async (e: any) => {\n        const formData = new FormData();\n        const newFile = e.target.files[0];\n\n        var fileType = (newFile?.type?.split('/')[1])?.toLowerCase();\n        var selectedFileSize = newFile?.size / 1024 / 1024; // size in mib\n\n        if (docformats.indexOf(fileType) < 0 || (selectedFileSize > 10)) {\n            setShowToast(true, \"The file must be in proper format or size\")\n            return;\n        }\n\n        if (docformats.includes(fileType) && selectedFileSize > 10) { // image validations\n            setShowToast(true, \"The image file size must be below 10 mb\")\n            return;\n        }\n\n        formData.append('file', newFile);\n        const res = await onFileUpload(formData)\n        if (res.success) {\n            let link: string = res.imgUrl;\n\n            setFilesUrl((prev: Array<any>) => [...prev, {\n                \"mediaType\": [\"doc\", \"docx\", \"msword\"].includes(fileType) ? 3 : 4,\n                \"link\": link\n            }]);\n            setLocalFiles((prev: any) => ({ ...prev, [filesUrl?.length]: URL.createObjectURL(newFile) }));\n        }\n    }\n\n    const renderbyFileFormat = (item: any, index: any) => {\n        let split_item_format = item.split('.');\n        let get_split_fromat = split_item_format[split_item_format.length - 1];\n\n        let split_item_name = item.split('/');\n        let get_split_name = split_item_name[split_item_name.length - 1];\n        let image_render: any = null;\n        if (get_split_fromat) {\n            if (docformats.includes(get_split_fromat)) {\n                image_render = <img onClick={() => { setItemToggle(index) }} title={get_split_name} src={docThumbnail} alt=\"media\" />\n            }\n            return (\n                <figure className=\"img_video\">\n                    {image_render}\n                    <img\n                        onClick={() => { removeFromItem(index) }}\n                        src={close} alt=\"remove\" className=\"remove\" />\n                    {/* <span style={{ fontSize: '10px' }}>{get_split_name}</span> */}\n                </figure>\n            )\n        }\n    }\n\n\n    const handleSubmit = async () => {\n        let data = {\n            \"jobId\": reactSelect?.value,\n            \"jobName\": reactSelect?.label,\n            \"tradieId\": props.id,\n            \"photos\": [filesUrl[0].link],\n            \"vouchDescription\": jobDescription,\n            \"recommendation\": filesUrl[0].link\n        }\n        let response = await AddVoucher(data);\n        if (response?.success) {\n            moengage.moE_SendEvent(MoEConstants.LEFT_VOUCHER, { timeStamp: moengage.getCurrentTimeStamp() });\n            mixPanel.mixP_SendEvent(MoEConstants.LEFT_VOUCHER, { timeStamp: moengage.getCurrentTimeStamp() });\n            setToggle((prev: any) => !prev);\n            await prefetch();\n        }\n    }\n\n    let JobSelectOptions: any = [];\n    if (jobsList?.length) {\n        JobSelectOptions = jobsList.map((item: any) => ({ label: item?.jobName, value: item?.jobId }));\n        JobSelectOptions.unshift({ label: 'Please select a job', value: '' });\n    }\n\n    const NoOptionsMessage = (props: any) => {\n        return (\n            <components.NoOptionsMessage {...props}>\n                <span className=\"custom-css-class\">\n                    {'No completed jobs with this tradesperson'}\n                </span>\n            </components.NoOptionsMessage>\n        );\n    };\n\n    return (\n        <Modal\n            className=\"custom_modal\"\n            open={toggle}\n            onClose={() => {\n                closeToggle('isRecall');\n                setToggle((prev: any) => !prev)\n            }}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n        >\n            <div className=\"custom_wh profile_modal vouch_modal\" data-aos=\"zoom-in\" data-aos-delay=\"30\" data-aos-duration=\"1000\">\n                <div className=\"heading\">\n                    <span className=\"sub_title\">\n                        {'Leave a Vouch'}\n                    </span>\n                    <span className=\"info_note\">\n                        {'Upload the vouch and write the description.'}\n                    </span>\n                    <button\n                        onClick={() => {\n                            closeToggle('isRecall');\n                            setToggle((prev: any) => !prev)\n                        }}\n                        className=\"close_btn\">\n                        <img src={cancel} alt=\"cancel\" />\n                    </button>\n                </div>\n                <div className=\"inner_wrap\">\n                    <div className=\"inner_wrappr\">\n                        <div className=\"form_field\">\n                            <label className=\"form_label\">Job</label>\n                            <div className=\"text_field\">\n                                <Select\n                                    className=\"select_menu\"\n                                    value={reactSelect}\n                                    options={JobSelectOptions}\n                                    components={{ NoOptionsMessage }}\n                                    // options={jobsList.map((item: any) => ({ label: item?.jobName, value: item?.jobId }))}\n                                    onChange={(item: any) => {\n                                        setReactSelect(item);\n                                        setErrorData((prev: any) => ({ ...prev, name: '' }));\n                                    }}\n                                />\n                            </div>\n                            <span className=\"error_msg\">\n                                {errorData?.name}\n                            </span>\n                        </div>\n                        <div className=\"form_field\">\n                            <label className=\"form_label\">\n                                {'Job Description'}\n                            </label>\n                            <div className=\"text_field\">\n                                <textarea\n                                    onChange={(e) => { setJobDesciption((e.target.value).trimLeft()) }}\n                                    value={jobDescription}\n                                    placeholder=\"Enter Description...\">\n                                </textarea>\n                                {jobDescription.length ?\n                                    <span className=\"char_count\">\n                                        {`character length : ${jobDescription.length} / 250`}\n                                    </span>\n                                    : ''}\n                            </div>\n                            <span className=\"error_msg\">\n                                {errorData?.detail}\n                            </span>\n\n                        </div>\n                        <div className=\"upload_img_video\">\n                            {filesUrl?.length ?\n                                filesUrl.map((item: any, index: number) => (renderbyFileFormat(item.link, index)))\n                                : null}\n\n                            {filesUrl?.length < 1 ? (\n                                <React.Fragment>\n                                    <label className=\"upload_media\" htmlFor=\"upload_img_video\">\n                                        <img src={addMedia} alt=\"\" />\n                                    </label>\n                                    <input\n                                        onChange={onFileChange}\n                                        type=\"file\"\n                                        accept=\"image/png,image/jpg,image/jpeg,.pdf, .doc, video/mp4, video/wmv, video/avi\"\n                                        style={{ display: \"none\" }}\n                                        id=\"upload_img_video\"\n                                    />\n                                </React.Fragment>\n                            ) : null}\n                        </div>\n                        <span className=\"error_msg\">\n                            {errorData?.upload}\n                        </span>\n                    </div>\n                </div>\n                <div className=\"bottom_btn custom_btn\">\n                    <button\n                        onClick={() => {\n                            if (!filesUrl?.length || !jobDescription?.length) {\n                                if (!filesUrl?.length) {\n                                    setErrorData((prev: any) => ({ ...prev, upload: 'Document file is required.' }));\n                                }\n\n                                if (!jobDescription?.length) {\n                                    setErrorData((prev: any) => ({ ...prev, detail: 'Job Description is required' }));\n                                }\n\n                                if (!reactSelect?.value?.length) {\n                                    setErrorData((prev: any) => ({ ...prev, name: 'Job Name is required' }));\n                                }\n\n                            } else {\n                                handleSubmit();\n                            }\n                        }}\n                        className={`fill_btn full_btn btn-effect`}>\n                        {'Save changes'}\n                    </button>\n                </div>\n            </div>\n        </Modal>\n    )\n}\n\nexport default AddVoucherComponent;"]},"metadata":{},"sourceType":"module"}