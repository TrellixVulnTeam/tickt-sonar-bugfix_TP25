{"ast":null,"code":"import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import ActiveQuoteMark from'../activeQuoteJob/activeQuoteMark';import{getHomeJobDetails}from'../../../../redux/homeSearch/actions';import storageService from'../../../../utils/storageService';import dummy from'../../../../assets/images/u_placeholder.jpg';import more from'../../../../assets/images/icon-direction-right.png';import noDataFound from\"../../../../assets/images/no-search-data.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ActiveQuoteOuter=function ActiveQuoteOuter(props){var _props$location,_props$location$state,_props$location$state2,_props$location2,_props$location2$stat,_props$location2$stat2,_props$location3,_props$location3$stat,_props$location3$stat2;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),dataItems=_useState2[0],setDataItems=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isDataFetched=_useState4[0],setIsDataFetched=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoad=_useState6[0],setIsLoad=_useState6[1];useEffect(function(){preFetch();},[]);var jobId=(_props$location=props.location)===null||_props$location===void 0?void 0:(_props$location$state=_props$location.state)===null||_props$location$state===void 0?void 0:(_props$location$state2=_props$location$state.jobData)===null||_props$location$state2===void 0?void 0:_props$location$state2.jobId;var tradeId=(_props$location2=props.location)===null||_props$location2===void 0?void 0:(_props$location2$stat=_props$location2.state)===null||_props$location2$stat===void 0?void 0:(_props$location2$stat2=_props$location2$stat.jobData)===null||_props$location2$stat2===void 0?void 0:_props$location2$stat2.tradeId;var specializationId=(_props$location3=props.location)===null||_props$location3===void 0?void 0:(_props$location3$stat=_props$location3.state)===null||_props$location3$stat===void 0?void 0:(_props$location3$stat2=_props$location3$stat.jobData)===null||_props$location3$stat2===void 0?void 0:_props$location3$stat2.specializationId;var preFetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data={};data.jobId=jobId;data.tradeId=tradeId;data.specializationId=specializationId;_context.next=6;return getHomeJobDetails(data);case 6:result=_context.sent;if(result.success){setDataItems(result===null||result===void 0?void 0:result.data);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function preFetch(){return _ref.apply(this,arguments);};}();var dataFetched=function dataFetched(val){setIsDataFetched(val);setIsLoad(false);};var postedBy=(dataItems===null||dataItems===void 0?void 0:dataItems.postedBy)||{};var builderId=postedBy.builderId,builderImage=postedBy.builderImage,builderName=postedBy.builderName,jobName=postedBy.jobName,ratings=postedBy.ratings,reviews=postedBy.reviews;return/*#__PURE__*/_jsx(\"div\",{className:\"detail_col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_row\",children:[/*#__PURE__*/_jsx(ActiveQuoteMark,_objectSpread(_objectSpread({},props),{},{jobId:jobId,dataFetched:dataFetched})),isDataFetched?/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_6 col_ruler\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:\"Posted by\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tradie_card posted_by \",children:[/*#__PURE__*/_jsx(\"a\",{href:\"javascript:void(0)\",className:\"chat circle\",onClick:function onClick(e){var _storageService$getIt;e.preventDefault();props.history.push({pathname:\"/chat\",state:{tradieId:(_storageService$getIt=storageService.getItem('userInfo'))===null||_storageService$getIt===void 0?void 0:_storageService$getIt._id,builderId:builderId,jobId:jobId,jobName:jobName}});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_wrap\",onClick:function onClick(){props.history.push(\"/builder-info?builderId=\".concat(builderId));},children:[/*#__PURE__*/_jsx(\"figure\",{className:\"u_img\",children:/*#__PURE__*/_jsx(\"img\",{src:builderImage||dummy,alt:\"traide-img\",onError:function onError(e){var _e$target,_e$target2;if(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.onerror){e.target.onerror=null;}if(e===null||e===void 0?void 0:(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.src){e.target.src=dummy;}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:builderName}),/*#__PURE__*/_jsxs(\"span\",{className:\"rating\",children:[ratings,\" | \",reviews,\" reviews\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relate\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:'Job details'}),/*#__PURE__*/_jsx(\"span\",{className:\"edit_icon\",title:\"More\",onClick:function onClick(){return props.history.push(\"/job-details-page?jobId=\".concat(jobId,\"&redirect_from=jobs\"));},children:/*#__PURE__*/_jsx(\"img\",{src:more,alt:\"more\"})})]})]}):!props.loading&&!isLoad&&/*#__PURE__*/_jsxs(\"div\",{className:\"no_record  m-t-vh\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"no_img\",children:/*#__PURE__*/_jsx(\"img\",{src:noDataFound,alt:\"data not found\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"No Data Found\"})]})]})});};export default ActiveQuoteOuter;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/jobDashboard/components/activeQuoteJob/activeQuoteOuter.tsx"],"names":["useEffect","useState","ActiveQuoteMark","getHomeJobDetails","storageService","dummy","more","noDataFound","ActiveQuoteOuter","props","dataItems","setDataItems","isDataFetched","setIsDataFetched","isLoad","setIsLoad","preFetch","jobId","location","state","jobData","tradeId","specializationId","data","result","success","dataFetched","val","postedBy","builderId","builderImage","builderName","jobName","ratings","reviews","e","preventDefault","history","push","pathname","tradieId","getItem","_id","target","onerror","src","loading"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport ActiveQuoteMark from '../activeQuoteJob/activeQuoteMark';\nimport { getHomeJobDetails } from '../../../../redux/homeSearch/actions';\nimport storageService from '../../../../utils/storageService';\n\nimport dummy from '../../../../assets/images/u_placeholder.jpg';\nimport more from '../../../../assets/images/icon-direction-right.png';\nimport noDataFound from \"../../../../assets/images/no-search-data.png\";\n\nconst ActiveQuoteOuter = (props: any) => {\n    const [dataItems, setDataItems] = useState<any>({});\n    const [isDataFetched, setIsDataFetched] = useState<boolean>(false);\n    const [isLoad, setIsLoad] = useState(true);\n\n    useEffect(() => {\n        preFetch();\n    }, []);\n\n    let jobId = props.location?.state?.jobData?.jobId;\n    let tradeId = props.location?.state?.jobData?.tradeId;\n    let specializationId = props.location?.state?.jobData?.specializationId;\n\n    const preFetch = async () => {\n        let data: any = {};\n        data.jobId = jobId;\n        data.tradeId = tradeId;\n        data.specializationId = specializationId;\n        let result: any = await getHomeJobDetails(data);\n        if (result.success) {\n            setDataItems(result?.data);\n        }\n    }\n\n    const dataFetched = (val: boolean) => {\n        setIsDataFetched(val);\n        setIsLoad(false);\n    }\n\n    const postedBy: any = dataItems?.postedBy || {};\n    const {\n        builderId,\n        builderImage,\n        builderName,\n        jobName,\n        ratings,\n        reviews\n    } = postedBy;\n\n    return (\n        <div className=\"detail_col\">\n            <div className=\"flex_row\">\n                <ActiveQuoteMark\n                    {...props}\n                    jobId={jobId}\n                    dataFetched={dataFetched}\n                />\n                {isDataFetched ? (<div className=\"flex_col_sm_6 col_ruler\">\n                    <span className=\"sub_title\">Posted by</span>\n                    <div className=\"tradie_card posted_by \">\n                        <a href=\"javascript:void(0)\" className=\"chat circle\"\n                            onClick={(e) => {\n                                e.preventDefault();\n                                props.history.push({\n                                    pathname: `/chat`,\n                                    state: {\n                                        tradieId: storageService.getItem('userInfo')?._id,\n                                        builderId: builderId,\n                                        jobId: jobId,\n                                        jobName: jobName\n                                    }\n                                })\n                            }} />\n                        <div className=\"user_wrap\"\n                            onClick={() => {\n                                props.history.push(`/builder-info?builderId=${builderId}`)\n                            }}>\n                            <figure className=\"u_img\">\n                                <img\n                                    src={builderImage || dummy}\n                                    alt=\"traide-img\"\n                                    onError={(e: any) => {\n                                        if (e?.target?.onerror) {\n                                            e.target.onerror = null;\n                                        }\n                                        if (e?.target?.src) {\n                                            e.target.src = dummy;\n                                        }\n                                    }}\n                                />\n                            </figure>\n                            <div className=\"details\">\n                                <span className=\"name\">{builderName}</span>\n                                <span className=\"rating\">{ratings} | {reviews} reviews</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"relate\">\n                        <span className=\"sub_title\">\n                            {'Job details'}\n                        </span>\n                        <span\n                            className=\"edit_icon\"\n                            title=\"More\"\n                            onClick={() =>\n                                props.history.push(`/job-details-page?jobId=${jobId}&redirect_from=jobs`)}>\n                            <img src={more} alt=\"more\" />\n                        </span>\n                    </div>\n                </div>) : !props.loading && !isLoad && (\n                    <div className=\"no_record  m-t-vh\">\n                        <figure className=\"no_img\">\n                            <img src={noDataFound} alt=\"data not found\" />\n                        </figure>\n                        <span>No Data Found</span>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n};\n\nexport default ActiveQuoteOuter;\n"]},"metadata":{},"sourceType":"module"}