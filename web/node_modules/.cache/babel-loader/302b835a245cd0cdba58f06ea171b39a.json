{"ast":null,"code":"import _toConsumableArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import SearchFilters from'./searchFilters';import noData from'../../assets/images/no-search-data.png';// import BannerSearch from '../shared/bannerSearch'\nimport BannerSearchProps from'../shared/bannerSearchProps';import TradieBox from'../shared/tradieBox';import moment from'moment';import InfiniteScroll from\"react-infinite-scroll-component\";import{moengage,mixPanel}from'../../services/analyticsTools';import{MoEConstants}from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchResultTradie=function SearchResultTradie(props){var _props$history,_props$history$locati,_props$history$locati2;var location=useLocation();var _useState=useState(location.state),_useState2=_slicedToArray(_useState,2),stateData=_useState2[0],setStateData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isToggle=_useState4[0],setToggleSearch=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),localInfo=_useState6[0],setLocalInfo=_useState6[1];// localInfo\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),localData=_useState10[0],setLocalData=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),currentPage=_useState12[0],setCurrentPage=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),hasMore=_useState14[0],setHasMore=_useState14[1];var homeSearchJobData=props.homeSearchJobData;// props here.\nuseEffect(function(){var _props$location,_props$location$state,_stateData$calender,_stateData$calender3,_stateData$specializa,_data$address,_props$tradeListData$,_JSON$parse,_JSON$parse2;props.getRecentSearchList();var data={page:1,isFiltered:false};if(stateData===null||stateData===void 0?void 0:stateData.tradeId){data['tradeId']=stateData===null||stateData===void 0?void 0:stateData.tradeId;}console.log('stateData: ',stateData);//debugger\nif(stateData===null||stateData===void 0?void 0:stateData.specializations){data['specializationId']=stateData===null||stateData===void 0?void 0:stateData.specializations;}// tradeId: stateData?.tradeId,\n// specializationId: stateData?.specializations,\nconsole.log({location:stateData===null||stateData===void 0?void 0:stateData.location});if(stateData===null||stateData===void 0?void 0:stateData.location){data['location']=stateData===null||stateData===void 0?void 0:stateData.location;}if(props===null||props===void 0?void 0:(_props$location=props.location)===null||_props$location===void 0?void 0:(_props$location$state=_props$location.state)===null||_props$location$state===void 0?void 0:_props$location$state.suggestionSelected){var _props$location2,_props$location2$stat;data['address']=JSON.stringify(props===null||props===void 0?void 0:(_props$location2=props.location)===null||_props$location2===void 0?void 0:(_props$location2$stat=_props$location2.state)===null||_props$location2$stat===void 0?void 0:_props$location2$stat.suggestionSelected);}if(stateData===null||stateData===void 0?void 0:(_stateData$calender=stateData.calender)===null||_stateData$calender===void 0?void 0:_stateData$calender.startDate){var _stateData$calender2;data['from_date']=moment(stateData===null||stateData===void 0?void 0:(_stateData$calender2=stateData.calender)===null||_stateData$calender2===void 0?void 0:_stateData$calender2.startDate).format('YYYY-MM-DD');}if(stateData===null||stateData===void 0?void 0:(_stateData$calender3=stateData.calender)===null||_stateData$calender3===void 0?void 0:_stateData$calender3.endDate){var _stateData$calender4;data['to_date']=moment(stateData===null||stateData===void 0?void 0:(_stateData$calender4=stateData.calender)===null||_stateData$calender4===void 0?void 0:_stateData$calender4.endDate).format('YYYY-MM-DD');}var spec_count=stateData===null||stateData===void 0?void 0:(_stateData$specializa=stateData.specializations)===null||_stateData$specializa===void 0?void 0:_stateData$specializa.length;if(!(data===null||data===void 0?void 0:data.address)||!(data===null||data===void 0?void 0:(_data$address=data.address)===null||_data$address===void 0?void 0:_data$address.length)){data===null||data===void 0?true:delete data.address;}setLocalInfo({name:stateData===null||stateData===void 0?void 0:stateData.name,// count: spec_count === 1 ? 0 : spec_count,\ncount:0,tradeId:data.tradeId,specializationId:data.specializationId,location:data.location,doingLocalChanges:false,suggestionSelected:stateData===null||stateData===void 0?void 0:stateData.suggestionSelected});if(data===null||data===void 0?void 0:data.address){return;}console.log({data:data},'----------------->><<---------------');// if (!stateData?.suggestionSelected || (data?.location?.coordinates && Array.isArray(data?.location?.coordinates) && data?.location?.coordinates?.length)) {\nprops.postHomeSearchData(data);var mData=_objectSpread(_objectSpread(_objectSpread({timeStamp:moengage.getCurrentTimeStamp(),category:props===null||props===void 0?void 0:(_props$tradeListData$=props.tradeListData.find(function(i){return i._id===(data===null||data===void 0?void 0:data.tradeId[0]);}))===null||_props$tradeListData$===void 0?void 0:_props$tradeListData$.trade_name},data.address&&{location:\"\".concat((_JSON$parse=JSON.parse(data.address))===null||_JSON$parse===void 0?void 0:_JSON$parse.mainText,\" \").concat((_JSON$parse2=JSON.parse(data.address))===null||_JSON$parse2===void 0?void 0:_JSON$parse2.secondaryText)}),(data===null||data===void 0?void 0:data.from_date)&&{'start date':data===null||data===void 0?void 0:data.from_date}),(data===null||data===void 0?void 0:data.to_date)&&{'end date':data===null||data===void 0?void 0:data.to_date});moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES,mData);mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES,mData);// }\n},[]);var getTitleInfo=function getTitleInfo(info){setLocalInfo(info);};var checkIfExist=function checkIfExist(data){if(data&&Array.isArray(data)&&(data===null||data===void 0?void 0:data.length)){var element_id=data[0].tradieId;var response=localData.find(function(item){return item.tradieId===element_id;});if(response){console.log({response:response},'duplicate');return true;}return false;}return false;};useEffect(function(){var _local_info$tradeId,_local_info_tradeId,_localTradeId;var newProps=homeSearchJobData;var propsPage=1;var propsTradeId='';var localTradeId='';var local_info=localInfo;var local_info_tradeId='';if((local_info===null||local_info===void 0?void 0:local_info.tradeId)&&Array.isArray(local_info===null||local_info===void 0?void 0:local_info.tradeId)&&(local_info===null||local_info===void 0?void 0:(_local_info$tradeId=local_info.tradeId)===null||_local_info$tradeId===void 0?void 0:_local_info$tradeId.length)){local_info_tradeId=local_info===null||local_info===void 0?void 0:local_info.tradeId[0];}if(!hasMore){setHasMore(function(prev){return!prev;});}if(homeSearchJobData&&Array.isArray(homeSearchJobData)&&(homeSearchJobData===null||homeSearchJobData===void 0?void 0:homeSearchJobData.length)){var _homeSearchJobData$,_homeSearchJobData$$t,_homeSearchJobData$2;propsTradeId=(_homeSearchJobData$=homeSearchJobData[0])===null||_homeSearchJobData$===void 0?void 0:(_homeSearchJobData$$t=_homeSearchJobData$.tradeData[0])===null||_homeSearchJobData$$t===void 0?void 0:_homeSearchJobData$$t.tradeId;propsPage=(_homeSearchJobData$2=homeSearchJobData[0])===null||_homeSearchJobData$2===void 0?void 0:_homeSearchJobData$2.page;}if(localData&&Array.isArray(localData)&&(localData===null||localData===void 0?void 0:localData.length)){var _localData$,_localData$$tradeData;localTradeId=(_localData$=localData[0])===null||_localData$===void 0?void 0:(_localData$$tradeData=_localData$.tradeData[0])===null||_localData$$tradeData===void 0?void 0:_localData$$tradeData.tradeId;}var cp=currentPage*10;if(!((_local_info_tradeId=local_info_tradeId)===null||_local_info_tradeId===void 0?void 0:_local_info_tradeId.length)&&((_localTradeId=localTradeId)===null||_localTradeId===void 0?void 0:_localTradeId.length)){getTitleInfo({name:'',count:0,tradeId:[],specializationId:[],location:null,doingLocalChanges:false,suggestionSelected:''});}if(propsPage){var _local_info_tradeId2,_localTradeId2;if(((_local_info_tradeId2=local_info_tradeId)===null||_local_info_tradeId2===void 0?void 0:_local_info_tradeId2.length)&&((_localTradeId2=localTradeId)===null||_localTradeId2===void 0?void 0:_localTradeId2.length)){var _propsTradeId;if(!((_propsTradeId=propsTradeId)===null||_propsTradeId===void 0?void 0:_propsTradeId.length)&&local_info_tradeId===localTradeId){return;}}if(propsPage===1&&currentPage===1){setLocalData(newProps);setCurrentPage(propsPage);}else if(propsPage>1&&currentPage>1&&currentPage===propsPage){if(!checkIfExist(newProps)){setLocalData(function(prev){return[].concat(_toConsumableArray(prev),_toConsumableArray(newProps));});}}else if(propsPage===1&&currentPage>1){setLocalData(newProps);setCurrentPage(propsPage);}else{var _local_info_tradeId3,_localTradeId3,_propsTradeId2;if(!((_local_info_tradeId3=local_info_tradeId)===null||_local_info_tradeId3===void 0?void 0:_local_info_tradeId3.length)&&((_localTradeId3=localTradeId)===null||_localTradeId3===void 0?void 0:_localTradeId3.length)&&((_propsTradeId2=propsTradeId)===null||_propsTradeId2===void 0?void 0:_propsTradeId2.length)){if(localTradeId===propsTradeId){setLocalData(newProps);setCurrentPage(propsPage);}}}}},[homeSearchJobData]);var handleChangeToggle=function handleChangeToggle(value){setToggleSearch(value);};// let homeSearchJobData: any = props.homeSearchJobData;\nvar local_info=localInfo;var isLoading=props.isLoading;console.log({localData:localData,homeSearchJobData:homeSearchJobData,props:props});return/*#__PURE__*/_jsxs(\"div\",{className:\"app_wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top_search \".concat(isToggle?'active':''),children:/*#__PURE__*/_jsx(BannerSearchProps,_objectSpread(_objectSpread({},props),{},{tradeListData:props.tradeListData,showOnlyTradeName:(_props$history=props.history)===null||_props$history===void 0?void 0:(_props$history$locati=_props$history.location)===null||_props$history$locati===void 0?void 0:(_props$history$locati2=_props$history$locati.state)===null||_props$history$locati2===void 0?void 0:_props$history$locati2.showOnlyTradeName,getTitleInfo:getTitleInfo,localInfo:localInfo,handleChangeToggle:handleChangeToggle}))}),/*#__PURE__*/_jsx(\"div\",{className:\"search_result\",children:/*#__PURE__*/_jsx(\"div\",{className:\"section_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex_row mob_srch_option\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_6 text-right\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setToggleSearch(true);},className:\"fill_grey_btn btn-effect\",children:\"Modify Search\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"result_heading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_8\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"title\",children:[\"\".concat((local_info===null||local_info===void 0?void 0:local_info.name)||'',\" \").concat((local_info===null||local_info===void 0?void 0:local_info.count)>1?\"+\".concat((local_info===null||local_info===void 0?void 0:local_info.count)-1):''),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:\"\".concat((localData===null||localData===void 0?void 0:localData.length)||0,\" result(s)\")})]}),/*#__PURE__*/_jsx(SearchFilters,_objectSpread(_objectSpread({},props),{},{localInfo:localInfo,getTitleInfo:getTitleInfo}))]})})}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:localData===null||localData===void 0?void 0:localData.length,next:function next(){console.log('callable');if((localData===null||localData===void 0?void 0:localData.length)<currentPage*10){// setHasMore(false);\n}else{var _local_info$tradeId2,_local_info$specializ,_props$location3,_props$location3$stat,_props$location4,_props$location4$stat;var cp=currentPage+1;setCurrentPage(function(prev){return prev+1;});var _local_info=localInfo;console.log({local_info:_local_info});var data={page:cp,isFiltered:false};if(_local_info===null||_local_info===void 0?void 0:_local_info.location){data['location']=_local_info===null||_local_info===void 0?void 0:_local_info.location;}if(_local_info===null||_local_info===void 0?void 0:(_local_info$tradeId2=_local_info.tradeId)===null||_local_info$tradeId2===void 0?void 0:_local_info$tradeId2.length){data['tradeId']=_local_info===null||_local_info===void 0?void 0:_local_info.tradeId;}if(_local_info===null||_local_info===void 0?void 0:(_local_info$specializ=_local_info.specializationId)===null||_local_info$specializ===void 0?void 0:_local_info$specializ.length){data['specializationId']=_local_info===null||_local_info===void 0?void 0:_local_info.specializationId;}if((props===null||props===void 0?void 0:(_props$location3=props.location)===null||_props$location3===void 0?void 0:(_props$location3$stat=_props$location3.state)===null||_props$location3$stat===void 0?void 0:_props$location3$stat.suggestionSelected)&&(props===null||props===void 0?void 0:(_props$location4=props.location)===null||_props$location4===void 0?void 0:(_props$location4$stat=_props$location4.state)===null||_props$location4$stat===void 0?void 0:_props$location4$stat.suggestionSelected)!==\"{}\"){var _props$location5,_props$location5$stat;data['address']=JSON.stringify(props===null||props===void 0?void 0:(_props$location5=props.location)===null||_props$location5===void 0?void 0:(_props$location5$stat=_props$location5.state)===null||_props$location5$stat===void 0?void 0:_props$location5$stat.suggestionSelected);}if(_local_info===null||_local_info===void 0?void 0:_local_info.from_date){data['from_date']=_local_info===null||_local_info===void 0?void 0:_local_info.from_date;}if(_local_info===null||_local_info===void 0?void 0:_local_info.to_date){data['to_date']=_local_info===null||_local_info===void 0?void 0:_local_info.to_date;}if((_local_info===null||_local_info===void 0?void 0:_local_info.sortBy)>0){data['sortBy']=_local_info===null||_local_info===void 0?void 0:_local_info.sortBy;}if(!(data===null||data===void 0?void 0:data.hasOwnProperty('specializationId'))){data['isFiltered']=true;}console.log({local_info:_local_info,data:data,cp:cp});props.postHomeSearchData(data);}},hasMore:hasMore,loader:/*#__PURE__*/_jsx(_Fragment,{}),className:\"flex_row tradies_row\",children:(localData===null||localData===void 0?void 0:localData.length)?localData.map(function(item,index){return/*#__PURE__*/_jsx(TradieBox,{item:item,index:index});}):!isLoading&&!(localData===null||localData===void 0?void 0:localData.length)?/*#__PURE__*/_jsxs(\"div\",{className:\"no_record\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"no_img\",children:/*#__PURE__*/_jsx(\"img\",{src:noData,alt:\"data not found\"})}),/*#__PURE__*/_jsx(\"span\",{children:'No Data Found'})]}):null})]})})})]});};export default SearchResultTradie;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/searchTradieResult/searchResultTradie.tsx"],"names":["useState","useEffect","useLocation","SearchFilters","noData","BannerSearchProps","TradieBox","moment","InfiniteScroll","moengage","mixPanel","MoEConstants","SearchResultTradie","props","location","state","stateData","setStateData","isToggle","setToggleSearch","localInfo","setLocalInfo","loading","setLoading","localData","setLocalData","currentPage","setCurrentPage","hasMore","setHasMore","homeSearchJobData","getRecentSearchList","data","page","isFiltered","tradeId","console","log","specializations","suggestionSelected","JSON","stringify","calender","startDate","format","endDate","spec_count","length","address","name","count","specializationId","doingLocalChanges","postHomeSearchData","mData","timeStamp","getCurrentTimeStamp","category","tradeListData","find","i","_id","trade_name","parse","mainText","secondaryText","from_date","to_date","moE_SendEvent","SEARCHED_FOR_TRADIES","mixP_SendEvent","getTitleInfo","info","checkIfExist","Array","isArray","element_id","tradieId","response","item","newProps","propsPage","propsTradeId","localTradeId","local_info","local_info_tradeId","prev","tradeData","cp","handleChangeToggle","value","isLoading","history","showOnlyTradeName","sortBy","hasOwnProperty","map","index"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport SearchFilters from './searchFilters';\nimport noData from '../../assets/images/no-search-data.png';\nimport closeMap from '../../assets/images/close-white.png';\n// import BannerSearch from '../shared/bannerSearch'\nimport BannerSearchProps from '../shared/bannerSearchProps'\nimport TradieBox from '../shared/tradieBox'\nimport moment from 'moment';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { addListener } from 'process';\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\n\nconst SearchResultTradie = (props: any) => {\n    const location: any = useLocation();\n    const [stateData, setStateData] = useState(location.state);\n    const [isToggle, setToggleSearch] = useState(false);\n    const [localInfo, setLocalInfo] = useState({}); // localInfo\n    const [loading, setLoading] = useState(false);\n    const [localData, setLocalData] = useState<any>([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [hasMore, setHasMore] = useState(true);\n\n    const { homeSearchJobData } = props; // props here.\n\n    useEffect(() => {\n        props.getRecentSearchList();\n\n        let data: any = {\n            page: 1,\n            isFiltered: false,\n        }\n\n        if (stateData?.tradeId) {\n            data['tradeId'] = stateData?.tradeId\n        }\n        console.log('stateData: ', stateData);\n        //debugger\n\n        if (stateData?.specializations) {\n            data['specializationId'] = stateData?.specializations;\n        }\n        // tradeId: stateData?.tradeId,\n        // specializationId: stateData?.specializations,\n        console.log({\n            location: stateData?.location\n        })\n        if (stateData?.location) {\n            data['location'] = stateData?.location;\n        }\n\n        if (props?.location?.state?.suggestionSelected) {\n            data['address'] = JSON.stringify(props?.location?.state?.suggestionSelected);\n        }\n\n        if (stateData?.calender?.startDate) {\n            data['from_date'] = moment(stateData?.calender?.startDate).format('YYYY-MM-DD')\n        }\n        if (stateData?.calender?.endDate) {\n            data['to_date'] = moment(stateData?.calender?.endDate).format('YYYY-MM-DD')\n        }\n        let spec_count: any = stateData?.specializations?.length;\n\n        if (!data?.address || !data?.address?.length) {\n            delete data?.address;\n        }\n\n        setLocalInfo({\n            name: stateData?.name,\n            // count: spec_count === 1 ? 0 : spec_count,\n            count: 0,\n            tradeId: data.tradeId,\n            specializationId: data.specializationId,\n            location: data.location,\n            doingLocalChanges: false,\n            suggestionSelected: stateData?.suggestionSelected\n        });\n\n        if (data?.address) {\n            return\n        }\n\n        console.log({\n            data\n        }, '----------------->><<---------------')\n\n        // if (!stateData?.suggestionSelected || (data?.location?.coordinates && Array.isArray(data?.location?.coordinates) && data?.location?.coordinates?.length)) {\n        props.postHomeSearchData(data);\n        const mData = {\n            timeStamp: moengage.getCurrentTimeStamp(),\n            category: props?.tradeListData.find((i: any) => i._id === data?.tradeId[0])?.trade_name,\n            ...(data.address && { location: `${JSON.parse(data.address)?.mainText} ${JSON.parse(data.address)?.secondaryText}` }),\n            //'length of hire': '',\n            ...(data?.from_date && { 'start date': data?.from_date }),\n            ...(data?.to_date && { 'end date': data?.to_date }),\n        };\n        moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n        mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n        // }\n\n    }, []);\n\n    const getTitleInfo = (info: any) => {\n        setLocalInfo(info)\n    }\n\n    const checkIfExist = (data: any) => {\n        if (data && Array.isArray(data) && data?.length) {\n            let element_id = data[0].tradieId;\n            let response = localData.find((item: any) => item.tradieId === element_id);\n            if (response) {\n                console.log({ response }, 'duplicate');\n                return true;\n            }\n            return false;\n        }\n        return false;\n    }\n\n    useEffect(() => {\n        let newProps = homeSearchJobData;\n        let propsPage = 1;\n        let propsTradeId = '';\n        let localTradeId = '';\n        let local_info: any = localInfo;\n        let local_info_tradeId = '';\n        if (local_info?.tradeId && Array.isArray(local_info?.tradeId) && local_info?.tradeId?.length) {\n            local_info_tradeId = local_info?.tradeId[0];\n        }\n\n        if (!hasMore) {\n            setHasMore((prev: any) => !prev);\n        }\n\n        if (homeSearchJobData && Array.isArray(homeSearchJobData) && homeSearchJobData?.length) {\n            propsTradeId = homeSearchJobData[0]?.tradeData[0]?.tradeId;\n            propsPage = homeSearchJobData[0]?.page;\n        }\n\n        if (localData && Array.isArray(localData) && localData?.length) {\n            localTradeId = localData[0]?.tradeData[0]?.tradeId;\n        }\n\n        let cp = currentPage * 10;\n\n        if (!local_info_tradeId?.length && localTradeId?.length) {\n            getTitleInfo({\n                name: '',\n                count: 0,\n                tradeId: [],\n                specializationId: [],\n                location: null,\n                doingLocalChanges: false,\n                suggestionSelected: ''\n            })\n        }\n\n        if (propsPage) {\n            if (local_info_tradeId?.length && localTradeId?.length) {\n                if (!propsTradeId?.length && local_info_tradeId === localTradeId) {\n                    return\n                }\n            }\n\n            if (propsPage === 1 && currentPage === 1) {\n                setLocalData(newProps);\n                setCurrentPage(propsPage);\n            } else if (propsPage > 1 && currentPage > 1 && currentPage === propsPage) {\n                if (!checkIfExist(newProps)) {\n                    setLocalData((prev: any) => [...prev, ...newProps]);\n                }\n            } else if (propsPage === 1 && currentPage > 1) {\n                setLocalData(newProps);\n                setCurrentPage(propsPage);\n            } else {\n                if (!local_info_tradeId?.length && localTradeId?.length && propsTradeId?.length) {\n                    if (localTradeId === propsTradeId) {\n                        setLocalData(newProps);\n                        setCurrentPage(propsPage);\n                    }\n                }\n            }\n        }\n    }, [homeSearchJobData]);\n\n    const handleChangeToggle = (value: any) => { setToggleSearch(value) }\n\n    // let homeSearchJobData: any = props.homeSearchJobData;\n    let local_info: any = localInfo;\n    let isLoading: any = props.isLoading;\n    console.log({ localData, homeSearchJobData, props })\n    return (\n        <div className=\"app_wrapper\" >\n            <div className={`top_search ${isToggle ? 'active' : ''}`}>\n                <BannerSearchProps\n                    {...props}\n                    tradeListData={props.tradeListData}\n                    showOnlyTradeName={props.history?.location?.state?.showOnlyTradeName}\n                    getTitleInfo={getTitleInfo}\n                    localInfo={localInfo}\n                    handleChangeToggle={handleChangeToggle} />\n            </div>\n            <div className=\"search_result\">\n                <div className=\"section_wrapper\">\n                    <div className=\"custom_container\">\n\n                        <div className=\"flex_row mob_srch_option\">\n                            <div className=\"flex_col_sm_6\"></div>\n                            <div className=\"flex_col_sm_6 text-right\">\n                                <button onClick={() => { setToggleSearch(true) }} className=\"fill_grey_btn btn-effect\">Modify Search</button>\n                            </div>\n                        </div>\n\n                        <div className=\"result_heading\">\n                            <div className=\"flex_row\">\n                                <div className=\"flex_col_sm_8\">\n                                    <span className=\"title\">\n                                        {`${local_info?.name || ''} ${local_info?.count > 1 ? `+${local_info?.count - 1}` : ''}`}\n                                        <span className=\"count\">\n                                            {`${localData?.length || 0} result(s)`}\n                                        </span>\n                                    </span>\n                                    <SearchFilters\n                                        {...props}\n                                        localInfo={localInfo}\n                                        getTitleInfo={getTitleInfo}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n\n                        <InfiniteScroll\n                            dataLength={localData?.length}\n                            next={() => {\n                                console.log('callable');\n                                if (localData?.length < currentPage * 10) {\n                                    // setHasMore(false);\n                                } else {\n                                    let cp = currentPage + 1;\n                                    setCurrentPage((prev: any) => prev + 1);\n                                    let local_info: any = localInfo;\n                                    console.log({ local_info });\n                                    let data: any = {\n                                        page: cp,\n                                        isFiltered: false,\n                                    }\n\n                                    if (local_info?.location) {\n                                        data['location'] = local_info?.location;\n                                    }\n\n                                    if (local_info?.tradeId?.length) {\n                                        data['tradeId'] = local_info?.tradeId\n                                    }\n\n                                    if (local_info?.specializationId?.length) {\n                                        data['specializationId'] = local_info?.specializationId;\n                                    }\n\n                                    if (props?.location?.state?.suggestionSelected && props?.location?.state?.suggestionSelected !== \"{}\") {\n                                        data['address'] = JSON.stringify(props?.location?.state?.suggestionSelected);\n                                    }\n\n                                    if (local_info?.from_date) {\n                                        data['from_date'] = local_info?.from_date;\n                                    }\n\n                                    if (local_info?.to_date) {\n                                        data['to_date'] = local_info?.to_date;\n                                    }\n\n                                    if (local_info?.sortBy > 0) {\n                                        data['sortBy'] = local_info?.sortBy;\n                                    }\n\n                                    if (!data?.hasOwnProperty('specializationId')) {\n                                        data['isFiltered'] = true;\n                                    }\n\n                                    console.log({\n                                        local_info,\n                                        data,\n                                        cp\n                                    });\n                                    props.postHomeSearchData(data);\n                                }\n                            }}\n                            hasMore={hasMore}\n                            loader={<></>}\n                            className=\"flex_row tradies_row\">\n                            {localData?.length ?\n                                localData.map((item: any, index: number) => (\n                                    <TradieBox item={item} index={index} />\n                                ))\n                                :\n                                !isLoading && !localData?.length ?\n                                    <div className=\"no_record\">\n                                        <figure className=\"no_img\">\n                                            <img src={noData} alt=\"data not found\" />\n                                        </figure>\n                                        <span>{'No Data Found'}</span>\n                                    </div> : null}\n                        </InfiniteScroll>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SearchResultTradie\n"]},"metadata":{},"sourceType":"module"}