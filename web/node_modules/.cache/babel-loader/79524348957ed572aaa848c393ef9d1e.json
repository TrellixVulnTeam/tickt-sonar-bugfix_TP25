{"ast":null,"code":"import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";// @ts-ignore\nimport{callLogin}from'../../redux/auth/actions';import eyeIconClose from'../../assets/images/icon-eye-closed.png';import eyeIconOpen from'../../assets/images/icon-eye-open.png';import AuthParent from'../../common/auth/authParent';import Constants from'../../utils/constants';import regex from'../../utils/regex';import SocialAuth from\"../../common/auth/socialAuth\";import{loginAnonymously}from'../../services/firebase';import{moengage,mixPanel}from'../../services/analyticsTools';import{MoEConstants}from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState({email:'',password:''}),_useState4=_slicedToArray(_useState3,2),loginData=_useState4[0],setLoginData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPassword=_useState6[0],setShowPassword=_useState6[1];var window_=window;window_.Intercom('shutdown');var backButtonHandler=function backButtonHandler(){var _props$history;props===null||props===void 0?void 0:(_props$history=props.history)===null||_props$history===void 0?void 0:_props$history.push('/signup');};useEffect(function(){if(window_===null||window_===void 0?void 0:window_.Intercom){window_.Intercom('shutdown');window_.Intercom('hide');localStorage.clear();}},[]);var changeHandler=function changeHandler(e){setLoginData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},e.target.name,e.target.value));});};var validateForm=function validateForm(){var newErrors={};if(!loginData.email){newErrors.email=Constants.errorStrings.emailEmpty;}else{var emailRegex=new RegExp(regex.email);if(!emailRegex.test(loginData.email)){newErrors.email=Constants.errorStrings.emailErr;}}if(!loginData.password){newErrors.password=Constants.errorStrings.password;}setErrors(newErrors);return!Object.keys(newErrors).length;};var onNewAccount=function onNewAccount(profileData,socialType){console.log('profileData: ',profileData);var newProfileData=_objectSpread(_objectSpread({firstName:profileData.name,authType:\"signup\",email:profileData.email,accountType:socialType,user_image:profileData===null||profileData===void 0?void 0:profileData.imageUrl},socialType==='google'&&{socialId:profileData.googleId}),socialType==='linkedIn'&&{socialId:profileData.socialId});if(props.showModal){props.modalUpdateSteps(2);props.setSocialData(newProfileData);return;}// props.history.push('/signup')\nprops.history.push({pathname:'/signup',redirect:'socialRedirectFromLogin',state:{profileData:newProfileData}});};var forgetPasswordClicked=function forgetPasswordClicked(e){e.preventDefault();if(props.showModal){// <ForgetPassword />\nprops.modalUpdateSteps(1);return;}props.history.push('/reset-password');};var phoneViewHandler=function phoneViewHandler(e){e.preventDefault();if(props.showModal){props.modalUpdateSteps(2);return;}props.history.push('/signup');};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var newData,res,_res$data,_res$data2,_res$data3,_props$history2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();newData={email:loginData.email,password:loginData.password};// const newData = { email: loginData.email, password: loginData.password, deviceToken: \"323245356tergdfgrtuy68u566452354dfwe\" };\nif(!validateForm()){_context.next=7;break;}_context.next=5;return callLogin(newData);case 5:res=_context.sent;if(res.success){// const authData = {\n//     email: newData.email,\n//     password: '12345678'\n// }\nloginAnonymously();// firebaseLogInWithEmailPassword(authData, res?.data);\nif(props.showModal){props.setShowModal(!props.showModal);}moengage.moE_LoginEvent({email:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.email,userName:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.userName,userId:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3._id});moengage.moE_SendEvent(MoEConstants.APP_OPEN,{app_open:true});mixPanel.mixP_SendEvent(MoEConstants.APP_OPEN,{app_open:true});props===null||props===void 0?void 0:(_props$history2=props.history)===null||_props$history2===void 0?void 0:_props$history2.push('/');}case 7:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(AuthParent,{sliderType:\"signup\",backButtonHandler:backButtonHandler,header:{title:'Log In'},history:props.history,showModal:props.showModal,modalUpdateSteps:props.modalUpdateSteps,setSocialData:props.setSocialData,modalLoginBackBtn:props.modalLoginBackBtn,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form_wrapper\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Email\",name:\"email\",onChange:changeHandler})}),!!errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text_field\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",className:\"detect_input\",placeholder:\"Enter Password\",name:\"password\",onChange:changeHandler}),/*#__PURE__*/_jsx(\"span\",{className:\"detect_icon\",onClick:function onClick(){return setShowPassword(!showPassword);},children:/*#__PURE__*/_jsx(\"img\",{src:showPassword?eyeIconOpen:eyeIconClose})})]}),!!errors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"a\",{className:\"link\",onClick:forgetPasswordClicked,children:\"Forgotten your password?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"button\",{className:\"fill_btn btn-effect\",children:\"Log in\"})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"show_label text-center\",children:\"or continue with\"}),/*#__PURE__*/_jsx(SocialAuth,{onNewAccount:onNewAccount,history:props.history,showModal:props.showModal,setShowModal:props.setShowModal,modalUpdateSteps:props.modalUpdateSteps}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field hide text-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"reg\",children:[\"No account? \",/*#__PURE__*/_jsx(\"a\",{className:\"link\",onClick:phoneViewHandler,children:\"Signup\"})]})})]})});};export default LoginPage;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/login/login.tsx"],"names":["useState","useEffect","callLogin","eyeIconClose","eyeIconOpen","AuthParent","Constants","regex","SocialAuth","loginAnonymously","moengage","mixPanel","MoEConstants","LoginPage","props","errors","setErrors","email","password","loginData","setLoginData","showPassword","setShowPassword","window_","window","Intercom","backButtonHandler","history","push","localStorage","clear","changeHandler","e","prevData","target","name","value","validateForm","newErrors","errorStrings","emailEmpty","emailRegex","RegExp","test","emailErr","Object","keys","length","onNewAccount","profileData","socialType","console","log","newProfileData","firstName","authType","accountType","user_image","imageUrl","socialId","googleId","showModal","modalUpdateSteps","setSocialData","pathname","redirect","state","forgetPasswordClicked","preventDefault","phoneViewHandler","onSubmit","newData","res","success","setShowModal","moE_LoginEvent","data","userName","userId","_id","moE_SendEvent","APP_OPEN","app_open","mixP_SendEvent","title","modalLoginBackBtn"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\n// @ts-ignore\nimport { Link } from \"react-router-dom\";\nimport { callLogin } from '../../redux/auth/actions';\nimport eyeIconClose from '../../assets/images/icon-eye-closed.png';\nimport eyeIconOpen from '../../assets/images/icon-eye-open.png';\nimport AuthParent from '../../common/auth/authParent';\nimport Constants from '../../utils/constants';\nimport regex from '../../utils/regex'\nimport SocialAuth from \"../../common/auth/socialAuth\";\nimport { firebaseLogInWithEmailPassword, loginAnonymously } from '../../services/firebase';\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\n\ninterface Propstype {\n    history: any,\n    showModal?: boolean,\n    modalUpdateSteps: (data: any) => void,\n    setShowModal: (data: any) => void,\n    setSocialData: (data: any) => void,\n    modalLoginBackBtn?: string,\n}\n\nconst LoginPage = (props: Propstype) => {\n    const [errors, setErrors] = useState<any>({});\n    const [loginData, setLoginData] = useState<any>({\n        email: '',\n        password: ''\n    })\n    const [showPassword, setShowPassword] = useState(false)\n    let window_: any = window;\n    window_.Intercom('shutdown');\n\n    const backButtonHandler = () => {\n        props?.history?.push('/signup')\n    }\n\n    useEffect(() => {\n        if (window_?.Intercom) {\n            window_.Intercom('shutdown');\n            window_.Intercom('hide');\n            localStorage.clear();\n        }\n    }, []);\n\n    const changeHandler = (e: any) => {\n        setLoginData((prevData: any) => ({ ...prevData, [e.target.name]: e.target.value }))\n    }\n\n    const validateForm = () => {\n        const newErrors: any = {};\n\n        if (!loginData.email) {\n            newErrors.email = Constants.errorStrings.emailEmpty;\n        } else {\n            const emailRegex = new RegExp(regex.email);\n            if (!emailRegex.test(loginData.email)) {\n                newErrors.email = Constants.errorStrings.emailErr;\n            }\n        }\n\n        if (!loginData.password) {\n            newErrors.password = Constants.errorStrings.password;\n        }\n\n        setErrors(newErrors);\n        return !Object.keys(newErrors).length;\n    }\n\n    const onNewAccount = (profileData: any, socialType: string) => {\n        console.log('profileData: ', profileData);\n        const newProfileData = {\n            firstName: profileData.name,\n            authType: \"signup\",\n            email: profileData.email,\n            accountType: socialType,\n            user_image: profileData?.imageUrl,\n            ...(socialType === 'google' && { socialId: profileData.googleId }),\n            ...(socialType === 'linkedIn' && { socialId: profileData.socialId })\n        }\n        if (props.showModal) {\n            props.modalUpdateSteps(2)\n            props.setSocialData(newProfileData)\n            return;\n        }\n        // props.history.push('/signup')\n        props.history.push({\n            pathname: '/signup',\n            redirect: 'socialRedirectFromLogin',\n            state: { profileData: newProfileData }\n        })\n    }\n\n    const forgetPasswordClicked = (e: any) => {\n        e.preventDefault();\n        if (props.showModal) {\n            // <ForgetPassword />\n            props.modalUpdateSteps(1)\n            return;\n        }\n        props.history.push('/reset-password')\n    }\n\n    const phoneViewHandler = (e: any) => {\n        e.preventDefault();\n        if (props.showModal) {\n            props.modalUpdateSteps(2)\n            return;\n        }\n        props.history.push('/signup')\n    }\n\n    const onSubmit = async (e: any) => {\n        e.preventDefault();\n        let newData = { email: loginData.email, password: loginData.password };\n        // const newData = { email: loginData.email, password: loginData.password, deviceToken: \"323245356tergdfgrtuy68u566452354dfwe\" };\n        if (validateForm()) {\n            const res: any = await callLogin(newData);\n            if (res.success) {\n                // const authData = {\n                //     email: newData.email,\n                //     password: '12345678'\n                // }\n                loginAnonymously();\n                // firebaseLogInWithEmailPassword(authData, res?.data);\n                if (props.showModal) {\n                    props.setShowModal(!props.showModal);\n                }\n                moengage.moE_LoginEvent({ email: res.data?.email, userName: res.data?.userName, userId: res.data?._id });\n                moengage.moE_SendEvent(MoEConstants.APP_OPEN, { app_open: true });\n                mixPanel.mixP_SendEvent(MoEConstants.APP_OPEN, { app_open: true });\n                props?.history?.push('/');\n            }\n        }\n    }\n\n    return (\n        <AuthParent sliderType='signup' backButtonHandler={backButtonHandler} header={{ title: 'Log In' }} history={props.history} showModal={props.showModal} modalUpdateSteps={props.modalUpdateSteps} setSocialData={props.setSocialData} modalLoginBackBtn={props.modalLoginBackBtn}>\n            <div className=\"form_wrapper\">\n                <form onSubmit={onSubmit}>\n                    <div className=\"form_field\">\n                        <label className=\"form_label\">Email</label>\n                        <div className=\"text_field\">\n                            <input type=\"text\" placeholder=\"Enter Email\" name=\"email\" onChange={changeHandler} />\n                        </div>\n                        {!!errors.email && <span className=\"error_msg\">{errors.email}</span>}\n                    </div>\n                    <div className=\"form_field\">\n                        <label className=\"form_label\">Password</label>\n                        <div className=\"text_field\">\n                            <input type={showPassword ? \"text\" : \"password\"} className=\"detect_input\" placeholder=\"Enter Password\" name=\"password\" onChange={changeHandler} />\n                            <span className=\"detect_icon\" onClick={() => setShowPassword(!showPassword)}><img src={showPassword ? eyeIconOpen : eyeIconClose} /></span>\n                        </div>\n                        {!!errors.password && <span className=\"error_msg\">{errors.password}</span>}\n                    </div>\n                    <div className=\"form_field\">\n                        <a className=\"link\" onClick={forgetPasswordClicked}>Forgotten your password?</a>\n                    </div>\n                    <div className=\"form_field\">\n                        <button className=\"fill_btn btn-effect\">Log in</button>\n                    </div>\n                </form>\n                <span className=\"show_label text-center\">or continue with</span>\n                <SocialAuth onNewAccount={onNewAccount}\n                    history={props.history}\n                    showModal={props.showModal}\n                    setShowModal={props.setShowModal}\n                    modalUpdateSteps={props.modalUpdateSteps} />\n                <div className=\"form_field hide text-center\">\n                    <span className=\"reg\">No account? <a className=\"link\" onClick={phoneViewHandler}>Signup</a></span>\n                </div>\n            </div>\n\n        </AuthParent >\n    )\n}\n\nexport default LoginPage\n"]},"metadata":{},"sourceType":"module"}