{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/almostDone.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport Constants from '../../../utils/constants';\nimport regex from '../../../utils/regex';\nimport { validateABN } from '../../../utils/common';\nimport NumberFormat from \"react-number-format\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AlmostDone = props => {\n  _s();\n\n  const [errors, setErrors] = useState({});\n  const [almostDoneData, setAlmostDoneData] = useState({\n    company_name: '',\n    position: '',\n    abn: ''\n  });\n\n  const changeHandler = e => {\n    setAlmostDoneData(prevData => ({ ...prevData,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!almostDoneData.company_name) {\n      newErrors.company_name = Constants.errorStrings.companyNameEmpty;\n    } else {\n      const nameRegex = new RegExp(regex.fullname);\n\n      if (!nameRegex.test(almostDoneData.company_name.trim())) {\n        newErrors.company_name = Constants.errorStrings.companyNameErr;\n      }\n    }\n\n    if (!almostDoneData.position) {\n      newErrors.position = Constants.errorStrings.positionNameEmpty;\n    } else {\n      const positionRegex = new RegExp(regex.fullname);\n\n      if (!positionRegex.test(almostDoneData.position.trim())) {\n        newErrors.position = Constants.errorStrings.positionNameErr;\n      }\n    }\n\n    if (!almostDoneData.abn) {\n      console.log(\"inside if\");\n      newErrors.abn = Constants.errorStrings.abnEmpty;\n    } else {\n      console.log(\"inside if\");\n      const abnRegex = new RegExp(regex.abn);\n\n      if (!abnRegex.test(almostDoneData.abn.replaceAll(' ', ''))) {\n        newErrors.abn = Constants.errorStrings.abnErr;\n      }\n\n      if (!validateABN(almostDoneData.abn.replaceAll(' ', ''))) {\n        newErrors.abn = Constants.errorStrings.abnErr;\n      }\n    }\n\n    setErrors(newErrors);\n    return !Object.keys(newErrors).length;\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (validateForm()) {\n      var newAlmostData = almostDoneData;\n      newAlmostData.abn = newAlmostData.abn.replaceAll(' ', '');\n      console.log(newAlmostData, \"newAlmostData\");\n      props.onSubmitSignup(newAlmostData);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Company Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Company Name\",\n            value: almostDoneData.company_name,\n            name: \"company_name\",\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), !!errors.company_name && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.company_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Your Position\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Position\",\n            value: almostDoneData.position,\n            name: \"position\",\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), !!errors.position && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.position\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Australian Business Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n            type: \"text\",\n            placeholder: \"51 824 753 556\",\n            value: almostDoneData.abn,\n            onValueChange: ({\n              value\n            }) => {\n              setAlmostDoneData(prevData => ({ ...prevData,\n                \"abn\": value\n              }));\n            },\n            format: \"## ### ### ###\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), !!errors.abn && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.abn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"fill_btn btn-effect\",\n          children: \"Create account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AlmostDone, \"9MDZ+CTpyAewZJe2Qd0+zyk/mr0=\");\n\n_c = AlmostDone;\nexport default AlmostDone;\n\nvar _c;\n\n$RefreshReg$(_c, \"AlmostDone\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/almostDone.tsx"],"names":["useState","Constants","regex","validateABN","NumberFormat","AlmostDone","props","errors","setErrors","almostDoneData","setAlmostDoneData","company_name","position","abn","changeHandler","e","prevData","target","name","value","validateForm","newErrors","errorStrings","companyNameEmpty","nameRegex","RegExp","fullname","test","trim","companyNameErr","positionNameEmpty","positionRegex","positionNameErr","console","log","abnEmpty","abnRegex","replaceAll","abnErr","Object","keys","length","onSubmit","preventDefault","newAlmostData","onSubmitSignup"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport Constants from '../../../utils/constants';\nimport regex from '../../../utils/regex';\nimport { validateABN } from '../../../utils/common';\nimport NumberFormat from \"react-number-format\";\n\ninterface Propstype {\n    onSubmitSignup: (data: any) => void,\n}\n\nconst AlmostDone = (props: Propstype) => {\n    const [errors, setErrors] = useState<any>({});\n    const [almostDoneData, setAlmostDoneData] = useState<any>({\n        company_name: '',\n        position: '',\n        abn: '',\n    })\n\n    const changeHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setAlmostDoneData((prevData: any) => ({ ...prevData, [e.target.name]: e.target.value }))\n    }\n\n    const validateForm = () => {\n        const newErrors: any = {};\n        if (!almostDoneData.company_name) {\n            newErrors.company_name = Constants.errorStrings.companyNameEmpty;\n        } else {\n            const nameRegex = new RegExp(regex.fullname);\n            if (!nameRegex.test(almostDoneData.company_name.trim())) {\n                newErrors.company_name = Constants.errorStrings.companyNameErr;\n            }\n        }\n        if (!almostDoneData.position) {\n            newErrors.position = Constants.errorStrings.positionNameEmpty;\n        } else {\n            const positionRegex = new RegExp(regex.fullname);\n            if (!positionRegex.test(almostDoneData.position.trim())) {\n                newErrors.position = Constants.errorStrings.positionNameErr;\n            }\n        }\n\n        if (!almostDoneData.abn) {\n            console.log(\"inside if\")\n            newErrors.abn = Constants.errorStrings.abnEmpty;\n        } else {\n              console.log(\"inside if\")\n            const abnRegex = new RegExp(regex.abn);\n            if (!abnRegex.test(almostDoneData.abn.replaceAll(' ', ''))) {\n                newErrors.abn = Constants.errorStrings.abnErr\n            }\n            if (!validateABN(almostDoneData.abn.replaceAll(' ', ''))) {\n                newErrors.abn = Constants.errorStrings.abnErr\n            }\n        }\n        setErrors(newErrors);\n        return !Object.keys(newErrors).length;\n    }\n\n    const onSubmit = (e: any) => {\n        e.preventDefault();\n        if (validateForm()) {\n            var newAlmostData = almostDoneData;\n            newAlmostData.abn = newAlmostData.abn.replaceAll(' ', '');\n            console.log(newAlmostData, \"newAlmostData\");\n            props.onSubmitSignup(newAlmostData)\n        }\n    }\n\n    return (\n        <div className=\"form_wrapper\">\n            <form onSubmit={onSubmit}>\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Company Name</label>\n                    <div className=\"text_field\">\n                        <input type=\"text\" placeholder=\"Enter Company Name\" value={almostDoneData.company_name} name=\"company_name\" onChange={changeHandler} />\n                    </div>\n                    {!!errors.company_name && <span className=\"error_msg\">{errors.company_name}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Your Position</label>\n                    <div className=\"text_field\">\n                        <input type=\"text\" placeholder=\"Enter Position\" value={almostDoneData.position} name=\"position\" onChange={changeHandler} />\n                    </div>\n                    {!!errors.position && <span className=\"error_msg\">{errors.position}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Australian Business Number</label>\n                    <div className=\"text_field\">\n                        <NumberFormat\n                            type=\"text\"\n                            placeholder=\"51 824 753 556\"\n                            value={almostDoneData.abn}\n                            onValueChange={({ value }) => {\n                                setAlmostDoneData((prevData: any) => ({ ...prevData, \"abn\": value }))\n                            }}\n                            format=\"## ### ### ###\"\n                        />\n                    </div>\n                    {!!errors.abn && <span className=\"error_msg\">{errors.abn}</span>}\n                </div>\n\n                <div className=\"form_field\">\n                    <button className=\"fill_btn btn-effect\">Create account</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default AlmostDone\n"]},"metadata":{},"sourceType":"module"}