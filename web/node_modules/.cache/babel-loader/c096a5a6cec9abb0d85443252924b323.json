{"ast":null,"code":"import _defineProperty from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// for error messages\nvar label={milestone_name:'Milestone Name',from_date:'From Date',recommended_hours:'Recommended Hours'};var pattern=\"^([0-9][0-9]?[0-9]?[0-9]?[0-9]):[0-9][0-9]$\";var EditMilestone=/*#__PURE__*/function(_Component){_inherits(EditMilestone,_Component);var _super=_createSuper(EditMilestone);function EditMilestone(props){var _this;_classCallCheck(this,EditMilestone);_this=_super.call(this,props);_this.checkIsDateValid=function(milestones,time){var _this$props=_this.props,editMileStone=_this$props.editMileStone,editMilestoneTiming=_this$props.editMilestoneTiming;var checkIsValid=true;var isSkip=true;var filterMilestone=[];if(milestones.length>1){filterMilestone=milestones.filter(function(mile_item,index){return index!==editMileStone;});filterMilestone.forEach(function(mile){var validStart=moment(mile.from_date).isValid();var validEnd=moment(mile.to_date).isValid();var validStartInput=moment(time.from_date).isValid();var validEndInput=moment(time.to_date).isValid();if(validStart&&validEnd){if(validStartInput&&validEndInput){if(moment(time.from_date).isSameOrAfter(mile.from_date)&&(moment(time.to_date).isSameOrBefore(mile.to_date)||moment(time.to_date).isSameOrAfter(mile.from_date))){checkIsValid=false;isSkip=false;}}if(validStartInput&&!validEndInput){if(moment(time.from_date).isSameOrAfter(mile.from_date)&&moment(time.from_date).isSameOrBefore(mile.to_date)){checkIsValid=false;isSkip=false;}}}if(validStart&&validStartInput&&!validEnd){if(moment(time.from_date).isSame(mile.from_date)||moment(time.to_date).isSame(mile.from_date)){checkIsValid=false;isSkip=false;}}if(validEnd&&validEndInput){if(moment(time.to_date).isSame(mile.to_date)){checkIsValid=false;isSkip=false;}}});}return{checkIsValid:checkIsValid,skip:isSkip};};_this.handleChange=function(name,value){var _objectSpread2;var error_clone=_this.state.errors;if(name===\"milestone_name\"){value=value.trimLeft().replace(/[^a-zA-Z|0-9 ]/g,\"\");}if(name===\"recommended_hours\"){value=value.trimLeft();}if(['milestone_name','from_date','recommended_hours'].includes(name)){error_clone[name]=_this.isInvalid(name,value);}_this.setState(_objectSpread(_objectSpread({},_this.state),{},(_objectSpread2={},_defineProperty(_objectSpread2,name,value),_defineProperty(_objectSpread2,\"errors\",error_clone),_objectSpread2)));};_this.handleContinue=function(){_this.setItems();_this.props.handleStepForward(6);};_this.setItems=function(){var _this$props2=_this.props,milestones=_this$props2.milestones,handleStepMileStone=_this$props2.handleStepMileStone,newMileStoneScreen=_this$props2.newMileStoneScreen,editMileStone=_this$props2.editMileStone;var _this$state=_this.state,milestone_name=_this$state.milestone_name,from_date=_this$state.from_date,to_date=_this$state.to_date,isPhotoevidence=_this$state.isPhotoevidence,recommended_hours=_this$state.recommended_hours,errors=_this$state.errors;var milestone_index=editMileStone;handleStepMileStone({\"milestone_name\":milestone_name,\"isPhotoevidence\":isPhotoevidence,\"from_date\":from_date,// milestones[milestone_index]?.from_date || '',\n\"to_date\":to_date,//milestones[milestone_index]?.to_date || '',\n\"recommended_hours\":recommended_hours},milestone_index);};_this.checkHoursVal=function(value,lable,name){if(value===null||value===void 0?void 0:value.length){if(value.match(pattern)!==null){var splitItem=value.split(':')[1];var IntItem=+splitItem;var conditionItem=IntItem%15===0;if(!conditionItem){return'Time should be in mutiples of 15 like 10:15, 10:30';}}else{return'Please enter a valid pattern like : 10:15';}}else{return\"\".concat(label[name],\" is required.\");}};_this.isInvalid=function(name,value){switch(name){case'milestone_name':return!value.length?\"\".concat(label[name],\" is required.\"):value.length>50?'Maximum 50 characters are allowed.':'';case'from_date':return!value.length?\"\".concat(label[name],\" is required.\"):'';case'recommended_hours':return _this.checkHoursVal(value,label,name);}};_this.checkErrors=function(){var _filteredMiles$milest;var milestones=_this.props.milestones;var filteredMiles=[];if((milestones===null||milestones===void 0?void 0:milestones.length)&&Array.isArray(milestones)){filteredMiles=milestones.filter(function(item){if(item===null||item===void 0?void 0:item.milestone_name){return item;}});}var milestone_index=filteredMiles.length?filteredMiles.length-1:0;var from_date=((_filteredMiles$milest=filteredMiles[milestone_index])===null||_filteredMiles$milest===void 0?void 0:_filteredMiles$milest.from_date)||'';var _this$state2=_this.state,milestone_name=_this$state2.milestone_name,recommended_hours=_this$state2.recommended_hours,pattern_error=_this$state2.errors.pattern_error;if(milestone_name===null||milestone_name===void 0?void 0:milestone_name.length){var errorItems={};var error_1=_this.isInvalid('milestone_name',milestone_name);var error_2=_this.isInvalid('from_date',from_date);var error_3=_this.isInvalid('recommended_hours',recommended_hours);errorItems['milestone_name']=error_1;// errorItems['from_date'] = error_2;\nif(milestone_name===null||milestone_name===void 0?void 0:milestone_name.length){errorItems['milestone_name']=error_1;}if((recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)&&(error_3===null||error_3===void 0?void 0:error_3.length)){errorItems['recommended_hours']=error_3;}if(JSON.stringify(_this.state.errors)!==JSON.stringify(errorItems)){_this.setState({errors:errorItems});}if(!(error_1===null||error_1===void 0?void 0:error_1.length)&&((recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)===0||!(pattern_error===null||pattern_error===void 0?void 0:pattern_error.length))){return false;}}return true;};_this.renderTimeWithCustomFormat=function(fromDate,toDate,format,formatSet){if(moment(fromDate,format).isValid()&&!moment(toDate,format).isValid()){return\"\".concat(moment(fromDate,format).format('DD MMM'));}if(moment(fromDate,format).isValid()&&moment(toDate,format).isValid()){var yearEnd=moment().endOf(\"year\").toISOString();var monthEnd=moment(fromDate,format).endOf(\"month\").toISOString();var item=moment(toDate,format).diff(moment(fromDate,format),'months',true);var item_year=moment(toDate,format).diff(moment(fromDate,format),'years',true);var monthDiff=parseInt(item.toString());var yearDiff=parseInt(item_year.toString());if(yearDiff>0||moment(toDate,format).isAfter(yearEnd)||moment(toDate,format).isAfter(yearEnd)){return\"\".concat(moment(fromDate,format).format(formatSet[1]),\" - \").concat(moment(toDate,format).format(formatSet[1]));}if(monthDiff>0||moment(toDate,format).isAfter(monthEnd)){return\"\".concat(moment(fromDate,format).format(formatSet[0]),\" - \").concat(moment(toDate,format).format(formatSet[0]));}return\"\".concat(moment(fromDate,format).format(formatSet[0]),\" - \").concat(moment(toDate,format).format(formatSet[0]));}return'Choose';};_this.state={milestone_name:'',isPhotoevidence:true,from_date:'',to_date:'',recommended_hours:'',errors:{milestone_name:'',from_date:'',recommended_hours:'',pattern_error:''}};return _this;}_createClass(EditMilestone,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var _this$props3=this.props,editMileStone=_this$props3.editMileStone,milestones=_this$props3.milestones,editMilestoneTiming=_this$props3.editMilestoneTiming;var item=milestones[editMileStone];if(item&&Object.keys(item).length){var milestone_name=item.milestone_name,isPhotoevidence=item.isPhotoevidence,from_date=item.from_date,to_date=item.to_date,recommended_hours=item.recommended_hours;var isValid=null;var isSkip=null;if(editMilestoneTiming&&Object.keys(editMilestoneTiming).length){var _this$checkIsDateVali=this.checkIsDateValid(milestones,editMilestoneTiming),checkIsValid=_this$checkIsDateVali.checkIsValid,_skip=_this$checkIsDateVali.skip;isValid=checkIsValid;isSkip=_skip;if(isValid){if('from_date'in editMilestoneTiming){from_date=editMilestoneTiming===null||editMilestoneTiming===void 0?void 0:editMilestoneTiming.from_date;}if('to_date'in editMilestoneTiming){to_date=editMilestoneTiming===null||editMilestoneTiming===void 0?void 0:editMilestoneTiming.to_date;}}}this.setState({from_date:from_date,isPhotoevidence:isPhotoevidence===undefined?false:isPhotoevidence,milestone_name:milestone_name,recommended_hours:recommended_hours,to_date:to_date},function(){if(isValid!==null){_this2.props.addTimeToMileStone({from_date:from_date,to_date:to_date},editMileStone,isSkip);}});}}},{key:\"render\",value:function render(){var _this3=this;var _this$props4=this.props,handleStepForward=_this$props4.handleStepForward,handleStepBack=_this$props4.handleStepBack,milestones=_this$props4.milestones,editMileStone=_this$props4.editMileStone;var _this$state3=this.state,milestone_name=_this$state3.milestone_name,isPhotoevidence=_this$state3.isPhotoevidence,recommended_hours=_this$state3.recommended_hours,from_date=_this$state3.from_date,to_date=_this$state3.to_date,errors=_this$state3.errors;var from_date_format=from_date;var to_date_format=to_date;var check_errors=this.checkErrors();return/*#__PURE__*/_jsx(\"div\",{className:\"app_wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"section_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relate\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back\",onClick:function onClick(){handleStepForward(6);}}),/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"Edit Milestone \".concat(editMileStone+1)})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Milestone name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Milestone name\",onChange:function onChange(e){_this3.handleChange('milestone_name',e.target.value);},value:milestone_name,name:\"milestone_name\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:errors===null||errors===void 0?void 0:errors.milestone_name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox_wrap agree_check\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(){_this3.handleChange('isPhotoevidence',!isPhotoevidence);},checked:isPhotoevidence,className:\"filter-type filled-in\",type:\"checkbox\",id:\"milestone1\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"milestone1\",children:/*#__PURE__*/_jsx(\"b\",{children:'Photo evidence required'})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"f_spacebw\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Duration of milestone (optional)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleStepForward(8);},className:\"fill_btn fill_grey_btn choose_btn\",children:this.renderTimeWithCustomFormat(from_date_format,to_date_format,'MM-DD-YYYY',['DD MMM','DD MMM YYYY']// ['MMM DD', 'MMM DD YYYY'] // to keep the date format stable on front-end (TIC-2467)\n)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Estimated hours (optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_field\",children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){_this3.setState({recommended_hours:e.target.value.trimLeft()},function(){var rh_value=_this3.state.recommended_hours;var error_item=_this3.state.errors;// \"^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$\";\nif(!(rh_value===null||rh_value===void 0?void 0:rh_value.length)||rh_value.match(pattern)!==null){error_item['pattern_error']='';var splitItem=rh_value.split(':')[1];var IntItem=+splitItem;var conditionItem=IntItem%15===0;if(!conditionItem){error_item['pattern_error']='Time should be in multiples of 15 like 10:15, 10:30';}}else{error_item['pattern_error']='Please enter a valid pattern like : 10:15';}_this3.setState({errors:error_item});});}// onChange={(e) => { this.handleChange('recommended_hours', e.target.value) }}\n,value:recommended_hours,autoComplete:\"off\",type:\"text\",placeholder:\"Enter Estimated hours\",name:\"recommended_hours\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:(recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)===0?'':errors.recommended_hours}),/*#__PURE__*/_jsx(\"span\",{className:\"error_msg\",children:(recommended_hours===null||recommended_hours===void 0?void 0:recommended_hours.length)===0?'':errors.pattern_error})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_field\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleContinue// className=\"fill_btn full_btn\">\n,className:\"fill_btn full_btn btn-effect \".concat(check_errors?'disable_btn':''),children:'Continue'})})]})})]})})});}}]);return EditMilestone;}(Component);export{EditMilestone as default};","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/editMileStone.tsx"],"names":["React","Component","moment","label","milestone_name","from_date","recommended_hours","pattern","EditMilestone","props","checkIsDateValid","milestones","time","editMileStone","editMilestoneTiming","checkIsValid","isSkip","filterMilestone","length","filter","mile_item","index","forEach","mile","validStart","isValid","validEnd","to_date","validStartInput","validEndInput","isSameOrAfter","isSameOrBefore","isSame","skip","handleChange","name","value","error_clone","state","errors","trimLeft","replace","includes","isInvalid","setState","handleContinue","setItems","handleStepForward","handleStepMileStone","newMileStoneScreen","isPhotoevidence","milestone_index","checkHoursVal","lable","match","splitItem","split","IntItem","conditionItem","checkErrors","filteredMiles","Array","isArray","item","pattern_error","errorItems","error_1","error_2","error_3","JSON","stringify","renderTimeWithCustomFormat","fromDate","toDate","format","formatSet","yearEnd","endOf","toISOString","monthEnd","diff","item_year","monthDiff","parseInt","toString","yearDiff","isAfter","Object","keys","undefined","addTimeToMileStone","handleStepBack","from_date_format","to_date_format","check_errors","e","target","rh_value","error_item"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport moment from 'moment';\n\ninterface Props {\n    data: any;\n    stepCompleted: Boolean;\n    editMileStone: any;\n    editMilestoneTiming: any;\n    handleStepComplete: (data: any) => void;\n    addTimeToMileStone: (data: any, index: any, skip?: any) => void;\n    handleStepForward: (data: any) => void;\n    newMileStoneScreen: (data: any) => void;\n    handleStepMileStone: (data: any, index: any) => void;\n    handleStepBack: () => void;\n    milestones: any;\n}\n\ninterface State {\n    milestone_name: string,\n    isPhotoevidence: boolean,\n    from_date: string,\n    to_date: string,\n    recommended_hours: any\n    errors: any;\n}\n\n// for error messages\nconst label: { [index: string]: string } = {\n    milestone_name: 'Milestone Name',\n    from_date: 'From Date',\n    recommended_hours: 'Recommended Hours',\n}\n\nconst pattern = \"^([0-9][0-9]?[0-9]?[0-9]?[0-9]):[0-9][0-9]$\";\nexport default class EditMilestone extends Component<Props, State> {\n    constructor(props: any) {\n        super(props)\n        this.state = {\n            milestone_name: '',\n            isPhotoevidence: true,\n            from_date: '',\n            to_date: '',\n            recommended_hours: '',\n            errors: {\n                milestone_name: '',\n                from_date: '',\n                recommended_hours: '',\n                pattern_error: ''\n            }\n        }\n    }\n\n    checkIsDateValid = (milestones: any, time: any) => {\n        const { editMileStone, editMilestoneTiming } = this.props;\n        let checkIsValid: any = true;\n        let isSkip: any = true;\n\n        let filterMilestone: any = [];\n\n        if (milestones.length > 1) {\n            filterMilestone = milestones.filter((mile_item: any, index: any) => index !== editMileStone);\n            filterMilestone.forEach((mile: any) => {\n                let validStart = moment(mile.from_date).isValid();\n                let validEnd = moment(mile.to_date).isValid();\n\n                let validStartInput = moment(time.from_date).isValid();\n                let validEndInput = moment(time.to_date).isValid();\n\n                if (validStart && validEnd) {\n                    if (validStartInput && validEndInput) {\n                        if (moment(time.from_date).isSameOrAfter(mile.from_date) && (moment(time.to_date).isSameOrBefore(mile.to_date) ||\n                            moment(time.to_date).isSameOrAfter(mile.from_date))\n                        ) {\n                            checkIsValid = false;\n                            isSkip = false;\n                        }\n                    }\n\n                    if (validStartInput && !validEndInput) {\n                        if (\n                            moment(time.from_date).isSameOrAfter(mile.from_date) &&\n                            moment(time.from_date).isSameOrBefore(mile.to_date)) {\n                            checkIsValid = false;\n                            isSkip = false;\n                        }\n                    }\n                }\n\n                if (validStart && validStartInput && !validEnd) {\n                    if (moment(time.from_date).isSame(mile.from_date) || moment(time.to_date).isSame(mile.from_date)) {\n                        checkIsValid = false;\n                        isSkip = false;\n                    }\n                }\n\n                if (validEnd && validEndInput) {\n                    if (moment(time.to_date).isSame(mile.to_date)) {\n                        checkIsValid = false;\n                        isSkip = false;\n                    }\n                }\n\n            });\n        }\n        return { checkIsValid, skip: isSkip };\n    }\n\n    componentDidMount() {\n        const { editMileStone, milestones, editMilestoneTiming } = this.props;\n        let item = milestones[editMileStone];\n\n        if (item && Object.keys(item).length) {\n            let { milestone_name, isPhotoevidence, from_date, to_date, recommended_hours } = item;\n\n            let isValid: any = null;\n            let isSkip: any = null;\n\n            if (editMilestoneTiming && Object.keys(editMilestoneTiming).length) {\n                const { checkIsValid, skip } = this.checkIsDateValid(milestones, editMilestoneTiming);\n                isValid = checkIsValid;\n                isSkip = skip;\n\n                if (isValid) {\n                    if ('from_date' in editMilestoneTiming) {\n                        from_date = editMilestoneTiming?.from_date;\n                    }\n                    if ('to_date' in editMilestoneTiming) {\n                        to_date = editMilestoneTiming?.to_date;\n                    }\n                }\n            }\n\n            this.setState({\n                from_date: from_date,\n                isPhotoevidence: isPhotoevidence === undefined ? false : isPhotoevidence,\n                milestone_name: milestone_name,\n                recommended_hours: recommended_hours,\n                to_date: to_date,\n            }, () => {\n                if (isValid !== null) {\n                    this.props.addTimeToMileStone(\n                        { from_date, to_date },\n                        editMileStone,\n                        isSkip\n                    )\n                }\n            })\n        }\n    }\n\n    handleChange = (name: string, value: any) => {\n        let error_clone: any = this.state.errors;\n\n\n        if (name === \"milestone_name\") {\n            value = (value).trimLeft().replace(/[^a-zA-Z|0-9 ]/g, \"\")\n        }\n\n        if (name === \"recommended_hours\") {\n            value = (value).trimLeft();\n        }\n\n\n        if (['milestone_name', 'from_date', 'recommended_hours'].includes(name)) {\n            error_clone[name] = this.isInvalid(name, value)\n        }\n        this.setState({ ...this.state, [name]: value, errors: error_clone });\n    }\n\n    handleContinue = () => {\n        this.setItems();\n        this.props.handleStepForward(6);\n    }\n\n\n    setItems = () => {\n        const { milestones, handleStepMileStone, newMileStoneScreen, editMileStone } = this.props;\n        let { milestone_name, from_date, to_date, isPhotoevidence, recommended_hours, errors } = this.state;\n        let milestone_index = editMileStone;\n        handleStepMileStone({\n            \"milestone_name\": milestone_name,\n            \"isPhotoevidence\": isPhotoevidence,\n            \"from_date\": from_date, // milestones[milestone_index]?.from_date || '',\n            \"to_date\": to_date, //milestones[milestone_index]?.to_date || '',\n            \"recommended_hours\": recommended_hours\n        }, milestone_index);\n    }\n\n\n    checkHoursVal = (value: any, lable: any, name: any) => {\n        if (value?.length) {\n            if (value.match(pattern) !== null) {\n                let splitItem = value.split(':')[1];\n                let IntItem = +splitItem;\n                let conditionItem = IntItem % 15 === 0;\n\n                if (!conditionItem) {\n                    return 'Time should be in mutiples of 15 like 10:15, 10:30';\n                }\n            } else {\n                return 'Please enter a valid pattern like : 10:15';\n            }\n        } else {\n            return `${label[name]} is required.`\n        }\n    }\n\n    isInvalid = (name: string, value: string) => {\n        switch (name) {\n            case 'milestone_name':\n                return !value.length ? `${label[name]} is required.` : value.length > 50 ? 'Maximum 50 characters are allowed.' : '';\n            case 'from_date':\n                return !value.length ? `${label[name]} is required.` : '';\n            case 'recommended_hours':\n                return this.checkHoursVal(value, label, name);\n        }\n    }\n\n    checkErrors = () => {\n        const { milestones } = this.props;\n\n        let filteredMiles = [];\n        if (milestones?.length && Array.isArray(milestones)) {\n            filteredMiles = milestones.filter((item: any) => {\n                if (item?.milestone_name) {\n                    return item;\n                }\n            });\n        }\n\n        let milestone_index = filteredMiles.length ? filteredMiles.length - 1 : 0;\n        let from_date = filteredMiles[milestone_index]?.from_date || '';\n        let { milestone_name, recommended_hours, errors: { pattern_error } } = this.state;\n        if (milestone_name?.length) {\n            let errorItems: any = {};\n            let error_1 = this.isInvalid('milestone_name', milestone_name);\n            let error_2 = this.isInvalid('from_date', from_date);\n            let error_3 = this.isInvalid('recommended_hours', recommended_hours);\n            errorItems['milestone_name'] = error_1;\n            // errorItems['from_date'] = error_2;\n\n            if (milestone_name?.length) {\n                errorItems['milestone_name'] = error_1;\n            }\n\n            if (recommended_hours?.length && error_3?.length) {\n                errorItems['recommended_hours'] = error_3;\n            }\n\n            if (JSON.stringify(this.state.errors) !== JSON.stringify(errorItems)) {\n                this.setState({ errors: errorItems })\n            }\n\n            if (!error_1?.length && (recommended_hours?.length === 0 || !pattern_error?.length)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    renderTimeWithCustomFormat = (fromDate: any, toDate: any, format: any, formatSet?: any) => {\n\n        if (moment(fromDate, format).isValid() && !moment(toDate, format).isValid()) {\n            return `${moment(fromDate, format).format('DD MMM')}`\n        }\n\n        if (moment(fromDate, format).isValid() && moment(toDate, format).isValid()) {\n            let yearEnd = moment().endOf(\"year\").toISOString();\n            let monthEnd = moment(fromDate, format).endOf(\"month\").toISOString();\n\n            let item: any = moment(toDate, format).diff(moment(fromDate, format), 'months', true);\n            let item_year: any = moment(toDate, format).diff(moment(fromDate, format), 'years', true);\n\n            let monthDiff = parseInt(item.toString());\n            let yearDiff = parseInt(item_year.toString());\n\n            if (yearDiff > 0 || moment(toDate, format).isAfter(yearEnd) || moment(toDate, format).isAfter(yearEnd)) {\n                return `${moment(fromDate, format).format(formatSet[1])} - ${moment(toDate, format).format(formatSet[1])}`\n            }\n            if (monthDiff > 0 || moment(toDate, format).isAfter(monthEnd)) {\n                return `${moment(fromDate, format).format(formatSet[0])} - ${moment(toDate, format).format(formatSet[0])}`\n            }\n            return `${moment(fromDate, format).format(formatSet[0])} - ${moment(toDate, format).format(formatSet[0])}`\n        }\n\n        return 'Choose';\n    }\n\n    render() {\n        const { handleStepForward, handleStepBack, milestones, editMileStone } = this.props;\n        let { milestone_name, isPhotoevidence, recommended_hours, from_date, to_date, errors } = this.state;\n        let from_date_format = from_date;\n        let to_date_format = to_date;\n\n        let check_errors = this.checkErrors();\n\n        return (\n            <div className=\"app_wrapper\">\n                <div className=\"section_wrapper\">\n                    <div className=\"custom_container\">\n                        <div className=\"form_field\">\n                            <div className=\"flex_row\">\n                                <div className=\"flex_col_sm_5\">\n                                    <div className=\"relate\">\n                                        <button\n                                            className=\"back\"\n                                            onClick={() => { handleStepForward(6) }}>\n                                        </button>\n                                        <span className=\"title\">\n                                            {`Edit Milestone ${editMileStone + 1}`}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"flex_row\">\n                            <div className=\"flex_col_sm_5\">\n                                <div className=\"form_field\">\n                                    <label className=\"form_label\">Milestone name</label>\n                                    <div className=\"text_field\">\n                                        <input\n                                            type=\"text\"\n                                            placeholder=\"Enter Milestone name\"\n                                            onChange={(e) => { this.handleChange('milestone_name', e.target.value) }}\n                                            value={milestone_name}\n                                            name=\"milestone_name\" />\n                                    </div>\n                                    <span className=\"error_msg\">{errors?.milestone_name}</span>\n                                </div>\n                                <div className=\"form_field\">\n\n                                    <div className=\"checkbox_wrap agree_check\">\n                                        <input\n                                            onChange={() => { this.handleChange('isPhotoevidence', !isPhotoevidence) }}\n                                            checked={isPhotoevidence}\n                                            className=\"filter-type filled-in\"\n                                            type=\"checkbox\"\n                                            id=\"milestone1\" />\n                                        <label htmlFor=\"milestone1\">\n                                            <b>\n                                                {'Photo evidence required'}\n                                            </b>\n                                        </label>\n                                    </div>\n                                </div>\n                                <div className=\"form_field\">\n                                    <div className=\"f_spacebw\">\n                                        <label className=\"form_label\">Duration of milestone (optional)</label>\n                                        <button\n                                            onClick={() => { handleStepForward(8) }}\n                                            className=\"fill_btn fill_grey_btn choose_btn\">\n                                            {this.renderTimeWithCustomFormat(\n                                                from_date_format,\n                                                to_date_format,\n                                                'MM-DD-YYYY',\n                                                ['DD MMM', 'DD MMM YYYY']\n                                                // ['MMM DD', 'MMM DD YYYY'] // to keep the date format stable on front-end (TIC-2467)\n                                            )}\n                                            {/* {!to_date_format.length && from_date_format.length\n                                                ? `${from_date_format}` : to_date_format.length\n                                                    ? `${from_date_format} - ${to_date_format}`\n                                                    : 'Choose'} */}\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className=\"form_field\">\n                                    <label className=\"form_label\">Estimated hours (optional)</label>\n                                    <div className=\"text_field\">\n                                        <input\n                                            onChange={(e) => {\n                                                this.setState({ recommended_hours: (e.target.value).trimLeft() }, () => {\n                                                    let rh_value = this.state.recommended_hours;\n                                                    let error_item = this.state.errors;\n\n                                                    // \"^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$\";\n\n                                                    if (!rh_value?.length || rh_value.match(pattern) !== null) {\n                                                        error_item['pattern_error'] = '';\n                                                        let splitItem = rh_value.split(':')[1];\n                                                        let IntItem = +splitItem;\n                                                        let conditionItem = IntItem % 15 === 0;\n                                                        if (!conditionItem) {\n                                                            error_item['pattern_error'] = 'Time should be in multiples of 15 like 10:15, 10:30';\n                                                        }\n                                                    } else {\n                                                        error_item['pattern_error'] = 'Please enter a valid pattern like : 10:15';\n                                                    }\n                                                    this.setState({ errors: error_item });\n                                                });\n                                            }}\n                                            // onChange={(e) => { this.handleChange('recommended_hours', e.target.value) }}\n                                            value={recommended_hours}\n                                            autoComplete=\"off\"\n                                            type=\"text\"\n                                            placeholder=\"Enter Estimated hours\"\n                                            name=\"recommended_hours\" />\n                                    </div>\n                                    <span className=\"error_msg\">{recommended_hours?.length === 0 ? '' : errors.recommended_hours}</span>\n                                    <span className=\"error_msg\">{recommended_hours?.length === 0 ? '' : errors.pattern_error}</span>\n                                </div>\n\n                                <div className=\"form_field\">\n                                    <button\n                                        onClick={this.handleContinue}\n                                        // className=\"fill_btn full_btn\">\n                                        className={`fill_btn full_btn btn-effect ${check_errors ? 'disable_btn' : ''}`}>\n                                        {'Continue'}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}