{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieSearchJobResult/tradieSearchJobResult.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport BannerSearch from '../../common/tradieBannerSearch/index';\nimport TradieJobInfoBox from '../../common/tradieJobInfoBox';\nimport SearchResultFilters from '../searchResultFilters/index';\nimport RenderMap from './renderMap';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport mapIcon from '../../assets/images/map.png';\nimport noData from '../../assets/images/no-search-data.png';\nimport closeMap from '../../assets/images/close-white.png';\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\n\nconst TradieSearchJobResult = props => {\n  _s();\n\n  var _paramsData$tradeId, _paramsData$specializ, _paramsData$specializ2;\n\n  const [searchResultData, setSearchResultData] = useState({\n    page: 1,\n    searchByFilter: false,\n    cleanFiltersData: false\n  });\n  const [mapData, setMapData] = useState({\n    showMap: false\n  });\n  const [paramsData, setParamsData] = useState({});\n  const [isToggleModifySearch, setToggleModifySearch] = useState(false);\n  const [jobListData, setJobListData] = useState([]);\n  const [apiRequestData, setApiRequestData] = useState({});\n  const [hasMoreItems, setHasMoreItems] = useState(true);\n  const [isAllFilterSpecs, setIsAllFilterSpecs] = useState(false);\n  useEffect(() => {\n    var queryParamsData = getQueryParamsData();\n    let data = {};\n\n    if (queryParamsData.jobResults === 'viewNearByJob') {\n      data = {\n        page: 1,\n        long: queryParamsData.defaultLong,\n        lat: queryParamsData.defaultLat\n      };\n      props.getViewNearByJob(data);\n    } else {\n      var _queryParamsData$trad, _queryParamsData$jobT, _queryParamsData$spec, _props$tradeListData$, _JSON$parse, _JSON$parse2, _data2, _data3, _data4, _data5, _data6, _data7;\n\n      data = {\n        page: 1,\n        ...(queryParamsData.isFiltered ? {\n          isFiltered: true\n        } : {\n          isFiltered: false\n        }),\n        ...(((_queryParamsData$trad = queryParamsData.tradeId) === null || _queryParamsData$trad === void 0 ? void 0 : _queryParamsData$trad.length) && {\n          tradeId: queryParamsData.tradeId\n        }),\n        ...(((_queryParamsData$jobT = queryParamsData.jobTypes) === null || _queryParamsData$jobT === void 0 ? void 0 : _queryParamsData$jobT.length) && {\n          jobTypes: queryParamsData.jobTypes\n        }),\n        ...(((_queryParamsData$spec = queryParamsData.specializationId) === null || _queryParamsData$spec === void 0 ? void 0 : _queryParamsData$spec.length) && {\n          specializationId: queryParamsData.specializationId\n        }),\n        ...(queryParamsData.from_date && {\n          from_date: queryParamsData.from_date\n        }),\n        ...(queryParamsData.to_date && {\n          to_date: queryParamsData.to_date\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          pay_type: queryParamsData.pay_type\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          min_budget: queryParamsData.min_budget\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          max_budget: queryParamsData.max_budget\n        }),\n        ...(queryParamsData.sortBy && {\n          sortBy: queryParamsData.sortBy\n        }),\n        ...((queryParamsData.addres || queryParamsData.sortBy === 2) && {\n          location: {\n            coordinates: [queryParamsData.long ? queryParamsData.long : queryParamsData.defaultLong, queryParamsData.lat ? queryParamsData.lat : queryParamsData.defaultLat]\n          }\n        }),\n        ...(queryParamsData.addres && queryParamsData.address && {\n          address: queryParamsData.address\n        })\n      };\n      props.postHomeSearchData(data);\n      const mData = {\n        timeStamp: moengage.getCurrentTimeStamp(),\n        category: (_props$tradeListData$ = props.tradeListData.find(i => {\n          var _data, _data$tradeId;\n\n          return i._id === ((_data = data) === null || _data === void 0 ? void 0 : (_data$tradeId = _data.tradeId) === null || _data$tradeId === void 0 ? void 0 : _data$tradeId[0]);\n        })) === null || _props$tradeListData$ === void 0 ? void 0 : _props$tradeListData$.trade_name,\n        ...(data.address && {\n          location: `${(_JSON$parse = JSON.parse(data.address)) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.mainText} ${(_JSON$parse2 = JSON.parse(data.address)) === null || _JSON$parse2 === void 0 ? void 0 : _JSON$parse2.secondaryText}`\n        }),\n        ...(((_data2 = data) === null || _data2 === void 0 ? void 0 : _data2.max_budget) && {\n          'Max budget': (_data3 = data) === null || _data3 === void 0 ? void 0 : _data3.max_budget\n        }),\n        ...(((_data4 = data) === null || _data4 === void 0 ? void 0 : _data4.from_date) && {\n          'start date': (_data5 = data) === null || _data5 === void 0 ? void 0 : _data5.from_date\n        }),\n        ...(((_data6 = data) === null || _data6 === void 0 ? void 0 : _data6.to_date) && {\n          'end date': (_data7 = data) === null || _data7 === void 0 ? void 0 : _data7.to_date\n        })\n      };\n      moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n      mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n    }\n\n    setApiRequestData(data);\n    setIsAllFilterSpecs((queryParamsData === null || queryParamsData === void 0 ? void 0 : queryParamsData.isAllFilterSpecs) == true ? true : false);\n    return () => {\n      props.resetViewNearByJobData();\n      props.resetHomeSearchJobData();\n    };\n  }, []);\n\n  const getQueryParamsData = () => {\n    var _props$history, _props$history$locati, _params$get;\n\n    const params = new URLSearchParams((_props$history = props.history) === null || _props$history === void 0 ? void 0 : (_props$history$locati = _props$history.location) === null || _props$history$locati === void 0 ? void 0 : _props$history$locati.search);\n    const specializationString = params.get('specializationId');\n    const specializationArray = specializationString === null || specializationString === void 0 ? void 0 : specializationString.split(',');\n    const tradeIdArray = params.get('tradeId') ? [params.get('tradeId')] : null;\n    const jobTypesArray = params.get('jobTypes') ? [params.get('jobTypes')] : null;\n    const queryParamsData = {\n      page: Number(params.get('page')),\n      isFiltered: params.get('isFiltered') === \"true\",\n      isFilterOn: params.get('isFilterOn'),\n      tradeId: tradeIdArray,\n      specializationId: specializationArray,\n      lat: Number(params.get('lat')),\n      long: Number(params.get('long')),\n      defaultLat: Number(params.get('defaultLat')),\n      defaultLong: Number(params.get('defaultLong')),\n      addres: params.get('addres'),\n      address: params.get('address'),\n      from_date: params.get('from_date'),\n      to_date: params.get('to_date'),\n      jobResults: params.get('jobResults'),\n      heading: params.get('heading'),\n      jobTypes: jobTypesArray,\n      searchJob: (_params$get = params.get('searchJob')) === null || _params$get === void 0 ? void 0 : _params$get.replaceAll(\"xxx\", \"&\"),\n      min_budget: Number(params.get('min_budget')),\n      max_budget: Number(params.get('max_budget')),\n      pay_type: params.get('pay_type'),\n      sortBy: Number(params.get('sortBy')),\n      isAllFilterSpecs: params.get('isAllFilterSpecs') === 'true' ? true : false\n    };\n    setParamsData(queryParamsData);\n    return queryParamsData;\n  };\n\n  console.log(paramsData, \"paramsData\", jobListData, \"jobListData\", apiRequestData, \"apiRequestData\", hasMoreItems, \"hasMoreItems\");\n\n  const callJobList = () => {\n    if (!hasMoreItems) {\n      return;\n    }\n\n    const data = { ...apiRequestData\n    };\n    data.page = searchResultData.page;\n\n    if (paramsData.jobResults === 'viewNearByJob') {\n      props.getViewNearByJob(data);\n    } else {\n      props.postHomeSearchData(data);\n    }\n  };\n\n  useEffect(() => {\n    var _props$history2, _props$history2$locat, _props$homeSearchJobD, _props$viewNearByJobD, _props$homeSearchJobD3;\n\n    const jobResultsParam = new URLSearchParams((_props$history2 = props.history) === null || _props$history2 === void 0 ? void 0 : (_props$history2$locat = _props$history2.location) === null || _props$history2$locat === void 0 ? void 0 : _props$history2$locat.search).get('jobResults');\n\n    if (searchResultData.searchByFilter && ((_props$homeSearchJobD = props.homeSearchJobData) === null || _props$homeSearchJobD === void 0 ? void 0 : _props$homeSearchJobD.length)) {\n      var _props$homeSearchJobD2;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.homeSearchJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.homeSearchJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$homeSearchJobD2 = props.homeSearchJobData) === null || _props$homeSearchJobD2 === void 0 ? void 0 : _props$homeSearchJobD2.length) < 10) {\n        setHasMoreItems(false);\n      }\n\n      return;\n    }\n\n    if (jobResultsParam === 'viewNearByJob' && ((_props$viewNearByJobD = props.viewNearByJobData) === null || _props$viewNearByJobD === void 0 ? void 0 : _props$viewNearByJobD.length)) {\n      var _props$viewNearByJobD2;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.viewNearByJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.viewNearByJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$viewNearByJobD2 = props.viewNearByJobData) === null || _props$viewNearByJobD2 === void 0 ? void 0 : _props$viewNearByJobD2.length) < 10) {\n        setHasMoreItems(false);\n      }\n\n      return;\n    } else if ((_props$homeSearchJobD3 = props.homeSearchJobData) === null || _props$homeSearchJobD3 === void 0 ? void 0 : _props$homeSearchJobD3.length) {\n      var _props$homeSearchJobD4;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.homeSearchJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.homeSearchJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$homeSearchJobD4 = props.homeSearchJobData) === null || _props$homeSearchJobD4 === void 0 ? void 0 : _props$homeSearchJobD4.length) < 10) {\n        setHasMoreItems(false);\n      }\n    }\n  }, [props.homeSearchJobData, props.viewNearByJobData]);\n\n  const searchByFilter = allFiltersData => {\n    var _newParamsData$tradeI, _newParamsData$jobTyp, _newParamsData$specia, _allFiltersData$jobTy, _allFiltersData$trade, _allFiltersData$trade2, _allFiltersData$speci, _allFiltersData$trade4, _allFiltersData$jobTy2, _allFiltersData$jobTy3, _allFiltersData$trade5, _allFiltersData$jobTy4, _allFiltersData$trade6, _allFiltersData$trade7, _allFiltersData$speci2, _allFiltersData$trade8, _allFiltersData$speci3, _allFiltersData$speci4, _allFiltersData$speci5, _allFiltersData$trade9, _props$tradeListData6, _props$tradeListData7, _JSON$parse3, _JSON$parse4;\n\n    const newParamsData = getQueryParamsData();\n\n    if (allFiltersData === \"callViewNearByJobApi\") {\n      const data = {\n        page: 1,\n        long: newParamsData.defaultLong,\n        lat: newParamsData.defaultLat\n      };\n      props.getViewNearByJob(data);\n      props.history.replace(`/search-job-results?jobResults=viewNearByJob&defaultLat=${newParamsData.defaultLat}&defaultLong=${newParamsData.defaultLong}`);\n      getQueryParamsData();\n      setSearchResultData(prevData => ({ ...prevData,\n        searchByFilter: false,\n        page: 1\n      }));\n      return;\n    }\n\n    var headingType = '';\n    console.log(allFiltersData, 'allFiltersData', newParamsData);\n\n    if ((_newParamsData$tradeI = newParamsData.tradeId) === null || _newParamsData$tradeI === void 0 ? void 0 : _newParamsData$tradeI.length) {\n      delete newParamsData.tradeId;\n    }\n\n    if ((_newParamsData$jobTyp = newParamsData.jobTypes) === null || _newParamsData$jobTyp === void 0 ? void 0 : _newParamsData$jobTyp.length) {\n      delete newParamsData.jobTypes;\n    }\n\n    if ((_newParamsData$specia = newParamsData.specializationId) === null || _newParamsData$specia === void 0 ? void 0 : _newParamsData$specia.length) {\n      delete newParamsData.specializationId;\n    }\n\n    if (((_allFiltersData$jobTy = allFiltersData.jobTypes) === null || _allFiltersData$jobTy === void 0 ? void 0 : _allFiltersData$jobTy.length) && !((_allFiltersData$trade = allFiltersData.tradeId) === null || _allFiltersData$trade === void 0 ? void 0 : _allFiltersData$trade.length)) {\n      var _props$jobTypeListDat, _props$jobTypeListDat2;\n\n      headingType = (_props$jobTypeListDat = props.jobTypeListData) === null || _props$jobTypeListDat === void 0 ? void 0 : (_props$jobTypeListDat2 = _props$jobTypeListDat.find(i => i._id === allFiltersData.jobTypes[0])) === null || _props$jobTypeListDat2 === void 0 ? void 0 : _props$jobTypeListDat2.name;\n      delete newParamsData.searchJob;\n    }\n\n    if (((_allFiltersData$trade2 = allFiltersData.tradeId) === null || _allFiltersData$trade2 === void 0 ? void 0 : _allFiltersData$trade2.length) && !((_allFiltersData$speci = allFiltersData.specializationId) === null || _allFiltersData$speci === void 0 ? void 0 : _allFiltersData$speci.length)) {\n      var _props$tradeListData, _props$tradeListData$2;\n\n      headingType = (_props$tradeListData = props.tradeListData) === null || _props$tradeListData === void 0 ? void 0 : (_props$tradeListData$2 = _props$tradeListData.find(i => {\n        var _allFiltersData$trade3;\n\n        return i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade3 = allFiltersData.tradeId) === null || _allFiltersData$trade3 === void 0 ? void 0 : _allFiltersData$trade3[0]);\n      })) === null || _props$tradeListData$2 === void 0 ? void 0 : _props$tradeListData$2.trade_name;\n      delete newParamsData.searchJob;\n    }\n\n    var data = { ...newParamsData,\n      isFilterOn: \"isFilterOn\",\n      jobResults: null,\n      isFiltered: true,\n      ...(((_allFiltersData$trade4 = allFiltersData.tradeId) === null || _allFiltersData$trade4 === void 0 ? void 0 : _allFiltersData$trade4.length) && {\n        tradeId: allFiltersData.tradeId\n      }),\n      ...(((_allFiltersData$jobTy2 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy2 === void 0 ? void 0 : _allFiltersData$jobTy2.length) && {\n        jobTypes: allFiltersData.jobTypes\n      }),\n      ...(((_allFiltersData$jobTy3 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy3 === void 0 ? void 0 : _allFiltersData$jobTy3.length) && !((_allFiltersData$trade5 = allFiltersData.tradeId) === null || _allFiltersData$trade5 === void 0 ? void 0 : _allFiltersData$trade5.length) && {\n        jobResults: 'jobTypeList'\n      }),\n      ...(((_allFiltersData$jobTy4 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy4 === void 0 ? void 0 : _allFiltersData$jobTy4.length) && !((_allFiltersData$trade6 = allFiltersData.tradeId) === null || _allFiltersData$trade6 === void 0 ? void 0 : _allFiltersData$trade6.length) && {\n        heading: headingType\n      }),\n      ...(((_allFiltersData$trade7 = allFiltersData.tradeId) === null || _allFiltersData$trade7 === void 0 ? void 0 : _allFiltersData$trade7.length) && !((_allFiltersData$speci2 = allFiltersData.specializationId) === null || _allFiltersData$speci2 === void 0 ? void 0 : _allFiltersData$speci2.length) && {\n        jobResults: 'jobTypeList'\n      }),\n      ...(((_allFiltersData$trade8 = allFiltersData.tradeId) === null || _allFiltersData$trade8 === void 0 ? void 0 : _allFiltersData$trade8.length) && !((_allFiltersData$speci3 = allFiltersData.specializationId) === null || _allFiltersData$speci3 === void 0 ? void 0 : _allFiltersData$speci3.length) && {\n        heading: headingType\n      }),\n      ...(((_allFiltersData$speci4 = allFiltersData.specializationId) === null || _allFiltersData$speci4 === void 0 ? void 0 : _allFiltersData$speci4.length) && {\n        specializationId: allFiltersData.specializationId\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        pay_type: allFiltersData.pay_type\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        min_budget: allFiltersData.min_budget\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        max_budget: allFiltersData.max_budget\n      }),\n      ...([1, 2, 3].includes(allFiltersData.sortBy) && {\n        sortBy: allFiltersData.sortBy\n      })\n    };\n\n    if (allFiltersData.sortBy === 400) {\n      delete data.sortBy;\n    }\n\n    if (data.searchJob) {\n      delete data.heading;\n      delete data.jobResults;\n    }\n\n    if (allFiltersData.max_budget === 0) {\n      delete data.min_budget;\n      delete data.max_budget;\n      delete data.pay_type;\n    }\n\n    if ((allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci5 = allFiltersData.specializationId) === null || _allFiltersData$speci5 === void 0 ? void 0 : _allFiltersData$speci5.length) && (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade9 = allFiltersData.tradeId) === null || _allFiltersData$trade9 === void 0 ? void 0 : _allFiltersData$trade9.length)) {\n      var _props$tradeListData2, _props$tradeListData3, _props$tradeListData4, _props$tradeListData5, _specializationList$f;\n\n      const specializationList = (_props$tradeListData2 = props.tradeListData) === null || _props$tradeListData2 === void 0 ? void 0 : (_props$tradeListData3 = _props$tradeListData2.find(i => {\n        var _allFiltersData$trade10;\n\n        return i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade10 = allFiltersData.tradeId) === null || _allFiltersData$trade10 === void 0 ? void 0 : _allFiltersData$trade10[0]);\n      })) === null || _props$tradeListData3 === void 0 ? void 0 : _props$tradeListData3.specialisations;\n      const tradeName = (_props$tradeListData4 = props.tradeListData) === null || _props$tradeListData4 === void 0 ? void 0 : (_props$tradeListData5 = _props$tradeListData4.find(i => {\n        var _allFiltersData$trade11;\n\n        return i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade11 = allFiltersData.tradeId) === null || _allFiltersData$trade11 === void 0 ? void 0 : _allFiltersData$trade11[0]);\n      })) === null || _props$tradeListData5 === void 0 ? void 0 : _props$tradeListData5.trade_name;\n      const specializationName = specializationList === null || specializationList === void 0 ? void 0 : (_specializationList$f = specializationList.find(i => {\n        var _allFiltersData$speci6;\n\n        return i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci6 = allFiltersData.specializationId) === null || _allFiltersData$speci6 === void 0 ? void 0 : _allFiltersData$speci6[0]);\n      })) === null || _specializationList$f === void 0 ? void 0 : _specializationList$f.name;\n\n      if (specializationName) {\n        var _allFiltersData$speci7, _allFiltersData$speci8, _allFiltersData$speci9;\n\n        data = { ...data,\n          // searchJob: specializationName\n          searchJob: (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci7 = allFiltersData.specializationId) === null || _allFiltersData$speci7 === void 0 ? void 0 : _allFiltersData$speci7.length) === (specializationList === null || specializationList === void 0 ? void 0 : specializationList.length) ? tradeName : specializationName,\n          ...((allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci8 = allFiltersData.specializationId) === null || _allFiltersData$speci8 === void 0 ? void 0 : _allFiltersData$speci8.length) === (specializationList === null || specializationList === void 0 ? void 0 : specializationList.length) ? {\n            isAllFilterSpecs: true\n          } : {\n            isAllFilterSpecs: false\n          })\n        };\n        setIsAllFilterSpecs((specializationList === null || specializationList === void 0 ? void 0 : specializationList.length) > 0 && (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci9 = allFiltersData.specializationId) === null || _allFiltersData$speci9 === void 0 ? void 0 : _allFiltersData$speci9.length) === (specializationList === null || specializationList === void 0 ? void 0 : specializationList.length) ? true : false);\n      }\n    }\n\n    const newObjData = {\n      page: 1,\n      isFiltered: true,\n      ...(data.sortBy && {\n        sortBy: data.sortBy\n      }),\n      ...(data.tradeId && {\n        tradeId: data.tradeId\n      }),\n      ...(data.specializationId && {\n        specializationId: data.specializationId\n      }),\n      ...(data.from_date && {\n        from_date: data.from_date\n      }),\n      ...(data.to_date && {\n        to_date: data.to_date\n      }),\n      ...(data.jobTypes && {\n        jobTypes: data.jobTypes\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        pay_type: data.pay_type\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        min_budget: data.min_budget\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        max_budget: data.max_budget\n      }),\n      ...((data.address || allFiltersData.sortBy === 2) && {\n        location: {\n          coordinates: [data.long ? data.long : data.defaultLong, data.lat ? data.lat : data.defaultLat]\n        }\n      }) // ...(data.addres && data.address && { address: data.address })\n\n    };\n    Object.keys(data).forEach(key => (data[key] === undefined || data[key] === null || data[key] === 0 || data[key] === \"0\") && delete data[key]);\n    var url = 'search-job-results?';\n\n    for (let [key, value] of Object.entries(data)) {\n      console.log(key, value);\n      url += `${key}=${value}&`;\n    }\n\n    const newUrl = url.slice(0, url.length - 1);\n    props.postHomeSearchData(newObjData);\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: (_props$tradeListData6 = props.tradeListData) === null || _props$tradeListData6 === void 0 ? void 0 : (_props$tradeListData7 = _props$tradeListData6.find(i => {\n        var _newObjData$tradeId;\n\n        return i._id === (newObjData === null || newObjData === void 0 ? void 0 : (_newObjData$tradeId = newObjData.tradeId) === null || _newObjData$tradeId === void 0 ? void 0 : _newObjData$tradeId[0]);\n      })) === null || _props$tradeListData7 === void 0 ? void 0 : _props$tradeListData7.trade_name,\n      ...(newObjData.address && {\n        location: `${(_JSON$parse3 = JSON.parse(newObjData.address)) === null || _JSON$parse3 === void 0 ? void 0 : _JSON$parse3.mainText} ${(_JSON$parse4 = JSON.parse(newObjData.address)) === null || _JSON$parse4 === void 0 ? void 0 : _JSON$parse4.secondaryText}`\n      }),\n      ...((newObjData === null || newObjData === void 0 ? void 0 : newObjData.max_budget) && {\n        'Max budget': newObjData === null || newObjData === void 0 ? void 0 : newObjData.max_budget\n      }),\n      ...((newObjData === null || newObjData === void 0 ? void 0 : newObjData.from_date) && {\n        'start date': newObjData === null || newObjData === void 0 ? void 0 : newObjData.from_date\n      }),\n      ...((newObjData === null || newObjData === void 0 ? void 0 : newObjData.to_date) && {\n        'end date': newObjData === null || newObjData === void 0 ? void 0 : newObjData.to_date\n      })\n    };\n    moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n    props.history.replace(newUrl);\n    setJobListData([]);\n    setParamsData(data);\n    setApiRequestData(newObjData);\n    setSearchResultData(prevData => ({ ...prevData,\n      page: 1,\n      searchByFilter: true\n    }));\n    setHasMoreItems(true);\n    console.log(newUrl, \"newUrl\", data, \"data\", newObjData, \"newObjData\", newParamsData);\n  }; // const cleanFiltersHandler = (isFiltersClean: boolean) => {\n  //     setSearchResultData((prevData: any) => ({ ...prevData, cleanFiltersData: isFiltersClean }));\n  //     if (isFiltersClean) { getQueryParamsData(); }\n  // }\n\n\n  const refreshParams = data => {\n    setJobListData([]);\n    getQueryParamsData();\n    setApiRequestData(data);\n    setSearchResultData(prevData => ({ ...prevData,\n      page: 1,\n      cleanFiltersData: true\n    }));\n    setHasMoreItems(true);\n  };\n\n  const handleChangeToggle = value => {\n    setToggleModifySearch(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n    dataLength: jobListData.length,\n    next: callJobList,\n    hasMore: true,\n    loader: /*#__PURE__*/_jsxDEV(\"h4\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 21\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `top_search ${isToggleModifySearch ? 'active' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(BannerSearch, { ...props,\n          handleChangeToggle: handleChangeToggle,\n          paramsData: paramsData,\n          refreshParams: refreshParams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search_result\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section_wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom_container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row mob_srch_option\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_6 text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setToggleModifySearch(true);\n                  },\n                  className: \"fill_grey_btn btn-effect\",\n                  children: \"Modify Search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result_heading\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"title\",\n                    children: [(paramsData === null || paramsData === void 0 ? void 0 : (_paramsData$tradeId = paramsData.tradeId) === null || _paramsData$tradeId === void 0 ? void 0 : _paramsData$tradeId.length) > 0 && !(paramsData === null || paramsData === void 0 ? void 0 : paramsData.searchJob) ? '' : paramsData.jobResults === 'viewNearByJob' ? 'All around me' : paramsData.jobResults === 'jobTypeList' ? paramsData.heading : isAllFilterSpecs ? paramsData.searchJob : paramsData.searchJob ? `${paramsData.searchJob}${((_paramsData$specializ = paramsData.specializationId) === null || _paramsData$specializ === void 0 ? void 0 : _paramsData$specializ.length) >= 2 ? ` +${((_paramsData$specializ2 = paramsData.specializationId) === null || _paramsData$specializ2 === void 0 ? void 0 : _paramsData$specializ2.length) - 1}` : ''}` : '', /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"count\",\n                      children: `${jobListData.length || 0} result(s)`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(SearchResultFilters, {\n                    searchByFilter: searchByFilter,\n                    cleanFiltersData: searchResultData.cleanFiltersData,\n                    history: props === null || props === void 0 ? void 0 : props.history\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 37\n                }, this), jobListData.length > 0 && !mapData.showMap && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_4 text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"map_btn\",\n                    onClick: () => setMapData(prevData => ({ ...prevData,\n                      showMap: !prevData.showMap\n                    })),\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: mapIcon,\n                      alt: \"map\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 45\n                    }, this), \" Map\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 84\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row tradies_row\",\n              children: [mapData.showMap ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_col\",\n                children: jobListData.length > 0 ? jobListData.map(jobData => {\n                  return /*#__PURE__*/_createElement(TradieJobInfoBox, {\n                    item: jobData,\n                    ...props,\n                    key: jobData.jobId,\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 52\n                    }\n                  });\n                }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no_record\",\n                  children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                    className: \"no_img\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: noData,\n                      alt: \"data not found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"No Data Found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 52\n              }, this) : jobListData.length > 0 || props.isLoading ? jobListData.map(jobData => {\n                return /*#__PURE__*/_createElement(TradieJobInfoBox, {\n                  item: jobData,\n                  ...props,\n                  key: jobData.jobId,\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 48\n                  }\n                });\n              }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no_record\",\n                children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"no_img\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: noData,\n                    alt: \"data not found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"No Data Found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"map_col\",\n                style: !mapData.showMap ? {\n                  display: \"none\"\n                } : {},\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"map_stick\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"close_map\",\n                    onClick: () => setMapData(prevData => ({ ...prevData,\n                      showMap: !prevData.showMap\n                    })),\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: closeMap,\n                      alt: \"close-map\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(RenderMap, { ...props,\n                    searchByFilter: searchResultData.searchByFilter\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TradieSearchJobResult, \"vWrXfaZbsZQYj+5lk4bsT6e8JoU=\");\n\n_c = TradieSearchJobResult;\nexport default TradieSearchJobResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"TradieSearchJobResult\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieSearchJobResult/tradieSearchJobResult.tsx"],"names":["useState","useEffect","BannerSearch","TradieJobInfoBox","SearchResultFilters","RenderMap","InfiniteScroll","mapIcon","noData","closeMap","moengage","mixPanel","MoEConstants","TradieSearchJobResult","props","searchResultData","setSearchResultData","page","searchByFilter","cleanFiltersData","mapData","setMapData","showMap","paramsData","setParamsData","isToggleModifySearch","setToggleModifySearch","jobListData","setJobListData","apiRequestData","setApiRequestData","hasMoreItems","setHasMoreItems","isAllFilterSpecs","setIsAllFilterSpecs","queryParamsData","getQueryParamsData","data","jobResults","long","defaultLong","lat","defaultLat","getViewNearByJob","isFiltered","tradeId","length","jobTypes","specializationId","from_date","to_date","min_budget","max_budget","pay_type","sortBy","addres","location","coordinates","address","postHomeSearchData","mData","timeStamp","getCurrentTimeStamp","category","tradeListData","find","i","_id","trade_name","JSON","parse","mainText","secondaryText","moE_SendEvent","SEARCHED_FOR_JOBS","mixP_SendEvent","resetViewNearByJobData","resetHomeSearchJobData","params","URLSearchParams","history","search","specializationString","get","specializationArray","split","tradeIdArray","jobTypesArray","Number","isFilterOn","heading","searchJob","replaceAll","console","log","callJobList","jobResultsParam","homeSearchJobData","prevData","viewNearByJobData","allFiltersData","newParamsData","replace","headingType","jobTypeListData","name","includes","specializationList","specialisations","tradeName","specializationName","newObjData","Object","keys","forEach","key","undefined","url","value","entries","newUrl","slice","refreshParams","handleChangeToggle","map","jobData","jobId","isLoading","display"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport BannerSearch from '../../common/tradieBannerSearch/index';\nimport TradieJobInfoBox from '../../common/tradieJobInfoBox';\nimport SearchResultFilters from '../searchResultFilters/index';\nimport RenderMap from './renderMap';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport mapIcon from '../../assets/images/map.png';\nimport noData from '../../assets/images/no-search-data.png';\nimport closeMap from '../../assets/images/close-white.png';\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\ninterface PropsType {\n    history: any,\n    location?: any,\n    isLoading: boolean,\n    tradeListData: Array<any>,\n    jobTypeListData: Array<any>,\n    viewNearByJobData: Array<any>,\n    homeSearchJobData: Array<any>,\n    getViewNearByJob: (data: any) => void,\n    postHomeSearchData: (data: any) => void,\n    resetHomeSearchJobData: () => void,\n    resetViewNearByJobData: () => void,\n}\n\nconst TradieSearchJobResult = (props: PropsType) => {\n    const [searchResultData, setSearchResultData] = useState({\n        page: 1,\n        searchByFilter: false,\n        cleanFiltersData: false\n    })\n    const [mapData, setMapData] = useState<any>({\n        showMap: false\n    })\n    const [paramsData, setParamsData] = useState<any>({});\n    const [isToggleModifySearch, setToggleModifySearch] = useState<boolean>(false);\n    const [jobListData, setJobListData] = useState<Array<any>>([]);\n    const [apiRequestData, setApiRequestData] = useState<any>({});\n    const [hasMoreItems, setHasMoreItems] = useState<boolean>(true);\n    const [isAllFilterSpecs, setIsAllFilterSpecs] = useState<boolean>(false);\n\n    useEffect(() => {\n        var queryParamsData = getQueryParamsData();\n        let data: any = {};\n\n        if (queryParamsData.jobResults === 'viewNearByJob') {\n            data = {\n                page: 1,\n                long: queryParamsData.defaultLong,\n                lat: queryParamsData.defaultLat\n            }\n            props.getViewNearByJob(data);\n        } else {\n            data = {\n                page: 1,\n                ...(queryParamsData.isFiltered ? { isFiltered: true } : { isFiltered: false }),\n                ...(queryParamsData.tradeId?.length && { tradeId: queryParamsData.tradeId }),\n                ...(queryParamsData.jobTypes?.length && { jobTypes: queryParamsData.jobTypes }),\n                ...(queryParamsData.specializationId?.length && { specializationId: queryParamsData.specializationId }),\n                ...(queryParamsData.from_date && { from_date: queryParamsData.from_date }),\n                ...(queryParamsData.to_date && { to_date: queryParamsData.to_date }),\n                ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && { pay_type: queryParamsData.pay_type }),\n                ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && { min_budget: queryParamsData.min_budget }),\n                ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && { max_budget: queryParamsData.max_budget }),\n                ...(queryParamsData.sortBy && { sortBy: queryParamsData.sortBy }),\n                ...((queryParamsData.addres || queryParamsData.sortBy === 2) && {\n                    location: {\n                        coordinates: [queryParamsData.long ? queryParamsData.long : queryParamsData.defaultLong, queryParamsData.lat ? queryParamsData.lat : queryParamsData.defaultLat]\n                    }\n                }),\n                ...(queryParamsData.addres && queryParamsData.address && { address: queryParamsData.address })\n            }\n            props.postHomeSearchData(data);\n            const mData = {\n                timeStamp: moengage.getCurrentTimeStamp(),\n                category: props.tradeListData.find((i: any) => i._id === data?.tradeId?.[0])?.trade_name,\n                ...(data.address && { location: `${JSON.parse(data.address)?.mainText} ${JSON.parse(data.address)?.secondaryText}` }),\n                ...(data?.max_budget && { 'Max budget': data?.max_budget }),\n                ...(data?.from_date && { 'start date': data?.from_date }),\n                ...(data?.to_date && { 'end date': data?.to_date }),\n            }\n            moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n            mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n        }\n        setApiRequestData(data);\n\n        setIsAllFilterSpecs(queryParamsData?.isAllFilterSpecs == true ? true : false);\n        return () => {\n            props.resetViewNearByJobData();\n            props.resetHomeSearchJobData();\n        }\n    }, []);\n\n    const getQueryParamsData = () => {\n        const params = new URLSearchParams(props.history?.location?.search);\n        const specializationString = params.get('specializationId')\n        const specializationArray = specializationString?.split(',');\n        const tradeIdArray = params.get('tradeId') ? [params.get('tradeId')] : null;\n        const jobTypesArray = params.get('jobTypes') ? [params.get('jobTypes')] : null;\n        const queryParamsData: any = {\n            page: Number(params.get('page')),\n            isFiltered: params.get('isFiltered') === \"true\",\n            isFilterOn: params.get('isFilterOn'),\n            tradeId: tradeIdArray,\n            specializationId: specializationArray,\n            lat: Number(params.get('lat')),\n            long: Number(params.get('long')),\n            defaultLat: Number(params.get('defaultLat')),\n            defaultLong: Number(params.get('defaultLong')),\n            addres: params.get('addres'),\n            address: params.get('address'),\n            from_date: params.get('from_date'),\n            to_date: params.get('to_date'),\n            jobResults: params.get('jobResults'),\n            heading: params.get('heading'),\n            jobTypes: jobTypesArray,\n            searchJob: params.get('searchJob')?.replaceAll(\"xxx\", \"&\"),\n            min_budget: Number(params.get('min_budget')),\n            max_budget: Number(params.get('max_budget')),\n            pay_type: params.get('pay_type'),\n            sortBy: Number(params.get('sortBy')),\n            isAllFilterSpecs: params.get('isAllFilterSpecs') === 'true' ? true : false,\n        }\n        setParamsData(queryParamsData);\n        return queryParamsData;\n    }\n\n    console.log(paramsData, \"paramsData\", jobListData, \"jobListData\", apiRequestData, \"apiRequestData\", hasMoreItems, \"hasMoreItems\");\n\n    const callJobList = () => {\n        if (!hasMoreItems) { return }\n        const data = { ...apiRequestData };\n        data.page = searchResultData.page;\n        if (paramsData.jobResults === 'viewNearByJob') {\n            props.getViewNearByJob(data);\n        } else {\n            props.postHomeSearchData(data);\n        }\n    }\n\n    useEffect(() => {\n        const jobResultsParam = new URLSearchParams(props.history?.location?.search).get('jobResults');\n        if (searchResultData.searchByFilter && props.homeSearchJobData?.length) {\n            if (searchResultData.page === 1) {\n                setJobListData(props.homeSearchJobData);\n            } else {\n                setJobListData((prevData: any) => ([...prevData, ...props.homeSearchJobData]));\n            }\n            setSearchResultData((prevData: any) => ({ ...prevData, page: prevData.page + 1 }));\n            if (props.homeSearchJobData?.length < 10) { setHasMoreItems(false); }\n            return;\n        }\n        if (jobResultsParam === 'viewNearByJob' && props.viewNearByJobData?.length) {\n            if (searchResultData.page === 1) {\n                setJobListData(props.viewNearByJobData);\n            } else {\n                setJobListData((prevData: any) => ([...prevData, ...props.viewNearByJobData]));\n            }\n            setSearchResultData((prevData: any) => ({ ...prevData, page: prevData.page + 1 }));\n            if (props.viewNearByJobData?.length < 10) { setHasMoreItems(false); }\n            return;\n        } else if (props.homeSearchJobData?.length) {\n            if (searchResultData.page === 1) {\n                setJobListData(props.homeSearchJobData);\n            } else {\n                setJobListData((prevData: any) => ([...prevData, ...props.homeSearchJobData]));\n            }\n            setSearchResultData((prevData: any) => ({ ...prevData, page: prevData.page + 1 }));\n            if (props.homeSearchJobData?.length < 10) { setHasMoreItems(false); }\n        }\n    }, [props.homeSearchJobData, props.viewNearByJobData]);\n\n    const searchByFilter = (allFiltersData: any) => {\n        const newParamsData = getQueryParamsData();\n        if (allFiltersData === \"callViewNearByJobApi\") {\n            const data = {\n                page: 1,\n                long: newParamsData.defaultLong,\n                lat: newParamsData.defaultLat\n            }\n            props.getViewNearByJob(data);\n            props.history.replace(`/search-job-results?jobResults=viewNearByJob&defaultLat=${newParamsData.defaultLat}&defaultLong=${newParamsData.defaultLong}`);\n            getQueryParamsData();\n            setSearchResultData((prevData: any) => ({ ...prevData, searchByFilter: false, page: 1 }));\n            return;\n        }\n        var headingType: string = '';\n        console.log(allFiltersData, 'allFiltersData', newParamsData);\n\n        if (newParamsData.tradeId?.length) {\n            delete newParamsData.tradeId;\n        }\n        if (newParamsData.jobTypes?.length) {\n            delete newParamsData.jobTypes;\n        }\n        if (newParamsData.specializationId?.length) {\n            delete newParamsData.specializationId;\n        }\n        if (allFiltersData.jobTypes?.length && !allFiltersData.tradeId?.length) {\n            headingType = props.jobTypeListData?.find((i: any) => i._id === allFiltersData.jobTypes[0])?.name;\n            delete newParamsData.searchJob;\n        }\n        if (allFiltersData.tradeId?.length && !allFiltersData.specializationId?.length) {\n            headingType = props.tradeListData?.find((i: any) => i._id === allFiltersData?.tradeId?.[0])?.trade_name;\n            delete newParamsData.searchJob;\n        }\n\n        var data = {\n            ...newParamsData,\n            isFilterOn: \"isFilterOn\",\n            jobResults: null,\n            isFiltered: true,\n            ...(allFiltersData.tradeId?.length && { tradeId: allFiltersData.tradeId }),\n            ...(allFiltersData.jobTypes?.length && { jobTypes: allFiltersData.jobTypes }),\n            ...((allFiltersData.jobTypes?.length && !allFiltersData.tradeId?.length) && { jobResults: 'jobTypeList' }),\n            ...((allFiltersData.jobTypes?.length && !allFiltersData.tradeId?.length) && { heading: headingType }),\n            ...((allFiltersData.tradeId?.length && !allFiltersData.specializationId?.length) && { jobResults: 'jobTypeList' }),\n            ...((allFiltersData.tradeId?.length && !allFiltersData.specializationId?.length) && { heading: headingType }),\n            ...(allFiltersData.specializationId?.length && { specializationId: allFiltersData.specializationId }),\n            ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && { pay_type: allFiltersData.pay_type }),\n            ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && { min_budget: allFiltersData.min_budget }),\n            ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && { max_budget: allFiltersData.max_budget }),\n            ...([1, 2, 3].includes(allFiltersData.sortBy) && { sortBy: allFiltersData.sortBy })\n        }\n\n        if (allFiltersData.sortBy === 400) {\n            delete data.sortBy;\n        }\n        if (data.searchJob) {\n            delete data.heading;\n            delete data.jobResults;\n        }\n        if (allFiltersData.max_budget === 0) {\n            delete data.min_budget;\n            delete data.max_budget;\n            delete data.pay_type;\n        }\n        if (allFiltersData?.specializationId?.length && allFiltersData?.tradeId?.length) {\n            const specializationList = props.tradeListData?.find((i: any) => i._id === allFiltersData?.tradeId?.[0])?.specialisations;\n            const tradeName = props.tradeListData?.find((i: any) => i._id === allFiltersData?.tradeId?.[0])?.trade_name;\n            const specializationName = specializationList?.find((i: any) => i._id === allFiltersData?.specializationId?.[0])?.name;\n            if (specializationName) {\n                data = {\n                    ...data,\n                    // searchJob: specializationName\n                    searchJob: allFiltersData?.specializationId?.length === specializationList?.length ? tradeName : specializationName,\n                    ...(allFiltersData?.specializationId?.length === specializationList?.length ? { isAllFilterSpecs: true } : { isAllFilterSpecs: false }),\n                }\n                setIsAllFilterSpecs((specializationList?.length > 0 && allFiltersData?.specializationId?.length === specializationList?.length) ? true : false);\n            }\n        }\n\n        const newObjData = {\n            page: 1,\n            isFiltered: true,\n            ...(data.sortBy && { sortBy: data.sortBy }),\n            ...(data.tradeId && { tradeId: data.tradeId }),\n            ...(data.specializationId && { specializationId: data.specializationId }),\n            ...(data.from_date && { from_date: data.from_date }),\n            ...(data.to_date && { to_date: data.to_date }),\n            ...(data.jobTypes && { jobTypes: data.jobTypes }),\n            ...(data.min_budget >= 0 && data.max_budget > 0 && { pay_type: data.pay_type }),\n            ...(data.min_budget >= 0 && data.max_budget > 0 && { min_budget: data.min_budget }),\n            ...(data.min_budget >= 0 && data.max_budget > 0 && { max_budget: data.max_budget }),\n            ...((data.address || allFiltersData.sortBy === 2) && {\n                location: {\n                    coordinates: [data.long ? data.long : data.defaultLong, data.lat ? data.lat : data.defaultLat]\n                }\n            }),\n            // ...(data.addres && data.address && { address: data.address })\n        }\n        Object.keys(data).forEach(key => (data[key] === undefined || data[key] === null || data[key] === 0 || data[key] === \"0\") && delete data[key]);\n        var url = 'search-job-results?';\n        for (let [key, value] of Object.entries(data)) {\n            console.log(key, value);\n            url += `${key}=${value}&`\n        }\n        const newUrl = url.slice(0, url.length - 1);\n        props.postHomeSearchData(newObjData);\n        const mData = {\n            timeStamp: moengage.getCurrentTimeStamp(),\n            category: props.tradeListData?.find((i: any) => i._id === newObjData?.tradeId?.[0])?.trade_name,\n            ...(newObjData.address && { location: `${JSON.parse(newObjData.address)?.mainText} ${JSON.parse(newObjData.address)?.secondaryText}` }),\n            ...(newObjData?.max_budget && { 'Max budget': newObjData?.max_budget }),\n            ...(newObjData?.from_date && { 'start date': newObjData?.from_date }),\n            ...(newObjData?.to_date && { 'end date': newObjData?.to_date }),\n        }\n        moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n        mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n\n        props.history.replace(newUrl);\n        setJobListData([]);\n        setParamsData(data);\n        setApiRequestData(newObjData);\n        setSearchResultData((prevData: any) => ({ ...prevData, page: 1, searchByFilter: true }));\n        setHasMoreItems(true);\n        console.log(newUrl, \"newUrl\", data, \"data\", newObjData, \"newObjData\", newParamsData);\n    }\n\n    // const cleanFiltersHandler = (isFiltersClean: boolean) => {\n    //     setSearchResultData((prevData: any) => ({ ...prevData, cleanFiltersData: isFiltersClean }));\n    //     if (isFiltersClean) { getQueryParamsData(); }\n    // }\n\n    const refreshParams = (data: any) => {\n        setJobListData([]);\n        getQueryParamsData();\n        setApiRequestData(data);\n        setSearchResultData((prevData: any) => ({ ...prevData, page: 1, cleanFiltersData: true }));\n        setHasMoreItems(true);\n    }\n\n    const handleChangeToggle = (value: boolean) => { setToggleModifySearch(value) }\n\n    return (\n        <InfiniteScroll\n            dataLength={jobListData.length}\n            next={callJobList}\n            hasMore={true}\n            loader={<h4></h4>}\n        >\n            <div className=\"app_wrapper\" >\n                <div className={`top_search ${isToggleModifySearch ? 'active' : ''}`}>\n                    <BannerSearch\n                        {...props}\n                        handleChangeToggle={handleChangeToggle}\n                        paramsData={paramsData}\n                        refreshParams={refreshParams}\n                    />\n                </div>\n                <div className=\"search_result\">\n                    <div className=\"section_wrapper\">\n                        <div className=\"custom_container\">\n\n                            <div className=\"flex_row mob_srch_option\">\n                                <div className=\"flex_col_sm_6\"></div>\n                                <div className=\"flex_col_sm_6 text-right\">\n                                    <button onClick={() => { setToggleModifySearch(true) }} className=\"fill_grey_btn btn-effect\">Modify Search</button>\n                                </div>\n                            </div>\n\n                            <div className=\"result_heading\">\n                                <div className=\"flex_row\">\n                                    <div className=\"flex_col_sm_8\">\n                                        {/* <span className=\"title\">{paramsData.jobResults == 'viewNearByJob' ? 'All around me' : paramsData.jobResults == 'jobTypeList' ? paramsData.heading : paramsData.searchJob ? `${paramsData.searchJob}${paramsData.specializationId?.length == 2 ? ' + 1 other' : paramsData.specializationId?.length >= 3 ? ` + ${paramsData.specializationId?.length - 1} others` : ''}` : ''} */}\n                                        <span className=\"title\">{(paramsData?.tradeId?.length > 0 && !paramsData?.searchJob) ? '' : paramsData.jobResults === 'viewNearByJob' ? 'All around me' : paramsData.jobResults === 'jobTypeList' ? paramsData.heading : isAllFilterSpecs ? paramsData.searchJob : paramsData.searchJob ? `${paramsData.searchJob}${paramsData.specializationId?.length >= 2 ? ` +${paramsData.specializationId?.length - 1}` : ''}` : ''}\n                                            <span className=\"count\">{`${jobListData.length || 0} result(s)`}</span>\n                                        </span>\n                                        <SearchResultFilters\n                                            searchByFilter={searchByFilter}\n                                            cleanFiltersData={searchResultData.cleanFiltersData}\n                                            history={props?.history}\n                                        />\n                                    </div>\n                                    {jobListData.length > 0 && !mapData.showMap && <div className=\"flex_col_sm_4 text-right\">\n                                        <a className=\"map_btn\" onClick={() => setMapData((prevData: any) => ({ ...prevData, showMap: !prevData.showMap }))}>\n                                            <img src={mapIcon} alt=\"map\" /> Map\n                                        </a>\n                                    </div>}\n                                </div>\n                            </div>\n                            <div className=\"flex_row tradies_row\">\n                                {/* If the map does not come, then this div not only class (card_col) will be hidden */}\n                                {mapData.showMap ? <div className=\"card_col\">\n                                    {jobListData.length > 0 ?\n                                        (jobListData.map((jobData: any) => {\n                                            return <TradieJobInfoBox item={jobData} {...props} key={jobData.jobId} />\n                                        })) :\n                                        <div className=\"no_record\">\n                                            <figure className=\"no_img\">\n                                                <img src={noData} alt=\"data not found\" />\n                                            </figure>\n                                            <span>No Data Found</span>\n                                        </div>}\n                                </div> : (jobListData.length > 0 || props.isLoading) ?\n                                    (jobListData.map((jobData: any) => {\n                                        return <TradieJobInfoBox item={jobData} {...props} key={jobData.jobId} />\n                                    })) : <div className=\"no_record\">\n                                        <figure className=\"no_img\">\n                                            <img src={noData} alt=\"data not found\" />\n                                        </figure>\n                                        <span>No Data Found</span>\n                                    </div>}\n                                {<div className=\"map_col\" style={!mapData.showMap ? { display: \"none\" } : {}}>\n                                    <div className=\"map_stick\">\n                                        <span className=\"close_map\" onClick={() => setMapData((prevData: any) => ({ ...prevData, showMap: !prevData.showMap }))}>\n                                            <img src={closeMap} alt=\"close-map\" />\n                                        </span>\n                                        <RenderMap {...props} searchByFilter={searchResultData.searchByFilter} />\n                                    </div>\n                                </div>}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </InfiniteScroll>\n    )\n}\n\nexport default TradieSearchJobResult;\n"]},"metadata":{},"sourceType":"module"}