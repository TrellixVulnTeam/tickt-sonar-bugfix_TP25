{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/common/header/header.tsx\",\n    _s2 = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useState, useEffect } from 'react';\nimport { useLocation, withRouter, useHistory } from \"react-router-dom\";\nimport Joyride from 'react-joyride';\nimport Modal from '@material-ui/core/Modal';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport storageService from '../../utils/storageService';\nimport AuthModal from '../auth/authModal';\nimport Urls, { urlFor } from '../../network/Urls';\nimport { useDispatch } from 'react-redux';\nimport { setLoading, setShowNotification } from '../../redux/common/actions';\nimport { messaging, deleteToken, signOut } from '../../services/firebase';\nimport { onNotificationClick, formatNotificationTime } from '../../utils/common';\nimport { getNotificationList } from '../../redux/homeSearch/actions';\nimport { markNotifAsRead } from '../../redux/auth/actions';\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\nimport moment from 'moment';\nimport _ from 'lodash';\nimport colorLogo from '../../assets/images/ic-logo-yellow.png';\nimport menu from \"../../assets/images/menu-line-white.svg\";\nimport bell from '../../assets/images/ic-notification.png';\nimport cancel from \"../../assets/images/ic-cancel.png\";\nimport dummy from '../../assets/images/u_placeholder.jpg';\nimport profile from '../../assets/images/ic-profile.png';\nimport revenue from '../../assets/images/ic-revenue.png';\nimport guide from '../../assets/images/ic-tutorial.png';\nimport savedJobs from '../../assets/images/ic-job.png';\nimport noNotification from '../../assets/images/no-notifications.png';\nimport skipBtn from '../../assets/images/skip.png';\nimport backBtn from '../../assets/images/back.png';\nimport nextBtn from '../../assets/images/next.png';\nimport doneBtn from '../../assets/images/check-mark.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DISABLE_HEADER = ['/signup', '/login', '/reset-password', '/404', '/email-updated-successfully', '/change-password-success'];\n\nconst Header = props => {\n  _s2();\n\n  var _s = $RefreshSig$(),\n      _notificationData$lis3,\n      _notificationData$lis4,\n      _notificationData$lis5;\n\n  let window_ = window;\n  const dispatch = useDispatch();\n  let {\n    pathname\n  } = useLocation();\n  let history = useHistory();\n  let type = storageService.getItem('userType');\n  const [userType, setUserType] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [anchorElNotif, setAnchorElNotif] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showHeader, setShowHeader] = useState(false);\n  const [toggleMenu, setToggleMenu] = useState(false);\n  const [activeLink, setActiveLink] = useState('discover');\n  const [notificationData, setNotificationData] = useState({\n    count: 0,\n    list: [],\n    unreadCount: 0\n  });\n  const [notificationPgNo, setNotificationPgNo] = useState(1);\n  const [hasMoreNotif, setHasMoreNotif] = useState(true);\n  const [isIntercom, setIntercom] = useState(false);\n  const [startTour, setStartTour] = useState(false);\n  const [isFalse, setIsFalse] = useState(false);\n  const forceUpdate = useForceUpdate();\n  const [activeTarget, setActiveTarget] = useState('');\n  const [logoutClicked, setLogoutClicked] = useState(false);\n  const [profileData, setProfileData] = useState('');\n\n  function useForceUpdate() {\n    _s();\n\n    const [value, setValue] = useState(0); // integer state\n\n    return () => setValue(value => value + Math.random()); // update the state to force render\n  }\n\n  _s(useForceUpdate, \"qPBOvRc2Co1iWTsdTL0g7j/rpjU=\");\n\n  const onMessageListner = () => {\n    if (messaging) {\n      messaging.onMessage(payload => {\n        var _payload$data;\n\n        console.log('firebase notification received inside header : ', payload);\n        const title = payload.data.title;\n        const options = {\n          body: payload.data.notificationText\n        };\n        var notifications = new Notification(title, options);\n\n        notifications.onclick = function (event) {\n          console.log('event: ', event);\n          event.preventDefault(); // prevent the browser from focusing the Notification's tab\n\n          window.open('http://localhost:3000/active-jobs', '_self');\n        };\n\n        setShowNotification(true, payload);\n\n        if (((_payload$data = payload.data) === null || _payload$data === void 0 ? void 0 : _payload$data.notificationType) !== \"25\") {\n          setNotificationData(prevData => {\n            let newPayLoad = { ...payload.data\n            };\n            newPayLoad.read = 0;\n            let newPushList = [...prevData.list];\n            newPushList.unshift(newPayLoad);\n            return { ...prevData,\n              unreadCount: prevData.unreadCount + 1,\n              list: newPushList\n            };\n          });\n        }\n      });\n    }\n  };\n\n  const callNotificationList = async (resetUnreadNotif, isInit) => {\n    var _notificationData$lis, _notificationData$lis2;\n\n    if (((_notificationData$lis = notificationData.list) === null || _notificationData$lis === void 0 ? void 0 : _notificationData$lis.length) > 0 && ((_notificationData$lis2 = notificationData.list) === null || _notificationData$lis2 === void 0 ? void 0 : _notificationData$lis2.length) > (notificationData === null || notificationData === void 0 ? void 0 : notificationData.count)) {\n      setHasMoreNotif(false);\n      return;\n    }\n\n    const res1 = await getNotificationList(resetUnreadNotif ? 1 : notificationPgNo, resetUnreadNotif && isInit ? false : resetUnreadNotif ? true : false);\n\n    if (res1.success) {\n      var _res1$data, _result$list;\n\n      const result = (_res1$data = res1.data) === null || _res1$data === void 0 ? void 0 : _res1$data.result;\n\n      if ((result === null || result === void 0 ? void 0 : (_result$list = result.list) === null || _result$list === void 0 ? void 0 : _result$list.length) < 10) {\n        setHasMoreNotif(false);\n      }\n\n      const notifList = resetUnreadNotif || isInit ? result === null || result === void 0 ? void 0 : result.list : [...notificationData.list, ...(result === null || result === void 0 ? void 0 : result.list)];\n      setNotificationData(prevData => ({ ...prevData,\n        count: result === null || result === void 0 ? void 0 : result.count,\n        list: notifList,\n        unreadCount: result === null || result === void 0 ? void 0 : result.unreadCount\n      }));\n\n      if (resetUnreadNotif) {\n        handleClose('notification');\n        setNotificationPgNo(2);\n      } else {\n        setNotificationPgNo(notificationPgNo + 1);\n      }\n\n      if (props.recallHeaderNotif) {\n        props.recallHeaderNotification(false);\n      }\n    }\n  };\n\n  console.log('notificationDataHeader: ', notificationData);\n  useEffect(() => {\n    var _URLSearchParams, _props$location;\n\n    onMessageListner();\n    setActiveLink('discover');\n    setUserType(storageService.getItem('userType'));\n    callOnPathChange();\n    const pushNotifId = (_URLSearchParams = new URLSearchParams((_props$location = props.location) === null || _props$location === void 0 ? void 0 : _props$location.search)) === null || _URLSearchParams === void 0 ? void 0 : _URLSearchParams.get('pushNotifId');\n\n    if (pushNotifId) {\n      (async () => {\n        const res = await markNotifAsRead({\n          notificationId: pushNotifId\n        });\n\n        if (res.success) {\n          callNotificationList(true, true);\n        }\n      })();\n    }\n  }, []);\n\n  const callOnPathChange = () => {\n    var _props$tradeListData;\n\n    if (userType && !DISABLE_HEADER.includes(pathname) && pathname !== 'guest-user') {\n      callNotificationList(true, true);\n\n      if (userType === 1) {\n        if (!profileData || profileData && !_.isEqual(props.tradieProfileData, profileData)) {\n          props.callTradieProfileData();\n        }\n      } else if (userType === 2) {\n        if (!profileData || profileData && !_.isEqual(props.builderProfile, profileData)) {\n          props.getProfileBuilder();\n        }\n      }\n    }\n\n    if (DISABLE_HEADER.includes(pathname)) {\n      setShowHeader(false);\n    } else {\n      setShowHeader(true);\n    }\n\n    setUserType(storageService.getItem('userType'));\n\n    if (((_props$tradeListData = props.tradeListData) === null || _props$tradeListData === void 0 ? void 0 : _props$tradeListData.length) === 0) {\n      props.callTradeList();\n    }\n  };\n\n  useEffect(() => {\n    var _Object$keys, _Object$keys2;\n\n    if (props.tradieProfileData && ((_Object$keys = Object.keys(props.tradieProfileData)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length)) {\n      setProfileData(props.tradieProfileData);\n    }\n\n    if (props.builderProfile && ((_Object$keys2 = Object.keys(props.builderProfile)) === null || _Object$keys2 === void 0 ? void 0 : _Object$keys2.length)) {\n      setProfileData(props.builderProfile);\n    }\n  }, [props.tradieProfileData, props.builderProfile]);\n  useEffect(() => {\n    if ((props === null || props === void 0 ? void 0 : props.builderProfile) && Object.keys(props === null || props === void 0 ? void 0 : props.builderProfile).length && !isIntercom) {\n      setIntercom(true);\n      setHidden();\n    }\n\n    if ((props === null || props === void 0 ? void 0 : props.tradieProfileData) && Object.keys(props === null || props === void 0 ? void 0 : props.tradieProfileData).length && !isIntercom) {\n      setIntercom(true);\n      setHidden();\n    }\n  }, [props]);\n\n  const setHidden = () => {\n    let data = storageService.getItem('userInfo');\n\n    if (data) {\n      if (!Object.values(data).includes([''])) {\n        if (window_.Intercom) {\n          // window_.Intercom('shutdown');\n          window_.Intercom('update', {\n            app_id: 'tvbm4bhr',\n            name: data.userName,\n            email: data.email,\n            user_id: data._id\n          });\n        }\n      } else {\n        forceUpdate();\n        setIsFalse(true);\n        callOnPathChange();\n        console.log({\n          type\n        }, 'user_id');\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (pathname === '/login') {// window_.Intercom('hide');\n    }\n\n    if (pathname === '/') {\n      var _props$location2, _props$location2$stat;\n\n      setActiveLink('discover');\n      setHidden();\n\n      if ((props === null || props === void 0 ? void 0 : (_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : (_props$location2$stat = _props$location2.state) === null || _props$location2$stat === void 0 ? void 0 : _props$location2$stat.path) === '/signup') {\n        setStartTour(true);\n        props.history.replace('/');\n      }\n    }\n\n    if (['/jobs', '/active-jobs', '/applied-jobs', '/past-jobs', '/new-jobs', '/approved-milestones', '/mark-milestone', '/review-builder'].includes(pathname)) {\n      setActiveLink('jobs');\n      setHidden();\n    }\n\n    if (pathname === '/post-new-job') {\n      setActiveLink('post');\n      setHidden();\n    }\n\n    if (pathname === '/chat') {\n      setActiveLink('chat');\n      setHidden();\n    }\n\n    if (['/builder-info', '/saved-tradespeople', '/search-tradie-results'].includes(pathname)) {\n      setHidden();\n    }\n  }, [pathname]);\n  useEffect(() => {\n    callOnPathChange();\n  }, [pathname, userType, isFalse]);\n  useEffect(() => {\n    if (props.recallHeaderNotif) {\n      callOnPathChange();\n    }\n  }, [props.recallHeaderNotif]);\n  useEffect(() => {\n    if (startTour) {\n      document.body.classList.add('no-scroll');\n    } else {\n      document.body.classList.remove('no-scroll');\n    }\n  }, [startTour]);\n\n  const handleClick = (event, type) => {\n    if (type === 'notification') {\n      setAnchorElNotif(event.currentTarget);\n    } else {\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  const handleClose = type => {\n    if (type === 'notification') {\n      setAnchorElNotif(null);\n    } else {\n      setAnchorEl(null);\n    }\n  };\n\n  const logoutHandler = async () => {\n    var _storageService$getIt;\n\n    setLogoutClicked(false);\n    setLoading(true);\n    const response = await fetch(urlFor(`${Urls.logout}?deviceId=${(_storageService$getIt = storageService.getItem('userInfo')) === null || _storageService$getIt === void 0 ? void 0 : _storageService$getIt.deviceId}`), {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: storageService.getItem('jwtToken'),\n        'timezone': moment.tz.guess()\n      }\n    });\n    const res = await response.json();\n    setLoading(false);\n\n    if (res.status_code === 200) {\n      moengage.moE_SendEvent(MoEConstants.LOG_OUT, {\n        success_status: true,\n        current_page: pathname\n      });\n      mixPanel.mixP_SendEvent(MoEConstants.LOG_OUT, {\n        success_status: true,\n        current_page: pathname\n      });\n      signOut();\n      deleteToken();\n      moengage.moE_LogoutEvent();\n    }\n\n    dispatch({\n      type: 'USER_LOGGED_OUT'\n    });\n    storageService.clearAll();\n    history.push('/login');\n  };\n\n  const postClicked = () => {\n    setToggleMenu(false);\n    setActiveLink('post');\n    history.push('/post-new-job');\n  };\n\n  const chatClicked = () => {\n    setToggleMenu(false);\n\n    if (userType === 1 || userType === 2) {\n      setActiveLink('chat');\n      history.push('/chat');\n    }\n  };\n\n  const jobClick = () => {\n    setToggleMenu(false);\n\n    if (userType === 1) {\n      setActiveLink('jobs');\n      history.push('/active-jobs');\n    } else if (userType === 2) {\n      setActiveLink('jobs');\n      history.push('/jobs');\n    }\n  };\n\n  const renderByType = ({\n    name\n  }) => {\n    if (userType === 1 || userType === 2) {\n      return profileData === null || profileData === void 0 ? void 0 : profileData[name];\n    }\n  };\n\n  const handleCallback = state => {\n    const {\n      action,\n      step: {\n        target\n      }\n    } = state;\n    const width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    setActiveTarget(target);\n\n    if (action === 'reset') {\n      setStartTour(false);\n    } else if (action === 'start' && width <= 650) {\n      setToggleMenu(true);\n    }\n\n    if (target === '.tour-profile' && toggleMenu) {\n      setToggleMenu(false);\n    }\n  };\n\n  const tradieTour = [{\n    target: '.tour-discover a',\n    content: `Hi ${renderByType({\n      name: 'userName'\n    })}, here is your go-to for finding new jobs.`,\n    disableBeacon: true\n  }, {\n    target: '.tour-jobs a',\n    content: 'Here you can find all your active jobs and keep on top of milestones!'\n  }, {\n    target: '.tour-chat a',\n    content: 'Chat with builders about job requirements'\n  }, {\n    target: '.tour-profile',\n    content: 'Manage your profile and settings'\n  }, {\n    target: '.tour-notifications',\n    content: 'Check notifications and stay on the front foot'\n  }];\n  const builderTour = [{\n    target: '.tour-discover a',\n    content: `Hi ${renderByType({\n      name: 'userName'\n    })}, here is your go-to for finding tradespeople.`,\n    disableBeacon: true\n  }, {\n    target: '.tour-jobs a',\n    content: 'Here you can find all your active jobs and keep on top of milestones!'\n  }, {\n    target: '.tour-post a',\n    content: 'Here you can post a new job'\n  }, {\n    target: '.tour-chat a',\n    content: 'Your chats for job and tradespeople are here'\n  }, {\n    target: '.tour-profile',\n    content: 'Manage your profile and settings'\n  }, {\n    target: '.tour-notifications',\n    content: 'Check notifications and stay on the front foot'\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Joyride, {\n      run: startTour,\n      showProgress: true,\n      continuous: true,\n      showSkipButton: true,\n      scrollToFirstStep: true,\n      spotlightPadding: activeTarget === '.tour-notifications' ? 12 : 0,\n      disableOverlayClose: true,\n      disableCloseOnEsc: true,\n      steps: userType === 1 ? tradieTour : builderTour,\n      styles: {\n        options: {\n          zIndex: 2000\n        },\n        overlay: {\n          background: '#00000099'\n        }\n      },\n      floaterProps: {\n        hideArrow: true\n      },\n      tooltipComponent: ({\n        continuous,\n        index,\n        step,\n        backProps,\n        skipProps,\n        primaryProps,\n        tooltipProps,\n        isLastStep,\n        size\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tour-tooltip\",\n        ...tooltipProps,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tour-tooltip-content\",\n          children: step.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tour-tooltip-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"\",\n            ...skipProps,\n            title: \"Skip\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: skipBtn,\n              alt: \"skip\",\n              className: \"skip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 29\n          }, this), index > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"\",\n            ...backProps,\n            title: \"Back\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: backBtn,\n              alt: \"back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 33\n          }, this), continuous &&\n          /*#__PURE__*/\n          // <button className=\"\" {...primaryProps} title={isLastStep ? 'Done' : 'Next'}>\n          //     {isLastStep ? 'Done' : 'Next'} {step.showProgress && `(${index + 1}/${size})`}\n          // </button>\n          _jsxDEV(\"button\", {\n            className: \"\",\n            ...primaryProps,\n            title: isLastStep ? 'Done' : 'Next',\n            children: [isLastStep ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: doneBtn,\n              alt: \"done\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 51\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: nextBtn,\n              alt: \"next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 86\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: step.showProgress && `(${index + 1}/${size})`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 21\n      }, this),\n      callback: handleCallback\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 13\n    }, this), showHeader && /*#__PURE__*/_jsxDEV(\"header\", {\n      id: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_headrow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brand_wrap\",\n            children: /*#__PURE__*/_jsxDEV(\"figure\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                onClick: () => {\n                  if (userType === 0) {\n                    return;\n                  }\n\n                  if (pathname === '/') {\n                    window.scrollTo({\n                      top: 0,\n                      left: 0,\n                      behavior: 'smooth'\n                    });\n                    return;\n                  }\n\n                  setActiveLink('discover');\n                  setToggleMenu(false);\n                  props.history.push('/');\n                },\n                src: colorLogo,\n                alt: \"logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: `center_nav ${toggleMenu ? 'active' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"tour-discover\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: () => {\n                  if (userType === 1 || userType === 2) {\n                    setActiveLink('discover');\n                    history.push('/');\n                  } else {\n                    return;\n                  }\n                },\n                className: startTour ? activeTarget === '.tour-discover a' ? 'active' : '' : activeLink === 'discover' ? 'active' : '',\n                children: 'Discover'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"tour-jobs\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: startTour ? activeTarget === '.tour-jobs a' ? 'active' : '' : activeLink === 'jobs' ? 'active' : '',\n                onClick: jobClick,\n                children: 'Jobs'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 29\n            }, this), userType === 2 && /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"tour-post\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: startTour ? activeTarget === '.tour-post a' ? 'active' : '' : activeLink === 'post' ? 'active' : '',\n                onClick: postClicked,\n                children: 'Post'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"tour-chat\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: startTour ? activeTarget === '.tour-chat a' ? 'active' : '' : activeLink === 'chat' ? 'active' : '',\n                onClick: chatClicked,\n                children: 'Chat'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"side_nav\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mob_nav\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: menu,\n                alt: \"menu\",\n                onClick: () => {\n                  setToggleMenu(!toggleMenu);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile_notification\",\n              children: [storageService.getItem(\"jwtToken\") && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"notification_bell\",\n                onClick: event => handleClick(event, 'notification'),\n                children: /*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"bell tour-notifications\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `${notificationData.unreadCount ? 'badge' : ''}`,\n                    children: notificationData.unreadCount || ''\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: bell,\n                    alt: \"notify\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 559,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user_profile\",\n                children: [storageService.getItem(\"jwtToken\") && /*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"tour-profile\",\n                  \"aria-controls\": \"simple-menu\",\n                  \"aria-haspopup\": \"true\",\n                  onClick: event => handleClick(event, 'profile'),\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: renderByType({\n                      name: 'userImage'\n                    }) || dummy,\n                    alt: \"profile-img\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Menu, {\n                  className: \"sub_menu\",\n                  id: \"simple-menu\",\n                  anchorEl: anchorEl,\n                  keepMounted: true,\n                  open: Boolean(anchorEl),\n                  onClose: () => handleClose('profile'),\n                  elevation: 0,\n                  getContentAnchorEl: null,\n                  anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'center'\n                  },\n                  transformOrigin: {\n                    vertical: 'top',\n                    horizontal: 'right'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"sub_title\",\n                    children: renderByType({\n                      name: 'userName'\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose('pofile');\n                      history.push(`/${props.userType === 1 ? 'tradie' : 'builder'}-info?${props.userType === 1 ? 'trade' : 'builder'}Id=${renderByType({\n                        name: 'userId'\n                      })}`);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: profile,\n                        alt: \"profile\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 595,\n                        columnNumber: 49\n                      }, this), 'My Profile']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 594,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 590,\n                    columnNumber: 41\n                  }, this), [1, 2].includes(props.userType) && /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose('profile');\n                      history.push('/payment-history');\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: revenue,\n                        alt: \"revenue\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 602,\n                        columnNumber: 53\n                      }, this), props.userType === 1 ? 'Payment history' : 'Transaction history']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 601,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 600,\n                    columnNumber: 45\n                  }, this), [1, 2].includes(props.userType) && /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose('profile');\n                      history.push(props.userType === 1 ? '/saved-jobs' : '/saved-tradespeople');\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: savedJobs,\n                        alt: \"savedJobs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 610,\n                        columnNumber: 53\n                      }, this), `Saved ${props.userType === 1 ? 'jobs' : 'tradespeople'}`]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 608,\n                    columnNumber: 45\n                  }, this), [1, 2].includes(props.userType) && /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose('profile');\n                      setStartTour(true);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: guide,\n                        alt: \"guide\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 618,\n                        columnNumber: 53\n                      }, this), 'App Guide']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 617,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 616,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: () => {\n                      handleClose('profile');\n                      setLogoutClicked(true);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"setting_icon logout\",\n                      children: \"Logout\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 627,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 623,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                  className: \"custom_modal\",\n                  open: logoutClicked,\n                  onClose: () => setLogoutClicked(false),\n                  \"aria-labelledby\": \"simple-modal-title\",\n                  \"aria-describedby\": \"simple-modal-description\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"custom_wh confirmation\",\n                    \"data-aos\": \"zoom-in\",\n                    \"data-aos-delay\": \"30\",\n                    \"data-aos-duration\": \"1000\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"heading\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"xs_sub_title\",\n                        children: `Logout Confirmation`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 641,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"close_btn\",\n                        onClick: () => setLogoutClicked(false),\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: cancel,\n                          alt: \"cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 643,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 642,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 640,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal_message\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: `Are you sure you want to logout?`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 647,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 646,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"dialog_actions\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"fill_btn btn-effect\",\n                        onClick: logoutHandler,\n                        children: \"Yes\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 650,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"fill_grey_btn btn-effect\",\n                        onClick: () => setLogoutClicked(false),\n                        children: \"No\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 651,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 649,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Menu, {\n                  className: \"sub_menu notifications\",\n                  id: \"simple-menu\",\n                  anchorEl: anchorElNotif,\n                  keepMounted: true,\n                  open: Boolean(anchorElNotif),\n                  onClose: () => handleClose('notification'),\n                  elevation: 0,\n                  getContentAnchorEl: null,\n                  anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'center'\n                  },\n                  transformOrigin: {\n                    vertical: 'top',\n                    horizontal: 'right'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"sub_title\",\n                      children: \"Notifications\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 675,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"javascript:void(0)\",\n                      className: \"link mark_all\",\n                      onClick: () => {\n                        if (notificationData.unreadCount === 0) {\n                          handleClose('notification');\n                          return;\n                        }\n\n                        callNotificationList(true);\n                      },\n                      children: \"Mark all as read\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 676,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 41\n                  }, this), ((_notificationData$lis3 = notificationData.list) === null || _notificationData$lis3 === void 0 ? void 0 : _notificationData$lis3.length) > 0 && notificationData.list.map(item => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    className: `${item.read ? '' : 'unread'}`,\n                    onClick: async () => {\n                      var _history$location, _history$location2;\n\n                      handleClose('notification');\n                      const url1 = onNotificationClick(item);\n                      const url2 = ((_history$location = history.location) === null || _history$location === void 0 ? void 0 : _history$location.pathname) + ((_history$location2 = history.location) === null || _history$location2 === void 0 ? void 0 : _history$location2.search);\n\n                      if (item.read === 0) {\n                        const res = (item === null || item === void 0 ? void 0 : item.notificationType) === 13 || url1 === url2 && (item === null || item === void 0 ? void 0 : item.notificationType) === 9 ? await markNotifAsRead({\n                          notificationId: item === null || item === void 0 ? void 0 : item._id\n                        }) : markNotifAsRead({\n                          notificationId: item === null || item === void 0 ? void 0 : item._id\n                        });\n\n                        if ((item === null || item === void 0 ? void 0 : item.notificationType) === 13 && (res === null || res === void 0 ? void 0 : res.success)) {\n                          callNotificationList(true, true);\n                        }\n                      }\n\n                      if (url1 === url2 && item.read === 0 || url1 === url2 && (item === null || item === void 0 ? void 0 : item.notificationType) == 9) {\n                        var _window$location;\n\n                        (_window$location = window.location) === null || _window$location === void 0 ? void 0 : _window$location.reload();\n                        return;\n                      }\n\n                      props.history.push(url1);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"notif\",\n                      children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                        className: \"not_img\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: (item === null || item === void 0 ? void 0 : item.image) || dummy,\n                          alt: \"img\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 708,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `${item.read ? '' : 'dot'}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 710,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 707,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          title: item.title,\n                          className: \"who line-1\",\n                          children: item.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 714,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          title: item.notificationText,\n                          className: \"line-1\",\n                          children: item.notificationText\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 715,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 712,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"time\",\n                        children: formatNotificationTime(item === null || item === void 0 ? void 0 : item.updatedAt, 'day')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 718,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 706,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 689,\n                    columnNumber: 49\n                  }, this)), hasMoreNotif && ((_notificationData$lis4 = notificationData.list) === null || _notificationData$lis4 === void 0 ? void 0 : _notificationData$lis4.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"more_notif\",\n                    onClick: () => callNotificationList(),\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"link\",\n                      children: \"View more\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 723,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 722,\n                    columnNumber: 95\n                  }, this), (notificationData === null || notificationData === void 0 ? void 0 : (_notificationData$lis5 = notificationData.list) === null || _notificationData$lis5 === void 0 ? void 0 : _notificationData$lis5.length) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"no_notification\",\n                    children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: noNotification,\n                        alt: \"no-notifications\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 728,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 727,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"No Notifications\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 726,\n                    columnNumber: 82\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 29\n            }, this), !storageService.getItem(\"jwtToken\") && /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"active\",\n                onClick: () => setShowModal(!showModal),\n                children: 'Log in'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(AuthModal, {\n              showModal: showModal,\n              setShowModal: setShowModal,\n              history: props.history,\n              firstTimePopup: true,\n              children: props.children\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 28\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(Header, \"DFCo9jzP3IH5ELV2ua9nrha5g7c=\", true, function () {\n  return [useDispatch, useLocation, useHistory];\n});\n\n_c = Header;\nexport default _c2 = withRouter(Header);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/common/header/header.tsx"],"names":["useState","useEffect","useLocation","withRouter","useHistory","Joyride","Modal","Menu","MenuItem","storageService","AuthModal","Urls","urlFor","useDispatch","setLoading","setShowNotification","messaging","deleteToken","signOut","onNotificationClick","formatNotificationTime","getNotificationList","markNotifAsRead","moengage","mixPanel","MoEConstants","moment","_","colorLogo","bell","cancel","dummy","profile","revenue","guide","savedJobs","noNotification","skipBtn","backBtn","nextBtn","doneBtn","DISABLE_HEADER","Header","props","window_","window","dispatch","pathname","history","type","getItem","userType","setUserType","anchorEl","setAnchorEl","anchorElNotif","setAnchorElNotif","showModal","setShowModal","showHeader","setShowHeader","toggleMenu","setToggleMenu","activeLink","setActiveLink","notificationData","setNotificationData","count","list","unreadCount","notificationPgNo","setNotificationPgNo","hasMoreNotif","setHasMoreNotif","isIntercom","setIntercom","startTour","setStartTour","isFalse","setIsFalse","forceUpdate","useForceUpdate","activeTarget","setActiveTarget","logoutClicked","setLogoutClicked","profileData","setProfileData","value","setValue","Math","random","onMessageListner","onMessage","payload","console","log","title","data","options","body","notificationText","notifications","Notification","onclick","event","preventDefault","open","notificationType","prevData","newPayLoad","read","newPushList","unshift","callNotificationList","resetUnreadNotif","isInit","length","res1","success","result","notifList","handleClose","recallHeaderNotif","recallHeaderNotification","callOnPathChange","pushNotifId","URLSearchParams","location","search","get","res","notificationId","includes","isEqual","tradieProfileData","callTradieProfileData","builderProfile","getProfileBuilder","tradeListData","callTradeList","Object","keys","setHidden","values","Intercom","app_id","name","userName","email","user_id","_id","state","path","replace","document","classList","add","remove","handleClick","currentTarget","logoutHandler","response","fetch","logout","deviceId","method","headers","Authorization","tz","guess","json","status_code","moE_SendEvent","LOG_OUT","success_status","current_page","mixP_SendEvent","moE_LogoutEvent","clearAll","push","postClicked","chatClicked","jobClick","renderByType","handleCallback","action","step","target","width","innerWidth","documentElement","clientWidth","tradieTour","content","disableBeacon","builderTour","zIndex","overlay","background","hideArrow","continuous","index","backProps","skipProps","primaryProps","tooltipProps","isLastStep","size","showProgress","scrollTo","top","left","behavior","menu","Boolean","vertical","horizontal","map","item","url1","url2","reload","image","updatedAt","children"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useState, useEffect } from 'react';\nimport { useLocation, withRouter, useHistory } from \"react-router-dom\";\nimport Joyride from 'react-joyride';\nimport Modal from '@material-ui/core/Modal';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport storageService from '../../utils/storageService';\nimport AuthModal from '../auth/authModal';\nimport Urls, { urlFor } from '../../network/Urls';\nimport { useDispatch } from 'react-redux';\nimport { setLoading, setShowNotification } from '../../redux/common/actions';\nimport { messaging, deleteToken, signOut } from '../../services/firebase';\nimport { onNotificationClick, formatNotificationTime } from '../../utils/common';\nimport { getNotificationList } from '../../redux/homeSearch/actions';\nimport { markNotifAsRead } from '../../redux/auth/actions';\nimport { moengage, mixPanel } from '../../services/analyticsTools';\nimport { MoEConstants } from '../../utils/constants';\n\nimport moment from 'moment';\nimport _ from 'lodash';\n\nimport colorLogo from '../../assets/images/ic-logo-yellow.png';\nimport menu from '../../assets/images/menu-line-white.svg';\nimport bell from '../../assets/images/ic-notification.png';\nimport cancel from \"../../assets/images/ic-cancel.png\";\nimport dummy from '../../assets/images/u_placeholder.jpg';\nimport profile from '../../assets/images/ic-profile.png';\nimport revenue from '../../assets/images/ic-revenue.png';\nimport guide from '../../assets/images/ic-tutorial.png';\nimport savedJobs from '../../assets/images/ic-job.png';\nimport noNotification from '../../assets/images/no-notifications.png';\n\nimport skipBtn from '../../assets/images/skip.png';\nimport backBtn from '../../assets/images/back.png';\nimport nextBtn from '../../assets/images/next.png';\nimport doneBtn from '../../assets/images/check-mark.png';\n\nconst DISABLE_HEADER = [\n    '/signup',\n    '/login',\n    '/reset-password',\n    '/404',\n    '/email-updated-successfully',\n    '/change-password-success'\n];\n\nconst Header = (props: any) => {\n    let window_: any = window;\n    const dispatch = useDispatch();\n    let { pathname } = useLocation();\n    let history = useHistory();\n    let type = storageService.getItem('userType');\n\n    const [userType, setUserType] = useState(null)\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [anchorElNotif, setAnchorElNotif] = useState(null);\n    const [showModal, setShowModal] = useState<boolean>(false);\n    const [showHeader, setShowHeader] = useState<boolean>(false);\n    const [toggleMenu, setToggleMenu] = useState(false);\n    const [activeLink, setActiveLink] = useState('discover');\n    const [notificationData, setNotificationData] = useState<any>({\n        count: 0,\n        list: [],\n        unreadCount: 0\n    });\n    const [notificationPgNo, setNotificationPgNo] = useState<number>(1);\n    const [hasMoreNotif, setHasMoreNotif] = useState<boolean>(true);\n    const [isIntercom, setIntercom] = useState(false);\n    const [startTour, setStartTour] = useState(false);\n    const [isFalse, setIsFalse] = useState(false);\n    const forceUpdate = useForceUpdate();\n    const [activeTarget, setActiveTarget] = useState('');\n    const [logoutClicked, setLogoutClicked] = useState(false);\n    const [profileData, setProfileData] = useState('');\n\n    function useForceUpdate() {\n        const [value, setValue] = useState(0); // integer state\n        return () => setValue(value => value + Math.random()); // update the state to force render\n    }\n\n    const onMessageListner = () => {\n        if (messaging) {\n            messaging.onMessage((payload: any) => {\n                console.log('firebase notification received inside header : ', payload);\n                const title = payload.data.title;\n                const options = {\n                    body: payload.data.notificationText\n                }\n                var notifications = new Notification(title, options);\n                notifications.onclick = function (event) {\n                    console.log('event: ', event);\n                    event.preventDefault(); // prevent the browser from focusing the Notification's tab\n                    window.open('http://localhost:3000/active-jobs', '_self');\n                }\n\n                setShowNotification(true, payload);\n                if (payload.data?.notificationType !== \"25\") {\n                    setNotificationData((prevData: any) => {\n                        let newPayLoad = { ...payload.data };\n                        newPayLoad.read = 0;\n                        let newPushList = [...prevData.list];\n                        newPushList.unshift(newPayLoad);\n                        return {\n                            ...prevData,\n                            unreadCount: prevData.unreadCount + 1,\n                            list: newPushList\n                        }\n                    });\n                }\n            })\n        }\n    }\n\n    const callNotificationList = async (resetUnreadNotif?: boolean, isInit?: boolean) => {\n        if (notificationData.list?.length > 0 && notificationData.list?.length > notificationData?.count) {\n            setHasMoreNotif(false);\n            return;\n        }\n        const res1 = await getNotificationList(resetUnreadNotif ? 1 : notificationPgNo, (resetUnreadNotif && isInit) ? false : resetUnreadNotif ? true : false);\n        if (res1.success) {\n            const result = res1.data?.result;\n            if (result?.list?.length < 10) {\n                setHasMoreNotif(false);\n            }\n            const notifList: any = (resetUnreadNotif || isInit) ? result?.list : [...notificationData.list, ...result?.list];\n\n            setNotificationData((prevData: any) => ({\n                ...prevData,\n                count: result?.count,\n                list: notifList,\n                unreadCount: result?.unreadCount\n            }));\n            if (resetUnreadNotif) {\n                handleClose('notification');\n                setNotificationPgNo(2);\n            } else {\n                setNotificationPgNo(notificationPgNo + 1);\n            }\n            if (props.recallHeaderNotif) {\n                props.recallHeaderNotification(false);\n            }\n        }\n    }\n    console.log('notificationDataHeader: ', notificationData);\n\n    useEffect(() => {\n        onMessageListner();\n        setActiveLink('discover');\n        setUserType(storageService.getItem('userType'))\n        callOnPathChange();\n\n        const pushNotifId = new URLSearchParams(props.location?.search)?.get('pushNotifId');\n        if (pushNotifId) {\n            (async () => {\n                const res: any = await markNotifAsRead({ notificationId: pushNotifId });\n                if (res.success) {\n                    callNotificationList(true, true);\n                }\n            })();\n        }\n    }, []);\n\n\n    const callOnPathChange = () => {\n        if (userType && !DISABLE_HEADER.includes(pathname) && pathname !== 'guest-user') {\n            callNotificationList(true, true);\n            if (userType === 1) {\n                if (!profileData || (profileData && !_.isEqual(props.tradieProfileData, profileData))) {\n                    props.callTradieProfileData();\n                }\n            } else if (userType === 2) {\n                if (!profileData || (profileData && !_.isEqual(props.builderProfile, profileData))) {\n                    props.getProfileBuilder();\n                }\n            }\n        }\n        if (DISABLE_HEADER.includes(pathname)) {\n            setShowHeader(false);\n        } else {\n            setShowHeader(true);\n        }\n        setUserType(storageService.getItem('userType'));\n        if (props.tradeListData?.length === 0) {\n            props.callTradeList();\n        }\n    }\n\n    useEffect(() => {\n        if (props.tradieProfileData && Object.keys(props.tradieProfileData)?.length) {\n            setProfileData(props.tradieProfileData);\n        }\n        if (props.builderProfile && Object.keys(props.builderProfile)?.length) {\n            setProfileData(props.builderProfile);\n        }\n    }, [props.tradieProfileData, props.builderProfile])\n\n    useEffect(() => {\n        if (props?.builderProfile && Object.keys(props?.builderProfile).length && !isIntercom) {\n            setIntercom(true)\n            setHidden();\n        }\n        if (props?.tradieProfileData && Object.keys(props?.tradieProfileData).length && !isIntercom) {\n            setIntercom(true)\n            setHidden();\n        }\n    }, [props]);\n\n\n    const setHidden = () => {\n        let data: any = storageService.getItem('userInfo');\n        if (data) {\n            if (!Object.values(data).includes([''])) {\n                if (window_.Intercom) {\n                    // window_.Intercom('shutdown');\n                    window_.Intercom('update', {\n                        app_id: 'tvbm4bhr',\n                        name: data.userName,\n                        email: data.email,\n                        user_id: data._id,\n                    });\n                }\n            } else {\n                forceUpdate();\n                setIsFalse(true);\n                callOnPathChange();\n                console.log({ type }, 'user_id')\n            }\n        }\n    }\n\n    useEffect(() => {\n        if (pathname === '/login') {\n            // window_.Intercom('hide');\n        }\n        if (pathname === '/') {\n            setActiveLink('discover');\n            setHidden();\n            if (props?.location?.state?.path === '/signup') {\n                setStartTour(true);\n                props.history.replace('/');\n            }\n        }\n        if ([\n            '/jobs',\n            '/active-jobs',\n            '/applied-jobs',\n            '/past-jobs',\n            '/new-jobs',\n            '/approved-milestones',\n            '/mark-milestone',\n            '/review-builder'\n        ].includes(pathname)) {\n            setActiveLink('jobs');\n            setHidden();\n        }\n        if (pathname === '/post-new-job') {\n            setActiveLink('post');\n            setHidden();\n        }\n        if (pathname === '/chat') {\n            setActiveLink('chat')\n            setHidden();\n        }\n        if (['/builder-info', '/saved-tradespeople', '/search-tradie-results'].includes(pathname)) {\n            setHidden();\n        }\n\n    }, [pathname]);\n\n    useEffect(() => {\n        callOnPathChange();\n    }, [pathname, userType, isFalse]);\n\n    useEffect(() => {\n        if (props.recallHeaderNotif) {\n            callOnPathChange();\n        }\n    }, [props.recallHeaderNotif]);\n\n    useEffect(() => {\n        if (startTour) {\n            document.body.classList.add('no-scroll');\n        } else {\n            document.body.classList.remove('no-scroll');\n        }\n    }, [startTour]);\n\n    const handleClick = (event: any, type: string) => {\n        if (type === 'notification') {\n            setAnchorElNotif(event.currentTarget);\n        } else {\n            setAnchorEl(event.currentTarget);\n        }\n    };\n\n    const handleClose = (type: string) => {\n        if (type === 'notification') {\n            setAnchorElNotif(null);\n        } else {\n            setAnchorEl(null);\n        }\n    };\n\n    const logoutHandler = async () => {\n        setLogoutClicked(false);\n        setLoading(true);\n        const response = await fetch(urlFor(`${Urls.logout}?deviceId=${storageService.getItem('userInfo')?.deviceId}`), {\n            method: \"GET\",\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: storageService.getItem('jwtToken'),\n                'timezone': moment.tz.guess()\n            }\n        });\n        const res = await response.json();\n        setLoading(false);\n        if (res.status_code === 200) {\n            moengage.moE_SendEvent(MoEConstants.LOG_OUT, { success_status: true, current_page: pathname })\n            mixPanel.mixP_SendEvent(MoEConstants.LOG_OUT, { success_status: true, current_page: pathname })\n            signOut();\n            deleteToken();\n            moengage.moE_LogoutEvent();\n        }\n        dispatch({ type: 'USER_LOGGED_OUT' });\n        storageService.clearAll();\n        history.push('/login');\n    }\n\n    const postClicked = () => {\n        setToggleMenu(false);\n        setActiveLink('post');\n        history.push('/post-new-job')\n    }\n\n    const chatClicked = () => {\n        setToggleMenu(false);\n        if (userType === 1 || userType === 2) {\n            setActiveLink('chat');\n            history.push('/chat');\n        }\n    }\n\n    const jobClick = () => {\n        setToggleMenu(false);\n        if (userType === 1) {\n            setActiveLink('jobs');\n            history.push('/active-jobs');\n        } else if (userType === 2) {\n            setActiveLink('jobs');\n            history.push('/jobs')\n        }\n    }\n\n    const renderByType = ({ name }: any) => {\n        if (userType === 1 || userType === 2) {\n            return profileData?.[name];\n        }\n    }\n\n    const handleCallback = (state: any) => {\n        const { action, step: { target } } = state;\n        const width = window.innerWidth\n            || document.documentElement.clientWidth\n            || document.body.clientWidth;\n\n        setActiveTarget(target);\n\n        if (action === 'reset') {\n            setStartTour(false);\n        } else if (action === 'start' && width <= 650) {\n            setToggleMenu(true);\n        }\n\n        if (target === '.tour-profile' && toggleMenu) {\n            setToggleMenu(false);\n        }\n    }\n\n    const tradieTour = [\n        {\n            target: '.tour-discover a',\n            content: `Hi ${renderByType({ name: 'userName' })}, here is your go-to for finding new jobs.`,\n            disableBeacon: true\n        },\n        {\n            target: '.tour-jobs a',\n            content: 'Here you can find all your active jobs and keep on top of milestones!',\n        },\n        {\n            target: '.tour-chat a',\n            content: 'Chat with builders about job requirements',\n        },\n        {\n            target: '.tour-profile',\n            content: 'Manage your profile and settings',\n        },\n        {\n            target: '.tour-notifications',\n            content: 'Check notifications and stay on the front foot',\n        },\n    ];\n\n    const builderTour = [\n        {\n            target: '.tour-discover a',\n            content: `Hi ${renderByType({ name: 'userName' })}, here is your go-to for finding tradespeople.`,\n            disableBeacon: true\n        },\n        {\n            target: '.tour-jobs a',\n            content: 'Here you can find all your active jobs and keep on top of milestones!',\n        },\n        {\n            target: '.tour-post a',\n            content: 'Here you can post a new job',\n        },\n        {\n            target: '.tour-chat a',\n            content: 'Your chats for job and tradespeople are here',\n        },\n        {\n            target: '.tour-profile',\n            content: 'Manage your profile and settings',\n        },\n        {\n            target: '.tour-notifications',\n            content: 'Check notifications and stay on the front foot',\n        },\n    ]\n\n    return (\n        <>\n            <Joyride\n                run={startTour}\n                showProgress\n                continuous\n                showSkipButton\n                scrollToFirstStep\n                spotlightPadding={activeTarget === '.tour-notifications' ? 12 : 0}\n                disableOverlayClose\n                disableCloseOnEsc\n                steps={userType === 1 ? tradieTour : builderTour}\n                styles={{\n                    options: {\n                        zIndex: 2000,\n                    },\n                    overlay: {\n                        background: '#00000099',\n                    }\n                }}\n                floaterProps={{\n                    hideArrow: true,\n                }}\n                tooltipComponent={({\n                    continuous,\n                    index,\n                    step,\n                    backProps,\n                    skipProps,\n                    primaryProps,\n                    tooltipProps,\n                    isLastStep,\n                    size,\n                }) => (\n                    <div className=\"tour-tooltip\" {...tooltipProps}>\n                        <div className=\"tour-tooltip-content\">{step.content}</div>\n                        <div className=\"tour-tooltip-footer\">\n                            <button className=\"\" {...skipProps} title=\"Skip\">\n                                <img src={skipBtn} alt=\"skip\" className=\"skip\" />\n                            </button>\n                            {index > 0 && (\n                                <button className=\"\" {...backProps} title=\"Back\">\n                                    <img src={backBtn} alt=\"back\" />\n                                </button>\n                            )}\n                            {continuous && (\n                                // <button className=\"\" {...primaryProps} title={isLastStep ? 'Done' : 'Next'}>\n                                //     {isLastStep ? 'Done' : 'Next'} {step.showProgress && `(${index + 1}/${size})`}\n                                // </button>\n\n                                <button className=\"\" {...primaryProps} title={isLastStep ? 'Done' : 'Next'}>\n                                    {isLastStep ? <img src={doneBtn} alt=\"done\" /> : <img src={nextBtn} alt=\"next\" />}\n                                    <span>{step.showProgress && `(${index + 1}/${size})`}</span>\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                )}\n                callback={handleCallback}\n            />\n            {showHeader && <header id=\"header\">\n                <div className=\"custom_container\">\n                    <div className=\"flex_headrow\">\n                        <div className=\"brand_wrap\">\n                            <figure>\n                                <img\n                                    onClick={() => {\n                                        if (userType === 0) {\n                                            return;\n                                        }\n                                        if (pathname === '/') {\n                                            window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n                                            return;\n                                        }\n                                        setActiveLink('discover');\n                                        setToggleMenu(false);\n                                        props.history.push('/');\n                                    }}\n                                    src={colorLogo}\n                                    alt=\"logo\" />\n                            </figure>\n                        </div>\n                        <ul className={`center_nav ${toggleMenu ? 'active' : ''}`}>\n                            <li className=\"tour-discover\">\n                                <a\n                                    onClick={() => {\n                                        if (userType === 1 || userType === 2) {\n                                            setActiveLink('discover');\n                                            history.push('/');\n                                        } else {\n                                            return;\n                                        }\n                                    }}\n                                    className={startTour ? activeTarget === '.tour-discover a' ? 'active' : '' : activeLink === 'discover' ? 'active' : ''}>\n                                    {'Discover'}\n                                </a>\n                            </li>\n                            <li className=\"tour-jobs\">\n                                <a className={startTour ? activeTarget === '.tour-jobs a' ? 'active' : '' : activeLink === 'jobs' ? 'active' : ''} onClick={jobClick}>\n                                    {'Jobs'}\n                                </a>\n                            </li>\n\n                            {userType === 2 &&\n                                <li className=\"tour-post\">\n                                    <a className={startTour ? activeTarget === '.tour-post a' ? 'active' : '' : activeLink === 'post' ? 'active' : ''} onClick={postClicked}>\n                                        {'Post'}\n                                    </a>\n                                </li>}\n                            <li className=\"tour-chat\">\n                                <a className={startTour ? activeTarget === '.tour-chat a' ? 'active' : '' : activeLink === 'chat' ? 'active' : ''} onClick={chatClicked}>\n                                    {'Chat'}\n                                </a>\n                            </li>\n                        </ul>\n                        <ul className=\"side_nav\">\n                            <li className=\"mob_nav\">\n                                <img\n                                    src={menu}\n                                    alt=\"menu\"\n                                    onClick={() => { setToggleMenu(!toggleMenu); }} />\n                            </li>\n                            <div className=\"profile_notification\">\n                                {storageService.getItem(\"jwtToken\") &&\n                                    <div className=\"notification_bell\" onClick={(event) => handleClick(event, 'notification')}>\n                                        <figure className=\"bell tour-notifications\">\n                                            <span className={`${notificationData.unreadCount ? 'badge' : ''}`}>{notificationData.unreadCount || ''}</span>\n                                            <img src={bell} alt=\"notify\" />\n                                        </figure>\n                                    </div>}\n                                <div className=\"user_profile\">\n                                    {storageService.getItem(\"jwtToken\") &&\n                                        <figure className=\"tour-profile\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={(event) => handleClick(event, 'profile')}>\n                                            <img src={renderByType({ name: 'userImage' }) || dummy} alt=\"profile-img\" />\n                                        </figure>}\n\n                                    <Menu className=\"sub_menu\"\n                                        id=\"simple-menu\"\n                                        anchorEl={anchorEl}\n                                        keepMounted\n                                        open={Boolean(anchorEl)}\n                                        onClose={() => handleClose('profile')}\n                                        elevation={0}\n                                        getContentAnchorEl={null}\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'center',\n                                        }}\n                                        transformOrigin={{\n                                            vertical: 'top',\n                                            horizontal: 'right',\n                                        }}\n                                    >\n                                        <span className=\"sub_title\">\n                                            {renderByType({ name: 'userName' })}\n                                        </span>\n\n\n                                        <MenuItem onClick={() => {\n                                            handleClose('pofile');\n                                            history.push(`/${props.userType === 1 ? 'tradie' : 'builder'}-info?${props.userType === 1 ? 'trade' : 'builder'}Id=${renderByType({ name: 'userId' })}`);\n                                        }}>\n                                            <span className=\"setting_icon\">\n                                                <img src={profile} alt=\"profile\" />\n                                                {'My Profile'}\n                                            </span>\n                                        </MenuItem>\n                                        {[1, 2].includes(props.userType) && (\n                                            <MenuItem onClick={() => { handleClose('profile'); history.push('/payment-history'); }}>\n                                                <span className=\"setting_icon\">\n                                                    <img src={revenue} alt=\"revenue\" />\n                                                    {props.userType === 1 ? 'Payment history' : 'Transaction history'}\n                                                </span>\n                                            </MenuItem>\n                                        )}\n                                        {[1, 2].includes(props.userType) && (\n                                            <MenuItem onClick={() => { handleClose('profile'); history.push(props.userType === 1 ? '/saved-jobs' : '/saved-tradespeople') }}>\n                                                <span className=\"setting_icon\">\n                                                    <img src={savedJobs} alt=\"savedJobs\" />\n                                                    {`Saved ${props.userType === 1 ? 'jobs' : 'tradespeople'}`}\n                                                </span>\n                                            </MenuItem>\n                                        )}\n                                        {[1, 2].includes(props.userType) && (\n                                            <MenuItem onClick={() => { handleClose('profile'); setStartTour(true); }}>\n                                                <span className=\"setting_icon\">\n                                                    <img src={guide} alt=\"guide\" />\n                                                    {'App Guide'}\n                                                </span>\n                                            </MenuItem>\n                                        )}\n                                        <MenuItem onClick={() => {\n                                            handleClose('profile');\n                                            setLogoutClicked(true);\n                                        }}>\n                                            <span className=\"setting_icon logout\">Logout</span>\n                                        </MenuItem>\n                                    </Menu>\n\n                                    {/* logout popup */}\n                                    <Modal\n                                        className=\"custom_modal\"\n                                        open={logoutClicked}\n                                        onClose={() => setLogoutClicked(false)}\n                                        aria-labelledby=\"simple-modal-title\"\n                                        aria-describedby=\"simple-modal-description\"\n                                    >\n                                        <div className=\"custom_wh confirmation\" data-aos=\"zoom-in\" data-aos-delay=\"30\" data-aos-duration=\"1000\">\n                                            <div className=\"heading\">\n                                                <span className=\"xs_sub_title\">{`Logout Confirmation`}</span>\n                                                <button className=\"close_btn\" onClick={() => setLogoutClicked(false)}>\n                                                    <img src={cancel} alt=\"cancel\" />\n                                                </button>\n                                            </div>\n                                            <div className=\"modal_message\">\n                                                <p>{`Are you sure you want to logout?`}</p>\n                                            </div>\n                                            <div className=\"dialog_actions\">\n                                                <button className=\"fill_btn btn-effect\" onClick={logoutHandler}>Yes</button>\n                                                <button className=\"fill_grey_btn btn-effect\" onClick={() => setLogoutClicked(false)}>No</button>\n                                            </div>\n                                        </div>\n                                    </Modal>\n\n                                    {/* Notification */}\n                                    <Menu className=\"sub_menu notifications\"\n                                        id=\"simple-menu\"\n                                        anchorEl={anchorElNotif}\n                                        keepMounted\n                                        open={Boolean(anchorElNotif)}\n                                        onClose={() => handleClose('notification')}\n                                        elevation={0}\n                                        getContentAnchorEl={null}\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'center',\n                                        }}\n                                        transformOrigin={{\n                                            vertical: 'top',\n                                            horizontal: 'right',\n                                        }}\n                                    >\n                                        <div>\n                                            <span className=\"sub_title\">Notifications</span>\n                                            <a href=\"javascript:void(0)\" className=\"link mark_all\"\n                                                onClick={() => {\n                                                    if (notificationData.unreadCount === 0) {\n                                                        handleClose('notification');\n                                                        return;\n                                                    }\n                                                    callNotificationList(true)\n                                                }}\n                                            >Mark all as read</a>\n                                        </div>\n\n                                        {notificationData.list?.length > 0 &&\n                                            notificationData.list.map((item: any) =>\n                                                <MenuItem className={`${item.read ? '' : 'unread'}`} onClick={async () => {\n                                                    handleClose('notification');\n                                                    const url1: string = onNotificationClick(item);\n                                                    const url2: string = history.location?.pathname + history.location?.search;\n                                                    if (item.read === 0) {\n                                                        const res: any = (item?.notificationType === 13 || (url1 === url2 && item?.notificationType === 9)) ? await markNotifAsRead({ notificationId: item?._id }) : markNotifAsRead({ notificationId: item?._id });\n                                                        if (item?.notificationType === 13 && res?.success) {\n                                                            callNotificationList(true, true);\n                                                        }\n                                                    }\n                                                    if ((url1 === url2 && item.read === 0) || (url1 === url2 && item?.notificationType == 9)) {\n                                                        window.location?.reload();\n                                                        return;\n                                                    }\n                                                    props.history.push(url1);\n                                                }}\n                                                >\n                                                    <div className=\"notif\">\n                                                        <figure className=\"not_img\">\n                                                            <img src={item?.image || dummy} alt=\"img\" />\n                                                            {/* <span className=\"dot\"></span> */}\n                                                            <span className={`${item.read ? '' : 'dot'}`}></span>\n                                                        </figure>\n                                                        <div className=\"info\">\n                                                            {/* <span className=\"who line-1\">{item.title}</span> */}\n                                                            <span title={item.title} className=\"who line-1\">{item.title}</span>\n                                                            <span title={item.notificationText} className=\"line-1\">{item.notificationText}</span>\n                                                            {/* <span className=\"see\">See the message</span> */}\n                                                        </div>\n                                                        <span className=\"time\">{formatNotificationTime(item?.updatedAt, 'day')}</span>\n                                                    </div>\n                                                </MenuItem>\n                                            )}\n                                        {hasMoreNotif && notificationData.list?.length > 0 && <div className=\"more_notif\" onClick={() => callNotificationList()}>\n                                            <a className=\"link\">View more</a>\n                                        </div>}\n\n                                        {notificationData?.list?.length === 0 && <div className=\"no_notification\">\n                                            <figure>\n                                                <img src={noNotification} alt=\"no-notifications\" />\n                                            </figure>\n                                            <span>No Notifications</span>\n                                        </div>}\n\n                                    </Menu>\n                                    {/* Notification close */}\n\n                                </div>\n                            </div>\n                            {!storageService.getItem(\"jwtToken\") &&\n                                <li>\n                                    <a className=\"active\" onClick={() => setShowModal(!showModal)}>\n                                        {'Log in'}\n                                    </a>\n                                </li>}\n                            <AuthModal\n                                showModal={showModal}\n                                setShowModal={setShowModal}\n                                history={props.history}\n                                firstTimePopup>\n                                {props.children}\n                            </AuthModal>\n                        </ul>\n                    </div>\n                </div>\n            </header>}\n        </>\n    )\n}\n\nexport default withRouter(Header);\n"]},"metadata":{},"sourceType":"module"}