{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/jobDashboard/components/quoteJobs/quoteMark.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { postHomeApplyJob } from '../../../../redux/homeSearch/actions';\nimport { addQuote, addItem, updateItem, deleteItem, quoteByJobId } from '../../../../redux/quotes/actions';\nimport NumberFormat from 'react-number-format';\nimport Modal from '@material-ui/core/Modal';\nimport storageService from '../../../../utils/storageService';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport deleteQuote from '../../../../assets/images/ic-delete.png';\nimport cancel from \"../../../../assets/images/ic-cancel.png\";\nimport { moengage, mixPanel } from '../../../../services/analyticsTools';\nimport { MoEConstants } from '../../../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst QuoteMark = props => {\n  _s();\n\n  var _props$location, _props$location$state;\n\n  const [Items, setItems] = useState([]);\n  const [isEdit, setEdit] = useState(null);\n  const [totalItemsAmt, setTotalItemsAmt] = useState(0);\n  const [quoteId, setQuoteId] = useState('');\n  const [deleteItemModal, setDeleteItemModal] = useState(false);\n  const [localQuote, setLocalQuote] = useState({\n    item_number: 1,\n    description: '',\n    price: 0,\n    quantity: 0,\n    totalAmount: 0\n  });\n  const [isQuoteDialog, setIsQuoteDialog] = useState(false);\n  var jobData = (_props$location = props.location) === null || _props$location === void 0 ? void 0 : (_props$location$state = _props$location.state) === null || _props$location$state === void 0 ? void 0 : _props$location$state.jobData;\n  console.log('jobData: ', jobData);\n  useEffect(() => {\n    preFetch();\n  }, []);\n  console.log('Items: ', Items);\n\n  const preFetch = async () => {\n    var _props$location2, _props$location2$stat;\n\n    const isItemsEditable = ((_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : (_props$location2$stat = _props$location2.state) === null || _props$location2$stat === void 0 ? void 0 : _props$location2$stat.redirect_from) === 'appliedJobs' ? true : false;\n\n    if (isItemsEditable) {\n      var _props$location3, _props$location3$stat, _props$location3$stat2, _storageService$getIt, _res$data, _res$data$resultData$, _res$data$resultData$2;\n\n      const data = {\n        jobId: (_props$location3 = props.location) === null || _props$location3 === void 0 ? void 0 : (_props$location3$stat = _props$location3.state) === null || _props$location3$stat === void 0 ? void 0 : (_props$location3$stat2 = _props$location3$stat.jobData) === null || _props$location3$stat2 === void 0 ? void 0 : _props$location3$stat2.jobId,\n        tradieId: (_storageService$getIt = storageService.getItem('userInfo')) === null || _storageService$getIt === void 0 ? void 0 : _storageService$getIt._id\n      };\n      const res = await quoteByJobId(data);\n\n      if (res.success && ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$resultData$ = _res$data.resultData[0]) === null || _res$data$resultData$ === void 0 ? void 0 : (_res$data$resultData$2 = _res$data$resultData$.quote_item) === null || _res$data$resultData$2 === void 0 ? void 0 : _res$data$resultData$2.length)) {\n        var _res$data2, _res$data2$resultData, _res$data3, _res$data3$resultData, _items_, _items_2;\n\n        const items_ = (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$resultData = _res$data2.resultData[0]) === null || _res$data2$resultData === void 0 ? void 0 : _res$data2$resultData.quote_item;\n        setItems(items_);\n        setQuoteId((_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$resultData = _res$data3.resultData[0]) === null || _res$data3$resultData === void 0 ? void 0 : _res$data3$resultData._id);\n        let item_no = ((_items_ = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_ === void 0 ? void 0 : _items_.item_number) ? ((_items_2 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_2 === void 0 ? void 0 : _items_2.item_number) + 1 : 1;\n        setLocalQuote(prev => ({ ...prev,\n          item_number: item_no\n        }));\n        props.dataFetched(true);\n      } else {\n        props.dataFetched(false);\n      }\n    } else {\n      props.dataFetched(true);\n    }\n  };\n\n  const deleteItem_ = async item => {\n    const data = {\n      itemId: item === null || item === void 0 ? void 0 : item._id\n    };\n    const res = await deleteItem(data);\n\n    if (res.success) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const addItem_ = async item => {\n    var _res$data4;\n\n    let items_ = Items;\n    const data = {\n      quoteId: quoteId,\n      item_number: item === null || item === void 0 ? void 0 : item.item_number,\n      description: item === null || item === void 0 ? void 0 : item.description,\n      price: item === null || item === void 0 ? void 0 : item.price,\n      quantity: item === null || item === void 0 ? void 0 : item.quantity,\n      totalAmount: item === null || item === void 0 ? void 0 : item.totalAmount\n    };\n    const res = await addItem(data);\n\n    if (res.success && ((_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.resultData)) {\n      var _res$data5, _items_3, _items_4;\n\n      items_.push((_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.resultData);\n      setItems(items_);\n      setLocalQuote({\n        item_number: ((_items_3 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_3 === void 0 ? void 0 : _items_3.item_number) ? ((_items_4 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_4 === void 0 ? void 0 : _items_4.item_number) + 1 : 1,\n        description: '',\n        price: 0,\n        quantity: 0,\n        totalAmount: 0\n      });\n    }\n  };\n\n  const updateItem_ = async (index, items) => {\n    const newAmount = totalItemsAmount(items);\n    const item = items[index];\n    const data = {\n      itemId: item === null || item === void 0 ? void 0 : item._id,\n      item_number: item === null || item === void 0 ? void 0 : item.item_number,\n      description: item === null || item === void 0 ? void 0 : item.description,\n      price: item === null || item === void 0 ? void 0 : item.price,\n      quantity: item === null || item === void 0 ? void 0 : item.quantity,\n      totalAmount: item === null || item === void 0 ? void 0 : item.totalAmount,\n      quoteId: quoteId,\n      amount: newAmount\n    };\n    const res = await updateItem(data);\n\n    if (res.success) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const moECalled = () => {\n    var _jobData$jobMilestone;\n\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: jobData === null || jobData === void 0 ? void 0 : jobData.tradeName,\n      location: jobData === null || jobData === void 0 ? void 0 : jobData.locationName,\n      'Number of milestone': jobData === null || jobData === void 0 ? void 0 : (_jobData$jobMilestone = jobData.jobMilestonesData) === null || _jobData$jobMilestone === void 0 ? void 0 : _jobData$jobMilestone.length,\n      Amount: totalItemsAmt\n    };\n    moengage.moE_SendEvent(MoEConstants.QUOTED_A_JOB, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.QUOTED_A_JOB, mData);\n  };\n\n  const applyJobClicked = async () => {\n    var _props$location4, _props$location4$stat, _jobDetailsData$poste;\n\n    const jobDetailsData = (_props$location4 = props.location) === null || _props$location4 === void 0 ? void 0 : (_props$location4$stat = _props$location4.state) === null || _props$location4$stat === void 0 ? void 0 : _props$location4$stat.jobData;\n    const data = {\n      jobId: jobDetailsData === null || jobDetailsData === void 0 ? void 0 : jobDetailsData.jobId,\n      builderId: jobDetailsData === null || jobDetailsData === void 0 ? void 0 : (_jobDetailsData$poste = jobDetailsData.postedBy) === null || _jobDetailsData$poste === void 0 ? void 0 : _jobDetailsData$poste.builderId,\n      tradeId: jobDetailsData === null || jobDetailsData === void 0 ? void 0 : jobDetailsData.tradeId,\n      specializationId: jobDetailsData === null || jobDetailsData === void 0 ? void 0 : jobDetailsData.specializationId\n    };\n    const res = await postHomeApplyJob(data);\n\n    if (res.success) {\n      moECalled();\n      props.history.push({\n        pathname: '/quote-job-success',\n        state: {\n          builderName: props.builderName ? props.builderName : 'Builder'\n        }\n      });\n    }\n  };\n\n  const handleSubmit = async () => {\n    var _props$location5, _props$location5$stat, _props$location5$stat2, _storageService$getIt2;\n\n    const jobId = (_props$location5 = props.location) === null || _props$location5 === void 0 ? void 0 : (_props$location5$stat = _props$location5.state) === null || _props$location5$stat === void 0 ? void 0 : (_props$location5$stat2 = _props$location5$stat.jobData) === null || _props$location5$stat2 === void 0 ? void 0 : _props$location5$stat2.jobId;\n    const data = {\n      jobId: jobId,\n      userId: (_storageService$getIt2 = storageService.getItem('userInfo')) === null || _storageService$getIt2 === void 0 ? void 0 : _storageService$getIt2._id,\n      amount: totalItemsAmt,\n      quote_item: Items\n    };\n    const res = await addQuote(data);\n\n    if (res.success) {\n      var _props$location6, _props$location6$stat;\n\n      if (((_props$location6 = props.location) === null || _props$location6 === void 0 ? void 0 : (_props$location6$stat = _props$location6.state) === null || _props$location6$stat === void 0 ? void 0 : _props$location6$stat.base_redirect) === 'newJobs') {\n        moECalled();\n        props.history.push({\n          pathname: '/quote-job-success',\n          state: {\n            builderName: props.builderName ? props.builderName : 'Builder'\n          }\n        });\n      } else {\n        applyJobClicked();\n      }\n    }\n  };\n\n  const handleChange = (name, value) => {\n    if (name === 'description' && value.length > 1000) {\n      return;\n    }\n\n    setLocalQuote(prev => ({ ...prev,\n      [name]: name === 'description' ? value : +value\n    }));\n  };\n\n  const totalItemsAmount = items => {\n    let totalAmount = items.slice(1, items.length).reduce((a, b) => {\n      return a + b.totalAmount;\n    }, Items[0].totalAmount);\n    return totalAmount;\n  };\n\n  const calculateTotal = () => {\n    if (Items === null || Items === void 0 ? void 0 : Items.length) {\n      let totalAmt_ = totalItemsAmount(Items);\n\n      if (totalAmt_ && totalAmt_ !== totalItemsAmt) {\n        setTotalItemsAmt(totalAmt_);\n      }\n\n      const total = /*#__PURE__*/_jsxDEV(NumberFormat, {\n        value: totalAmt_,\n        decimalScale: 2,\n        displayType: 'text',\n        thousandSeparator: true,\n        isNumericString: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this);\n\n      return total;\n    }\n\n    return `$0`;\n  };\n\n  const saveAddItem = async () => {\n    if (isEditTrue) {\n      let index = isEdit;\n      let items_ = Items;\n      let item = localQuote;\n      item['totalAmount'] = +item.quantity * +item.price;\n      items_[isEdit] = item;\n      let isSuccess = true;\n\n      if (quoteId) {\n        isSuccess = await updateItem_(index, items_);\n      }\n\n      if (isSuccess) {\n        var _items_5;\n\n        setItems(items_);\n        setEdit(null);\n        setLocalQuote({\n          item_number: ((_items_5 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_5 === void 0 ? void 0 : _items_5.item_number) + 1,\n          description: '',\n          price: 0,\n          quantity: 0,\n          totalAmount: 0\n        });\n      }\n\n      return;\n    } else {\n      var _props$location7, _props$location7$stat;\n\n      let items_ = Items;\n      let item = localQuote;\n      item['totalAmount'] = +item.quantity * +item.price;\n\n      if (((_props$location7 = props.location) === null || _props$location7 === void 0 ? void 0 : (_props$location7$stat = _props$location7.state) === null || _props$location7$stat === void 0 ? void 0 : _props$location7$stat.redirect_from) === 'appliedJobs') {\n        await addItem_(item);\n      } else {\n        var _items_6, _items_7;\n\n        items_.push(item);\n        setItems(items_);\n        setLocalQuote({\n          item_number: ((_items_6 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_6 === void 0 ? void 0 : _items_6.item_number) ? ((_items_7 = items_[(items_ === null || items_ === void 0 ? void 0 : items_.length) - 1]) === null || _items_7 === void 0 ? void 0 : _items_7.item_number) + 1 : 1,\n          description: '',\n          price: 0,\n          quantity: 0,\n          totalAmount: 0\n        });\n      }\n    }\n\n    if (isQuoteDialog) {\n      setIsQuoteDialog(false);\n    }\n  };\n\n  const handleQuoteDialog = (ans, hitApi) => {\n    if (quoteId) {\n      setIsQuoteDialog(ans === 'yes' ? true : false);\n      if (hitApi) saveAddItem();\n    } else {\n      saveAddItem();\n    }\n  };\n\n  let item_number = localQuote.item_number;\n  let description = localQuote.description;\n  let price = localQuote.price;\n  let qty = localQuote.quantity;\n  let total_cal = +qty * +price;\n  let total = total_cal === 0 ? '' : total_cal;\n  let isEditTrue = isEdit !== null && isEdit > -1 ? true : false;\n\n  const callItemNo = () => {\n    var _Items, _Items2;\n\n    if (localQuote === null || localQuote === void 0 ? void 0 : localQuote._id) {\n      console.log('localQuote?._id-----------if');\n      return localQuote === null || localQuote === void 0 ? void 0 : localQuote.item_number;\n    }\n\n    if (isEdit !== null) {\n      var _Items$isEdit;\n\n      return (_Items$isEdit = Items[isEdit]) === null || _Items$isEdit === void 0 ? void 0 : _Items$isEdit.item_number;\n    }\n\n    console.log('Items---------else');\n    return ((_Items = Items[(Items === null || Items === void 0 ? void 0 : Items.length) - 1]) === null || _Items === void 0 ? void 0 : _Items.item_number) ? ((_Items2 = Items[(Items === null || Items === void 0 ? void 0 : Items.length) - 1]) === null || _Items2 === void 0 ? void 0 : _Items2.item_number) + 1 : 1;\n  };\n\n  const quoteValidate = () => {\n    if ((description === null || description === void 0 ? void 0 : description.length) === 0 || qty === 0 || price === 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const deleteItemHandler = async () => {\n    var _filtered;\n\n    let index = isEdit;\n    let items_ = Items;\n    let filtered = items_.filter((item, index) => index !== isEdit);\n    setItems(filtered);\n    setEdit(null);\n    let length = (_filtered = filtered[(filtered === null || filtered === void 0 ? void 0 : filtered.length) - 1]) === null || _filtered === void 0 ? void 0 : _filtered.item_number;\n    let id = length > 0 ? length + 1 : 1;\n    let res = true;\n\n    if (quoteId) {\n      res = await deleteItem_(items_[index]);\n    }\n\n    if (res) {\n      setLocalQuote({\n        item_number: id,\n        description: '',\n        price: 0,\n        quantity: 0,\n        totalAmount: 0\n      });\n    }\n\n    setDeleteItemModal(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex_col_sm_6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relate form_field\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          if (isEditTrue) {\n            var _Items3, _Items4;\n\n            setEdit(null);\n            setLocalQuote({\n              item_number: ((_Items3 = Items[(Items === null || Items === void 0 ? void 0 : Items.length) - 1]) === null || _Items3 === void 0 ? void 0 : _Items3.item_number) ? ((_Items4 = Items[(Items === null || Items === void 0 ? void 0 : Items.length) - 1]) === null || _Items4 === void 0 ? void 0 : _Items4.item_number) + 1 : 1,\n              description: '',\n              price: 0,\n              quantity: 0,\n              totalAmount: 0\n            });\n          } else {\n            props.history.goBack();\n          }\n        },\n        className: \"back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"sub_title\",\n      children: 'Quote for this job'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: (Items === null || Items === void 0 ? void 0 : Items.length) > 0 && !isEditTrue ? Items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"change_req\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit_delete\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => {\n              setEdit(index);\n              setLocalQuote(item);\n            },\n            className: \"editdark\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_2\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_6\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"show_label\",\n                children: item.item_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_6\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"show_label line-1\",\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_4\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"show_label\",\n                children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                  value: item.totalAmount,\n                  displayType: 'text',\n                  prefix: '$ ',\n                  thousandSeparator: true,\n                  isNumericString: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 25\n      }, this)) : null\n    }, void 0, false), props.isDataFetched && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"change_req\",\n      children: [isEditTrue && Items.length > 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setDeleteItemModal(true),\n        className: \"delete_quote\",\n        children: ['Delete', /*#__PURE__*/_jsxDEV(\"img\", {\n          src: deleteQuote,\n          alt: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inner_title\",\n        children: `${isEditTrue ? 'Edit' : 'Add'} Item`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: 'Item Number'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: callItemNo()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: description,\n            onChange: e => handleChange('description', e.target.value.trimLeft())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text_field\",\n              children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                value: price || '',\n                decimalScale: 2,\n                allowNegative: false,\n                className: \"foo\",\n                placeholder: \"$100\",\n                displayType: 'input',\n                thousandSeparator: true,\n                isNumericString: true,\n                prefix: '$',\n                onValueChange: values => {\n                  const {\n                    formattedValue,\n                    value\n                  } = values;\n                  handleChange('price', value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text_field\",\n              children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                value: qty || '',\n                className: \"foo\",\n                placeholder: \"10\",\n                displayType: 'input',\n                thousandSeparator: true,\n                isNumericString: true,\n                onValueChange: values => {\n                  const {\n                    formattedValue,\n                    value\n                  } = values;\n                  handleChange('quantity', value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form_label\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text_field\",\n              children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                readOnly: true,\n                value: total || '',\n                decimalScale: 2,\n                allowNegative: false,\n                className: \"foo\",\n                placeholder: \"$1000\",\n                displayType: 'input',\n                thousandSeparator: true,\n                isNumericString: true,\n                prefix: '$'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleQuoteDialog('yes'),\n        className: `fill_btn w100per ${quoteValidate() ? 'disable_btn' : ''}`,\n        children: `${isEditTrue ? 'Save' : 'Add'} Item`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 37\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      className: \"custom_modal\",\n      open: deleteItemModal,\n      onClose: () => setDeleteItemModal(false),\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_wh confirmation\",\n        \"data-aos\": \"zoom-in\",\n        \"data-aos-delay\": \"30\",\n        \"data-aos-duration\": \"1000\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"heading\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"xs_sub_title\",\n            children: `Delete item confirmation`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close_btn\",\n            onClick: () => setDeleteItemModal(false),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: cancel,\n              alt: \"cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal_message\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Are you sure you still want to delete item?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dialog_actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"fill_btn btn-effect\",\n            onClick: deleteItemHandler,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"fill_grey_btn btn-effect\",\n            onClick: () => setDeleteItemModal(false),\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: isQuoteDialog // onClose={() => handleQuoteDialog}\n      ,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        className: \"xs_alert_dialog_title\",\n        children: 'This quote will be send to builder'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: 'Are you sure you want to update quote?'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleQuoteDialog('no', true),\n          color: \"primary\",\n          children: 'Yes'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleQuoteDialog('no'),\n          color: \"primary\",\n          children: 'No'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 13\n    }, this), (Items === null || Items === void 0 ? void 0 : Items.length) > 0 && !isEditTrue && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total_quote\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"fill_grey_btn\",\n        children: [`Total Quote: $`, calculateTotal()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 17\n    }, this), quoteId || !props.isDataFetched || isEditTrue ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      className: `fill_grey_btn quote_btn ${(Items === null || Items === void 0 ? void 0 : Items.length) === 0 ? 'disable_btn' : ''}`,\n      children: 'Submit Quote'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 9\n  }, this);\n};\n\n_s(QuoteMark, \"si8UDYffPyL+++kQt4fIpFAVW5Y=\");\n\n_c = QuoteMark;\nexport default QuoteMark;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuoteMark\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/jobDashboard/components/quoteJobs/quoteMark.tsx"],"names":["React","useState","useEffect","postHomeApplyJob","addQuote","addItem","updateItem","deleteItem","quoteByJobId","NumberFormat","Modal","storageService","Button","Dialog","DialogActions","DialogTitle","DialogContent","DialogContentText","deleteQuote","cancel","moengage","mixPanel","MoEConstants","QuoteMark","props","Items","setItems","isEdit","setEdit","totalItemsAmt","setTotalItemsAmt","quoteId","setQuoteId","deleteItemModal","setDeleteItemModal","localQuote","setLocalQuote","item_number","description","price","quantity","totalAmount","isQuoteDialog","setIsQuoteDialog","jobData","location","state","console","log","preFetch","isItemsEditable","redirect_from","data","jobId","tradieId","getItem","_id","res","success","resultData","quote_item","length","items_","item_no","prev","dataFetched","deleteItem_","item","itemId","addItem_","push","updateItem_","index","items","newAmount","totalItemsAmount","amount","moECalled","mData","timeStamp","getCurrentTimeStamp","category","tradeName","locationName","jobMilestonesData","Amount","moE_SendEvent","QUOTED_A_JOB","mixP_SendEvent","applyJobClicked","jobDetailsData","builderId","postedBy","tradeId","specializationId","history","pathname","builderName","handleSubmit","userId","base_redirect","handleChange","name","value","slice","reduce","a","b","calculateTotal","totalAmt_","total","saveAddItem","isEditTrue","isSuccess","handleQuoteDialog","ans","hitApi","qty","total_cal","callItemNo","quoteValidate","deleteItemHandler","filtered","filter","id","goBack","map","isDataFetched","e","target","trimLeft","values","formattedValue"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { postHomeApplyJob } from '../../../../redux/homeSearch/actions';\nimport {\n    addQuote,\n    addItem,\n    updateItem,\n    deleteItem,\n    quoteByJobId\n} from '../../../../redux/quotes/actions';\nimport { acceptDeclineJobInvitation } from '../../../../redux/jobs/actions';\nimport NumberFormat from 'react-number-format';\nimport Modal from '@material-ui/core/Modal';\nimport storageService from '../../../../utils/storageService';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\n\nimport deleteQuote from '../../../../assets/images/ic-delete.png';\nimport cancel from \"../../../../assets/images/ic-cancel.png\";\nimport { moengage, mixPanel } from '../../../../services/analyticsTools';\nimport { MoEConstants } from '../../../../utils/constants';\n\nconst QuoteMark = (props: any) => {\n    const [Items, setItems] = useState<Array<any>>([]);\n    const [isEdit, setEdit] = useState<any>(null);\n    const [totalItemsAmt, setTotalItemsAmt] = useState<number>(0);\n    const [quoteId, setQuoteId] = useState<string>('');\n    const [deleteItemModal, setDeleteItemModal] = useState<boolean>(false);\n    const [localQuote, setLocalQuote] = useState<any>({\n        item_number: 1,\n        description: '',\n        price: 0,\n        quantity: 0,\n        totalAmount: 0\n    });\n    const [isQuoteDialog, setIsQuoteDialog] = useState<boolean>(false);\n    var jobData = props.location?.state?.jobData;\n    console.log('jobData: ', jobData);\n\n    useEffect(() => {\n        preFetch();\n    }, []);\n\n    console.log('Items: ', Items);\n    const preFetch = async () => {\n        const isItemsEditable = props.location?.state?.redirect_from === 'appliedJobs' ? true : false;\n        if (isItemsEditable) {\n            const data: any = {\n                jobId: props.location?.state?.jobData?.jobId,\n                tradieId: storageService.getItem('userInfo')?._id\n            }\n            const res = await quoteByJobId(data);\n            if (res.success && res.data?.resultData[0]?.quote_item?.length) {\n                const items_ = res.data?.resultData[0]?.quote_item;\n                setItems(items_);\n                setQuoteId(res.data?.resultData[0]?._id);\n                let item_no = items_[items_?.length - 1]?.item_number ? items_[items_?.length - 1]?.item_number + 1 : 1;\n                setLocalQuote((prev: any) => ({ ...prev, item_number: item_no }));\n                props.dataFetched(true);\n            } else {\n                props.dataFetched(false);\n            }\n        } else {\n            props.dataFetched(true);\n        }\n    }\n\n\n    const deleteItem_ = async (item: any) => {\n        const data = {\n            itemId: item?._id,\n        }\n        const res = await deleteItem(data);\n        if (res.success) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    const addItem_ = async (item: any) => {\n        let items_ = Items;\n        const data = {\n            quoteId: quoteId,\n            item_number: item?.item_number,\n            description: item?.description,\n            price: item?.price,\n            quantity: item?.quantity,\n            totalAmount: item?.totalAmount,\n        }\n        const res = await addItem(data);\n        if (res.success && res.data?.resultData) {\n            items_.push(res.data?.resultData);\n            setItems(items_);\n            setLocalQuote({\n                item_number: items_[items_?.length - 1]?.item_number ? items_[items_?.length - 1]?.item_number + 1 : 1,\n                description: '',\n                price: 0,\n                quantity: 0,\n                totalAmount: 0\n            });\n        }\n    }\n\n    const updateItem_ = async (index: number, items: any) => {\n        const newAmount: number = totalItemsAmount(items);\n        const item = items[index];\n        const data = {\n            itemId: item?._id,\n            item_number: item?.item_number,\n            description: item?.description,\n            price: item?.price,\n            quantity: item?.quantity,\n            totalAmount: item?.totalAmount,\n            quoteId: quoteId,\n            amount: newAmount\n        }\n        const res = await updateItem(data);\n        if (res.success) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    const moECalled = () => {\n        const mData = {\n            timeStamp: moengage.getCurrentTimeStamp(),\n            category: jobData?.tradeName,\n            location: jobData?.locationName,\n            'Number of milestone': jobData?.jobMilestonesData?.length,\n            Amount: totalItemsAmt,\n        }\n        moengage.moE_SendEvent(MoEConstants.QUOTED_A_JOB, mData);\n        mixPanel.mixP_SendEvent(MoEConstants.QUOTED_A_JOB, mData);\n    }\n\n    const applyJobClicked = async () => {\n        const jobDetailsData: any = props.location?.state?.jobData;\n        const data = {\n            jobId: jobDetailsData?.jobId,\n            builderId: jobDetailsData?.postedBy?.builderId,\n            tradeId: jobDetailsData?.tradeId,\n            specializationId: jobDetailsData?.specializationId\n        }\n        const res = await postHomeApplyJob(data);\n        if (res.success) {\n            moECalled();\n            props.history.push({\n                pathname: '/quote-job-success',\n                state: {\n                    builderName: props.builderName ? props.builderName : 'Builder'\n                }\n            });\n        }\n    }\n\n    const handleSubmit = async () => {\n        const jobId: string = props.location?.state?.jobData?.jobId;\n        const data: any = {\n            jobId: jobId,\n            userId: storageService.getItem('userInfo')?._id,\n            amount: totalItemsAmt,\n            quote_item: Items\n        }\n        const res: any = await addQuote(data);\n        if (res.success) {\n            if (props.location?.state?.base_redirect === 'newJobs') {\n                moECalled();\n                props.history.push({\n                    pathname: '/quote-job-success',\n                    state: {\n                        builderName: props.builderName ? props.builderName : 'Builder'\n                    }\n                });\n            } else {\n                applyJobClicked();\n            }\n        }\n    }\n\n    const handleChange = (name: any, value: any) => {\n        if (name === 'description' && value.length > 1000) {\n            return;\n        }\n        setLocalQuote((prev: any) => ({\n            ...prev,\n            [name]: name === 'description' ? value : + value\n        }));\n    }\n\n    const totalItemsAmount = (items: any) => {\n        let totalAmount = items.slice(1, items.length).reduce((a: any, b: any) => {\n            return a + b.totalAmount\n        }, Items[0].totalAmount);\n        return totalAmount;\n    }\n\n    const calculateTotal = () => {\n        if (Items?.length) {\n            let totalAmt_ = totalItemsAmount(Items);\n            if (totalAmt_ && totalAmt_ !== totalItemsAmt) {\n                setTotalItemsAmt(totalAmt_);\n            }\n            const total = (\n                <NumberFormat\n                    value={totalAmt_}\n                    decimalScale={2}\n                    displayType={'text'}\n                    thousandSeparator={true}\n                    isNumericString={true}\n                />\n            )\n            return total;\n        }\n        return `$0`;\n    }\n\n    const saveAddItem = async () => {\n        if (isEditTrue) {\n            let index = isEdit;\n            let items_ = Items;\n            let item: any = localQuote;\n            item['totalAmount'] = (+item.quantity * +item.price);\n            items_[isEdit] = (item);\n            let isSuccess: boolean = true;\n            if (quoteId) {\n                isSuccess = await updateItem_(index, items_);\n            }\n            if (isSuccess) {\n                setItems(items_);\n                setEdit(null);\n                setLocalQuote({\n                    item_number: items_[items_?.length - 1]?.item_number + 1,\n                    description: '',\n                    price: 0,\n                    quantity: 0,\n                    totalAmount: 0\n                });\n            }\n            return;\n        } else {\n            let items_ = Items;\n            let item: any = localQuote;\n            item['totalAmount'] = (+item.quantity * +item.price);\n            if (props.location?.state?.redirect_from === 'appliedJobs') {\n                await addItem_(item);\n            } else {\n                items_.push(item);\n                setItems(items_);\n                setLocalQuote({\n                    item_number: items_[items_?.length - 1]?.item_number ? items_[items_?.length - 1]?.item_number + 1 : 1,\n                    description: '',\n                    price: 0,\n                    quantity: 0,\n                    totalAmount: 0\n                });\n            }\n        }\n        if (isQuoteDialog) {\n            setIsQuoteDialog(false);\n        }\n    }\n\n    const handleQuoteDialog = (ans?: string, hitApi?: boolean) => {\n        if (quoteId) {\n            setIsQuoteDialog(ans === 'yes' ? true : false);\n            if (hitApi) saveAddItem();\n        } else {\n            saveAddItem();\n        }\n    }\n\n    let item_number = localQuote.item_number;\n    let description = localQuote.description;\n    let price: any = localQuote.price;\n    let qty: any = localQuote.quantity;\n    let total_cal = (+qty * +price);\n    let total = total_cal === 0 ? '' : total_cal;\n    let isEditTrue = isEdit !== null && isEdit > -1 ? true : false;\n\n    const callItemNo = () => {\n        if (localQuote?._id) {\n            console.log('localQuote?._id-----------if');\n            return localQuote?.item_number;\n        }\n        if (isEdit !== null) {\n            return Items[isEdit]?.item_number;\n        }\n        console.log('Items---------else');\n        return Items[Items?.length - 1]?.item_number ? Items[Items?.length - 1]?.item_number + 1 : 1;\n    }\n\n    const quoteValidate = () => {\n        if (description?.length === 0 || qty === 0 || price === 0) {\n            return true\n        }\n        return false;\n    }\n\n    const deleteItemHandler = async () => {\n        let index = isEdit;\n        let items_ = Items;\n        let filtered = items_.filter((item: any, index: any) => index !== isEdit);\n        setItems(filtered);\n        setEdit(null);\n        let length = filtered[filtered?.length - 1]?.item_number;\n        let id = length > 0 ? length + 1 : 1;\n        let res: any = true;\n        if (quoteId) {\n            res = await deleteItem_(items_[index]);\n        }\n        if (res) {\n            setLocalQuote({\n                item_number: id,\n                description: '',\n                price: 0,\n                quantity: 0,\n                totalAmount: 0\n            });\n        }\n        setDeleteItemModal(false);\n    }\n\n    return (\n        <div className=\"flex_col_sm_6\">\n            <div className=\"relate form_field\">\n                <button\n                    onClick={() => {\n                        if (isEditTrue) {\n                            setEdit(null);\n                            setLocalQuote({\n                                item_number: Items[Items?.length - 1]?.item_number ? Items[Items?.length - 1]?.item_number + 1 : 1,\n                                description: '',\n                                price: 0,\n                                quantity: 0,\n                                totalAmount: 0\n                            });\n                        } else {\n                            props.history.goBack();\n                        }\n                    }}\n                    className=\"back\">\n                </button>\n            </div>\n            <span className=\"sub_title\">\n                {'Quote for this job'}\n            </span>\n            <>\n                {Items?.length > 0 && !isEditTrue ?\n                    Items.map((item: any, index: number) => (\n                        <div className=\"change_req\">\n                            <div className=\"edit_delete\">\n                                <span\n                                    onClick={() => {\n                                        setEdit(index);\n                                        setLocalQuote(item)\n                                    }}\n                                    className=\"editdark\">\n                                </span>\n                            </div>\n                            <div className=\"flex_row\">\n                                <div className=\"flex_col_sm_2\">\n                                    <label className=\"form_label\">Item</label>\n                                </div>\n                                <div className=\"flex_col_sm_6\">\n                                    <label className=\"form_label\">Description</label>\n                                </div>\n                                <div className=\"flex_col_sm_4\">\n                                    <label className=\"form_label\">Price</label>\n                                </div>\n                                <>\n                                    <div className=\"flex_col_sm_2\">\n                                        <span className=\"show_label\">{item.item_number}</span>\n                                    </div>\n                                    <div className=\"flex_col_sm_6\">\n                                        <span className=\"show_label line-1\">\n                                            {item.description}\n                                        </span>\n                                    </div>\n                                    <div className=\"flex_col_sm_4\">\n                                        <span className=\"show_label\">\n                                            <NumberFormat\n                                                value={item.totalAmount}\n                                                displayType={'text'}\n                                                prefix={'$ '}\n                                                thousandSeparator={true}\n                                                isNumericString={true}\n                                            />\n                                        </span>\n                                    </div>\n                                </>\n                            </div>\n                        </div>\n                    )) : null}\n            </>\n\n            {props.isDataFetched && <div className=\"change_req\">\n                {isEditTrue && Items.length > 1 && (\n                    <span\n                        onClick={() => setDeleteItemModal(true)}\n                        className=\"delete_quote\">\n                        {'Delete'}\n                        <img src={deleteQuote} alt=\"delete\" />\n                    </span>\n                )}\n                <span className=\"inner_title\">{`${isEditTrue ? 'Edit' : 'Add'} Item`}</span>\n                <div className=\"form_field\">\n                    <label className=\"form_label\">\n                        {'Item Number'}\n                    </label>\n                    <div className=\"text_field\">\n                        <input\n                            type=\"number\"\n                            value={callItemNo()}\n                        />\n                    </div>\n                </div>\n                <div className=\"form_field\">\n                    <label className=\"form_label\">Description</label>\n                    <div className=\"text_field\">\n                        <textarea\n                            value={description}\n                            onChange={(e) => handleChange('description', e.target.value.trimLeft())}\n                        ></textarea>\n                    </div>\n                </div>\n                <div className=\"form_field\">\n                    <div className=\"flex_row\">\n                        <div className=\"flex_col_sm_4\">\n                            <label className=\"form_label\">Price</label>\n                            <div className=\"text_field\">\n                                <NumberFormat\n                                    value={price || ''}\n                                    decimalScale={2}\n                                    allowNegative={false}\n                                    className=\"foo\"\n                                    placeholder=\"$100\"\n                                    displayType={'input'}\n                                    thousandSeparator={true}\n                                    isNumericString={true}\n                                    prefix={'$'}\n                                    onValueChange={(values) => {\n                                        const { formattedValue, value } = values;\n                                        handleChange('price', value);\n                                    }}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"flex_col_sm_4\">\n                            <label className=\"form_label\">Qty</label>\n                            <div className=\"text_field\">\n                                <NumberFormat\n                                    value={qty || ''}\n                                    className=\"foo\"\n                                    placeholder=\"10\"\n                                    displayType={'input'}\n                                    thousandSeparator={true}\n                                    isNumericString={true}\n                                    onValueChange={(values) => {\n                                        const { formattedValue, value } = values;\n                                        handleChange('quantity', value);\n                                    }}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"flex_col_sm_4\">\n                            <label className=\"form_label\">Total</label>\n                            <div className=\"text_field\">\n                                <NumberFormat\n                                    readOnly\n                                    value={total || ''}\n                                    decimalScale={2}\n                                    allowNegative={false}\n                                    className=\"foo\"\n                                    placeholder=\"$1000\"\n                                    displayType={'input'}\n                                    thousandSeparator={true}\n                                    isNumericString={true}\n                                    prefix={'$'}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <button\n                    onClick={() => handleQuoteDialog('yes')}\n                    className={`fill_btn w100per ${quoteValidate() ? 'disable_btn' : ''}`}>\n                    {`${isEditTrue ? 'Save' : 'Add'} Item`}\n                </button>\n            </div>}\n\n            <Modal\n                className=\"custom_modal\"\n                open={deleteItemModal}\n                onClose={() => setDeleteItemModal(false)}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div className=\"custom_wh confirmation\" data-aos=\"zoom-in\" data-aos-delay=\"30\" data-aos-duration=\"1000\">\n                    <div className=\"heading\">\n                        <span className=\"xs_sub_title\">{`Delete item confirmation`}</span>\n                        <button className=\"close_btn\" onClick={() => setDeleteItemModal(false)}>\n                            <img src={cancel} alt=\"cancel\" />\n                        </button>\n                    </div>\n                    <div className=\"modal_message\">\n                        <p>Are you sure you still want to delete item?</p>\n                    </div>\n                    <div className=\"dialog_actions\">\n                        <button className=\"fill_btn btn-effect\" onClick={deleteItemHandler}>Yes</button>\n                        <button className=\"fill_grey_btn btn-effect\"\n                            onClick={() => setDeleteItemModal(false)}>No</button>\n                    </div>\n                </div>\n            </Modal>\n\n            <Dialog\n                open={isQuoteDialog}\n                // onClose={() => handleQuoteDialog}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\" className=\"xs_alert_dialog_title\">\n                    {'This quote will be send to builder'}\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {'Are you sure you want to update quote?'}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => handleQuoteDialog('no', true)}\n                        color=\"primary\">\n                        {'Yes'}\n                    </Button>\n                    <Button\n                        onClick={() => handleQuoteDialog('no')}\n                        color=\"primary\">\n                        {'No'}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            {/* <Modal\n                className=\"custom_modal\"\n                open={isQuoteDialog}\n                onClose={() => handleQuoteDialog('no')}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <div className=\"custom_wh confirmation\" data-aos=\"zoom-in\" data-aos-delay=\"30\" data-aos-duration=\"1000\">\n                    <div className=\"heading\">\n                        <span className=\"xs_sub_title\">{'This quote will be send to builder'}</span>\n                        <button className=\"close_btn\" onClick={() => handleQuoteDialog('no')}>\n                            <img src={cancel} alt=\"cancel\" />\n                        </button>\n                    </div>\n                    <div className=\"modal_message\">\n                        <p>Are you sure you want to update quote?</p>\n                    </div>\n                    <div className=\"dialog_actions\">\n                        <button className=\"fill_btn btn-effect\" onClick={() => handleQuoteDialog('no', true)}>Yes</button>\n                        <button className=\"fill_grey_btn btn-effect\" onClick={() => handleQuoteDialog('no')}>No</button>\n                    </div>\n                </div>\n            </Modal> */}\n\n            {(Items?.length > 0 && !isEditTrue) && (\n                <div className=\"total_quote\">\n                    <span className=\"fill_grey_btn\">\n                        {`Total Quote: $`}\n                        {calculateTotal()}\n                    </span>\n                </div>\n            )}\n\n            {(quoteId || !props.isDataFetched || isEditTrue) ? null : (\n                <button\n                    onClick={handleSubmit}\n                    className={`fill_grey_btn quote_btn ${Items?.length === 0 ? 'disable_btn' : ''}`}>\n                    {'Submit Quote'}\n                </button>\n            )}\n        </div>\n    )\n}\n\nexport default QuoteMark;"]},"metadata":{},"sourceType":"module"}