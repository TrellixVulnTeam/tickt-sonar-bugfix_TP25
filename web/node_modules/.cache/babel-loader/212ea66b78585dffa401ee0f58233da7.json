{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/saveTemplate.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { addTemplate } from '../../../redux/jobs/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n//  ({ data, stepCompleted, handleStepComplete, handleStepBack }: Proptypes) => {\nconst SaveTemplate = ({\n  data,\n  milestones,\n  stepCompleted,\n  handleCombineMileStones,\n  handleStepForward,\n  handleStepComplete,\n  handleStepBack\n}) => {\n  _s();\n\n  const [templateName, setTemplateName] = useState('');\n  const [error, setError] = useState('');\n\n  const checkError = () => {\n    if (!(error === null || error === void 0 ? void 0 : error.length) && (templateName === null || templateName === void 0 ? void 0 : templateName.length)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleContinue = async () => {\n    if (!(templateName === null || templateName === void 0 ? void 0 : templateName.length)) {\n      setError('Template name is required.');\n      return;\n    }\n\n    let filter_milestone = milestones.filter(item => {\n      if (Object.keys(item).length) {\n        var _item$to_date, _item$from_date;\n\n        if (!(item === null || item === void 0 ? void 0 : (_item$to_date = item.to_date) === null || _item$to_date === void 0 ? void 0 : _item$to_date.length)) {\n          delete item.to_date;\n        }\n\n        if (!(item === null || item === void 0 ? void 0 : (_item$from_date = item.from_date) === null || _item$from_date === void 0 ? void 0 : _item$from_date.length) || (item === null || item === void 0 ? void 0 : item.from_date) === \"Invalid date\") {\n          item === null || item === void 0 ? true : delete item.from_date;\n        }\n\n        return item;\n      }\n    });\n    let {\n      success,\n      data\n    } = await addTemplate({\n      template_name: templateName,\n      milestones: filter_milestone\n    });\n\n    if (success) {\n      handleCombineMileStones([]);\n      handleStepForward(11);\n    }\n  };\n\n  const handleChange = value => {\n    if ((templateName === null || templateName === void 0 ? void 0 : templateName.length) && (templateName === null || templateName === void 0 ? void 0 : templateName.length) > 50) {\n      setError('Maximum 50 characters are allowed.');\n    } else {\n      setError('');\n    }\n\n    setTemplateName(value.trimLeft().replace(/[^a-zA-Z|0-9 ]/g, \"\"));\n  };\n\n  console.log({\n    error\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relate\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    handleStepForward(6);\n                  },\n                  className: \"back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title\",\n                  children: \"Save as template\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"commn_para\",\n                children: 'Add template name. It will be stored in your profile'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form_label\",\n                children: \"Template Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text_field\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: e => {\n                    handleChange(e.target.value);\n                  },\n                  value: templateName,\n                  type: \"text\",\n                  placeholder: \"This job...\",\n                  name: \"name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error_msg\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_field\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleContinue,\n                className: `fill_btn full_btn btn-effect ${checkError() ? 'disable_btn' : ''}`,\n                children: 'Save'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SaveTemplate, \"vBp/D/L8DtTH3O8ZqBg6oWvLdXA=\");\n\n_c = SaveTemplate;\nexport default SaveTemplate;\n\nvar _c;\n\n$RefreshReg$(_c, \"SaveTemplate\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/saveTemplate.tsx"],"names":["React","useState","addTemplate","SaveTemplate","data","milestones","stepCompleted","handleCombineMileStones","handleStepForward","handleStepComplete","handleStepBack","templateName","setTemplateName","error","setError","checkError","length","handleContinue","filter_milestone","filter","item","Object","keys","to_date","from_date","success","template_name","handleChange","value","trimLeft","replace","console","log","e","target"],"mappings":"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","sourcesContent":["import { te } from 'date-fns/locale';\nimport React, { useEffect, useState } from 'react';\nimport { useStore } from 'react-redux';\nimport { addTemplate } from '../../../redux/jobs/actions'\ninterface Proptypes {\n    data: any;\n    milestones: any;\n    stepCompleted: Boolean;\n    handleStepComplete: (data: any) => void;\n    handleStepForward: (data: any) => void;\n    handleCombineMileStones: (data: any) => void;\n    handleStepBack: () => void;\n}\n//  ({ data, stepCompleted, handleStepComplete, handleStepBack }: Proptypes) => {\n\nconst SaveTemplate = ({ data, milestones, stepCompleted, handleCombineMileStones, handleStepForward, handleStepComplete, handleStepBack }: Proptypes) => {\n    const [templateName, setTemplateName] = useState('' as any);\n    const [error, setError] = useState('' as any);\n\n    const checkError = () => {\n        if (!error?.length && templateName?.length) {\n            return false;\n        }\n        return true;\n    }\n\n    const handleContinue = async () => {\n\n        if (!templateName?.length) {\n            setError('Template name is required.');\n            return\n        }\n        let filter_milestone = milestones.filter((item: any) => {\n            if (Object.keys(item).length) {\n                if (!item?.to_date?.length) {\n                    delete item.to_date;\n                }\n                \n                if (!item?.from_date?.length || item?.from_date === \"Invalid date\") {\n                    delete item?.from_date;\n                }\n\n                return item\n            }\n        });\n\n        let { success, data } = await addTemplate({\n            template_name: templateName,\n            milestones: filter_milestone\n        })\n        if (success) {\n            handleCombineMileStones([]);\n            handleStepForward(11);\n        }\n    }\n\n    const handleChange = (value: any) => {\n        if (templateName?.length && templateName?.length > 50) {\n            setError('Maximum 50 characters are allowed.');\n        } else {\n            setError('');\n        }\n        setTemplateName((value).trimLeft().replace(/[^a-zA-Z|0-9 ]/g, \"\"))\n    }\n\n    console.log({ error })\n    return (\n        <div className=\"app_wrapper\">\n\n            <div className=\"section_wrapper\">\n                <div className=\"custom_container\">\n                    <div className=\"form_field\">\n                        <div className=\"flex_row\">\n                            <div className=\"flex_col_sm_5\">\n                                <div className=\"relate\">\n                                    <button onClick={() => { handleStepForward(6) }} className=\"back\"></button>\n                                    <span className=\"title\">Save as template</span>\n                                </div>\n                                <p className=\"commn_para\">\n                                    {'Add template name. It will be stored in your profile'}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"flex_row\">\n                        <div className=\"flex_col_sm_5\">\n                            <div className=\"form_field\">\n                                <label className=\"form_label\">Template Name</label>\n                                <div className=\"text_field\">\n                                    <input\n                                        onChange={(e) => {\n                                            handleChange(e.target.value);\n                                        }}\n                                        value={templateName}\n                                        type=\"text\" placeholder=\"This job...\" name=\"name\" />\n                                </div>\n                                <span className=\"error_msg\">{error}</span>\n                            </div>\n                            <div className=\"form_field\">\n                                <button\n                                    onClick={handleContinue}\n                                    className={`fill_btn full_btn btn-effect ${checkError() ? 'disable_btn' : ''}`}>\n                                    {'Save'}\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SaveTemplate\n"]},"metadata":{},"sourceType":"module"}