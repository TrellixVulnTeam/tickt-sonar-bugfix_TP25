{"ast":null,"code":"import _classCallCheck from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import approved from\"../../../assets/images/approved.png\";import jobTypePlaceholder from\"../../../assets/images/job-type-placeholder.png\";import noDataFound from\"../../../assets/images/no-search-data.png\";import waiting from\"../../../assets/images/exclamation.png\";import MarkMilestones from\"./markMilestones\";import{renderTime}from\"../../../utils/common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NeedApproval=/*#__PURE__*/function(_Component){_inherits(NeedApproval,_Component);var _super=_createSuper(NeedApproval);function NeedApproval(_props){var _this;_classCallCheck(this,NeedApproval);_this=_super.call(this,_props);_this.redirectToInfo=function(_ref){var jobId=_ref.jobId,status=_ref.status;var props=_this.props;if((jobId===null||jobId===void 0?void 0:jobId.length)&&(status===null||status===void 0?void 0:status.length)){// let urlEncode: any = window.btoa(`?jobId=${jobId}&status=${status}&activeType=${props?.activeType || 'approval'}`)\nvar urlEncode=\"?jobId=\".concat(jobId,\"&status=\").concat(status,\"&activeType=\").concat((props===null||props===void 0?void 0:props.activeType)||\"approval\");_this.props.history.push(\"/job-detail?\".concat(urlEncode));}};_this.setToggle=function(){return _this.setState({isToggleApplicants:!_this.state.isToggleApplicants});};_this.resetStateLocal=function(){var activeType=_this.props.activeType;_this.setState({localState:false},function(){_this.props.setJobLabel(activeType);});};_this.state={isToggleApplicants:false,selectedIndex:\"\",localState:\"\",isRender:false};return _this;}_createClass(NeedApproval,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){var nextProps=this.props;var isRender=this.state.isRender;if((nextProps===null||nextProps===void 0?void 0:nextProps.isLoading)===false){if(!isRender){this.setState({isRender:true});}}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,setJobLabel=_this$props.setJobLabel,dataItems=_this$props.dataItems,applicantsList=_this$props.applicantsList,jobType=_this$props.jobType,isLoading=_this$props.isLoading;var listData=dataItems;var _this$state=this.state,isToggleApplicants=_this$state.isToggleApplicants,localState=_this$state.localState,selectedIndex=_this$state.selectedIndex,isRender=_this$state.isRender;console.log({applicantsList:applicantsList,isToggleApplicants:isToggleApplicants});if(localState&&selectedIndex!==null){return/*#__PURE__*/_jsx(MarkMilestones,{resetStateLocal:this.resetStateLocal,selectedIndex:selectedIndex,listData:listData});}if(!isRender){return null;}var titleText=jobType.charAt(0).toUpperCase()+jobType.slice(1);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:titleText==\"Approval\"?\"Need Approval\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row tradies_row\",children:(listData===null||listData===void 0?void 0:listData.length)?listData.map(function(_ref2,index){var amount=_ref2.amount,durations=_ref2.durations,jobId=_ref2.jobId,jobName=_ref2.jobName,fromDate=_ref2.fromDate,toDate=_ref2.toDate,milestoneNumber=_ref2.milestoneNumber,specializationId=_ref2.specializationId,specializationName=_ref2.specializationName,locationName=_ref2.locationName,status=_ref2.status,timeLeft=_ref2.timeLeft,total=_ref2.total,totalmem=_ref2.totalmem,totalMilestones=_ref2.totalMilestones,tradieListData=_ref2.tradieListData,tradeName=_ref2.tradeName,tradieId=_ref2.tradieId,location=_ref2.location,tradeSelectedUrl=_ref2.tradeSelectedUrl,tradieImage=_ref2.tradieImage;return/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tradie_card\",\"data-aos\":\"fade-in\",\"data-aos-delay\":\"250\",\"data-aos-duration\":\"1000\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){_this2.setState({localState:true,selectedIndex:index});// this.redirectToInfo({ jobId, status })\n},className:\"more_detail circle\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_wrap\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"u_img icon\",children:/*#__PURE__*/_jsx(\"img\",{src:tradeSelectedUrl||jobTypePlaceholder,alt:\"traide-img\",onError:function onError(e){var _e$target,_e$target2;if(e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.onerror){e.target.onerror=null;}if(e===null||e===void 0?void 0:(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.src){e.target.src=jobTypePlaceholder;}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:tradeName}),/*#__PURE__*/_jsx(\"p\",{className:\"commn_para\",children:jobName})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"job_info\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"icon dollar\",children:amount}),/*#__PURE__*/_jsx(\"li\",{className:\"\",children:/*#__PURE__*/_jsx(\"span\",{children:total})}),/*#__PURE__*/_jsx(\"li\",{className:\"icon calendar\",children:renderTime(fromDate,toDate)}),/*#__PURE__*/_jsx(\"li\",{className:\"\",children:/*#__PURE__*/_jsx(\"span\",{children:timeLeft})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"job_progress_wrap\",id:\"scroll-progress-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress_wrapper\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"completed-digit\",id:\"digit-progress\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Job Milestones \".concat(milestoneNumber,\" \")}),\"of \".concat(totalMilestones)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"approval_info\",children:[status===\"APPROVED\"&&/*#__PURE__*/_jsx(\"img\",{src:approved,alt:\"icon\"}),status===\"NEEDS APPROVAL\"&&/*#__PURE__*/_jsx(\"img\",{src:waiting,alt:\"icon\"}),status===\"NEED APPROVAL\"&&/*#__PURE__*/_jsx(\"img\",{src:waiting,alt:\"icon\"}),status]}),/*#__PURE__*/_jsx(\"span\",{className:\"progress_bar\",children:/*#__PURE__*/_jsx(\"input\",{className:\"done_progress\",id:\"progress-bar\",type:\"range\",min:\"0\",value:milestoneNumber/totalMilestones*100})})]}),(status===\"NEED APPROVAL\"||status===\"NEEDS APPROVAL\")&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){_this2.setState({localState:true,selectedIndex:index});},className:\"fill_grey_btn full_btn btn-effect\",children:\"Approve\"})]})]})});}):!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"no_record  m-t-vh\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"no_img\",children:/*#__PURE__*/_jsx(\"img\",{src:noDataFound,alt:\"data not found\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"No Data Found\"})]})// <div className=\"no_record  m-t-vh\">\n//   <figure className=\"no_img\">\n//     <img src={newApprovals} alt=\"data not found\" />\n//   </figure>\n//   <span className=\"empty_screen_text\">\n//     You don't have any approval requests yet\n//   </span>\n//   <span className=\"empty_screen_subtext\">\n//     As soon as someone will request your approval you will be\n//     notified\n//   </span>\n// </div>\n})]});}}]);return NeedApproval;}(Component);export default NeedApproval;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/builderJobDasboard/components/needApproval.tsx"],"names":["React","Component","approved","jobTypePlaceholder","noDataFound","waiting","MarkMilestones","renderTime","NeedApproval","props","redirectToInfo","jobId","status","length","urlEncode","activeType","history","push","setToggle","setState","isToggleApplicants","state","resetStateLocal","localState","setJobLabel","selectedIndex","isRender","nextProps","isLoading","dataItems","applicantsList","jobType","listData","console","log","titleText","charAt","toUpperCase","slice","map","index","amount","durations","jobName","fromDate","toDate","milestoneNumber","specializationId","specializationName","locationName","timeLeft","total","totalmem","totalMilestones","tradieListData","tradeName","tradieId","location","tradeSelectedUrl","tradieImage","e","target","onerror","src"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport dummy from \"../../../assets/images/u_placeholder.jpg\";\nimport approved from \"../../../assets/images/approved.png\";\nimport ApplicantsList from \"./applicantsList\";\nimport { withRouter } from \"react-router-dom\";\nimport newApprovals from \"../../../assets/images/newApprovals.png\";\nimport jobTypePlaceholder from \"../../../assets/images/job-type-placeholder.png\";\nimport noDataFound from \"../../../assets/images/no-search-data.png\";\nimport waiting from \"../../../assets/images/exclamation.png\";\nimport moment from \"moment\";\nimport MarkMilestones from \"./markMilestones\";\n\nimport { renderTime } from \"../../../utils/common\";\n\ninterface Active {\n  amount: any;\n  durations: any;\n  jobId: any;\n  jobName: any;\n  fromDate: any;\n  toDate: any;\n  milestoneNumber: any;\n  specializationId: any;\n  specializationName: any;\n  status: any;\n  timeLeft: any;\n  total: any;\n  totalmem: any;\n  location: any;\n  locationName: any;\n  totalMilestones: any;\n  tradieListData: any;\n  tradeName: any;\n  tradieId: any;\n  tradeSelectedUrl: any;\n  tradieImage: any;\n}\ninterface State {\n  isToggleApplicants: boolean;\n  selectedIndex: any;\n  localState: any;\n  isRender: boolean;\n}\n\ninterface Props {\n  setJobLabel: any;\n  dataItems: any;\n  applicantsList?: any;\n  jobType: any;\n  history?: any;\n  isLoading: any;\n  activeType: any;\n}\n\nclass NeedApproval extends Component<Props, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      isToggleApplicants: false,\n      selectedIndex: \"\",\n      localState: \"\",\n      isRender: false,\n    };\n  }\n\n  componentDidUpdate() {\n    let nextProps = this.props;\n    let isRender = this.state.isRender;\n    if (nextProps?.isLoading === false) {\n      if (!isRender) {\n        this.setState({ isRender: true });\n      }\n    }\n  }\n\n  redirectToInfo = ({ jobId, status }: any) => {\n    let props: any = this.props;\n    if (jobId?.length && status?.length) {\n      // let urlEncode: any = window.btoa(`?jobId=${jobId}&status=${status}&activeType=${props?.activeType || 'approval'}`)\n      let urlEncode: any = `?jobId=${jobId}&status=${status}&activeType=${\n        props?.activeType || \"approval\"\n      }`;\n      this.props.history.push(`/job-detail?${urlEncode}`);\n    }\n  };\n\n  setToggle = () =>\n    this.setState({ isToggleApplicants: !this.state.isToggleApplicants });\n\n  resetStateLocal = () => {\n    let activeType = this.props.activeType;\n    this.setState(\n      {\n        localState: false,\n      },\n      () => {\n        this.props.setJobLabel(activeType);\n      }\n    );\n  };\n\n  render() {\n    const { setJobLabel, dataItems, applicantsList, jobType, isLoading } =\n      this.props;\n    let listData: any = dataItems;\n    let { isToggleApplicants, localState, selectedIndex, isRender } =\n      this.state;\n    console.log({ applicantsList, isToggleApplicants });\n\n    if (localState && selectedIndex !== null) {\n      return (\n        <MarkMilestones\n          resetStateLocal={this.resetStateLocal}\n          selectedIndex={selectedIndex}\n          listData={listData}\n        />\n      );\n    }\n\n    if (!isRender) {\n      return null;\n    }\n\n    let titleText = jobType.charAt(0).toUpperCase() + jobType.slice(1);\n    return (\n      <React.Fragment>\n        <span className=\"sub_title\">\n          {titleText == \"Approval\" ? \"Need Approval\" : \"\"}\n        </span>\n        {/* {'Jobs'} */}\n        <div className=\"flex_row tradies_row\">\n          {listData?.length\n            ? listData.map(\n                (\n                  {\n                    amount,\n                    durations,\n                    jobId,\n                    jobName,\n                    fromDate,\n                    toDate,\n                    milestoneNumber,\n                    specializationId,\n                    specializationName,\n                    locationName,\n                    status,\n                    timeLeft,\n                    total,\n                    totalmem,\n                    totalMilestones,\n                    tradieListData,\n                    tradeName,\n                    tradieId,\n                    location,\n                    tradeSelectedUrl,\n                    tradieImage,\n                  }: Active,\n                  index: number\n                ) => (\n                  <div className=\"flex_col_sm_6\">\n                    <div\n                      className=\"tradie_card\"\n                      data-aos=\"fade-in\"\n                      data-aos-delay=\"250\"\n                      data-aos-duration=\"1000\"\n                    >\n                      <span\n                        onClick={() => {\n                          this.setState({\n                            localState: true,\n                            selectedIndex: index,\n                          });\n                          // this.redirectToInfo({ jobId, status })\n                        }}\n                        className=\"more_detail circle\"\n                      ></span>\n                      <div className=\"user_wrap\">\n                        <figure className=\"u_img icon\">\n                          <img\n                            src={tradeSelectedUrl || jobTypePlaceholder}\n                            alt=\"traide-img\"\n                            onError={(e: any) => {\n                              if (e?.target?.onerror) {\n                                e.target.onerror = null;\n                              }\n                              if (e?.target?.src) {\n                                e.target.src = jobTypePlaceholder;\n                              }\n                            }}\n                          />\n                        </figure>\n                        <div className=\"details\">\n                          <span className=\"name\">{tradeName}</span>\n                          <p className=\"commn_para\">{jobName}</p>\n                        </div>\n                      </div>\n                      <div className=\"job_info\">\n                        <ul>\n                          <li className=\"icon dollar\">{amount}</li>\n                          <li className=\"\">\n                            <span>{total}</span>\n                          </li>\n                          <li className=\"icon calendar\">\n                            {renderTime(fromDate, toDate)}\n                          </li>\n                          <li className=\"\">\n                            <span>{timeLeft}</span>\n                          </li>\n                        </ul>\n                      </div>\n                      <div\n                        className=\"job_progress_wrap\"\n                        id=\"scroll-progress-bar\"\n                      >\n                        <div className=\"progress_wrapper\">\n                          <span className=\"completed-digit\" id=\"digit-progress\">\n                            <b>{`Job Milestones ${milestoneNumber} `}</b>\n                            {`of ${totalMilestones}`}\n                          </span>\n                          <span className=\"approval_info\">\n                            {status === \"APPROVED\" && (\n                              <img src={approved} alt=\"icon\" />\n                            )}\n                            {status === \"NEEDS APPROVAL\" && (\n                              <img src={waiting} alt=\"icon\" />\n                            )}\n                            {status === \"NEED APPROVAL\" && (\n                              <img src={waiting} alt=\"icon\" />\n                            )}\n                            {status}\n                          </span>\n                          <span className=\"progress_bar\">\n                            <input\n                              className=\"done_progress\"\n                              id=\"progress-bar\"\n                              type=\"range\"\n                              min=\"0\"\n                              value={(milestoneNumber / totalMilestones) * 100}\n                            />\n                          </span>\n                        </div>\n                        {(status === \"NEED APPROVAL\" ||\n                          status === \"NEEDS APPROVAL\") && (\n                          <button\n                            onClick={() => {\n                              this.setState({\n                                localState: true,\n                                selectedIndex: index,\n                              });\n                            }}\n                            className=\"fill_grey_btn full_btn btn-effect\"\n                          >\n                            {\"Approve\"}\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                )\n              )\n            : !isLoading && (\n                <div className=\"no_record  m-t-vh\">\n                  <figure className=\"no_img\">\n                    <img src={noDataFound} alt=\"data not found\" />\n                  </figure>\n                  <span>{\"No Data Found\"}</span>\n                </div>\n                // <div className=\"no_record  m-t-vh\">\n                //   <figure className=\"no_img\">\n                //     <img src={newApprovals} alt=\"data not found\" />\n                //   </figure>\n\n                //   <span className=\"empty_screen_text\">\n                //     You don't have any approval requests yet\n                //   </span>\n                //   <span className=\"empty_screen_subtext\">\n                //     As soon as someone will request your approval you will be\n                //     notified\n                //   </span>\n                // </div>\n              )}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default NeedApproval;\n"]},"metadata":{},"sourceType":"module"}