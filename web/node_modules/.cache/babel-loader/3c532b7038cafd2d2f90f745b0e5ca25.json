{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/builderJobDasboard/components/quoteJobs/viewQuote.tsx\";\nimport React, { Component } from \"react\";\nimport dummy from \"../../../../assets/images/u_placeholder.jpg\";\nimport noDataFound from \"../../../../assets/images/no-search-data.png\";\nimport jobTypePlaceholder from \"../../../../assets/images/job-type-placeholder.png\";\nimport { renderTime } from \"../../../../utils/common\";\nimport NumberFormat from \"react-number-format\";\nimport { moengage, mixPanel } from \"../../../../services/analyticsTools\";\nimport { MoEConstants } from \"../../../../utils/constants\";\nimport { getAcceptDeclineTradie, quoteByJobId } from \"../../../../redux/quotes/actions\";\nimport { setShowToast } from \"../../../../redux/common/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ViewQuote extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      toggle: false,\n      dataItems: []\n    };\n\n    this.handleSubmit = async (item, status) => {\n      const {\n        jobId,\n        userId\n      } = item;\n      let data = {\n        jobId: jobId,\n        tradieId: userId,\n        status: status\n      };\n      let response = await getAcceptDeclineTradie(data);\n\n      if (response.success) {\n        if (status == 1) {\n          this.props.history.push(\"/quote-job-accepted\");\n          moengage.moE_SendEvent(MoEConstants.ACCEPT_QUOTE, {\n            timeStamp: moengage.getCurrentTimeStamp()\n          });\n          mixPanel.mixP_SendEvent(MoEConstants.ACCEPT_QUOTE, {\n            timeStamp: moengage.getCurrentTimeStamp()\n          });\n        }\n\n        if (status == 2) {\n          this.props.setJobLabel(\"open\");\n          this.props.history.push(\"/jobs?active=open\");\n          setShowToast(true, response.msg);\n        }\n      }\n    };\n\n    this.preFetchForQuotes = () => {\n      var _props$history, _props$history$locati;\n\n      const props = this.props;\n      const params = new URLSearchParams(props === null || props === void 0 ? void 0 : (_props$history = props.history) === null || _props$history === void 0 ? void 0 : (_props$history$locati = _props$history.location) === null || _props$history$locati === void 0 ? void 0 : _props$history$locati.search);\n      const quotes_param = params.get(\"quotes\");\n      const viewQuotesParam = params.get(\"viewQuotes\");\n      const jobId = params.get(\"jobId\");\n      const tradieId = params.get(\"tradieId\");\n\n      if ((jobId === null || jobId === void 0 ? void 0 : jobId.length) && !tradieId) {\n        if (quotes_param === \"true\") {\n          this.fetchQuotesById({\n            jobId: jobId,\n            sortBy: 1\n          });\n        } else {\n          this.fetchQuotesById({\n            jobId: jobId,\n            sortBy: 1\n          });\n        }\n      } else {\n        if (tradieId === null || tradieId === void 0 ? void 0 : tradieId.length) {\n          console.log({\n            tradieId\n          });\n          this.fetchQuotesById({\n            jobId: jobId,\n            sortBy: 1,\n            tradieId: tradieId\n          });\n        }\n      }\n    };\n\n    this.fetchQuotesById = async ({\n      jobId,\n      sortBy,\n      tradieId\n    }) => {\n      var _result;\n\n      let result = null;\n      console.log({\n        tradieId\n      }, \"tradieId\");\n\n      if (tradieId) {\n        result = await quoteByJobId({\n          jobId,\n          tradieId\n        });\n      } else {\n        result = await quoteByJobId({\n          jobId,\n          sortBy\n        });\n      }\n\n      if ((_result = result) === null || _result === void 0 ? void 0 : _result.success) {\n        var _result2, _result2$data;\n\n        let data = (_result2 = result) === null || _result2 === void 0 ? void 0 : (_result2$data = _result2.data) === null || _result2$data === void 0 ? void 0 : _result2$data.resultData;\n\n        if (data) {\n          this.setState({\n            dataItems: data\n          });\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.preFetchForQuotes();\n    moengage.moE_SendEvent(MoEConstants.VIEW_QUOTE, {\n      timeStamp: moengage.getCurrentTimeStamp()\n    });\n    mixPanel.mixP_SendEvent(MoEConstants.VIEW_QUOTE, {\n      timeStamp: moengage.getCurrentTimeStamp()\n    });\n  }\n\n  render() {\n    var _props$history2, _props$history2$locat, _item, _item2, _item3, _item4, _item5, _item6, _item7, _item8, _item11, _item12, _item13, _item14, _item15, _item16, _item16$quote_item, _item17, _item18, _item19, _quotesData$, _quotesData$$status;\n\n    const styleItem = {\n      listStyle: \"none\",\n      display: \"inline-block\",\n      width: \"calc(100% / 3)\",\n      height: \"50px\",\n      textAlign: \"center\",\n      paddingTop: \"20px\"\n    };\n    let {\n      dataItems\n    } = this.state;\n    const props = this.props;\n    const quotesData = dataItems || [];\n    const params = new URLSearchParams(props === null || props === void 0 ? void 0 : (_props$history2 = props.history) === null || _props$history2 === void 0 ? void 0 : (_props$history2$locat = _props$history2.location) === null || _props$history2$locat === void 0 ? void 0 : _props$history2$locat.search);\n    const id = params.get(\"id\");\n    const jobId = params.get(\"jobId\");\n    const tradieId = params.get(\"tradieId\");\n    const activeType = params.get(\"active\");\n    let item = {};\n\n    if ((tradieId === null || tradieId === void 0 ? void 0 : tradieId.length) && Array.isArray(quotesData) && (quotesData === null || quotesData === void 0 ? void 0 : quotesData.length)) {\n      item = quotesData[0];\n    } else {\n      if (quotesData && Array.isArray(quotesData) && (quotesData === null || quotesData === void 0 ? void 0 : quotesData.length)) {\n        item = quotesData.find(item => item._id === id);\n      }\n    }\n\n    console.log({\n      dataItems\n    }, \"dataItems\");\n    let CASE_1 = [\"open\", \"applicant\"].includes(activeType);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex_row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_col_sm_5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relate\",\n            style: {\n              marginBottom: \"50px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (CASE_1) {\n                  this.props.setJobLabel(\"listQuote\");\n                  props.history.replace(`/jobs?active=${activeType}&quote=true&jobId=${jobId}`);\n                }\n\n                if (activeType == \"active\") {\n                  this.props.setJobLabel(\"active\");\n                  this.props.history.goBack();\n                }\n              },\n              className: \"back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: \"24px\"\n              },\n              className: \"title\",\n              children: \"Quote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), props.isLoading ? null : quotesData.length === 0 || !props.isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row tradies_row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                minHeight: \"180px\"\n              },\n              className: \"tradie_card aos-init aos-animate\",\n              \"data-aos\": \"fade-in\",\n              \"data-aos-delay\": \"250\",\n              \"data-aos-duration\": \"1000\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user_wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"u_img\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: ((_item = item) === null || _item === void 0 ? void 0 : _item.selected_url) || jobTypePlaceholder,\n                    alt: \"traide-img\",\n                    onError: e => {\n                      var _e$target, _e$target2;\n\n                      if (e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.onerror) {\n                        e.target.onerror = null;\n                      }\n\n                      if (e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.src) {\n                        e.target.src = jobTypePlaceholder;\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"name\",\n                    children: [(_item2 = item) === null || _item2 === void 0 ? void 0 : _item2.trade_name, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"commn_para\",\n                    children: (_item3 = item) === null || _item3 === void 0 ? void 0 : _item3.jobName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"job_info\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon clock\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: renderTime((_item4 = item) === null || _item4 === void 0 ? void 0 : _item4.from_date, (_item5 = item) === null || _item5 === void 0 ? void 0 : _item5.to_date)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon dollar\",\n                    children: (_item6 = item) === null || _item6 === void 0 ? void 0 : _item6.amount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon location\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: (_item7 = item) === null || _item7 === void 0 ? void 0 : _item7.location_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"icon calendar\",\n                    children: (_item8 = item) === null || _item8 === void 0 ? void 0 : _item8.duration\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row tradies_row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                minHeight: \"180px\"\n              },\n              className: \"tradie_card posted_by\",\n              \"data-aos\": \"fade-in\",\n              \"data-aos-delay\": \"250\",\n              \"data-aos-duration\": \"1000\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => {\n                  var _item9, _item10;\n\n                  props.history.push(`/tradie-info?jobId=${(_item9 = item) === null || _item9 === void 0 ? void 0 : _item9.jobId}&tradeId=${(_item10 = item) === null || _item10 === void 0 ? void 0 : _item10.userId}`);\n                },\n                className: \"more_detail circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user_wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"u_img\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: ((_item11 = item) === null || _item11 === void 0 ? void 0 : _item11.tradieImage) || dummy,\n                    alt: \"traide-img\",\n                    onError: e => {\n                      var _e$target3, _e$target4;\n\n                      if (e === null || e === void 0 ? void 0 : (_e$target3 = e.target) === null || _e$target3 === void 0 ? void 0 : _e$target3.onerror) {\n                        e.target.onerror = null;\n                      }\n\n                      if (e === null || e === void 0 ? void 0 : (_e$target4 = e.target) === null || _e$target4 === void 0 ? void 0 : _e$target4.src) {\n                        e.target.src = dummy;\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"name\",\n                    children: (_item12 = item) === null || _item12 === void 0 ? void 0 : _item12.tradieName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"commn_para\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"rating\",\n                      children: [((_item13 = item) === null || _item13 === void 0 ? void 0 : _item13.rating) ? ((_item14 = item) === null || _item14 === void 0 ? void 0 : _item14.rating).toFixed(1) : \"0\", \" |\", \" \", (_item15 = item) === null || _item15 === void 0 ? void 0 : _item15.reviewCount, \" reviews\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this), ((_item16 = item) === null || _item16 === void 0 ? void 0 : (_item16$quote_item = _item16.quote_item) === null || _item16$quote_item === void 0 ? void 0 : _item16$quote_item.length) ? (_item17 = item) === null || _item17 === void 0 ? void 0 : _item17.quote_item.map(quote_item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"change_req\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_2\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form_label\",\n                    children: \"Item\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_6\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form_label\",\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_4\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form_label\",\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_2\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"show_label\",\n                    children: ` ${quote_item === null || quote_item === void 0 ? void 0 : quote_item.item_number}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_6\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"show_label line-1\",\n                    children: ` ${quote_item === null || quote_item === void 0 ? void 0 : quote_item.description}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_4\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"show_label\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: `$ ${quote_item === null || quote_item === void 0 ? void 0 : quote_item.price}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 23\n            }, this)) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total_quote\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fill_grey_btn\",\n                children: [`Total : `, /*#__PURE__*/_jsxDEV(NumberFormat, {\n                  value: !!((_item18 = item) === null || _item18 === void 0 ? void 0 : _item18.totalQuoteAmount) ? (_item19 = item) === null || _item19 === void 0 ? void 0 : _item19.totalQuoteAmount : \"0\",\n                  displayType: \"text\",\n                  prefix: \"$\",\n                  thousandSeparator: true,\n                  isNumericString: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), ((_quotesData$ = quotesData[0]) === null || _quotesData$ === void 0 ? void 0 : (_quotesData$$status = _quotesData$.status) === null || _quotesData$$status === void 0 ? void 0 : _quotesData$$status.toLowerCase()) === \"pending\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form_field\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    this.handleSubmit(item, 1);\n                  },\n                  className: \"fill_btn w100per btn-effect\",\n                  children: \"Accept Quote\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form_field\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    this.handleSubmit(item, 2);\n                  },\n                  className: \"fill_grey_btn w100per btn-effect\",\n                  children: \"Decline Quote\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no_record  m-t-vh\",\n        children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n          className: \"no_img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: noDataFound,\n            alt: \"data not found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"No Data Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ViewQuote;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/builderJobDasboard/components/quoteJobs/viewQuote.tsx"],"names":["React","Component","dummy","noDataFound","jobTypePlaceholder","renderTime","NumberFormat","moengage","mixPanel","MoEConstants","getAcceptDeclineTradie","quoteByJobId","setShowToast","ViewQuote","state","toggle","dataItems","handleSubmit","item","status","jobId","userId","data","tradieId","response","success","props","history","push","moE_SendEvent","ACCEPT_QUOTE","timeStamp","getCurrentTimeStamp","mixP_SendEvent","setJobLabel","msg","preFetchForQuotes","params","URLSearchParams","location","search","quotes_param","get","viewQuotesParam","length","fetchQuotesById","sortBy","console","log","result","resultData","setState","componentDidMount","VIEW_QUOTE","render","styleItem","listStyle","display","width","height","textAlign","paddingTop","quotesData","id","activeType","Array","isArray","find","_id","CASE_1","includes","marginBottom","replace","goBack","fontSize","isLoading","minHeight","selected_url","e","target","onerror","src","trade_name","jobName","from_date","to_date","amount","location_name","duration","tradieImage","tradieName","rating","toFixed","reviewCount","quote_item","map","item_number","description","price","totalQuoteAmount","toLowerCase"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport dummy from \"../../../../assets/images/u_placeholder.jpg\";\nimport noDataFound from \"../../../../assets/images/no-search-data.png\";\nimport jobTypePlaceholder from \"../../../../assets/images/job-type-placeholder.png\";\nimport { renderTime } from \"../../../../utils/common\";\nimport NumberFormat from \"react-number-format\";\nimport { moengage, mixPanel } from \"../../../../services/analyticsTools\";\nimport { MoEConstants } from \"../../../../utils/constants\";\n\nimport {\n  getAcceptDeclineTradie,\n  quoteByJobId,\n} from \"../../../../redux/quotes/actions\";\nimport { setShowToast } from \"../../../../redux/common/actions\";\n\ntype State = {\n  toggle: boolean;\n  dataItems: any;\n};\n\ntype Props = {\n  // quotes_param: any,\n  history: any;\n  setJobLabel: any;\n  // quotesData: any\n};\n\nclass ViewQuote extends Component<Props, State> {\n  state: State = {\n    toggle: false,\n    dataItems: [],\n  };\n\n  handleSubmit = async (item: any, status: number) => {\n    const { jobId, userId } = item;\n    let data = {\n      jobId: jobId,\n      tradieId: userId,\n      status: status,\n    };\n    let response = await getAcceptDeclineTradie(data);\n    if (response.success) {\n      if (status == 1) {\n        this.props.history.push(\"/quote-job-accepted\");\n        moengage.moE_SendEvent(MoEConstants.ACCEPT_QUOTE, {\n          timeStamp: moengage.getCurrentTimeStamp(),\n        });\n        mixPanel.mixP_SendEvent(MoEConstants.ACCEPT_QUOTE, {\n          timeStamp: moengage.getCurrentTimeStamp(),\n        });\n      }\n\n      if (status == 2) {\n        this.props.setJobLabel(\"open\");\n        this.props.history.push(\"/jobs?active=open\");\n        setShowToast(true, response.msg);\n      }\n    }\n  };\n\n  componentDidMount() {\n    this.preFetchForQuotes();\n    moengage.moE_SendEvent(MoEConstants.VIEW_QUOTE, {\n      timeStamp: moengage.getCurrentTimeStamp(),\n    });\n    mixPanel.mixP_SendEvent(MoEConstants.VIEW_QUOTE, {\n      timeStamp: moengage.getCurrentTimeStamp(),\n    });\n  }\n\n  preFetchForQuotes = () => {\n    const props: any = this.props;\n    const params = new URLSearchParams(props?.history?.location?.search);\n    const quotes_param: any = params.get(\"quotes\");\n    const viewQuotesParam: any = params.get(\"viewQuotes\");\n    const jobId: any = params.get(\"jobId\");\n    const tradieId: any = params.get(\"tradieId\");\n    if (jobId?.length && !tradieId) {\n      if (quotes_param === \"true\") {\n        this.fetchQuotesById({ jobId: jobId, sortBy: 1 });\n      } else {\n        this.fetchQuotesById({ jobId: jobId, sortBy: 1 });\n      }\n    } else {\n      if (tradieId?.length) {\n        console.log({ tradieId });\n        this.fetchQuotesById({ jobId: jobId, sortBy: 1, tradieId: tradieId });\n      }\n    }\n  };\n\n  fetchQuotesById = async ({\n    jobId,\n    sortBy,\n    tradieId,\n  }: {\n    jobId: String;\n    sortBy: Number;\n    tradieId?: String;\n  }) => {\n    let result = null;\n    console.log({ tradieId }, \"tradieId\");\n    if (tradieId) {\n      result = await quoteByJobId({ jobId, tradieId });\n    } else {\n      result = await quoteByJobId({ jobId, sortBy });\n    }\n\n    if (result?.success) {\n      let data = result?.data?.resultData;\n      if (data) {\n        this.setState({ dataItems: data });\n      }\n    }\n  };\n\n  render() {\n    const styleItem = {\n      listStyle: \"none\",\n      display: \"inline-block\",\n      width: \"calc(100% / 3)\",\n      height: \"50px\",\n      textAlign: \"center\",\n      paddingTop: \"20px\",\n    };\n    let { dataItems } = this.state;\n    const props: any = this.props;\n    const quotesData = dataItems || [];\n    const params = new URLSearchParams(props?.history?.location?.search);\n    const id = params.get(\"id\");\n    const jobId = params.get(\"jobId\");\n    const tradieId = params.get(\"tradieId\");\n    const activeType: any = params.get(\"active\");\n\n    let item: any = {};\n    if (tradieId?.length && Array.isArray(quotesData) && quotesData?.length) {\n      item = quotesData[0];\n    } else {\n      if (quotesData && Array.isArray(quotesData) && quotesData?.length) {\n        item = quotesData.find((item: any) => item._id === id);\n      }\n    }\n    console.log({ dataItems }, \"dataItems\");\n    let CASE_1 = [\"open\", \"applicant\"].includes(activeType);\n    return (\n      <React.Fragment>\n        <div className=\"flex_row\">\n          <div className=\"flex_col_sm_5\">\n            <div className=\"relate\" style={{ marginBottom: \"50px\" }}>\n              <button\n                onClick={() => {\n                  if (CASE_1) {\n                    this.props.setJobLabel(\"listQuote\");\n                    props.history.replace(\n                      `/jobs?active=${activeType}&quote=true&jobId=${jobId}`\n                    );\n                  }\n\n                  if (activeType == \"active\") {\n                    this.props.setJobLabel(\"active\");\n                    this.props.history.goBack();\n                  }\n                }}\n                className=\"back\"\n              ></button>\n              <span style={{ fontSize: \"24px\" }} className=\"title\">\n                Quote\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {props.isLoading ? null : quotesData.length === 0 ||\n          !props.isLoading ? (\n          <>\n            <div className=\"flex_row tradies_row\">\n              <div className=\"flex_col_sm_6\">\n                <div\n                  style={{ minHeight: \"180px\" }}\n                  className=\"tradie_card aos-init aos-animate\"\n                  data-aos=\"fade-in\"\n                  data-aos-delay=\"250\"\n                  data-aos-duration=\"1000\"\n                >\n                  {/* <span className=\"more_detail circle\"></span> */}\n                  <div className=\"user_wrap\">\n                    <figure className=\"u_img\">\n                      <img\n                        src={item?.selected_url || jobTypePlaceholder}\n                        alt=\"traide-img\"\n                        onError={(e: any) => {\n                          if (e?.target?.onerror) {\n                            e.target.onerror = null;\n                          }\n                          if (e?.target?.src) {\n                            e.target.src = jobTypePlaceholder;\n                          }\n                        }}\n                      />\n                    </figure>\n                    <div className=\"details\">\n                      <span className=\"name\">{item?.trade_name} </span>\n                      <p className=\"commn_para\">{item?.jobName}</p>\n                    </div>\n                  </div>\n                  <div className=\"job_info\">\n                    <ul>\n                      <li className=\"icon clock\">\n                        <span>\n                          {renderTime(item?.from_date, item?.to_date)}\n                        </span>\n                      </li>\n                      <li className=\"icon dollar\">{item?.amount}</li>\n                      <li className=\"icon location\">\n                        <span>{item?.location_name}</span>\n                      </li>\n                      <li className=\"icon calendar\">{item?.duration}</li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex_row tradies_row\">\n              <div className=\"flex_col_sm_6\">\n                <div\n                  style={{ minHeight: \"180px\" }}\n                  className=\"tradie_card posted_by\"\n                  data-aos=\"fade-in\"\n                  data-aos-delay=\"250\"\n                  data-aos-duration=\"1000\"\n                >\n                  <span\n                    onClick={() => {\n                      props.history.push(\n                        `/tradie-info?jobId=${item?.jobId}&tradeId=${item?.userId}`\n                      );\n                    }}\n                    className=\"more_detail circle\"\n                  ></span>\n                  <div className=\"user_wrap\">\n                    <figure className=\"u_img\">\n                      <img\n                        src={item?.tradieImage || dummy}\n                        alt=\"traide-img\"\n                        onError={(e: any) => {\n                          if (e?.target?.onerror) {\n                            e.target.onerror = null;\n                          }\n                          if (e?.target?.src) {\n                            e.target.src = dummy;\n                          }\n                        }}\n                      />\n                    </figure>\n                    <div className=\"details\">\n                      <span className=\"name\">{item?.tradieName}</span>\n                      <p className=\"commn_para\">\n                        <span className=\"rating\">\n                          {item?.rating ? (item?.rating).toFixed(1) : \"0\"} |{\" \"}\n                          {item?.reviewCount} reviews\n                        </span>\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                {item?.quote_item?.length\n                  ? item?.quote_item.map((quote_item: any) => (\n                      <div className=\"change_req\">\n                        <div className=\"flex_row\">\n                          <div className=\"flex_col_sm_2\">\n                            <label className=\"form_label\">Item</label>\n                          </div>\n                          <div className=\"flex_col_sm_6\">\n                            <label className=\"form_label\">Description</label>\n                          </div>\n                          <div className=\"flex_col_sm_4\">\n                            <label className=\"form_label\">Price</label>\n                          </div>\n                          <div className=\"flex_col_sm_2\">\n                            <span className=\"show_label\">\n                              {` ${quote_item?.item_number}`}\n                            </span>\n                          </div>\n                          <div className=\"flex_col_sm_6\">\n                            <span className=\"show_label line-1\">\n                              {` ${quote_item?.description}`}\n                            </span>\n                          </div>\n                          <div className=\"flex_col_sm_4\">\n                            <span className=\"show_label\">\n                              <span>{`$ ${quote_item?.price}`}</span>\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  : null}\n                <div className=\"total_quote\">\n                  <span className=\"fill_grey_btn\">\n                    {`Total : `}\n                    {\n                      <NumberFormat\n                        value={\n                          !!item?.totalQuoteAmount\n                            ? item?.totalQuoteAmount\n                            : \"0\"\n                        }\n                        displayType={\"text\"}\n                        prefix={\"$\"}\n                        thousandSeparator={true}\n                        isNumericString={true}\n                      />\n                    }\n                  </span>\n                </div>\n\n                {quotesData[0]?.status?.toLowerCase() === \"pending\" && (\n                  <>\n                    <div className=\"form_field\">\n                      <button\n                        onClick={() => {\n                          this.handleSubmit(item, 1);\n                        }}\n                        className=\"fill_btn w100per btn-effect\"\n                      >\n                        {\"Accept Quote\"}\n                      </button>\n                    </div>\n                    <div className=\"form_field\">\n                      <button\n                        onClick={() => {\n                          this.handleSubmit(item, 2);\n                        }}\n                        className=\"fill_grey_btn w100per btn-effect\"\n                      >\n                        {\"Decline Quote\"}\n                      </button>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"no_record  m-t-vh\">\n            <figure className=\"no_img\">\n              <img src={noDataFound} alt=\"data not found\" />\n            </figure>\n            <span>{\"No Data Found\"}</span>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ViewQuote;\n"]},"metadata":{},"sourceType":"module"}