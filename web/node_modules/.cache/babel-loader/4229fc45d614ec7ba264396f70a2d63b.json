{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/almostDone.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport Constants from \"../../../utils/constants\";\nimport regex from \"../../../utils/regex\";\nimport { validateABN } from \"../../../utils/common\";\nimport NumberFormat from \"react-number-format\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AlmostDone = props => {\n  _s();\n\n  const [errors, setErrors] = useState({});\n  const [almostDoneData, setAlmostDoneData] = useState({\n    company_name: \"\",\n    position: \"\",\n    abn: \"\"\n  });\n\n  const changeHandler = e => {\n    setAlmostDoneData(prevData => ({ ...prevData,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!almostDoneData.company_name) {\n      newErrors.company_name = Constants.errorStrings.companyNameEmpty;\n    } else {\n      const nameRegex = new RegExp(regex.fullname);\n\n      if (!nameRegex.test(almostDoneData.company_name.trim())) {\n        newErrors.company_name = Constants.errorStrings.companyNameErr;\n      }\n    }\n\n    if (!almostDoneData.position) {\n      newErrors.position = Constants.errorStrings.positionNameEmpty;\n    } else {\n      const positionRegex = new RegExp(regex.fullname);\n\n      if (!positionRegex.test(almostDoneData.position.trim())) {\n        newErrors.position = Constants.errorStrings.positionNameErr;\n      }\n    }\n\n    if (!almostDoneData.abn) {\n      console.log(\"inside if\");\n      newErrors.abn = Constants.errorStrings.abnEmpty;\n    } else {\n      console.log(\"inside else\");\n      const abnRegex = new RegExp(regex.abn);\n\n      if (!abnRegex.test(almostDoneData.abn.replaceAll(\" \", \"\"))) {\n        newErrors.abn = Constants.errorStrings.abnErr;\n      }\n\n      if (!validateABN(almostDoneData.abn.replaceAll(\" \", \"\"))) {\n        newErrors.abn = Constants.errorStrings.abnErr;\n      }\n    }\n\n    setErrors(newErrors);\n    return !Object.keys(newErrors).length;\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (validateForm()) {\n      var newAlmostData = almostDoneData;\n      newAlmostData.abn = newAlmostData.abn.replaceAll(\" \", \"\");\n      console.log(newAlmostData, \"newAlmostData\");\n      props.onSubmitSignup(newAlmostData);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Company Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Company Name\",\n            value: almostDoneData.company_name,\n            name: \"company_name\",\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), !!errors.company_name && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.company_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Your Position\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Position\",\n            value: almostDoneData.position,\n            name: \"position\",\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), !!errors.position && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.position\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form_label\",\n          children: \"Australian Business Numberrrrrrr\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text_field\",\n          children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n            type: \"text\",\n            placeholder: \"51 824 753 556\",\n            value: almostDoneData.abn,\n            onValueChange: ({\n              value\n            }) => {\n              setAlmostDoneData(prevData => ({ ...prevData,\n                abn: value\n              }));\n            },\n            format: \"## ### ### ###\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), !!errors.abn && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.abn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_field\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"fill_btn btn-effect\",\n          children: \"Create account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AlmostDone, \"V5wHaQ3F3LLhosifqPWX+l07WvM=\");\n\n_c = AlmostDone;\nexport default AlmostDone;\n\nvar _c;\n\n$RefreshReg$(_c, \"AlmostDone\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/signup/components/almostDone.tsx"],"names":["useState","Constants","regex","validateABN","NumberFormat","AlmostDone","props","errors","setErrors","almostDoneData","setAlmostDoneData","company_name","position","abn","changeHandler","e","prevData","target","name","value","validateForm","newErrors","errorStrings","companyNameEmpty","nameRegex","RegExp","fullname","test","trim","companyNameErr","positionNameEmpty","positionRegex","positionNameErr","console","log","abnEmpty","abnRegex","replaceAll","abnErr","Object","keys","length","onSubmit","preventDefault","newAlmostData","onSubmitSignup"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport Constants from \"../../../utils/constants\";\nimport regex from \"../../../utils/regex\";\nimport { validateABN } from \"../../../utils/common\";\nimport NumberFormat from \"react-number-format\";\n\ninterface Propstype {\n  onSubmitSignup: (data: any) => void;\n}\n\nconst AlmostDone = (props: Propstype) => {\n  const [errors, setErrors] = useState<any>({});\n  const [almostDoneData, setAlmostDoneData] = useState<any>({\n    company_name: \"\",\n    position: \"\",\n    abn: \"\",\n  });\n\n  const changeHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setAlmostDoneData((prevData: any) => ({\n      ...prevData,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const validateForm = () => {\n    const newErrors: any = {};\n    if (!almostDoneData.company_name) {\n      newErrors.company_name = Constants.errorStrings.companyNameEmpty;\n    } else {\n      const nameRegex = new RegExp(regex.fullname);\n      if (!nameRegex.test(almostDoneData.company_name.trim())) {\n        newErrors.company_name = Constants.errorStrings.companyNameErr;\n      }\n    }\n    if (!almostDoneData.position) {\n      newErrors.position = Constants.errorStrings.positionNameEmpty;\n    } else {\n      const positionRegex = new RegExp(regex.fullname);\n      if (!positionRegex.test(almostDoneData.position.trim())) {\n        newErrors.position = Constants.errorStrings.positionNameErr;\n      }\n    }\n\n    if (!almostDoneData.abn) {\n      console.log(\"inside if\");\n      newErrors.abn = Constants.errorStrings.abnEmpty;\n    } else {\n      console.log(\"inside else\");\n      const abnRegex = new RegExp(regex.abn);\n      if (!abnRegex.test(almostDoneData.abn.replaceAll(\" \", \"\"))) {\n        newErrors.abn = Constants.errorStrings.abnErr;\n      }\n      if (!validateABN(almostDoneData.abn.replaceAll(\" \", \"\"))) {\n        newErrors.abn = Constants.errorStrings.abnErr;\n      }\n    }\n    setErrors(newErrors);\n    return !Object.keys(newErrors).length;\n  };\n\n  const onSubmit = (e: any) => {\n    e.preventDefault();\n    if (validateForm()) {\n      var newAlmostData = almostDoneData;\n      newAlmostData.abn = newAlmostData.abn.replaceAll(\" \", \"\");\n      console.log(newAlmostData, \"newAlmostData\");\n      props.onSubmitSignup(newAlmostData);\n    }\n  };\n\n  return (\n    <div className=\"form_wrapper\">\n      <form onSubmit={onSubmit}>\n        <div className=\"form_field\">\n          <label className=\"form_label\">Company Name</label>\n          <div className=\"text_field\">\n            <input\n              type=\"text\"\n              placeholder=\"Enter Company Name\"\n              value={almostDoneData.company_name}\n              name=\"company_name\"\n              onChange={changeHandler}\n            />\n          </div>\n          {!!errors.company_name && (\n            <span className=\"error_msg\">{errors.company_name}</span>\n          )}\n        </div>\n\n        <div className=\"form_field\">\n          <label className=\"form_label\">Your Position</label>\n          <div className=\"text_field\">\n            <input\n              type=\"text\"\n              placeholder=\"Enter Position\"\n              value={almostDoneData.position}\n              name=\"position\"\n              onChange={changeHandler}\n            />\n          </div>\n          {!!errors.position && (\n            <span className=\"error_msg\">{errors.position}</span>\n          )}\n        </div>\n\n        <div className=\"form_field\">\n          <label className=\"form_label\">Australian Business Numberrrrrrr</label>\n          <div className=\"text_field\">\n            <NumberFormat\n              type=\"text\"\n              placeholder=\"51 824 753 556\"\n              value={almostDoneData.abn}\n              onValueChange={({ value }) => {\n                setAlmostDoneData((prevData: any) => ({\n                  ...prevData,\n                  abn: value,\n                }));\n              }}\n              format=\"## ### ### ###\"\n            />\n          </div>\n          {!!errors.abn && <span className=\"error_msg\">{errors.abn}</span>}\n        </div>\n\n        <div className=\"form_field\">\n          <button className=\"fill_btn btn-effect\">Create account</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default AlmostDone;\n"]},"metadata":{},"sourceType":"module"}