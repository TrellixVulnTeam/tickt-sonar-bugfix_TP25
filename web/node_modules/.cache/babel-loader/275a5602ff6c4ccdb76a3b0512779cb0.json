{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieSearchJobResult/tradieSearchJobResult.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport BannerSearch from \"../../common/tradieBannerSearch/index\";\nimport TradieJobInfoBox from \"../../common/tradieJobInfoBox\";\nimport SearchResultFilters from \"../searchResultFilters/index\";\nimport RenderMap from \"./renderMap\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport mapIcon from \"../../assets/images/map.png\";\nimport noData from \"../../assets/images/no-search-data.png\";\nimport closeMap from \"../../assets/images/close-white.png\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\n\nconst TradieSearchJobResult = props => {\n  _s();\n\n  var _paramsData$tradeId, _paramsData$specializ, _paramsData$specializ2;\n\n  const [searchResultData, setSearchResultData] = useState({\n    page: 1,\n    searchByFilter: false,\n    cleanFiltersData: false\n  });\n  const [mapData, setMapData] = useState({\n    showMap: false\n  });\n  const [paramsData, setParamsData] = useState({});\n  const [isToggleModifySearch, setToggleModifySearch] = useState(false);\n  const [jobListData, setJobListData] = useState([]);\n  const [apiRequestData, setApiRequestData] = useState({});\n  const [hasMoreItems, setHasMoreItems] = useState(true);\n  const [isAllFilterSpecs, setIsAllFilterSpecs] = useState(false);\n  useEffect(() => {\n    var queryParamsData = getQueryParamsData();\n    let data = {};\n\n    if (queryParamsData.jobResults === \"viewNearByJob\") {\n      data = {\n        page: 1,\n        long: queryParamsData.defaultLong,\n        lat: queryParamsData.defaultLat\n      };\n      props.getViewNearByJob(data);\n    } else {\n      var _queryParamsData$trad, _queryParamsData$jobT, _queryParamsData$spec, _props$tradeListData$, _JSON$parse, _JSON$parse2, _data2, _data3, _data4, _data5, _data6, _data7;\n\n      data = {\n        page: 1,\n        ...(queryParamsData.isFiltered ? {\n          isFiltered: true\n        } : {\n          isFiltered: false\n        }),\n        ...(((_queryParamsData$trad = queryParamsData.tradeId) === null || _queryParamsData$trad === void 0 ? void 0 : _queryParamsData$trad.length) && {\n          tradeId: queryParamsData.tradeId\n        }),\n        ...(((_queryParamsData$jobT = queryParamsData.jobTypes) === null || _queryParamsData$jobT === void 0 ? void 0 : _queryParamsData$jobT.length) && {\n          jobTypes: queryParamsData.jobTypes\n        }),\n        ...(((_queryParamsData$spec = queryParamsData.specializationId) === null || _queryParamsData$spec === void 0 ? void 0 : _queryParamsData$spec.length) && {\n          specializationId: queryParamsData.specializationId\n        }),\n        ...(queryParamsData.from_date && {\n          from_date: queryParamsData.from_date\n        }),\n        ...(queryParamsData.to_date && {\n          to_date: queryParamsData.to_date\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          pay_type: queryParamsData.pay_type\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          min_budget: queryParamsData.min_budget\n        }),\n        ...(queryParamsData.min_budget >= 0 && queryParamsData.max_budget > 0 && {\n          max_budget: queryParamsData.max_budget\n        }),\n        ...(queryParamsData.sortBy && {\n          sortBy: queryParamsData.sortBy\n        }),\n        ...((queryParamsData.addres || queryParamsData.sortBy === 2) && {\n          location: {\n            coordinates: [queryParamsData.long ? queryParamsData.long : queryParamsData.defaultLong, queryParamsData.lat ? queryParamsData.lat : queryParamsData.defaultLat]\n          }\n        }),\n        ...(queryParamsData.addres && queryParamsData.address && {\n          address: queryParamsData.address\n        })\n      };\n      props.postHomeSearchData(data);\n      const mData = {\n        timeStamp: moengage.getCurrentTimeStamp(),\n        category: (_props$tradeListData$ = props.tradeListData.find(i => {\n          var _data, _data$tradeId;\n\n          return i._id === ((_data = data) === null || _data === void 0 ? void 0 : (_data$tradeId = _data.tradeId) === null || _data$tradeId === void 0 ? void 0 : _data$tradeId[0]);\n        })) === null || _props$tradeListData$ === void 0 ? void 0 : _props$tradeListData$.trade_name,\n        ...(data.address && {\n          location: `${(_JSON$parse = JSON.parse(data.address)) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.mainText} ${(_JSON$parse2 = JSON.parse(data.address)) === null || _JSON$parse2 === void 0 ? void 0 : _JSON$parse2.secondaryText}`\n        }),\n        ...(((_data2 = data) === null || _data2 === void 0 ? void 0 : _data2.max_budget) && {\n          \"Max budget\": (_data3 = data) === null || _data3 === void 0 ? void 0 : _data3.max_budget\n        }),\n        ...(((_data4 = data) === null || _data4 === void 0 ? void 0 : _data4.from_date) && {\n          \"start date\": (_data5 = data) === null || _data5 === void 0 ? void 0 : _data5.from_date\n        }),\n        ...(((_data6 = data) === null || _data6 === void 0 ? void 0 : _data6.to_date) && {\n          \"end date\": (_data7 = data) === null || _data7 === void 0 ? void 0 : _data7.to_date\n        })\n      };\n      moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n      mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n    }\n\n    setApiRequestData(data);\n    setIsAllFilterSpecs((queryParamsData === null || queryParamsData === void 0 ? void 0 : queryParamsData.isAllFilterSpecs) == true ? true : false);\n    return () => {\n      props.resetViewNearByJobData();\n      props.resetHomeSearchJobData();\n    };\n  }, []);\n\n  const getQueryParamsData = () => {\n    var _props$history, _props$history$locati, _params$get;\n\n    const params = new URLSearchParams((_props$history = props.history) === null || _props$history === void 0 ? void 0 : (_props$history$locati = _props$history.location) === null || _props$history$locati === void 0 ? void 0 : _props$history$locati.search);\n    const specializationString = params.get(\"specializationId\");\n    const specializationArray = specializationString === null || specializationString === void 0 ? void 0 : specializationString.split(\",\");\n    const tradeIdArray = params.get(\"tradeId\") ? [params.get(\"tradeId\")] : null;\n    const jobTypesArray = params.get(\"jobTypes\") ? [params.get(\"jobTypes\")] : null;\n    const queryParamsData = {\n      page: Number(params.get(\"page\")),\n      isFiltered: params.get(\"isFiltered\") === \"true\",\n      isFilterOn: params.get(\"isFilterOn\"),\n      tradeId: tradeIdArray,\n      specializationId: specializationArray,\n      lat: Number(params.get(\"lat\")),\n      long: Number(params.get(\"long\")),\n      defaultLat: Number(params.get(\"defaultLat\")),\n      defaultLong: Number(params.get(\"defaultLong\")),\n      addres: params.get(\"addres\"),\n      address: params.get(\"address\"),\n      from_date: params.get(\"from_date\"),\n      to_date: params.get(\"to_date\"),\n      jobResults: params.get(\"jobResults\"),\n      heading: params.get(\"heading\"),\n      jobTypes: jobTypesArray,\n      searchJob: (_params$get = params.get(\"searchJob\")) === null || _params$get === void 0 ? void 0 : _params$get.replaceAll(\"xxx\", \"&\"),\n      min_budget: Number(params.get(\"min_budget\")),\n      max_budget: Number(params.get(\"max_budget\")),\n      pay_type: params.get(\"pay_type\"),\n      sortBy: Number(params.get(\"sortBy\")),\n      isAllFilterSpecs: params.get(\"isAllFilterSpecs\") === \"true\" ? true : false\n    };\n    setParamsData(queryParamsData);\n    return queryParamsData;\n  };\n\n  console.log(paramsData, \"paramsData\", jobListData, \"jobListData\", apiRequestData, \"apiRequestData\", hasMoreItems, \"hasMoreItems\");\n\n  const callJobList = () => {\n    if (!hasMoreItems) {\n      return;\n    }\n\n    const data = { ...apiRequestData\n    };\n    data.page = searchResultData.page;\n\n    if (paramsData.jobResults === \"viewNearByJob\") {\n      props.getViewNearByJob(data);\n    } else {\n      props.postHomeSearchData(data);\n    }\n  };\n\n  useEffect(() => {\n    var _props$history2, _props$history2$locat, _props$homeSearchJobD, _props$viewNearByJobD, _props$homeSearchJobD3;\n\n    const jobResultsParam = new URLSearchParams((_props$history2 = props.history) === null || _props$history2 === void 0 ? void 0 : (_props$history2$locat = _props$history2.location) === null || _props$history2$locat === void 0 ? void 0 : _props$history2$locat.search).get(\"jobResults\");\n\n    if (searchResultData.searchByFilter && ((_props$homeSearchJobD = props.homeSearchJobData) === null || _props$homeSearchJobD === void 0 ? void 0 : _props$homeSearchJobD.length)) {\n      var _props$homeSearchJobD2;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.homeSearchJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.homeSearchJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$homeSearchJobD2 = props.homeSearchJobData) === null || _props$homeSearchJobD2 === void 0 ? void 0 : _props$homeSearchJobD2.length) < 10) {\n        setHasMoreItems(false);\n      }\n\n      return;\n    }\n\n    if (jobResultsParam === \"viewNearByJob\" && ((_props$viewNearByJobD = props.viewNearByJobData) === null || _props$viewNearByJobD === void 0 ? void 0 : _props$viewNearByJobD.length)) {\n      var _props$viewNearByJobD2;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.viewNearByJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.viewNearByJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$viewNearByJobD2 = props.viewNearByJobData) === null || _props$viewNearByJobD2 === void 0 ? void 0 : _props$viewNearByJobD2.length) < 10) {\n        setHasMoreItems(false);\n      }\n\n      return;\n    } else if ((_props$homeSearchJobD3 = props.homeSearchJobData) === null || _props$homeSearchJobD3 === void 0 ? void 0 : _props$homeSearchJobD3.length) {\n      var _props$homeSearchJobD4;\n\n      if (searchResultData.page === 1) {\n        setJobListData(props.homeSearchJobData);\n      } else {\n        setJobListData(prevData => [...prevData, ...props.homeSearchJobData]);\n      }\n\n      setSearchResultData(prevData => ({ ...prevData,\n        page: prevData.page + 1\n      }));\n\n      if (((_props$homeSearchJobD4 = props.homeSearchJobData) === null || _props$homeSearchJobD4 === void 0 ? void 0 : _props$homeSearchJobD4.length) < 10) {\n        setHasMoreItems(false);\n      }\n    }\n  }, [props.homeSearchJobData, props.viewNearByJobData]);\n\n  const searchByFilter = allFiltersData => {\n    var _newParamsData$tradeI, _newParamsData$jobTyp, _newParamsData$specia, _allFiltersData$jobTy, _allFiltersData$trade, _allFiltersData$trade2, _allFiltersData$speci, _allFiltersData$trade4, _allFiltersData$jobTy2, _allFiltersData$jobTy3, _allFiltersData$trade5, _allFiltersData$jobTy4, _allFiltersData$trade6, _allFiltersData$trade7, _allFiltersData$speci2, _allFiltersData$trade8, _allFiltersData$speci3, _allFiltersData$speci4, _allFiltersData$speci5, _allFiltersData$trade9, _props$tradeListData6, _props$tradeListData7, _JSON$parse3, _JSON$parse4;\n\n    const newParamsData = getQueryParamsData();\n\n    if (allFiltersData === \"callViewNearByJobApi\") {\n      const data = {\n        page: 1,\n        long: newParamsData.defaultLong,\n        lat: newParamsData.defaultLat\n      };\n      props.getViewNearByJob(data);\n      props.history.replace(`/search-job-results?jobResults=viewNearByJob&defaultLat=${newParamsData.defaultLat}&defaultLong=${newParamsData.defaultLong}`);\n      getQueryParamsData();\n      setSearchResultData(prevData => ({ ...prevData,\n        searchByFilter: false,\n        page: 1\n      }));\n      return;\n    }\n\n    var headingType = \"\";\n    console.log(allFiltersData, \"allFiltersData\", newParamsData);\n\n    if ((_newParamsData$tradeI = newParamsData.tradeId) === null || _newParamsData$tradeI === void 0 ? void 0 : _newParamsData$tradeI.length) {\n      delete newParamsData.tradeId;\n    }\n\n    if ((_newParamsData$jobTyp = newParamsData.jobTypes) === null || _newParamsData$jobTyp === void 0 ? void 0 : _newParamsData$jobTyp.length) {\n      delete newParamsData.jobTypes;\n    }\n\n    if ((_newParamsData$specia = newParamsData.specializationId) === null || _newParamsData$specia === void 0 ? void 0 : _newParamsData$specia.length) {\n      delete newParamsData.specializationId;\n    }\n\n    if (((_allFiltersData$jobTy = allFiltersData.jobTypes) === null || _allFiltersData$jobTy === void 0 ? void 0 : _allFiltersData$jobTy.length) && !((_allFiltersData$trade = allFiltersData.tradeId) === null || _allFiltersData$trade === void 0 ? void 0 : _allFiltersData$trade.length)) {\n      var _props$jobTypeListDat, _props$jobTypeListDat2;\n\n      headingType = (_props$jobTypeListDat = props.jobTypeListData) === null || _props$jobTypeListDat === void 0 ? void 0 : (_props$jobTypeListDat2 = _props$jobTypeListDat.find(i => i._id === allFiltersData.jobTypes[0])) === null || _props$jobTypeListDat2 === void 0 ? void 0 : _props$jobTypeListDat2.name;\n      delete newParamsData.searchJob;\n    }\n\n    if (((_allFiltersData$trade2 = allFiltersData.tradeId) === null || _allFiltersData$trade2 === void 0 ? void 0 : _allFiltersData$trade2.length) && !((_allFiltersData$speci = allFiltersData.specializationId) === null || _allFiltersData$speci === void 0 ? void 0 : _allFiltersData$speci.length)) {\n      var _props$tradeListData, _props$tradeListData$2;\n\n      headingType = (_props$tradeListData = props.tradeListData) === null || _props$tradeListData === void 0 ? void 0 : (_props$tradeListData$2 = _props$tradeListData.find(i => {\n        var _allFiltersData$trade3;\n\n        return i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade3 = allFiltersData.tradeId) === null || _allFiltersData$trade3 === void 0 ? void 0 : _allFiltersData$trade3[0]);\n      })) === null || _props$tradeListData$2 === void 0 ? void 0 : _props$tradeListData$2.trade_name;\n      delete newParamsData.searchJob;\n    }\n\n    var data = { ...newParamsData,\n      isFilterOn: \"isFilterOn\",\n      jobResults: null,\n      isFiltered: true,\n      ...(((_allFiltersData$trade4 = allFiltersData.tradeId) === null || _allFiltersData$trade4 === void 0 ? void 0 : _allFiltersData$trade4.length) && {\n        tradeId: allFiltersData.tradeId\n      }),\n      ...(((_allFiltersData$jobTy2 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy2 === void 0 ? void 0 : _allFiltersData$jobTy2.length) && {\n        jobTypes: allFiltersData.jobTypes\n      }),\n      ...(((_allFiltersData$jobTy3 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy3 === void 0 ? void 0 : _allFiltersData$jobTy3.length) && !((_allFiltersData$trade5 = allFiltersData.tradeId) === null || _allFiltersData$trade5 === void 0 ? void 0 : _allFiltersData$trade5.length) && {\n        jobResults: \"jobTypeList\"\n      }),\n      ...(((_allFiltersData$jobTy4 = allFiltersData.jobTypes) === null || _allFiltersData$jobTy4 === void 0 ? void 0 : _allFiltersData$jobTy4.length) && !((_allFiltersData$trade6 = allFiltersData.tradeId) === null || _allFiltersData$trade6 === void 0 ? void 0 : _allFiltersData$trade6.length) && {\n        heading: headingType\n      }),\n      ...(((_allFiltersData$trade7 = allFiltersData.tradeId) === null || _allFiltersData$trade7 === void 0 ? void 0 : _allFiltersData$trade7.length) && !((_allFiltersData$speci2 = allFiltersData.specializationId) === null || _allFiltersData$speci2 === void 0 ? void 0 : _allFiltersData$speci2.length) && {\n        jobResults: \"jobTypeList\"\n      }),\n      ...(((_allFiltersData$trade8 = allFiltersData.tradeId) === null || _allFiltersData$trade8 === void 0 ? void 0 : _allFiltersData$trade8.length) && !((_allFiltersData$speci3 = allFiltersData.specializationId) === null || _allFiltersData$speci3 === void 0 ? void 0 : _allFiltersData$speci3.length) && {\n        heading: headingType\n      }),\n      ...(((_allFiltersData$speci4 = allFiltersData.specializationId) === null || _allFiltersData$speci4 === void 0 ? void 0 : _allFiltersData$speci4.length) && {\n        specializationId: allFiltersData.specializationId\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        pay_type: allFiltersData.pay_type\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        min_budget: allFiltersData.min_budget\n      }),\n      ...(allFiltersData.min_budget >= 0 && allFiltersData.max_budget > 0 && {\n        max_budget: allFiltersData.max_budget\n      }),\n      ...([1, 2, 3].includes(allFiltersData.sortBy) && {\n        sortBy: allFiltersData.sortBy\n      })\n    };\n\n    if (allFiltersData.sortBy === 400) {\n      delete data.sortBy;\n    }\n\n    if (data.searchJob) {\n      delete data.heading;\n      delete data.jobResults;\n    }\n\n    if (allFiltersData.max_budget === 0) {\n      delete data.min_budget;\n      delete data.max_budget;\n      delete data.pay_type;\n    }\n\n    if ((allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci5 = allFiltersData.specializationId) === null || _allFiltersData$speci5 === void 0 ? void 0 : _allFiltersData$speci5.length) && (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade9 = allFiltersData.tradeId) === null || _allFiltersData$trade9 === void 0 ? void 0 : _allFiltersData$trade9.length)) {\n      var _props$tradeListData2, _props$tradeListData3, _props$tradeListData4, _props$tradeListData5, _specializationList$f;\n\n      const specializationList = (_props$tradeListData2 = props.tradeListData) === null || _props$tradeListData2 === void 0 ? void 0 : (_props$tradeListData3 = _props$tradeListData2.find(i => {\n        var _allFiltersData$trade10;\n\n        return i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade10 = allFiltersData.tradeId) === null || _allFiltersData$trade10 === void 0 ? void 0 : _allFiltersData$trade10[0]);\n      })) === null || _props$tradeListData3 === void 0 ? void 0 : _props$tradeListData3.specialisations;\n      const tradeName = (_props$tradeListData4 = props.tradeListData) === null || _props$tradeListData4 === void 0 ? void 0 : (_props$tradeListData5 = _props$tradeListData4.find(i => {\n        var _allFiltersData$trade11;\n\n        return i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$trade11 = allFiltersData.tradeId) === null || _allFiltersData$trade11 === void 0 ? void 0 : _allFiltersData$trade11[0]);\n      })) === null || _props$tradeListData5 === void 0 ? void 0 : _props$tradeListData5.trade_name;\n      const specializationName = specializationList === null || specializationList === void 0 ? void 0 : (_specializationList$f = specializationList.find(i => {\n        var _allFiltersData$speci6;\n\n        return i._id === (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci6 = allFiltersData.specializationId) === null || _allFiltersData$speci6 === void 0 ? void 0 : _allFiltersData$speci6[0]);\n      })) === null || _specializationList$f === void 0 ? void 0 : _specializationList$f.name;\n\n      if (specializationName) {\n        var _allFiltersData$speci7, _allFiltersData$speci8, _allFiltersData$speci9;\n\n        data = { ...data,\n          // searchJob: specializationName\n          searchJob: (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci7 = allFiltersData.specializationId) === null || _allFiltersData$speci7 === void 0 ? void 0 : _allFiltersData$speci7.length) === (specializationList === null || specializationList === void 0 ? void 0 : specializationList.length) ? tradeName : specializationName,\n          ...((allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci8 = allFiltersData.specializationId) === null || _allFiltersData$speci8 === void 0 ? void 0 : _allFiltersData$speci8.length) === (specializationList === null || specializationList === void 0 ? void 0 : specializationList.length) ? {\n            isAllFilterSpecs: true\n          } : {\n            isAllFilterSpecs: false\n          })\n        };\n        setIsAllFilterSpecs((specializationList === null || specializationList === void 0 ? void 0 : specializationList.length) > 0 && (allFiltersData === null || allFiltersData === void 0 ? void 0 : (_allFiltersData$speci9 = allFiltersData.specializationId) === null || _allFiltersData$speci9 === void 0 ? void 0 : _allFiltersData$speci9.length) === (specializationList === null || specializationList === void 0 ? void 0 : specializationList.length) ? true : false);\n      }\n    }\n\n    const newObjData = {\n      page: 1,\n      isFiltered: true,\n      ...(data.sortBy && {\n        sortBy: data.sortBy\n      }),\n      ...(data.tradeId && {\n        tradeId: data.tradeId\n      }),\n      ...(data.specializationId && {\n        specializationId: data.specializationId\n      }),\n      ...(data.from_date && {\n        from_date: data.from_date\n      }),\n      ...(data.to_date && {\n        to_date: data.to_date\n      }),\n      ...(data.jobTypes && {\n        jobTypes: data.jobTypes\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        pay_type: data.pay_type\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        min_budget: data.min_budget\n      }),\n      ...(data.min_budget >= 0 && data.max_budget > 0 && {\n        max_budget: data.max_budget\n      }),\n      ...((data.address || allFiltersData.sortBy === 2) && {\n        location: {\n          coordinates: [data.long ? data.long : data.defaultLong, data.lat ? data.lat : data.defaultLat]\n        }\n      }) // ...(data.addres && data.address && { address: data.address })\n\n    };\n    Object.keys(data).forEach(key => (data[key] === undefined || data[key] === null || data[key] === 0 || data[key] === \"0\") && delete data[key]);\n    var url = \"search-job-results?\";\n\n    for (let [key, value] of Object.entries(data)) {\n      console.log(key, value);\n      url += `${key}=${value}&`;\n    }\n\n    const newUrl = url.slice(0, url.length - 1);\n    props.postHomeSearchData(newObjData);\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: (_props$tradeListData6 = props.tradeListData) === null || _props$tradeListData6 === void 0 ? void 0 : (_props$tradeListData7 = _props$tradeListData6.find(i => {\n        var _newObjData$tradeId;\n\n        return i._id === (newObjData === null || newObjData === void 0 ? void 0 : (_newObjData$tradeId = newObjData.tradeId) === null || _newObjData$tradeId === void 0 ? void 0 : _newObjData$tradeId[0]);\n      })) === null || _props$tradeListData7 === void 0 ? void 0 : _props$tradeListData7.trade_name,\n      ...(newObjData.address && {\n        location: `${(_JSON$parse3 = JSON.parse(newObjData.address)) === null || _JSON$parse3 === void 0 ? void 0 : _JSON$parse3.mainText} ${(_JSON$parse4 = JSON.parse(newObjData.address)) === null || _JSON$parse4 === void 0 ? void 0 : _JSON$parse4.secondaryText}`\n      }),\n      ...((newObjData === null || newObjData === void 0 ? void 0 : newObjData.max_budget) && {\n        \"Max budget\": newObjData === null || newObjData === void 0 ? void 0 : newObjData.max_budget\n      }),\n      ...((newObjData === null || newObjData === void 0 ? void 0 : newObjData.from_date) && {\n        \"start date\": newObjData === null || newObjData === void 0 ? void 0 : newObjData.from_date\n      }),\n      ...((newObjData === null || newObjData === void 0 ? void 0 : newObjData.to_date) && {\n        \"end date\": newObjData === null || newObjData === void 0 ? void 0 : newObjData.to_date\n      })\n    };\n    moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n    props.history.replace(newUrl);\n    setJobListData([]);\n    setParamsData(data);\n    setApiRequestData(newObjData);\n    setSearchResultData(prevData => ({ ...prevData,\n      page: 1,\n      searchByFilter: true\n    }));\n    setHasMoreItems(true);\n    console.log(newUrl, \"newUrl\", data, \"data\", newObjData, \"newObjData\", newParamsData);\n  }; // const cleanFiltersHandler = (isFiltersClean: boolean) => {\n  //     setSearchResultData((prevData: any) => ({ ...prevData, cleanFiltersData: isFiltersClean }));\n  //     if (isFiltersClean) { getQueryParamsData(); }\n  // }\n\n\n  const refreshParams = data => {\n    setJobListData([]);\n    getQueryParamsData();\n    setApiRequestData(data);\n    setSearchResultData(prevData => ({ ...prevData,\n      page: 1,\n      cleanFiltersData: true\n    }));\n    setHasMoreItems(true);\n  };\n\n  const handleChangeToggle = value => {\n    setToggleModifySearch(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n    dataLength: jobListData.length,\n    next: callJobList,\n    hasMore: true,\n    loader: /*#__PURE__*/_jsxDEV(\"h4\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 15\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `top_search ${isToggleModifySearch ? \"active\" : \"\"}`,\n        children: /*#__PURE__*/_jsxDEV(BannerSearch, { ...props,\n          handleChangeToggle: handleChangeToggle,\n          paramsData: paramsData,\n          refreshParams: refreshParams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search_result\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section_wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom_container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row mob_srch_option\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_col_sm_6 text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setToggleModifySearch(true);\n                  },\n                  className: \"fill_grey_btn btn-effect\",\n                  children: \"Modify Search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result_heading\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex_row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"title\",\n                    children: [(paramsData === null || paramsData === void 0 ? void 0 : (_paramsData$tradeId = paramsData.tradeId) === null || _paramsData$tradeId === void 0 ? void 0 : _paramsData$tradeId.length) > 0 && !(paramsData === null || paramsData === void 0 ? void 0 : paramsData.searchJob) ? \"\" : paramsData.jobResults === \"viewNearByJob\" ? \"All around me\" : paramsData.jobResults === \"jobTypeList\" ? paramsData.heading : isAllFilterSpecs ? paramsData.searchJob : paramsData.searchJob ? `${paramsData.searchJob}${((_paramsData$specializ = paramsData.specializationId) === null || _paramsData$specializ === void 0 ? void 0 : _paramsData$specializ.length) >= 2 ? ` +${((_paramsData$specializ2 = paramsData.specializationId) === null || _paramsData$specializ2 === void 0 ? void 0 : _paramsData$specializ2.length) - 1}` : \"\"}` : \"\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"count\",\n                      children: `${jobListData.length || 0} result(s)`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 543,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(SearchResultFilters, {\n                    searchByFilter: searchByFilter,\n                    cleanFiltersData: searchResultData.cleanFiltersData,\n                    history: props === null || props === void 0 ? void 0 : props.history\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 19\n                }, this), jobListData.length > 0 && !mapData.showMap && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex_col_sm_4 text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"map_btn\",\n                    onClick: () => setMapData(prevData => ({ ...prevData,\n                      showMap: !prevData.showMap\n                    })),\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: mapIcon,\n                      alt: \"map\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 564,\n                      columnNumber: 25\n                    }, this), \" Map\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_row tradies_row\",\n              children: [mapData.showMap ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_col\",\n                children: jobListData.length > 0 ? jobListData.map(jobData => {\n                  return /*#__PURE__*/_createElement(TradieJobInfoBox, {\n                    item: jobData,\n                    ...props,\n                    key: jobData.jobId,\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 577,\n                      columnNumber: 27\n                    }\n                  });\n                }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no_record\",\n                  children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                    className: \"no_img\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: noData,\n                      alt: \"data not found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 587,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"No Data Found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 19\n              }, this) : jobListData.length > 0 || props.isLoading ? jobListData.map(jobData => {\n                return /*#__PURE__*/_createElement(TradieJobInfoBox, {\n                  item: jobData,\n                  ...props,\n                  key: jobData.jobId,\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 596,\n                    columnNumber: 23\n                  }\n                });\n              }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no_record\",\n                children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n                  className: \"no_img\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: noData,\n                    alt: \"data not found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"No Data Found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"map_col\",\n                style: !mapData.showMap ? {\n                  display: \"none\"\n                } : {},\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"map_stick\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"close_map\",\n                    onClick: () => setMapData(prevData => ({ ...prevData,\n                      showMap: !prevData.showMap\n                    })),\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: closeMap,\n                      alt: \"close-map\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 626,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 617,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(RenderMap, { ...props,\n                    searchByFilter: searchResultData.searchByFilter\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 628,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 612,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 491,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TradieSearchJobResult, \"FlnB0OFVKVVggWlq9F1+uFrPzT8=\");\n\n_c = TradieSearchJobResult;\nexport default TradieSearchJobResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"TradieSearchJobResult\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/tradieSearchJobResult/tradieSearchJobResult.tsx"],"names":["useState","useEffect","BannerSearch","TradieJobInfoBox","SearchResultFilters","RenderMap","InfiniteScroll","mapIcon","noData","closeMap","moengage","mixPanel","MoEConstants","TradieSearchJobResult","props","searchResultData","setSearchResultData","page","searchByFilter","cleanFiltersData","mapData","setMapData","showMap","paramsData","setParamsData","isToggleModifySearch","setToggleModifySearch","jobListData","setJobListData","apiRequestData","setApiRequestData","hasMoreItems","setHasMoreItems","isAllFilterSpecs","setIsAllFilterSpecs","queryParamsData","getQueryParamsData","data","jobResults","long","defaultLong","lat","defaultLat","getViewNearByJob","isFiltered","tradeId","length","jobTypes","specializationId","from_date","to_date","min_budget","max_budget","pay_type","sortBy","addres","location","coordinates","address","postHomeSearchData","mData","timeStamp","getCurrentTimeStamp","category","tradeListData","find","i","_id","trade_name","JSON","parse","mainText","secondaryText","moE_SendEvent","SEARCHED_FOR_JOBS","mixP_SendEvent","resetViewNearByJobData","resetHomeSearchJobData","params","URLSearchParams","history","search","specializationString","get","specializationArray","split","tradeIdArray","jobTypesArray","Number","isFilterOn","heading","searchJob","replaceAll","console","log","callJobList","jobResultsParam","homeSearchJobData","prevData","viewNearByJobData","allFiltersData","newParamsData","replace","headingType","jobTypeListData","name","includes","specializationList","specialisations","tradeName","specializationName","newObjData","Object","keys","forEach","key","undefined","url","value","entries","newUrl","slice","refreshParams","handleChangeToggle","map","jobData","jobId","isLoading","display"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport BannerSearch from \"../../common/tradieBannerSearch/index\";\nimport TradieJobInfoBox from \"../../common/tradieJobInfoBox\";\nimport SearchResultFilters from \"../searchResultFilters/index\";\nimport RenderMap from \"./renderMap\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nimport mapIcon from \"../../assets/images/map.png\";\nimport noData from \"../../assets/images/no-search-data.png\";\nimport closeMap from \"../../assets/images/close-white.png\";\nimport { moengage, mixPanel } from \"../../services/analyticsTools\";\nimport { MoEConstants } from \"../../utils/constants\";\ninterface PropsType {\n  history: any;\n  location?: any;\n  isLoading: boolean;\n  tradeListData: Array<any>;\n  jobTypeListData: Array<any>;\n  viewNearByJobData: Array<any>;\n  homeSearchJobData: Array<any>;\n  getViewNearByJob: (data: any) => void;\n  postHomeSearchData: (data: any) => void;\n  resetHomeSearchJobData: () => void;\n  resetViewNearByJobData: () => void;\n}\n\nconst TradieSearchJobResult = (props: PropsType) => {\n  const [searchResultData, setSearchResultData] = useState({\n    page: 1,\n    searchByFilter: false,\n    cleanFiltersData: false,\n  });\n  const [mapData, setMapData] = useState<any>({\n    showMap: false,\n  });\n  const [paramsData, setParamsData] = useState<any>({});\n  const [isToggleModifySearch, setToggleModifySearch] =\n    useState<boolean>(false);\n  const [jobListData, setJobListData] = useState<Array<any>>([]);\n  const [apiRequestData, setApiRequestData] = useState<any>({});\n  const [hasMoreItems, setHasMoreItems] = useState<boolean>(true);\n  const [isAllFilterSpecs, setIsAllFilterSpecs] = useState<boolean>(false);\n\n  useEffect(() => {\n    var queryParamsData = getQueryParamsData();\n    let data: any = {};\n\n    if (queryParamsData.jobResults === \"viewNearByJob\") {\n      data = {\n        page: 1,\n        long: queryParamsData.defaultLong,\n        lat: queryParamsData.defaultLat,\n      };\n      props.getViewNearByJob(data);\n    } else {\n      data = {\n        page: 1,\n        ...(queryParamsData.isFiltered\n          ? { isFiltered: true }\n          : { isFiltered: false }),\n        ...(queryParamsData.tradeId?.length && {\n          tradeId: queryParamsData.tradeId,\n        }),\n        ...(queryParamsData.jobTypes?.length && {\n          jobTypes: queryParamsData.jobTypes,\n        }),\n        ...(queryParamsData.specializationId?.length && {\n          specializationId: queryParamsData.specializationId,\n        }),\n        ...(queryParamsData.from_date && {\n          from_date: queryParamsData.from_date,\n        }),\n        ...(queryParamsData.to_date && { to_date: queryParamsData.to_date }),\n        ...(queryParamsData.min_budget >= 0 &&\n          queryParamsData.max_budget > 0 && {\n            pay_type: queryParamsData.pay_type,\n          }),\n        ...(queryParamsData.min_budget >= 0 &&\n          queryParamsData.max_budget > 0 && {\n            min_budget: queryParamsData.min_budget,\n          }),\n        ...(queryParamsData.min_budget >= 0 &&\n          queryParamsData.max_budget > 0 && {\n            max_budget: queryParamsData.max_budget,\n          }),\n        ...(queryParamsData.sortBy && { sortBy: queryParamsData.sortBy }),\n        ...((queryParamsData.addres || queryParamsData.sortBy === 2) && {\n          location: {\n            coordinates: [\n              queryParamsData.long\n                ? queryParamsData.long\n                : queryParamsData.defaultLong,\n              queryParamsData.lat\n                ? queryParamsData.lat\n                : queryParamsData.defaultLat,\n            ],\n          },\n        }),\n        ...(queryParamsData.addres &&\n          queryParamsData.address && { address: queryParamsData.address }),\n      };\n      props.postHomeSearchData(data);\n      const mData = {\n        timeStamp: moengage.getCurrentTimeStamp(),\n        category: props.tradeListData.find(\n          (i: any) => i._id === data?.tradeId?.[0]\n        )?.trade_name,\n        ...(data.address && {\n          location: `${JSON.parse(data.address)?.mainText} ${\n            JSON.parse(data.address)?.secondaryText\n          }`,\n        }),\n        ...(data?.max_budget && { \"Max budget\": data?.max_budget }),\n        ...(data?.from_date && { \"start date\": data?.from_date }),\n        ...(data?.to_date && { \"end date\": data?.to_date }),\n      };\n      moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n      mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n    }\n    setApiRequestData(data);\n\n    setIsAllFilterSpecs(\n      queryParamsData?.isAllFilterSpecs == true ? true : false\n    );\n    return () => {\n      props.resetViewNearByJobData();\n      props.resetHomeSearchJobData();\n    };\n  }, []);\n\n  const getQueryParamsData = () => {\n    const params = new URLSearchParams(props.history?.location?.search);\n    const specializationString = params.get(\"specializationId\");\n    const specializationArray = specializationString?.split(\",\");\n    const tradeIdArray = params.get(\"tradeId\") ? [params.get(\"tradeId\")] : null;\n    const jobTypesArray = params.get(\"jobTypes\")\n      ? [params.get(\"jobTypes\")]\n      : null;\n    const queryParamsData: any = {\n      page: Number(params.get(\"page\")),\n      isFiltered: params.get(\"isFiltered\") === \"true\",\n      isFilterOn: params.get(\"isFilterOn\"),\n      tradeId: tradeIdArray,\n      specializationId: specializationArray,\n      lat: Number(params.get(\"lat\")),\n      long: Number(params.get(\"long\")),\n      defaultLat: Number(params.get(\"defaultLat\")),\n      defaultLong: Number(params.get(\"defaultLong\")),\n      addres: params.get(\"addres\"),\n      address: params.get(\"address\"),\n      from_date: params.get(\"from_date\"),\n      to_date: params.get(\"to_date\"),\n      jobResults: params.get(\"jobResults\"),\n      heading: params.get(\"heading\"),\n      jobTypes: jobTypesArray,\n      searchJob: params.get(\"searchJob\")?.replaceAll(\"xxx\", \"&\"),\n      min_budget: Number(params.get(\"min_budget\")),\n      max_budget: Number(params.get(\"max_budget\")),\n      pay_type: params.get(\"pay_type\"),\n      sortBy: Number(params.get(\"sortBy\")),\n      isAllFilterSpecs:\n        params.get(\"isAllFilterSpecs\") === \"true\" ? true : false,\n    };\n    setParamsData(queryParamsData);\n    return queryParamsData;\n  };\n\n  console.log(\n    paramsData,\n    \"paramsData\",\n    jobListData,\n    \"jobListData\",\n    apiRequestData,\n    \"apiRequestData\",\n    hasMoreItems,\n    \"hasMoreItems\"\n  );\n\n  const callJobList = () => {\n    if (!hasMoreItems) {\n      return;\n    }\n    const data = { ...apiRequestData };\n    data.page = searchResultData.page;\n    if (paramsData.jobResults === \"viewNearByJob\") {\n      props.getViewNearByJob(data);\n    } else {\n      props.postHomeSearchData(data);\n    }\n  };\n\n  useEffect(() => {\n    const jobResultsParam = new URLSearchParams(\n      props.history?.location?.search\n    ).get(\"jobResults\");\n    if (searchResultData.searchByFilter && props.homeSearchJobData?.length) {\n      if (searchResultData.page === 1) {\n        setJobListData(props.homeSearchJobData);\n      } else {\n        setJobListData((prevData: any) => [\n          ...prevData,\n          ...props.homeSearchJobData,\n        ]);\n      }\n      setSearchResultData((prevData: any) => ({\n        ...prevData,\n        page: prevData.page + 1,\n      }));\n      if (props.homeSearchJobData?.length < 10) {\n        setHasMoreItems(false);\n      }\n      return;\n    }\n    if (\n      jobResultsParam === \"viewNearByJob\" &&\n      props.viewNearByJobData?.length\n    ) {\n      if (searchResultData.page === 1) {\n        setJobListData(props.viewNearByJobData);\n      } else {\n        setJobListData((prevData: any) => [\n          ...prevData,\n          ...props.viewNearByJobData,\n        ]);\n      }\n      setSearchResultData((prevData: any) => ({\n        ...prevData,\n        page: prevData.page + 1,\n      }));\n      if (props.viewNearByJobData?.length < 10) {\n        setHasMoreItems(false);\n      }\n      return;\n    } else if (props.homeSearchJobData?.length) {\n      if (searchResultData.page === 1) {\n        setJobListData(props.homeSearchJobData);\n      } else {\n        setJobListData((prevData: any) => [\n          ...prevData,\n          ...props.homeSearchJobData,\n        ]);\n      }\n      setSearchResultData((prevData: any) => ({\n        ...prevData,\n        page: prevData.page + 1,\n      }));\n      if (props.homeSearchJobData?.length < 10) {\n        setHasMoreItems(false);\n      }\n    }\n  }, [props.homeSearchJobData, props.viewNearByJobData]);\n\n  const searchByFilter = (allFiltersData: any) => {\n    const newParamsData = getQueryParamsData();\n    if (allFiltersData === \"callViewNearByJobApi\") {\n      const data = {\n        page: 1,\n        long: newParamsData.defaultLong,\n        lat: newParamsData.defaultLat,\n      };\n      props.getViewNearByJob(data);\n      props.history.replace(\n        `/search-job-results?jobResults=viewNearByJob&defaultLat=${newParamsData.defaultLat}&defaultLong=${newParamsData.defaultLong}`\n      );\n      getQueryParamsData();\n      setSearchResultData((prevData: any) => ({\n        ...prevData,\n        searchByFilter: false,\n        page: 1,\n      }));\n      return;\n    }\n    var headingType: string = \"\";\n    console.log(allFiltersData, \"allFiltersData\", newParamsData);\n\n    if (newParamsData.tradeId?.length) {\n      delete newParamsData.tradeId;\n    }\n    if (newParamsData.jobTypes?.length) {\n      delete newParamsData.jobTypes;\n    }\n    if (newParamsData.specializationId?.length) {\n      delete newParamsData.specializationId;\n    }\n    if (allFiltersData.jobTypes?.length && !allFiltersData.tradeId?.length) {\n      headingType = props.jobTypeListData?.find(\n        (i: any) => i._id === allFiltersData.jobTypes[0]\n      )?.name;\n      delete newParamsData.searchJob;\n    }\n    if (\n      allFiltersData.tradeId?.length &&\n      !allFiltersData.specializationId?.length\n    ) {\n      headingType = props.tradeListData?.find(\n        (i: any) => i._id === allFiltersData?.tradeId?.[0]\n      )?.trade_name;\n      delete newParamsData.searchJob;\n    }\n\n    var data = {\n      ...newParamsData,\n      isFilterOn: \"isFilterOn\",\n      jobResults: null,\n      isFiltered: true,\n      ...(allFiltersData.tradeId?.length && {\n        tradeId: allFiltersData.tradeId,\n      }),\n      ...(allFiltersData.jobTypes?.length && {\n        jobTypes: allFiltersData.jobTypes,\n      }),\n      ...(allFiltersData.jobTypes?.length &&\n        !allFiltersData.tradeId?.length && { jobResults: \"jobTypeList\" }),\n      ...(allFiltersData.jobTypes?.length &&\n        !allFiltersData.tradeId?.length && { heading: headingType }),\n      ...(allFiltersData.tradeId?.length &&\n        !allFiltersData.specializationId?.length && {\n          jobResults: \"jobTypeList\",\n        }),\n      ...(allFiltersData.tradeId?.length &&\n        !allFiltersData.specializationId?.length && { heading: headingType }),\n      ...(allFiltersData.specializationId?.length && {\n        specializationId: allFiltersData.specializationId,\n      }),\n      ...(allFiltersData.min_budget >= 0 &&\n        allFiltersData.max_budget > 0 && { pay_type: allFiltersData.pay_type }),\n      ...(allFiltersData.min_budget >= 0 &&\n        allFiltersData.max_budget > 0 && {\n          min_budget: allFiltersData.min_budget,\n        }),\n      ...(allFiltersData.min_budget >= 0 &&\n        allFiltersData.max_budget > 0 && {\n          max_budget: allFiltersData.max_budget,\n        }),\n      ...([1, 2, 3].includes(allFiltersData.sortBy) && {\n        sortBy: allFiltersData.sortBy,\n      }),\n    };\n\n    if (allFiltersData.sortBy === 400) {\n      delete data.sortBy;\n    }\n    if (data.searchJob) {\n      delete data.heading;\n      delete data.jobResults;\n    }\n    if (allFiltersData.max_budget === 0) {\n      delete data.min_budget;\n      delete data.max_budget;\n      delete data.pay_type;\n    }\n    if (\n      allFiltersData?.specializationId?.length &&\n      allFiltersData?.tradeId?.length\n    ) {\n      const specializationList = props.tradeListData?.find(\n        (i: any) => i._id === allFiltersData?.tradeId?.[0]\n      )?.specialisations;\n      const tradeName = props.tradeListData?.find(\n        (i: any) => i._id === allFiltersData?.tradeId?.[0]\n      )?.trade_name;\n      const specializationName = specializationList?.find(\n        (i: any) => i._id === allFiltersData?.specializationId?.[0]\n      )?.name;\n      if (specializationName) {\n        data = {\n          ...data,\n          // searchJob: specializationName\n          searchJob:\n            allFiltersData?.specializationId?.length ===\n            specializationList?.length\n              ? tradeName\n              : specializationName,\n          ...(allFiltersData?.specializationId?.length ===\n          specializationList?.length\n            ? { isAllFilterSpecs: true }\n            : { isAllFilterSpecs: false }),\n        };\n        setIsAllFilterSpecs(\n          specializationList?.length > 0 &&\n            allFiltersData?.specializationId?.length ===\n              specializationList?.length\n            ? true\n            : false\n        );\n      }\n    }\n\n    const newObjData = {\n      page: 1,\n      isFiltered: true,\n      ...(data.sortBy && { sortBy: data.sortBy }),\n      ...(data.tradeId && { tradeId: data.tradeId }),\n      ...(data.specializationId && { specializationId: data.specializationId }),\n      ...(data.from_date && { from_date: data.from_date }),\n      ...(data.to_date && { to_date: data.to_date }),\n      ...(data.jobTypes && { jobTypes: data.jobTypes }),\n      ...(data.min_budget >= 0 &&\n        data.max_budget > 0 && { pay_type: data.pay_type }),\n      ...(data.min_budget >= 0 &&\n        data.max_budget > 0 && { min_budget: data.min_budget }),\n      ...(data.min_budget >= 0 &&\n        data.max_budget > 0 && { max_budget: data.max_budget }),\n      ...((data.address || allFiltersData.sortBy === 2) && {\n        location: {\n          coordinates: [\n            data.long ? data.long : data.defaultLong,\n            data.lat ? data.lat : data.defaultLat,\n          ],\n        },\n      }),\n      // ...(data.addres && data.address && { address: data.address })\n    };\n    Object.keys(data).forEach(\n      (key) =>\n        (data[key] === undefined ||\n          data[key] === null ||\n          data[key] === 0 ||\n          data[key] === \"0\") &&\n        delete data[key]\n    );\n    var url = \"search-job-results?\";\n    for (let [key, value] of Object.entries(data)) {\n      console.log(key, value);\n      url += `${key}=${value}&`;\n    }\n    const newUrl = url.slice(0, url.length - 1);\n    props.postHomeSearchData(newObjData);\n    const mData = {\n      timeStamp: moengage.getCurrentTimeStamp(),\n      category: props.tradeListData?.find(\n        (i: any) => i._id === newObjData?.tradeId?.[0]\n      )?.trade_name,\n      ...(newObjData.address && {\n        location: `${JSON.parse(newObjData.address)?.mainText} ${\n          JSON.parse(newObjData.address)?.secondaryText\n        }`,\n      }),\n      ...(newObjData?.max_budget && { \"Max budget\": newObjData?.max_budget }),\n      ...(newObjData?.from_date && { \"start date\": newObjData?.from_date }),\n      ...(newObjData?.to_date && { \"end date\": newObjData?.to_date }),\n    };\n    moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n    mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_JOBS, mData);\n\n    props.history.replace(newUrl);\n    setJobListData([]);\n    setParamsData(data);\n    setApiRequestData(newObjData);\n    setSearchResultData((prevData: any) => ({\n      ...prevData,\n      page: 1,\n      searchByFilter: true,\n    }));\n    setHasMoreItems(true);\n    console.log(\n      newUrl,\n      \"newUrl\",\n      data,\n      \"data\",\n      newObjData,\n      \"newObjData\",\n      newParamsData\n    );\n  };\n\n  // const cleanFiltersHandler = (isFiltersClean: boolean) => {\n  //     setSearchResultData((prevData: any) => ({ ...prevData, cleanFiltersData: isFiltersClean }));\n  //     if (isFiltersClean) { getQueryParamsData(); }\n  // }\n\n  const refreshParams = (data: any) => {\n    setJobListData([]);\n    getQueryParamsData();\n    setApiRequestData(data);\n    setSearchResultData((prevData: any) => ({\n      ...prevData,\n      page: 1,\n      cleanFiltersData: true,\n    }));\n    setHasMoreItems(true);\n  };\n\n  const handleChangeToggle = (value: boolean) => {\n    setToggleModifySearch(value);\n  };\n\n  return (\n    <InfiniteScroll\n      dataLength={jobListData.length}\n      next={callJobList}\n      hasMore={true}\n      loader={<h4></h4>}\n    >\n      <div className=\"app_wrapper\">\n        <div className={`top_search ${isToggleModifySearch ? \"active\" : \"\"}`}>\n          <BannerSearch\n            {...props}\n            handleChangeToggle={handleChangeToggle}\n            paramsData={paramsData}\n            refreshParams={refreshParams}\n          />\n        </div>\n        <div className=\"search_result\">\n          <div className=\"section_wrapper\">\n            <div className=\"custom_container\">\n              <div className=\"flex_row mob_srch_option\">\n                <div className=\"flex_col_sm_6\"></div>\n                <div className=\"flex_col_sm_6 text-right\">\n                  <button\n                    onClick={() => {\n                      setToggleModifySearch(true);\n                    }}\n                    className=\"fill_grey_btn btn-effect\"\n                  >\n                    Modify Search\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"result_heading\">\n                <div className=\"flex_row\">\n                  <div className=\"flex_col_sm_8\">\n                    {/* <span className=\"title\">{paramsData.jobResults == 'viewNearByJob' ? 'All around me' : paramsData.jobResults == 'jobTypeList' ? paramsData.heading : paramsData.searchJob ? `${paramsData.searchJob}${paramsData.specializationId?.length == 2 ? ' + 1 other' : paramsData.specializationId?.length >= 3 ? ` + ${paramsData.specializationId?.length - 1} others` : ''}` : ''} */}\n                    <span className=\"title\">\n                      {paramsData?.tradeId?.length > 0 && !paramsData?.searchJob\n                        ? \"\"\n                        : paramsData.jobResults === \"viewNearByJob\"\n                        ? \"All around me\"\n                        : paramsData.jobResults === \"jobTypeList\"\n                        ? paramsData.heading\n                        : isAllFilterSpecs\n                        ? paramsData.searchJob\n                        : paramsData.searchJob\n                        ? `${paramsData.searchJob}${\n                            paramsData.specializationId?.length >= 2\n                              ? ` +${paramsData.specializationId?.length - 1}`\n                              : \"\"\n                          }`\n                        : \"\"}\n                      <span className=\"count\">{`${\n                        jobListData.length || 0\n                      } result(s)`}</span>\n                    </span>\n                    <SearchResultFilters\n                      searchByFilter={searchByFilter}\n                      cleanFiltersData={searchResultData.cleanFiltersData}\n                      history={props?.history}\n                    />\n                  </div>\n                  {jobListData.length > 0 && !mapData.showMap && (\n                    <div className=\"flex_col_sm_4 text-right\">\n                      <a\n                        className=\"map_btn\"\n                        onClick={() =>\n                          setMapData((prevData: any) => ({\n                            ...prevData,\n                            showMap: !prevData.showMap,\n                          }))\n                        }\n                      >\n                        <img src={mapIcon} alt=\"map\" /> Map\n                      </a>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"flex_row tradies_row\">\n                {/* If the map does not come, then this div not only class (card_col) will be hidden */}\n                {mapData.showMap ? (\n                  <div className=\"card_col\">\n                    {jobListData.length > 0 ? (\n                      jobListData.map((jobData: any) => {\n                        return (\n                          <TradieJobInfoBox\n                            item={jobData}\n                            {...props}\n                            key={jobData.jobId}\n                          />\n                        );\n                      })\n                    ) : (\n                      <div className=\"no_record\">\n                        <figure className=\"no_img\">\n                          <img src={noData} alt=\"data not found\" />\n                        </figure>\n                        <span>No Data Found</span>\n                      </div>\n                    )}\n                  </div>\n                ) : jobListData.length > 0 || props.isLoading ? (\n                  jobListData.map((jobData: any) => {\n                    return (\n                      <TradieJobInfoBox\n                        item={jobData}\n                        {...props}\n                        key={jobData.jobId}\n                      />\n                    );\n                  })\n                ) : (\n                  <div className=\"no_record\">\n                    <figure className=\"no_img\">\n                      <img src={noData} alt=\"data not found\" />\n                    </figure>\n                    <span>No Data Found</span>\n                  </div>\n                )}\n                {\n                  <div\n                    className=\"map_col\"\n                    style={!mapData.showMap ? { display: \"none\" } : {}}\n                  >\n                    <div className=\"map_stick\">\n                      <span\n                        className=\"close_map\"\n                        onClick={() =>\n                          setMapData((prevData: any) => ({\n                            ...prevData,\n                            showMap: !prevData.showMap,\n                          }))\n                        }\n                      >\n                        <img src={closeMap} alt=\"close-map\" />\n                      </span>\n                      <RenderMap\n                        {...props}\n                        searchByFilter={searchResultData.searchByFilter}\n                      />\n                    </div>\n                  </div>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </InfiniteScroll>\n  );\n};\n\nexport default TradieSearchJobResult;\n"]},"metadata":{},"sourceType":"module"}