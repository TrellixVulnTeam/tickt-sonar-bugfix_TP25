{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/saveTemplate.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { addTemplate } from \"../../../redux/jobs/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SaveTemplate = ({\n  milestones,\n  handleCombineMileStones,\n  handleStepForward\n}) => {\n  _s();\n\n  const [templateName, setTemplateName] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const checkError = () => {\n    if (!(error === null || error === void 0 ? void 0 : error.length) && (templateName === null || templateName === void 0 ? void 0 : templateName.length)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleContinue = async () => {\n    if (!(templateName === null || templateName === void 0 ? void 0 : templateName.length)) {\n      setError(\"Template name is required.\");\n      return;\n    }\n\n    let filter_milestone = milestones.filter(item => {\n      if (Object.keys(item).length) {\n        var _item$to_date, _item$from_date;\n\n        if (!(item === null || item === void 0 ? void 0 : (_item$to_date = item.to_date) === null || _item$to_date === void 0 ? void 0 : _item$to_date.length)) {\n          delete item.to_date;\n        }\n\n        if (!(item === null || item === void 0 ? void 0 : (_item$from_date = item.from_date) === null || _item$from_date === void 0 ? void 0 : _item$from_date.length) || (item === null || item === void 0 ? void 0 : item.from_date) === \"Invalid date\") {\n          delete item.from_date;\n        }\n\n        return item;\n      }\n    });\n    let {\n      success,\n      data\n    } = await addTemplate({\n      template_name: templateName,\n      milestones: filter_milestone\n    });\n\n    if (success) {\n      handleCombineMileStones([]);\n      handleStepForward(11);\n    }\n  };\n\n  const handleChange = value => {\n    if ((templateName === null || templateName === void 0 ? void 0 : templateName.length) && (templateName === null || templateName === void 0 ? void 0 : templateName.length) > 50) {\n      setError(\"Maximum 50 characters are allowed.\");\n    } else {\n      setError(\"\");\n    }\n\n    setTemplateName(value.trimLeft().replace(/[^a-zA-Z|0-9 ]/g, \"\"));\n  };\n\n  console.log({\n    error\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relate\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    handleStepForward(6);\n                  },\n                  className: \"back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title\",\n                  children: \"Save as template\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"commn_para\",\n                children: \"Add template name. It will be stored in your profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form_label\",\n                children: \"Template Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text_field\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: e => {\n                    handleChange(e.target.value);\n                  },\n                  value: templateName,\n                  type: \"text\",\n                  placeholder: \"This job...\",\n                  name: \"name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error_msg\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_field\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleContinue,\n                className: `fill_btn full_btn btn-effect ${checkError() ? \"disable_btn\" : \"\"}`,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SaveTemplate, \"kjbJwapHZH8FPBDMJUfws96SejM=\");\n\n_c = SaveTemplate;\nexport default SaveTemplate;\n\nvar _c;\n\n$RefreshReg$(_c, \"SaveTemplate\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/saveTemplate.tsx"],"names":["React","useState","addTemplate","SaveTemplate","milestones","handleCombineMileStones","handleStepForward","templateName","setTemplateName","error","setError","checkError","length","handleContinue","filter_milestone","filter","item","Object","keys","to_date","from_date","success","data","template_name","handleChange","value","trimLeft","replace","console","log","e","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useStore } from \"react-redux\";\nimport { addTemplate } from \"../../../redux/jobs/actions\";\ninterface Proptypes {\n  data: any;\n  milestones: any;\n  stepCompleted: Boolean;\n  handleStepComplete: (data: any) => void;\n  handleStepForward: (data: any) => void;\n  handleCombineMileStones: (data: any) => void;\n  handleStepBack: () => void;\n}\n\nconst SaveTemplate = ({\n  milestones,\n  handleCombineMileStones,\n  handleStepForward,\n}: Proptypes) => {\n  const [templateName, setTemplateName] = useState(\"\" as any);\n  const [error, setError] = useState(\"\" as any);\n\n  const checkError = () => {\n    if (!error?.length && templateName?.length) {\n      return false;\n    }\n    return true;\n  };\n\n  const handleContinue = async () => {\n    if (!templateName?.length) {\n      setError(\"Template name is required.\");\n      return;\n    }\n    let filter_milestone = milestones.filter((item: any) => {\n      if (Object.keys(item).length) {\n        if (!item?.to_date?.length) {\n          delete item.to_date;\n        }\n\n        if (!item?.from_date?.length || item?.from_date === \"Invalid date\") {\n          delete item.from_date;\n        }\n\n        return item;\n      }\n    });\n\n    let { success, data } = await addTemplate({\n      template_name: templateName,\n      milestones: filter_milestone,\n    });\n    if (success) {\n      handleCombineMileStones([]);\n      handleStepForward(11);\n    }\n  };\n\n  const handleChange = (value: any) => {\n    if (templateName?.length && templateName?.length > 50) {\n      setError(\"Maximum 50 characters are allowed.\");\n    } else {\n      setError(\"\");\n    }\n    setTemplateName(value.trimLeft().replace(/[^a-zA-Z|0-9 ]/g, \"\"));\n  };\n\n  console.log({ error });\n  return (\n    <div className=\"app_wrapper\">\n      <div className=\"section_wrapper\">\n        <div className=\"custom_container\">\n          <div className=\"form_field\">\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_5\">\n                <div className=\"relate\">\n                  <button\n                    onClick={() => {\n                      handleStepForward(6);\n                    }}\n                    className=\"back\"\n                  ></button>\n                  <span className=\"title\">Save as template</span>\n                </div>\n                <p className=\"commn_para\">\n                  {\"Add template name. It will be stored in your profile\"}\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"flex_row\">\n            <div className=\"flex_col_sm_5\">\n              <div className=\"form_field\">\n                <label className=\"form_label\">Template Name</label>\n                <div className=\"text_field\">\n                  <input\n                    onChange={(e) => {\n                      handleChange(e.target.value);\n                    }}\n                    value={templateName}\n                    type=\"text\"\n                    placeholder=\"This job...\"\n                    name=\"name\"\n                  />\n                </div>\n                <span className=\"error_msg\">{error}</span>\n              </div>\n              <div className=\"form_field\">\n                <button\n                  onClick={handleContinue}\n                  className={`fill_btn full_btn btn-effect ${\n                    checkError() ? \"disable_btn\" : \"\"\n                  }`}\n                >\n                  {\"Save\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SaveTemplate;\n"]},"metadata":{},"sourceType":"module"}