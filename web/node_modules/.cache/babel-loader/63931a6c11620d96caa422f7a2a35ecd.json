{"ast":null,"code":"import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import TradieBox from'../../../shared/tradieBox';import noData from'../../../../assets/images/no-search-data.png';import React,{useEffect,useState}from'react';import{withRouter}from'react-router-dom';import{getSavedTradies,getPopularTradies,getRecommendedTradies,getMostViewedTradies}from'../../../../redux/jobs/actions';//@ts-ignore\nimport InfiniteScroll from\"react-infinite-scroll-component\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SavedJobs=function SavedJobs(props){var _props$location8,_props$location8$stat,_props$location9,_props$location9$stat,_props$location14,_props$location14$sta,_props$location15,_props$location15$sta;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stateData=_useState2[0],setStateData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoad=_useState4[0],setLoad=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),hasLoad=_useState8[0],setHasLoad=_useState8[1];var backButtonClicked=function backButtonClicked(){var _props$history;(_props$history=props.history)===null||_props$history===void 0?void 0:_props$history.goBack();};var preFetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(page){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getSavedTradies({page:page});case 2:response=_context.sent;if(response===null||response===void 0?void 0:response.success){if(page>1){data=response===null||response===void 0?void 0:response.data;console.log({data:data});setStateData(function(prev){return[].concat(_toConsumableArray(prev),_toConsumableArray(data));});}else{setStateData(response.data);setLoad(true);}}case 4:case\"end\":return _context.stop();}}},_callee);}));return function preFetch(_x){return _ref.apply(this,arguments);};}();var preFetchPopularTradie=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(page){var positions,response,_response$data,data,_response$data2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:positions=localStorage.getItem('position');if(!positions){_context2.next=8;break;}positions=JSON.parse(positions).reverse();if(!Array.isArray(positions)){_context2.next=8;break;}_context2.next=6;return getPopularTradies({lat:positions[1],long:positions[0],page:page});case 6:response=_context2.sent;if(response===null||response===void 0?void 0:response.success){if(page>1){data=(response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.data)||[];setStateData(function(prev){return[].concat(_toConsumableArray(prev),_toConsumableArray(data));});}else{setStateData((response===null||response===void 0?void 0:(_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.data)||[]);setLoad(true);}}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function preFetchPopularTradie(_x2){return _ref2.apply(this,arguments);};}();var preFetchRecommendedTradie=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(page){var positions,response,_response$data3,data,_response$data4;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:positions=localStorage.getItem('position');if(!positions){_context3.next=8;break;}positions=JSON.parse(positions).reverse();if(!Array.isArray(positions)){_context3.next=8;break;}_context3.next=6;return getRecommendedTradies({lat:positions[1],long:positions[0],page:page});case 6:response=_context3.sent;if(response===null||response===void 0?void 0:response.success){if(page>1){data=(response===null||response===void 0?void 0:(_response$data3=response.data)===null||_response$data3===void 0?void 0:_response$data3.data)||[];setStateData(function(prev){return[].concat(_toConsumableArray(prev),_toConsumableArray(data));});}else{setStateData((response===null||response===void 0?void 0:(_response$data4=response.data)===null||_response$data4===void 0?void 0:_response$data4.data)||[]);setLoad(true);}}case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function preFetchRecommendedTradie(_x3){return _ref3.apply(this,arguments);};}();var preFetchMostViewedTradie=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(page){var positions,response,_response$data5,data,_response$data6;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:positions=localStorage.getItem('position');if(!positions){_context4.next=8;break;}positions=JSON.parse(positions).reverse();if(!Array.isArray(positions)){_context4.next=8;break;}_context4.next=6;return getMostViewedTradies({lat:positions[1],long:positions[0],page:page});case 6:response=_context4.sent;if(response===null||response===void 0?void 0:response.success){if(page>1){data=(response===null||response===void 0?void 0:(_response$data5=response.data)===null||_response$data5===void 0?void 0:_response$data5.data)||[];setStateData(function(prev){return[].concat(_toConsumableArray(prev),_toConsumableArray(data));});}else{setStateData((response===null||response===void 0?void 0:(_response$data6=response.data)===null||_response$data6===void 0?void 0:_response$data6.data)||[]);setLoad(true);}}case 8:case\"end\":return _context4.stop();}}},_callee4);}));return function preFetchMostViewedTradie(_x4){return _ref4.apply(this,arguments);};}();useEffect(function(){var _props$location,_props$location2,_props$location2$stat,_props$location3,_props$location3$stat,_props$location4,_props$location4$stat,_props$location5,_props$location5$stat,_props$location6,_props$location6$stat;console.log({state:props===null||props===void 0?void 0:(_props$location=props.location)===null||_props$location===void 0?void 0:_props$location.state,pathname:props.location.pathname,title:props===null||props===void 0?void 0:(_props$location2=props.location)===null||_props$location2===void 0?void 0:(_props$location2$stat=_props$location2.state)===null||_props$location2$stat===void 0?void 0:_props$location2$stat.title});setLoad(false);if((props===null||props===void 0?void 0:(_props$location3=props.location)===null||_props$location3===void 0?void 0:(_props$location3$stat=_props$location3.state)===null||_props$location3$stat===void 0?void 0:_props$location3$stat.title)===\"Saved tradespeople\"||props.location.pathname==='/saved-tradespeople'){preFetch(1);}else if((props===null||props===void 0?void 0:(_props$location4=props.location)===null||_props$location4===void 0?void 0:(_props$location4$stat=_props$location4.state)===null||_props$location4$stat===void 0?void 0:_props$location4$stat.title)===\"Popular tradespeople\"||props.location.pathname==='/popular-tradespeople'){preFetchPopularTradie(1);}else if((props===null||props===void 0?void 0:(_props$location5=props.location)===null||_props$location5===void 0?void 0:(_props$location5$stat=_props$location5.state)===null||_props$location5$stat===void 0?void 0:_props$location5$stat.title)===\"Recommended tradespeople\"||props.location.pathname==='/recommended-tradespeople'){preFetchRecommendedTradie(1);}else if((props===null||props===void 0?void 0:(_props$location6=props.location)===null||_props$location6===void 0?void 0:(_props$location6$stat=_props$location6.state)===null||_props$location6$stat===void 0?void 0:_props$location6$stat.title)===\"Most Viewed tradespeople\"||props.location.pathname==='/most-viewed-tradespeople'){preFetchMostViewedTradie(1);}else{var _props$location7,_props$location7$stat;setStateData(props===null||props===void 0?void 0:(_props$location7=props.location)===null||_props$location7===void 0?void 0:(_props$location7$stat=_props$location7.state)===null||_props$location7$stat===void 0?void 0:_props$location7$stat.data);setLoad(true);}},[]);if(!isLoad){return null;}if((props===null||props===void 0?void 0:(_props$location8=props.location)===null||_props$location8===void 0?void 0:(_props$location8$stat=_props$location8.state)===null||_props$location8$stat===void 0?void 0:_props$location8$stat.title)===\"Saved tradespeople\"||props.location.pathname==='/saved-tradespeople'){}if((props===null||props===void 0?void 0:(_props$location9=props.location)===null||_props$location9===void 0?void 0:(_props$location9$stat=_props$location9.state)===null||_props$location9$stat===void 0?void 0:_props$location9$stat.title)===\"Popular tradespeople\"||props.location.pathname==='/popular-tradespeople'){}var dataItems=stateData===null||stateData===void 0?void 0:stateData.length;return/*#__PURE__*/_jsx(\"div\",{className:'app_wrapper',children:dataItems?/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:stateData===null||stateData===void 0?void 0:stateData.length,next:function next(){var cp=currentPage;if((stateData===null||stateData===void 0?void 0:stateData.length)===cp*10){var _props$location10,_props$location10$sta,_props$location11,_props$location11$sta,_props$location12,_props$location12$sta,_props$location13,_props$location13$sta;setCurrentPage(function(prev){return prev+1;});cp=cp+1;if((props===null||props===void 0?void 0:(_props$location10=props.location)===null||_props$location10===void 0?void 0:(_props$location10$sta=_props$location10.state)===null||_props$location10$sta===void 0?void 0:_props$location10$sta.title)===\"Saved tradespeople\"){preFetch(cp);}if((props===null||props===void 0?void 0:(_props$location11=props.location)===null||_props$location11===void 0?void 0:(_props$location11$sta=_props$location11.state)===null||_props$location11$sta===void 0?void 0:_props$location11$sta.title)===\"Popular tradespeople\"){preFetchPopularTradie(cp);}if((props===null||props===void 0?void 0:(_props$location12=props.location)===null||_props$location12===void 0?void 0:(_props$location12$sta=_props$location12.state)===null||_props$location12$sta===void 0?void 0:_props$location12$sta.title)===\"Recommended tradespeople\"){preFetchRecommendedTradie(cp);}if((props===null||props===void 0?void 0:(_props$location13=props.location)===null||_props$location13===void 0?void 0:(_props$location13$sta=_props$location13.state)===null||_props$location13$sta===void 0?void 0:_props$location13$sta.title)===\"Most Viewed tradespeople\"){preFetchMostViewedTradie(cp);}}else{setHasLoad(false);}},hasMore:hasLoad,loader:/*#__PURE__*/_jsx(_Fragment,{}),style:{overflowX:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{className:\"section_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relate\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back\",onClick:backButtonClicked}),/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:(props===null||props===void 0?void 0:(_props$location14=props.location)===null||_props$location14===void 0?void 0:(_props$location14$sta=_props$location14.state)===null||_props$location14$sta===void 0?void 0:_props$location14$sta.title)||(props.location.pathname==='/saved-tradespeople'?'Saved tradespeople':'')})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_row tradies_row\",children:(stateData===null||stateData===void 0?void 0:stateData.length)>0?stateData===null||stateData===void 0?void 0:stateData.map(function(item,index){return/*#__PURE__*/_jsx(TradieBox,{item:item,index:index});}):null})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"pt-30\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relate\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back\",onClick:backButtonClicked}),/*#__PURE__*/_jsx(\"span\",{className:\"title mb0\",children:(props===null||props===void 0?void 0:(_props$location15=props.location)===null||_props$location15===void 0?void 0:(_props$location15$sta=_props$location15.state)===null||_props$location15$sta===void 0?void 0:_props$location15$sta.title)||(props.location.pathname==='/saved-tradespeople'?'Saved tradespeople':'')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"no_record\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"no_img\",children:/*#__PURE__*/_jsx(\"img\",{src:noData,alt:\"data not found\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"No Data Found\"})]})]})})});};export default withRouter(SavedJobs);","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/home/builderHome/components/commonViewAll.tsx"],"names":["TradieBox","noData","React","useEffect","useState","withRouter","getSavedTradies","getPopularTradies","getRecommendedTradies","getMostViewedTradies","InfiniteScroll","SavedJobs","props","stateData","setStateData","isLoad","setLoad","currentPage","setCurrentPage","hasLoad","setHasLoad","backButtonClicked","history","goBack","preFetch","page","response","success","data","console","log","prev","preFetchPopularTradie","positions","localStorage","getItem","JSON","parse","reverse","Array","isArray","lat","long","preFetchRecommendedTradie","preFetchMostViewedTradie","state","location","pathname","title","dataItems","length","cp","overflowX","map","item","index"],"mappings":"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","sourcesContent":["import TradieBox from '../../../shared/tradieBox';\nimport noData from '../../../../assets/images/no-search-data.png';\nimport dummy from '../../../../assets/images/u_placeholder.jpg';\nimport React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom';\nimport { getSavedTradies, getPopularTradies, getRecommendedTradies, getMostViewedTradies } from '../../../../redux/jobs/actions'\nimport { setShowToast, setLoading } from '../../../../redux/common/actions';\n\n//@ts-ignore\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst SavedJobs = (props: any) => {\n    const [stateData, setStateData] = useState<any>([]);\n    const [isLoad, setLoad] = useState(false);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [hasLoad, setHasLoad] = useState(true);\n\n\n    const backButtonClicked = () => {\n        props.history?.goBack();\n    }\n\n    const preFetch = async (page?: any) => {\n        let response = await getSavedTradies({ page: page });\n        if (response?.success) {\n            if (page > 1) {\n                let data = response?.data;\n                console.log({ data, })\n                setStateData((prev: any) => ([...prev, ...data]))\n            } else {\n                setStateData(response.data);\n                setLoad(true);\n            }\n        }\n    }\n\n    const preFetchPopularTradie = async (page?: any) => {\n        let positions = localStorage.getItem('position');\n        if (positions) {\n            positions = JSON.parse(positions).reverse();\n\n            if (Array.isArray(positions)) {\n                let response = await getPopularTradies({\n                    lat: positions[1],\n                    long: positions[0],\n                    page: page\n                });\n\n                if (response?.success) {\n                    if (page > 1) {\n                        let data = response?.data?.data || [];\n                        setStateData((prev: any) => ([...prev, ...data]))\n                    } else {\n                        setStateData(response?.data?.data || []);\n                        setLoad(true);\n                    }\n                }\n            }\n        }\n    }\n\n\n    const preFetchRecommendedTradie = async (page?: any) => {\n        let positions = localStorage.getItem('position');\n        if (positions) {\n            positions = JSON.parse(positions).reverse();\n\n            if (Array.isArray(positions)) {\n                let response = await getRecommendedTradies({\n                    lat: positions[1],\n                    long: positions[0],\n                    page: page\n                });\n\n                if (response?.success) {\n                    if (page > 1) {\n                        let data = response?.data?.data || [];\n                        setStateData((prev: any) => ([...prev, ...data]))\n                    } else {\n                        setStateData(response?.data?.data || []);\n                        setLoad(true);\n                    }\n                }\n            }\n        }\n    }\n\n    const preFetchMostViewedTradie = async (page?: any) => {\n        let positions = localStorage.getItem('position');\n        if (positions) {\n            positions = JSON.parse(positions).reverse();\n\n            if (Array.isArray(positions)) {\n                let response = await getMostViewedTradies({\n                    lat: positions[1],\n                    long: positions[0],\n                    page: page\n                });\n\n                if (response?.success) {\n                    if (page > 1) {\n                        let data = response?.data?.data || [];\n                        setStateData((prev: any) => ([...prev, ...data]))\n                    } else {\n                        setStateData(response?.data?.data || []);\n                        setLoad(true);\n                    }\n                }\n            }\n        }\n    }\n\n    useEffect(() => {\n        console.log({\n            state: props?.location?.state,\n            pathname: props.location.pathname,\n            title: props?.location?.state?.title\n        });\n        setLoad(false);\n        if (props?.location?.state?.title === \"Saved tradespeople\" || props.location.pathname === '/saved-tradespeople') {\n            preFetch(1);\n        } else if (props?.location?.state?.title === \"Popular tradespeople\" || props.location.pathname === '/popular-tradespeople') {\n            preFetchPopularTradie(1);\n        } else if (props?.location?.state?.title === \"Recommended tradespeople\" || props.location.pathname === '/recommended-tradespeople') {\n            preFetchRecommendedTradie(1);\n        } else if (props?.location?.state?.title === \"Most Viewed tradespeople\" || props.location.pathname === '/most-viewed-tradespeople') {\n            preFetchMostViewedTradie(1);\n        } else {\n            setStateData(props?.location?.state?.data);\n            setLoad(true);\n        }\n    }, []);\n\n    if (!isLoad) {\n        return null;\n    }\n\n    if (props?.location?.state?.title === \"Saved tradespeople\" || props.location.pathname === '/saved-tradespeople') {\n\n    }\n\n    if (props?.location?.state?.title === \"Popular tradespeople\" || props.location.pathname === '/popular-tradespeople') {\n\n    }\n    let dataItems = stateData?.length;\n    return (\n        <div className={'app_wrapper'} >\n            {dataItems ? (\n                <InfiniteScroll\n                    dataLength={stateData?.length}\n                    next={() => {\n                        let cp: any = currentPage;\n                        if (stateData?.length === (cp * 10)) {\n                            setCurrentPage((prev: any) => prev + 1);\n                            cp = cp + 1;\n\n                            if (props?.location?.state?.title === \"Saved tradespeople\") {\n                                preFetch(cp);\n                            }\n\n                            if (props?.location?.state?.title === \"Popular tradespeople\") {\n                                preFetchPopularTradie(cp);\n                            }\n\n                            if (props?.location?.state?.title === \"Recommended tradespeople\") {\n                                preFetchRecommendedTradie(cp);\n                            }\n\n                            if (props?.location?.state?.title === \"Most Viewed tradespeople\") {\n                                preFetchMostViewedTradie(cp);\n                            }\n                        } else {\n                            setHasLoad(false);\n                        }\n                    }}\n                    hasMore={hasLoad}\n                    loader={<></>}\n                    style={{ overflowX: 'hidden' }}>\n\n                    <div className=\"section_wrapper\">\n                        <div className=\"custom_container\">\n                            <div className=\"relate\">\n                                <button className=\"back\" onClick={backButtonClicked}></button>\n                                <span className=\"title\">\n                                    {props?.location?.state?.title || (props.location.pathname === '/saved-tradespeople' ? 'Saved tradespeople' : '')}\n                                </span>\n                            </div>\n\n                            <div className=\"flex_row tradies_row\">\n                                {stateData?.length > 0 ?\n                                    (stateData?.map((item: any, index: any) => (\n                                        <TradieBox\n                                            item={item}\n                                            index={index}\n                                        />\n                                    ))) : null}\n                            </div>\n                        </div>\n                    </div>\n                </InfiniteScroll>\n            ) : (\n                <div className=\"pt-30\">\n                    <div className=\"custom_container\">\n                        <div className=\"relate\">\n                            <button className=\"back\" onClick={backButtonClicked}></button>\n                            <span className=\"title mb0\">\n                                {props?.location?.state?.title || (props.location.pathname === '/saved-tradespeople' ? 'Saved tradespeople' : '')}\n                            </span>\n                        </div>\n\n                        \n                            <div className=\"no_record\">\n                                <figure className=\"no_img\">\n                                    <img src={noData} alt=\"data not found\" />\n                                </figure>\n                                <span>No Data Found</span>\n                            </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    )\n\n\n}\n\nexport default withRouter(SavedJobs);\n"]},"metadata":{},"sourceType":"module"}