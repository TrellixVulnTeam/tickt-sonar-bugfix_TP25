{"ast":null,"code":"var _jsxFileName = \"/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/jobType.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Constants from \"../../../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst JobType = ({\n  categories: categoriesData,\n  jobTypes,\n  data,\n  stepCompleted,\n  editDetailPage,\n  handleStepForward,\n  handleStepJustUpdate,\n  handleStepComplete,\n  handleStepBack\n}) => {\n  _s();\n\n  const {\n    errorStrings\n  } = Constants;\n  const [jobTypeDetails, setJobTypeDetails] = useState({\n    categories: [],\n    job_type: [],\n    specialization: []\n  });\n  const [errors, setErrors] = useState({\n    job_type: \"\",\n    categories: \"\",\n    specialization: \"\"\n  });\n  const [continueClicked, setContinueClicked] = useState(false);\n  const [selectedAll, setSelectedAll] = useState(false);\n  const specializations = [];\n  const categoriesHTML = [];\n  const {\n    job_type,\n    categories,\n    specialization\n  } = jobTypeDetails;\n  categoriesData.forEach(({\n    _id,\n    trade_name,\n    selected_url,\n    specialisations\n  }) => {\n    if (categories.includes(_id)) {\n      specializations.push(...specialisations);\n    }\n\n    categoriesHTML.push( /*#__PURE__*/_jsxDEV(\"li\", {\n      className: categories.includes(_id) ? \"active\" : undefined,\n      onClick: () => {\n        handleChange(_id, \"categories\");\n        setSelectedAll(true);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: selected_url,\n          alt: \"cat-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"name\",\n        children: trade_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, _id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this));\n  });\n  useEffect(() => {\n    if (stepCompleted) {\n      let checkSelected = false;\n\n      if (categoriesData === null || categoriesData === void 0 ? void 0 : categoriesData.length) {\n        var _preSelectedSpec, _data$specialization, _preSelectedSpec2, _data$specialization2;\n\n        let preSelectedSpec = [];\n        preSelectedSpec = categoriesData.find(item => item._id === data.categories[0]).specialisations;\n\n        if (((_preSelectedSpec = preSelectedSpec) === null || _preSelectedSpec === void 0 ? void 0 : _preSelectedSpec.length) === ((_data$specialization = data.specialization) === null || _data$specialization === void 0 ? void 0 : _data$specialization.length)) {\n          checkSelected = true;\n        }\n\n        if (((_preSelectedSpec2 = preSelectedSpec) === null || _preSelectedSpec2 === void 0 ? void 0 : _preSelectedSpec2.length) && !((_data$specialization2 = data.specialization) === null || _data$specialization2 === void 0 ? void 0 : _data$specialization2.length)) {\n          checkSelected = true;\n        }\n      }\n\n      setJobTypeDetails({\n        categories: data.categories,\n        job_type: data.job_type,\n        specialization: checkSelected ? [] : data.specialization\n      });\n      console.log({\n        checkSelected\n      });\n      setSelectedAll(checkSelected);\n    }\n  }, [stepCompleted, data]); // for error messages\n\n  const label = {\n    job_type: \"Job Type\",\n    categories: \"Categories\",\n    specialization: \"Specialization\"\n  };\n\n  const isEmpty = (name, value) => !value.length ? `${label[name]} is required.` : \"\";\n\n  const isInvalid = (name, value) => {\n    switch (name) {\n      case \"job_type\":\n        return isEmpty(name, value);\n\n      case \"categories\":\n        return isEmpty(name, value);\n\n      case \"specialization\":\n        return isEmpty(name, value);\n    }\n  }; // update errors and jobDetails\n\n\n  const updateDetails = (value, name) => {\n    if (stepCompleted || continueClicked) {\n      setErrors(prevErrors => ({ ...prevErrors,\n        [name]: isInvalid(name, value)\n      }));\n    }\n\n    setJobTypeDetails(prevDetails => ({ ...prevDetails,\n      [name]: value\n    }));\n  }; // function callable on handle change\n\n\n  const handleChange = (value, name) => {\n    if (jobTypeDetails[name].includes(value)) {\n      updateDetails(jobTypeDetails[name].filter(val => val !== value), name); // when category is deselected, remove it's specialization\n\n      if (name === \"categories\") {\n        var _categoriesData$find$;\n\n        const specializationsToBeRemoved = ((_categoriesData$find$ = categoriesData.find(({\n          _id\n        }) => _id === value).specialisations) === null || _categoriesData$find$ === void 0 ? void 0 : _categoriesData$find$.map(({\n          _id\n        }) => _id)) || [];\n        let itemsSpec = jobTypeDetails.specialization.filter(value => !specializationsToBeRemoved.includes(value));\n        updateDetails(itemsSpec, \"specialization\");\n        updateDetails([], \"categories\");\n      }\n    } else {\n      if (name !== \"specialization\") {\n        jobTypeDetails[name] = [value];\n        updateDetails(jobTypeDetails[name], name); // updateDetails([], 'specialization');\n      } else {\n        updateDetails(jobTypeDetails[name].concat([value]), name);\n      }\n    }\n  };\n\n  const handleContinue = () => {\n    let hasErrors;\n\n    if (selectedAll) {\n      setJobTypeDetails(prev => ({ ...prev,\n        specialization: specializations.map(item => item._id)\n      }));\n    }\n\n    console.log({\n      jobTypeDetails\n    }, \"-->\");\n\n    if (!continueClicked) {\n      setContinueClicked(true);\n      hasErrors = Object.keys(jobTypeDetails).reduce((prevError, name) => {\n        let hasError = !!isInvalid(name, jobTypeDetails[name]);\n\n        if (name === \"specialization\" && hasError) {\n          hasError = false;\n        }\n\n        setErrors(prevErrors => ({ ...prevErrors,\n          [name]: isInvalid(name, jobTypeDetails[name])\n        }));\n        return hasError || prevError;\n      }, false);\n    }\n\n    if (!hasErrors) {\n      var _jobTypeDetails$speci;\n\n      let dataItems = jobTypeDetails;\n\n      if ((jobTypeDetails === null || jobTypeDetails === void 0 ? void 0 : (_jobTypeDetails$speci = jobTypeDetails.specialization) === null || _jobTypeDetails$speci === void 0 ? void 0 : _jobTypeDetails$speci.length) === 0) {\n        if (selectedAll) {\n          dataItems[\"specialization\"] = specializations.map(item => item._id);\n        }\n      }\n\n      if (editDetailPage === null || editDetailPage === void 0 ? void 0 : editDetailPage.currentScreen) {\n        handleStepJustUpdate(dataItems, true);\n      } else {\n        handleStepComplete(dataItems);\n      }\n    } else {\n      setContinueClicked(false);\n    }\n  };\n\n  const checkErrors = () => {\n    let error_1 = isInvalid(\"categories\", jobTypeDetails[\"categories\"]);\n    let error_2 = isInvalid(\"job_type\", jobTypeDetails[\"job_type\"]);\n    let error_3 = isInvalid(\"specialization\", jobTypeDetails[\"specialization\"]);\n\n    if (!(error_1 === null || error_1 === void 0 ? void 0 : error_1.length) && !(error_2 === null || error_2 === void 0 ? void 0 : error_2.length) && (!(error_3 === null || error_3 === void 0 ? void 0 : error_3.length) || selectedAll && (specializations === null || specializations === void 0 ? void 0 : specializations.length))) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_field\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex_col_sm_5\",\n              children: [(editDetailPage === null || editDetailPage === void 0 ? void 0 : editDetailPage.currentScreen) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relate\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"back\",\n                  onClick: () => {\n                    handleStepForward(14);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title\",\n                  children: \"Job type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relate\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"back\",\n                  onClick: handleStepBack\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title\",\n                  children: \"Job type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"commn_para\",\n                children: \"Select the category and the specialisations required\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_field\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"xs_sub_title\",\n            children: \"Categories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"select_sphere\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: categoriesHTML\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error_msg\",\n            children: errors.categories\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_field\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"xs_sub_title\",\n            children: \"Job Types\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"job_categories\",\n          children: jobTypes && Array.isArray(jobTypes) ? jobTypes.map(({\n            _id,\n            name,\n            image\n          }) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `${job_type.includes(_id) ? \" active\" : \"\"}`,\n            onClick: () => handleChange(_id, \"job_type\"),\n            children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n              className: \"type_icon\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: image,\n                alt: \"icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"name\",\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 23\n            }, this)]\n          }, _id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 21\n          }, this)) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error_msg\",\n          children: errors.job_type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_field\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"xs_sub_title\",\n            children: \"Specialisation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex_row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex_col_sm_6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tags_wrap\",\n              children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [console.log({\n                  selectedAll,\n                  specializations\n                }), (specializations === null || specializations === void 0 ? void 0 : specializations.length) > 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n                  onClick: () => {\n                    if (!selectedAll) {\n                      setSelectedAll(true);\n                    }\n\n                    updateDetails([], \"specialization\");\n                  },\n                  className: selectedAll ? \"selected\" : \"\",\n                  children: \"All\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this), specializations.map(({\n                  _id,\n                  name\n                }) => {\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: specialization.includes(_id) && !selectedAll ? \"selected\" : undefined,\n                    onClick: () => {\n                      handleChange(_id, \"specialization\");\n\n                      if (selectedAll) {\n                        setSelectedAll(false);\n                      }\n                    },\n                    children: name\n                  }, _id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error_msg\",\n                children: !selectedAll ? errors.specialization : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_field\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `fill_btn full_btn btn-effect ${checkErrors() ? \"disable_btn\" : \"\"}`,\n            onClick: () => {\n              if (selectedAll) {\n                // setJobTypeDetails((prev: any) => ({ ...prev, 'specialization': specializations.map((item: any) => item._id) }))\n                updateDetails(specializations.map(item => item._id), \"specialization\");\n              }\n\n              handleContinue();\n            },\n            children: \"Continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n};\n\n_s(JobType, \"YP9f/S9HtcSu2KWdg0mlySmKYwI=\");\n\n_c = JobType;\nexport default JobType; ////////////////////////////////////////////////////////////\n\n/* eslint-disable eqeqeq */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n// import { connect } from \"react-redux\";\n// import { bindActionCreators } from \"redux\";\n// import { callTradeList } from \"./../../redux/auth/actions\";\n// import {\n//   getJobWithJobTypeLatLong,\n//   getJobTypeList,\n// } from \"../../redux/homeSearch/actions\";\n// import { useState, useEffect } from \"react\";\n// import Constants from \"../../utils/constants\";\n// import { setShowToast } from \"../../redux/common/actions\";\n// import regex from \"../../utils/regex\";\n// import Menu from \"@material-ui/core/Menu\";\n// import Modal from \"@material-ui/core/Modal\";\n// import MenuItem from \"@material-ui/core/MenuItem\";\n// import filterUnselected from \"../../assets/images/ic-filter-unselected.png\";\n// import filterSelected from \"../../assets/images/ic-filter-selected.png\";\n// import cancel from \"../../assets/images/ic-cancel.png\";\n// import spherePlaceholder from \"../../assets/images/ic_categories_placeholder.svg\";\n// import { moengage, mixPanel } from \"../../services/analyticsTools\";\n// import { MoEConstants } from \"../../utils/constants\";\n// const SearchFilter = (props: any) => {\n//   const { setSortByFilter, sortByFilter, filterChangeHandler } = props;\n//   // const { data, searchText, selectedAddress, selectedTrade, exta } = props.selectedItem;\n//   const [errors, setErrors] = useState<any>({});\n//   const [priceAnchorEl, setPriceAnchorEl] = useState(null);\n//   const [filterAnchorEl, setFilterAnchorEl] = useState(null);\n//   const [sortingAnchorEl, setSortingAnchorEl] = useState(null);\n//   const [filterState, setFilterState] = useState({\n//     page: 1,\n//   });\n//   const [filterEnable, setFilterEnable] = useState(false);\n//   const [prevLocal, setPrevLocal] = useState(null);\n//   const [sortByPrice, setSortByPrice] = useState<any>({\n//     priceFilterClicked: false,\n//     payTypeClicked: false,\n//     pay_type: \"Fixed price\",\n//     max_budget: \"\",\n//   });\n//   //   const [sortByFilter, setSortByFilter] = useState<any>({\n//   //     sortByFilterClicked: false,\n//   //     tradeId: [],\n//   //     sortChanged: false,\n//   //     specializationId: [],\n//   //     specializationName: [],\n//   //     allSpecializationClicked: false,\n//   //   });\n//   // jobTypes: [],\n//   const [sortBySorting, setSortBySorting] = useState<any>({\n//     sortBySorting: false,\n//     sortBy: 0,\n//   });\n//   useEffect(() => {\n//     if (props.jobTypeListData?.length === 0) props.getJobTypeList();\n//     if (props.tradeListData?.length === 0) props.callTradeList();\n//     setPrevLocal(props.localInfo);\n//   }, []);\n//   useEffect(() => {\n//     if (props?.localInfo?.tradeId?.length) {\n//       // setSortByFilter((prev: any) => ({\n//       //     ...prev,\n//       //     tradeId: props.localInfo.tradeId,\n//       //     specializationId: props.localInfo.specializationId\n//       // }));\n//     }\n//     console.log({ props });\n//   }, [props]);\n//   const sortByPriceClick = (event: any) => {\n//     setPriceAnchorEl(event.currentTarget);\n//     setSortByPrice((prevData: any) => ({\n//       ...prevData,\n//       priceFilterClicked: true,\n//     }));\n//   };\n//   const sortByPriceClose = () => {\n//     setPriceAnchorEl(null);\n//     setSortByPrice((prevData: any) => ({\n//       ...prevData,\n//       priceFilterClicked: false,\n//     }));\n//   };\n//   const sortByFilterClick = (event: any) => {\n//     setFilterAnchorEl(event.currentTarget);\n//     setSortByFilter((prevData: any) => ({\n//       ...prevData,\n//       sortByFilterClicked: true,\n//       sortChanged: true,\n//     }));\n//   };\n//   const sortByFilterClose = () => {\n//     setFilterAnchorEl(null);\n//     setSortByFilter((prevData: any) => ({\n//       ...prevData,\n//       sortByFilterClicked: false,\n//     }));\n//   };\n//   const sortBySortingClick = (event: any) => {\n//     setSortingAnchorEl(event.currentTarget);\n//     setSortBySorting((prevData: any) => ({ ...prevData, sortBySorting: true }));\n//   };\n//   const sortBySortingClose = () => {\n//     setSortingAnchorEl(null);\n//     setSortBySorting((prevData: any) => ({\n//       ...prevData,\n//       sortBySorting: false,\n//     }));\n//   };\n//   const sortByButtonClicked = (num: number) => {\n//     setSortBySorting((prevData: any) => ({ ...prevData, sortBy: num }));\n//     sortBySortingClose();\n//     updateOnChange(num);\n//   };\n//   const setSameOnClick = () => {\n//     setSortBySorting((prevData: any) => ({ ...prevData, sortBy: 0 }));\n//     sortBySortingClose();\n//     updateOnChange(0);\n//   };\n//   //   const filterChangeHandler = (id: any, name: string, newName?: string) => {\n//   //     if (name === \"jobTypes\") {\n//   //       if (sortByFilter.jobTypes[0] == id) {\n//   //         setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [] }));\n//   //       } else {\n//   //         setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [id] }));\n//   //       }\n//   //     } else if (name === \"specializationId\") {\n//   //       console.log(\"149 => \", newName);\n//   //       setSortByFilter((prevData: any) => {\n//   //         console.log(\"-------prevData =>  \", prevData);\n//   //         var newData: any = [];\n//   //         var newNameData: any = [];\n//   //         if (\n//   //           Array.isArray(prevData.specializationId) &&\n//   //           prevData?.specializationId?.length\n//   //         ) {\n//   //           newData = [...prevData.specializationId];\n//   //         }\n//   //         console.log(\"prevData => \", prevData);\n//   //         if (\n//   //           Array.isArray(prevData.specializationName) &&\n//   //           prevData?.specializationName?.length\n//   //         ) {\n//   //           newNameData = [...prevData.specializationName];\n//   //         }\n//   //         if (sortByFilter.allSpecializationClicked) {\n//   //           newData = [];\n//   //           newNameData = [];\n//   //         }\n//   //         const itemIndex = newData.indexOf(id);\n//   //         const itemnameIndex = newData.indexOf(newName);\n//   //         if (newData.indexOf(id) < 0) {\n//   //           newData.push(id);\n//   //         } else {\n//   //           newData.splice(itemIndex, 1);\n//   //         }\n//   //         if (newData.indexOf(newName) < 0) {\n//   //           newNameData.push(newName);\n//   //         } else {\n//   //           newNameData.splice(itemnameIndex, 1);\n//   //         }\n//   //         console.log(\n//   //           newNameData,\n//   //           \"-----------------------------------prevData =>  \",\n//   //           prevData\n//   //         );\n//   //         return {\n//   //           ...prevData,\n//   //           specializationId: newData,\n//   //           specializationName: newNameData,\n//   //           allSpecializationClicked: false,\n//   //         };\n//   //       });\n//   //     } else if (name == \"categories\") {\n//   //       if (sortByFilter.tradeId.length && sortByFilter.tradeId[0] == id) {\n//   //         setSortByFilter((prevData: any) => ({\n//   //           ...prevData,\n//   //           tradeId: [],\n//   //           specializationId: [],\n//   //           allSpecializationClicked: false,\n//   //         }));\n//   //       } else {\n//   //         setSortByFilter((prevData: any) => ({\n//   //           ...prevData,\n//   //           tradeId: [id],\n//   //           specializationId: [],\n//   //           allSpecializationClicked: false,\n//   //         }));\n//   //       }\n//   //     } else if (name == \"All Clicked\") {\n//   //       if (sortByFilter.allSpecializationClicked) {\n//   //         setSortByFilter((prevData: any) => ({\n//   //           ...prevData,\n//   //           allSpecializationClicked: false,\n//   //           specializationId: [],\n//   //         }));\n//   //       } else {\n//   //         const newSpecialization = id.map(({ _id }: { _id: string }) => {\n//   //           return _id;\n//   //         });\n//   //         setSortByFilter((prevData: any) => ({\n//   //           ...prevData,\n//   //           allSpecializationClicked: true,\n//   //           specializationId: newSpecialization,\n//   //         }));\n//   //       }\n//   //     } else if (name == \"Clear All\") {\n//   //       setSortByFilter((prevData: any) => ({\n//   //         ...prevData,\n//   //         allSpecializationClicked: false,\n//   //         jobTypes: [],\n//   //         specializationId: [],\n//   //         specializationName: [],\n//   //         tradeId: [],\n//   //       }));\n//   //     }\n//   //   };\n//   const renderFilterButtons = () => (\n//     <ul className=\"filters_row\">\n//       <li>\n//         <a className={filterEnable ? \"active\" : \"\"} onClick={sortByFilterClick}>\n//           <img\n//             src={filterEnable ? filterSelected : filterUnselected}\n//             alt=\"filter\"\n//           />\n//           {\"Filter\"}\n//         </a>\n//       </li>\n//       <li>\n//         <a\n//           className={sortBySorting.sortBy > 0 ? \"active\" : \"\"}\n//           onClick={sortBySortingClick}\n//         >\n//           {`Sorting`}\n//         </a>\n//       </li>\n//     </ul>\n//   );\n//   const showResultSearch = () => {\n//     if (!sortByFilter?.tradeId?.length) {\n//       updateOnChange(sortBySorting.sortBy);\n//       sortByFilterClose();\n//       setFilterEnable(false);\n//       return;\n//     }\n//     updateOnChange(sortBySorting.sortBy);\n//     sortByFilterClose();\n//     setFilterEnable(true);\n//   };\n//   const updateOnChange = (sort?: any) => {\n//     let local_info: any = props.localInfo;\n//     let sort_: any = sort;\n//     console.log(\n//       { sort_, local_info },\n//       \"-------------------------->><<-------------- item_coord\"\n//     );\n//     const tradeInfo = props.tradeListData?.find(\n//       (item: any) => item._id === sortByFilter.tradeId?.[0]\n//     );\n//     const specializationList = props.tradeListData?.find(\n//       ({ _id }: { _id: string }) => _id === sortByFilter.tradeId?.[0]\n//     )?.specialisations;\n//     const { specializationId, tradeId, specializationName } = sortByFilter;\n//     console.log({ specializationId, sortByFilter, props });\n//     // if (specializationId?.length) {\n//     let filteredItem: any = [];\n//     // let name = specializationList[0].name;\n//     if (specializationList?.length) {\n//       filteredItem = specializationList.filter((item: any) => {\n//         if (Array.isArray(specializationId) && specializationId?.length) {\n//           if (specializationId.includes(item._id)) {\n//             return item;\n//           }\n//         }\n//       });\n//     }\n//     let name = \"\";\n//     if (\n//       Array.isArray(filteredItem) &&\n//       filteredItem?.length &&\n//       filteredItem[0].name\n//     ) {\n//       name = filteredItem[0].name;\n//     }\n//     let data: any = {\n//       page: 1,\n//       isFiltered: true,\n//     };\n//     if (sort_) {\n//       data[\"sortBy\"] = sort_;\n//     }\n//     if (\n//       (Array.isArray(tradeId) && tradeId?.length) ||\n//       (!Array.isArray(tradeId) && tradeId?.length)\n//     ) {\n//       data[\"tradeId\"] = Array.isArray(tradeId) ? tradeId : [tradeId];\n//     }\n//     if (Array.isArray(specializationId) && specializationId?.length) {\n//       data[\"specializationId\"] = specializationId;\n//     }\n//     if (Array.isArray(specializationName) && specializationName?.length) {\n//       data[\"specializationName\"] = specializationName;\n//     }\n//     let get_position: any = localStorage.getItem(\"position\");\n//     if (sort_ === 2) {\n//       let item_coord: any = !local_info?.location?.coordinates?.length\n//         ? JSON.parse(get_position).reverse()\n//         : local_info?.location?.coordinates;\n//       if (item_coord?.length) {\n//         data[\"location\"] = {\n//           coordinates: item_coord,\n//         };\n//       }\n//     } else {\n//       if (local_info?.location) {\n//         data[\"location\"] = local_info?.location;\n//       } else {\n//         delete data.location;\n//       }\n//     }\n//     if (local_info?.from_date) {\n//       data[\"from_date\"] = local_info?.from_date;\n//     }\n//     if (local_info?.to_date) {\n//       data[\"to_date\"] = local_info?.to_date;\n//     }\n//     if (local_info?.suggestionSelected) {\n//       data[\"address\"] = JSON.stringify(local_info?.suggestionSelected);\n//       if (data?.address === \"{}\") {\n//         delete data.address;\n//       }\n//     }\n//     if (!data?.address || !data?.address?.length) {\n//       delete data?.address;\n//     }\n//     props.postHomeSearchData(data);\n//     const mData = {\n//       timeStamp: moengage.getCurrentTimeStamp(),\n//       category: props?.tradeListData.find(\n//         (i: any) => i._id === data?.tradeId[0]\n//       )?.trade_name,\n//       ...(data.address && {\n//         location: `${JSON.parse(data.address)?.mainText} ${\n//           JSON.parse(data.address)?.secondaryText\n//         }`,\n//       }),\n//       //'length of hire': '',\n//       ...(data?.from_date && { \"start date\": data?.from_date }),\n//       ...(data?.to_date && { \"end date\": data?.to_date }),\n//     };\n//     moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n//     mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n//     let trade_name: any = tradeInfo?.trade_name;\n//     let local_info_name: any = local_info?.name;\n//     let local_info_count: any = local_info?.count;\n//     let case_1 = name ? name : trade_name;\n//     let case_2 = `${local_info_name} ${\n//       local_info_count > 1 ? `+${local_info_count - 1}` : \"\"\n//     }`;\n//     let name_: any = case_1 ? trade_name : local_info_name ? case_2 : \"\";\n//     props.getTitleInfo({\n//       name: name_,\n//       isTradeName: tradeInfo?.trade_name ? true : false,\n//       count: specializationId?.length || 0,\n//       tradeId: data.tradeId,\n//       specializationId: data.specializationId || [],\n//       sortBy: data.sortBy || 0,\n//       to_date: local_info?.to_date || \"\",\n//       from_date: local_info?.from_date || \"\",\n//       doingLocalChanges: false,\n//     });\n//   };\n//   const specializationList = props.tradeListData?.find(\n//     ({ _id }: { _id: string }) => _id === sortByFilter.tradeId?.[0]\n//   )?.specialisations;\n//   let checkIfAllSelected = false;\n//   if (specializationList) {\n//     checkIfAllSelected =\n//       sortByFilter.specializationId?.length === specializationList?.length;\n//   }\n//   const sortOnChange = (num: number) => {\n//     if (sortBySorting.sortBy !== num) {\n//       sortByButtonClicked(num);\n//     }\n//   };\n//   const sortOnClick = (num: number) => {\n//     if (sortBySorting.sortBy == num) {\n//       setSameOnClick();\n//     }\n//   };\n//   const checksForActive = ({ checkIfAllSelected, sortByFilter }: any) => {\n//     if (sortByFilter?.allSpecializationClicked) {\n//       return true;\n//     }\n//     if (sortByFilter?.specializationId?.length) {\n//       return false;\n//     }\n//     if (checkIfAllSelected || sortByFilter?.tradeId?.length) {\n//       return true;\n//     }\n//   };\n//   return (\n//     <div className=\"filters_wrapr\">\n//       {renderFilterButtons()}\n//       {sortByFilter.sortByFilterClicked && (\n//         <Modal\n//           className=\"custom_modal\"\n//           open={sortByFilter.sortByFilterClicked}\n//           onClose={sortByFilterClose}\n//           aria-labelledby=\"simple-modal-title\"\n//           aria-describedby=\"simple-modal-description\"\n//         >\n//           <>\n//             <div\n//               className=\"custom_wh filter_modal\"\n//               data-aos=\"zoom-in\"\n//               data-aos-delay=\"30\"\n//               data-aos-duration=\"1000\"\n//             >\n//               <div className=\"heading\">\n//                 <span className=\"sub_title\">Filter</span>\n//                 <button className=\"close_btn\" onClick={sortByFilterClose}>\n//                   <img src={cancel} alt=\"cancel\" />\n//                 </button>\n//               </div>\n//               <div className=\"inner_wrap\">\n//                 <div className=\"form_field\">\n//                   <span className=\"xs_sub_title\">{\"Categories\"}</span>\n//                 </div>\n//                 <div className=\"select_sphere\">\n//                   <ul>\n//                     {props.tradeListData?.map(\n//                       ({\n//                         _id,\n//                         trade_name,\n//                         selected_url,\n//                         specialisations,\n//                       }: {\n//                         _id: string;\n//                         trade_name: string;\n//                         selected_url: string;\n//                         specialisations: [];\n//                       }) => {\n//                         const active = sortByFilter.tradeId?.[0] === _id;\n//                         return (\n//                           <li\n//                             key={_id}\n//                             className={active ? \"active\" : \"\"}\n//                             onClick={() =>\n//                               filterChangeHandler(_id, \"categories\")\n//                             }\n//                           >\n//                             <figure>\n//                               <img\n//                                 alt=\"\"\n//                                 src={\n//                                   selected_url\n//                                     ? selected_url\n//                                     : spherePlaceholder\n//                                 }\n//                               />\n//                             </figure>\n//                             <span className=\"name\">{trade_name}</span>\n//                           </li>\n//                         );\n//                       }\n//                     )}\n//                   </ul>\n//                   {/* <span className=\"error_msg\">{errors.categories}</span> */}\n//                 </div>\n//                 <div className=\"form_field\">\n//                   <span className=\"xs_sub_title\">Specialisation</span>\n//                 </div>\n//                 <div className=\"tags_wrap\">\n//                   <ul>\n//                     {console.log({\n//                       specializationList,\n//                       checkIfAllSelected,\n//                       sortByFilter: sortByFilter.allSpecializationClicked,\n//                     })}\n//                     {specializationList?.length > 0 && (\n//                       <li\n//                         className={\n//                           checksForActive({ checkIfAllSelected, sortByFilter })\n//                             ? \"selected\"\n//                             : \"\"\n//                         }\n//                         // className={sortByFilter.allSpecializationClicked ? 'selected' : ''}\n//                         onClick={() => {\n//                           let items: any = props.tradeListData.find(\n//                             (dt: any) => dt._id == sortByFilter.tradeId\n//                           );\n//                           if (items) {\n//                             filterChangeHandler(\n//                               items?.specialisations,\n//                               \"All Clicked\",\n//                               \"\"\n//                             );\n//                           }\n//                         }}\n//                       >\n//                         {\"All\"}\n//                       </li>\n//                     )}\n//                     {specializationList?.map(\n//                       ({ _id, name }: { _id: string; name: string }) => {\n//                         // let active = sortByFilter.specializationId?.indexOf(_id) >= 0;\n//                         let active = false;\n//                         if (\n//                           specializationList?.length !==\n//                           sortByFilter.specializationId?.length\n//                         ) {\n//                           active = false;\n//                           if (\n//                             Array.isArray(sortByFilter.specializationId) &&\n//                             sortByFilter.specializationId?.length\n//                           ) {\n//                             active =\n//                               sortByFilter.specializationId.includes(_id);\n//                           }\n//                         }\n//                         return (\n//                           <li\n//                             key={_id}\n//                             className={active ? \"selected\" : \"\"}\n//                             // className={active && !sortByFilter.allSpecializationClicked ? 'selected' : ''}\n//                             onClick={() => {\n//                               if (checkIfAllSelected) {\n//                                 let sort_by_spec: any = sortByFilter;\n//                                 sort_by_spec[\"specializationId\"] = [];\n//                                 setSortByFilter(sort_by_spec);\n//                               }\n//                               filterChangeHandler(\n//                                 _id,\n//                                 \"specializationId\",\n//                                 name\n//                               );\n//                             }}\n//                           >\n//                             {name}\n//                           </li>\n//                         );\n//                       }\n//                     )}\n//                   </ul>\n//                   {/* <span className=\"error_msg\">{errors.specializationId}</span> */}\n//                 </div>\n//               </div>\n//               <div className=\"filter_btn\">\n//                 <a\n//                   className=\"link\"\n//                   onClick={() =>\n//                     filterChangeHandler(\"Clear All\", \"Clear All\", \"\")\n//                   }\n//                 >\n//                   Clear All\n//                 </a>\n//                 <button\n//                   className=\"fill_btn full_btn btn-effect\"\n//                   onClick={showResultSearch}\n//                 >\n//                   Show Results\n//                 </button>\n//               </div>\n//             </div>\n//           </>\n//         </Modal>\n//       )}\n//       {sortBySorting.sortBySorting && (\n//         <Menu\n//           // id=\"simple-menu\"\n//           className=\"fsp_modal range\"\n//           anchorEl={sortingAnchorEl}\n//           keepMounted\n//           open={Boolean(sortingAnchorEl)}\n//           onClose={sortBySortingClose}\n//         >\n//           <span className=\"close_btn\" onClick={sortBySortingClose}>\n//             <img src={cancel} alt=\"cancel\" />\n//           </span>\n//           <span className=\"sub_title\">{\"Sort by\"}</span>\n//           <div className=\"radio_wrap agree_check\">\n//             <input\n//               className=\"filter-type filled-in\"\n//               type=\"radio\"\n//               id=\"highestRated\"\n//               value=\"Highest rated\"\n//               checked={sortBySorting.sortBy === 1}\n//               onClick={() => {\n//                 sortOnClick(1);\n//               }}\n//               onChange={() => {\n//                 sortOnChange(1);\n//               }}\n//             />\n//             <label htmlFor=\"highestRated\">Highest rated</label>\n//           </div>\n//           <div className=\"radio_wrap agree_check\">\n//             <input\n//               className=\"filter-type filled-in\"\n//               type=\"radio\"\n//               id=\"closest\"\n//               value=\"Closest to me\"\n//               checked={sortBySorting.sortBy === 2}\n//               onClick={() => {\n//                 sortOnClick(2);\n//               }}\n//               onChange={() => {\n//                 sortOnChange(2);\n//               }}\n//             />\n//             <label htmlFor=\"closest\">Closest to me</label>\n//           </div>\n//           <div className=\"radio_wrap agree_check\">\n//             <input\n//               className=\"filter-type filled-in\"\n//               type=\"radio\"\n//               id=\"mostJob\"\n//               value=\"Most jobs completed\"\n//               checked={sortBySorting.sortBy === 3}\n//               onClick={() => {\n//                 sortOnClick(3);\n//               }}\n//               onChange={() => {\n//                 sortOnChange(3);\n//               }}\n//             />\n//             <label htmlFor=\"mostJob\">{\"Most jobs completed\"}</label>\n//           </div>\n//         </Menu>\n//       )}\n//     </div>\n//   );\n// };\n// const mapStateToProps = (state: any) => {\n//   return {\n//     jobDataWithJobTypeLatLong: state.homeSearch.jobDataWithJobTypeLatLong,\n//     jobTypeListData: state.homeSearch.jobTypeListData,\n//     tradeListData: state.auth.tradeListData,\n//   };\n// };\n// const mapDispatchToProps = (dispatch: any) => {\n//   return bindActionCreators(\n//     {\n//       getJobWithJobTypeLatLong,\n//       getJobTypeList,\n//       callTradeList,\n//     },\n//     dispatch\n//   );\n// };\n// export default connect(mapStateToProps, mapDispatchToProps)(SearchFilter);\n\nvar _c;\n\n$RefreshReg$(_c, \"JobType\");","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/postJob/components/jobType.tsx"],"names":["useEffect","useState","Constants","JobType","categories","categoriesData","jobTypes","data","stepCompleted","editDetailPage","handleStepForward","handleStepJustUpdate","handleStepComplete","handleStepBack","errorStrings","jobTypeDetails","setJobTypeDetails","job_type","specialization","errors","setErrors","continueClicked","setContinueClicked","selectedAll","setSelectedAll","specializations","categoriesHTML","forEach","_id","trade_name","selected_url","specialisations","includes","push","undefined","handleChange","checkSelected","length","preSelectedSpec","find","item","console","log","label","isEmpty","name","value","isInvalid","updateDetails","prevErrors","prevDetails","filter","val","specializationsToBeRemoved","map","itemsSpec","concat","handleContinue","hasErrors","prev","Object","keys","reduce","prevError","hasError","dataItems","currentScreen","checkErrors","error_1","error_2","error_3","Array","isArray","image"],"mappings":"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A;AAAA;AAAA,sBAvCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAnEF,eAkHE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,iCACE;AACE,YAAA,SAAS,EAAG,gCACViD,WAAW,KAAK,aAAL,GAAqB,EACjC,EAHH;AAIE,YAAA,OAAO,EAAE,MAAM;AACb,kBAAI5C,WAAJ,EAAiB;AACf;AACAyB,gBAAAA,aAAa,CACXvB,eAAe,CAAC6B,GAAhB,CAAqBd,IAAD,IAAeA,IAAI,CAACZ,GAAxC,CADW,EAEX,gBAFW,CAAb;AAID;;AAED6B,cAAAA,cAAc;AACf,aAdH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAlHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA6ID,CA7WD;;GAAMtD,O;;KAAAA,O;AA+WN,eAAeA,OAAf,C,CACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import { useEffect, useState } from \"react\";\nimport Constants from \"../../../utils/constants\";\n\ninterface Proptypes {\n  categories: any;\n  jobTypes: any;\n  data: any;\n  editDetailPage: any;\n  stepCompleted: Boolean;\n  handleStepComplete: (data: any) => void;\n  handleStepBack: () => void;\n  handleStepForward: (data: any) => void;\n  handleStepJustUpdate: (data: any, goto: any) => void;\n}\n\nconst JobType = ({\n  categories: categoriesData,\n  jobTypes,\n  data,\n  stepCompleted,\n  editDetailPage,\n  handleStepForward,\n  handleStepJustUpdate,\n  handleStepComplete,\n  handleStepBack,\n}: Proptypes) => {\n  const { errorStrings } = Constants;\n\n  const [jobTypeDetails, setJobTypeDetails] = useState<{\n    [index: string]: string[];\n  }>({ categories: [], job_type: [], specialization: [] });\n  const [errors, setErrors] = useState({\n    job_type: \"\",\n    categories: \"\",\n    specialization: \"\",\n  });\n  const [continueClicked, setContinueClicked] = useState(false);\n  const [selectedAll, setSelectedAll] = useState(false);\n\n  const specializations: Array<{ _id: string; name: string }> = [];\n  const categoriesHTML: JSX.Element[] = [];\n\n  const { job_type, categories, specialization } = jobTypeDetails;\n\n  categoriesData.forEach(\n    ({\n      _id,\n      trade_name,\n      selected_url,\n      specialisations,\n    }: {\n      _id: string;\n      trade_name: string;\n      selected_url: string;\n      specialisations: [];\n    }) => {\n      if (categories.includes(_id)) {\n        specializations.push(...specialisations);\n      }\n\n      categoriesHTML.push(\n        <li\n          key={_id}\n          className={categories.includes(_id) ? \"active\" : undefined}\n          onClick={() => {\n            handleChange(_id, \"categories\");\n            setSelectedAll(true);\n          }}\n        >\n          <figure>\n            <img src={selected_url} alt=\"cat-icon\" />\n          </figure>\n          <span className=\"name\">{trade_name}</span>\n        </li>\n      );\n    }\n  );\n\n  useEffect(() => {\n    if (stepCompleted) {\n      let checkSelected = false;\n\n      if (categoriesData?.length) {\n        let preSelectedSpec = [];\n        preSelectedSpec = categoriesData.find(\n          (item: any) => item._id === data.categories[0]\n        ).specialisations;\n\n        if (preSelectedSpec?.length === data.specialization?.length) {\n          checkSelected = true;\n        }\n\n        if (preSelectedSpec?.length && !data.specialization?.length) {\n          checkSelected = true;\n        }\n      }\n\n      setJobTypeDetails({\n        categories: data.categories,\n        job_type: data.job_type,\n        specialization: checkSelected ? [] : data.specialization,\n      });\n\n      console.log({ checkSelected });\n      setSelectedAll(checkSelected);\n    }\n  }, [stepCompleted, data]);\n\n  // for error messages\n  const label: { [index: string]: string } = {\n    job_type: \"Job Type\",\n    categories: \"Categories\",\n    specialization: \"Specialization\",\n  };\n\n  const isEmpty = (name: string, value: string[]) =>\n    !value.length ? `${label[name]} is required.` : \"\";\n\n  const isInvalid = (name: string, value: string[]) => {\n    switch (name) {\n      case \"job_type\":\n        return isEmpty(name, value);\n      case \"categories\":\n        return isEmpty(name, value);\n      case \"specialization\":\n        return isEmpty(name, value);\n    }\n  };\n\n  // update errors and jobDetails\n  const updateDetails = (value: string[], name: string) => {\n    if (stepCompleted || continueClicked) {\n      setErrors((prevErrors) => ({\n        ...prevErrors,\n        [name]: isInvalid(name, value),\n      }));\n    }\n\n    setJobTypeDetails((prevDetails) => ({\n      ...prevDetails,\n      [name]: value,\n    }));\n  };\n\n  // function callable on handle change\n  const handleChange = (value: string, name: string) => {\n    if (jobTypeDetails[name].includes(value)) {\n      updateDetails(\n        jobTypeDetails[name].filter((val) => val !== value),\n        name\n      );\n\n      // when category is deselected, remove it's specialization\n      if (name === \"categories\") {\n        const specializationsToBeRemoved =\n          categoriesData\n            .find(({ _id }: { _id: string }) => _id === value)\n            .specialisations?.map(({ _id }: { _id: string }) => _id) || [];\n        let itemsSpec = jobTypeDetails.specialization.filter(\n          (value) => !specializationsToBeRemoved.includes(value)\n        );\n        updateDetails(itemsSpec, \"specialization\");\n        updateDetails([], \"categories\");\n      }\n    } else {\n      if (name !== \"specialization\") {\n        jobTypeDetails[name] = [value];\n        updateDetails(jobTypeDetails[name], name);\n        // updateDetails([], 'specialization');\n      } else {\n        updateDetails(jobTypeDetails[name].concat([value]), name);\n      }\n    }\n  };\n\n  const handleContinue = () => {\n    let hasErrors;\n\n    if (selectedAll) {\n      setJobTypeDetails((prev: any) => ({\n        ...prev,\n        specialization: specializations.map((item: any) => item._id),\n      }));\n    }\n    console.log({ jobTypeDetails }, \"-->\");\n    if (!continueClicked) {\n      setContinueClicked(true);\n\n      hasErrors = Object.keys(jobTypeDetails).reduce((prevError, name) => {\n        let hasError = !!isInvalid(name, jobTypeDetails[name]);\n\n        if (name === \"specialization\" && hasError) {\n          hasError = false;\n        }\n\n        setErrors((prevErrors) => ({\n          ...prevErrors,\n          [name]: isInvalid(name, jobTypeDetails[name]),\n        }));\n\n        return hasError || prevError;\n      }, false);\n    }\n\n    if (!hasErrors) {\n      let dataItems = jobTypeDetails;\n\n      if (jobTypeDetails?.specialization?.length === 0) {\n        if (selectedAll) {\n          dataItems[\"specialization\"] = specializations.map(\n            (item: any) => item._id\n          );\n        }\n      }\n\n      if (editDetailPage?.currentScreen) {\n        handleStepJustUpdate(dataItems, true);\n      } else {\n        handleStepComplete(dataItems);\n      }\n    } else {\n      setContinueClicked(false);\n    }\n  };\n\n  const checkErrors = () => {\n    let error_1 = isInvalid(\"categories\", jobTypeDetails[\"categories\"]);\n    let error_2 = isInvalid(\"job_type\", jobTypeDetails[\"job_type\"]);\n    let error_3 = isInvalid(\"specialization\", jobTypeDetails[\"specialization\"]);\n    if (\n      !error_1?.length &&\n      !error_2?.length &&\n      (!error_3?.length || (selectedAll && specializations?.length))\n    ) {\n      return false;\n    }\n    return true;\n  };\n\n  return (\n    <div className=\"app_wrapper\">\n      <div className=\"section_wrapper\">\n        <div className=\"custom_container\">\n          <div className=\"form_field\">\n            <div className=\"flex_row\">\n              <div className=\"flex_col_sm_5\">\n                {editDetailPage?.currentScreen ? (\n                  <div className=\"relate\">\n                    <button\n                      className=\"back\"\n                      onClick={() => {\n                        handleStepForward(14);\n                      }}\n                    ></button>\n                    <span className=\"title\">Job type</span>\n                  </div>\n                ) : (\n                  <div className=\"relate\">\n                    <button className=\"back\" onClick={handleStepBack}></button>\n                    <span className=\"title\">Job type</span>\n                  </div>\n                )}\n\n                <p className=\"commn_para\">\n                  Select the category and the specialisations required\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"form_field\">\n            <span className=\"xs_sub_title\">Categories</span>\n          </div>\n          <div className=\"select_sphere\">\n            <ul>{categoriesHTML}</ul>\n            <span className=\"error_msg\">{errors.categories}</span>\n          </div>\n          <div className=\"form_field\">\n            <span className=\"xs_sub_title\">Job Types</span>\n          </div>\n          <ul className=\"job_categories\">\n            {jobTypes && Array.isArray(jobTypes)\n              ? jobTypes.map(\n                  ({\n                    _id,\n                    name,\n                    image,\n                  }: {\n                    _id: string;\n                    name: string;\n                    image: string;\n                  }) => (\n                    <li\n                      key={_id}\n                      className={`${job_type.includes(_id) ? \" active\" : \"\"}`}\n                      onClick={() => handleChange(_id, \"job_type\")}\n                    >\n                      <figure className=\"type_icon\">\n                        <img src={image} alt=\"icon\" />\n                      </figure>\n                      <span className=\"name\">{name}</span>\n                    </li>\n                  )\n                )\n              : null}\n          </ul>\n          <span className=\"error_msg\">{errors.job_type}</span>\n          <div className=\"form_field\">\n            <span className=\"xs_sub_title\">{\"Specialisation\"}</span>\n          </div>\n          <div className=\"flex_row\">\n            <div className=\"flex_col_sm_6\">\n              <div className=\"tags_wrap\">\n                <ul>\n                  {console.log({ selectedAll, specializations })}\n                  {specializations?.length > 0 && (\n                    <li\n                      onClick={() => {\n                        if (!selectedAll) {\n                          setSelectedAll(true);\n                        }\n                        updateDetails([], \"specialization\");\n                      }}\n                      className={selectedAll ? \"selected\" : \"\"}\n                    >\n                      {\"All\"}\n                    </li>\n                  )}\n                  {specializations.map(\n                    ({ _id, name }: { _id: string; name: string }) => {\n                      return (\n                        <li\n                          key={_id}\n                          className={\n                            specialization.includes(_id) && !selectedAll\n                              ? \"selected\"\n                              : undefined\n                          }\n                          onClick={() => {\n                            handleChange(_id, \"specialization\");\n                            if (selectedAll) {\n                              setSelectedAll(false);\n                            }\n                          }}\n                        >\n                          {name}\n                        </li>\n                      );\n                    }\n                  )}\n                </ul>\n                <span className=\"error_msg\">\n                  {!selectedAll ? errors.specialization : \"\"}\n                </span>\n              </div>\n            </div>\n          </div>\n          <div className=\"form_field\">\n            <button\n              className={`fill_btn full_btn btn-effect ${\n                checkErrors() ? \"disable_btn\" : \"\"\n              }`}\n              onClick={() => {\n                if (selectedAll) {\n                  // setJobTypeDetails((prev: any) => ({ ...prev, 'specialization': specializations.map((item: any) => item._id) }))\n                  updateDetails(\n                    specializations.map((item: any) => item._id),\n                    \"specialization\"\n                  );\n                }\n\n                handleContinue();\n              }}\n            >\n              Continue\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default JobType;\n////////////////////////////////////////////////////////////\n/* eslint-disable eqeqeq */\n/* eslint-disable jsx-a11y/anchor-is-valid */\n// import { connect } from \"react-redux\";\n// import { bindActionCreators } from \"redux\";\n// import { callTradeList } from \"./../../redux/auth/actions\";\n// import {\n//   getJobWithJobTypeLatLong,\n//   getJobTypeList,\n// } from \"../../redux/homeSearch/actions\";\n\n// import { useState, useEffect } from \"react\";\n// import Constants from \"../../utils/constants\";\n// import { setShowToast } from \"../../redux/common/actions\";\n// import regex from \"../../utils/regex\";\n// import Menu from \"@material-ui/core/Menu\";\n// import Modal from \"@material-ui/core/Modal\";\n// import MenuItem from \"@material-ui/core/MenuItem\";\n\n// import filterUnselected from \"../../assets/images/ic-filter-unselected.png\";\n// import filterSelected from \"../../assets/images/ic-filter-selected.png\";\n// import cancel from \"../../assets/images/ic-cancel.png\";\n// import spherePlaceholder from \"../../assets/images/ic_categories_placeholder.svg\";\n// import { moengage, mixPanel } from \"../../services/analyticsTools\";\n// import { MoEConstants } from \"../../utils/constants\";\n\n// const SearchFilter = (props: any) => {\n//   const { setSortByFilter, sortByFilter, filterChangeHandler } = props;\n//   // const { data, searchText, selectedAddress, selectedTrade, exta } = props.selectedItem;\n//   const [errors, setErrors] = useState<any>({});\n//   const [priceAnchorEl, setPriceAnchorEl] = useState(null);\n//   const [filterAnchorEl, setFilterAnchorEl] = useState(null);\n//   const [sortingAnchorEl, setSortingAnchorEl] = useState(null);\n//   const [filterState, setFilterState] = useState({\n//     page: 1,\n//   });\n\n//   const [filterEnable, setFilterEnable] = useState(false);\n\n//   const [prevLocal, setPrevLocal] = useState(null);\n\n//   const [sortByPrice, setSortByPrice] = useState<any>({\n//     priceFilterClicked: false,\n//     payTypeClicked: false,\n//     pay_type: \"Fixed price\",\n//     max_budget: \"\",\n//   });\n\n//   //   const [sortByFilter, setSortByFilter] = useState<any>({\n//   //     sortByFilterClicked: false,\n//   //     tradeId: [],\n//   //     sortChanged: false,\n//   //     specializationId: [],\n//   //     specializationName: [],\n//   //     allSpecializationClicked: false,\n//   //   });\n//   // jobTypes: [],\n\n//   const [sortBySorting, setSortBySorting] = useState<any>({\n//     sortBySorting: false,\n//     sortBy: 0,\n//   });\n\n//   useEffect(() => {\n//     if (props.jobTypeListData?.length === 0) props.getJobTypeList();\n//     if (props.tradeListData?.length === 0) props.callTradeList();\n//     setPrevLocal(props.localInfo);\n//   }, []);\n\n//   useEffect(() => {\n//     if (props?.localInfo?.tradeId?.length) {\n//       // setSortByFilter((prev: any) => ({\n//       //     ...prev,\n//       //     tradeId: props.localInfo.tradeId,\n//       //     specializationId: props.localInfo.specializationId\n//       // }));\n//     }\n//     console.log({ props });\n//   }, [props]);\n\n//   const sortByPriceClick = (event: any) => {\n//     setPriceAnchorEl(event.currentTarget);\n//     setSortByPrice((prevData: any) => ({\n//       ...prevData,\n//       priceFilterClicked: true,\n//     }));\n//   };\n\n//   const sortByPriceClose = () => {\n//     setPriceAnchorEl(null);\n//     setSortByPrice((prevData: any) => ({\n//       ...prevData,\n//       priceFilterClicked: false,\n//     }));\n//   };\n\n//   const sortByFilterClick = (event: any) => {\n//     setFilterAnchorEl(event.currentTarget);\n//     setSortByFilter((prevData: any) => ({\n//       ...prevData,\n//       sortByFilterClicked: true,\n//       sortChanged: true,\n//     }));\n//   };\n\n//   const sortByFilterClose = () => {\n//     setFilterAnchorEl(null);\n//     setSortByFilter((prevData: any) => ({\n//       ...prevData,\n//       sortByFilterClicked: false,\n//     }));\n//   };\n\n//   const sortBySortingClick = (event: any) => {\n//     setSortingAnchorEl(event.currentTarget);\n//     setSortBySorting((prevData: any) => ({ ...prevData, sortBySorting: true }));\n//   };\n\n//   const sortBySortingClose = () => {\n//     setSortingAnchorEl(null);\n//     setSortBySorting((prevData: any) => ({\n//       ...prevData,\n//       sortBySorting: false,\n//     }));\n//   };\n\n//   const sortByButtonClicked = (num: number) => {\n//     setSortBySorting((prevData: any) => ({ ...prevData, sortBy: num }));\n//     sortBySortingClose();\n//     updateOnChange(num);\n//   };\n\n//   const setSameOnClick = () => {\n//     setSortBySorting((prevData: any) => ({ ...prevData, sortBy: 0 }));\n//     sortBySortingClose();\n//     updateOnChange(0);\n//   };\n\n//   //   const filterChangeHandler = (id: any, name: string, newName?: string) => {\n//   //     if (name === \"jobTypes\") {\n//   //       if (sortByFilter.jobTypes[0] == id) {\n//   //         setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [] }));\n//   //       } else {\n//   //         setSortByFilter((prevData: any) => ({ ...prevData, jobTypes: [id] }));\n//   //       }\n//   //     } else if (name === \"specializationId\") {\n//   //       console.log(\"149 => \", newName);\n//   //       setSortByFilter((prevData: any) => {\n//   //         console.log(\"-------prevData =>  \", prevData);\n//   //         var newData: any = [];\n//   //         var newNameData: any = [];\n//   //         if (\n//   //           Array.isArray(prevData.specializationId) &&\n//   //           prevData?.specializationId?.length\n//   //         ) {\n//   //           newData = [...prevData.specializationId];\n//   //         }\n//   //         console.log(\"prevData => \", prevData);\n//   //         if (\n//   //           Array.isArray(prevData.specializationName) &&\n//   //           prevData?.specializationName?.length\n//   //         ) {\n//   //           newNameData = [...prevData.specializationName];\n//   //         }\n//   //         if (sortByFilter.allSpecializationClicked) {\n//   //           newData = [];\n//   //           newNameData = [];\n//   //         }\n//   //         const itemIndex = newData.indexOf(id);\n//   //         const itemnameIndex = newData.indexOf(newName);\n//   //         if (newData.indexOf(id) < 0) {\n//   //           newData.push(id);\n//   //         } else {\n//   //           newData.splice(itemIndex, 1);\n//   //         }\n//   //         if (newData.indexOf(newName) < 0) {\n//   //           newNameData.push(newName);\n//   //         } else {\n//   //           newNameData.splice(itemnameIndex, 1);\n//   //         }\n//   //         console.log(\n//   //           newNameData,\n//   //           \"-----------------------------------prevData =>  \",\n//   //           prevData\n//   //         );\n//   //         return {\n//   //           ...prevData,\n//   //           specializationId: newData,\n//   //           specializationName: newNameData,\n//   //           allSpecializationClicked: false,\n//   //         };\n//   //       });\n//   //     } else if (name == \"categories\") {\n//   //       if (sortByFilter.tradeId.length && sortByFilter.tradeId[0] == id) {\n//   //         setSortByFilter((prevData: any) => ({\n//   //           ...prevData,\n//   //           tradeId: [],\n//   //           specializationId: [],\n//   //           allSpecializationClicked: false,\n//   //         }));\n//   //       } else {\n//   //         setSortByFilter((prevData: any) => ({\n//   //           ...prevData,\n//   //           tradeId: [id],\n//   //           specializationId: [],\n//   //           allSpecializationClicked: false,\n//   //         }));\n//   //       }\n//   //     } else if (name == \"All Clicked\") {\n//   //       if (sortByFilter.allSpecializationClicked) {\n//   //         setSortByFilter((prevData: any) => ({\n//   //           ...prevData,\n//   //           allSpecializationClicked: false,\n//   //           specializationId: [],\n//   //         }));\n//   //       } else {\n//   //         const newSpecialization = id.map(({ _id }: { _id: string }) => {\n//   //           return _id;\n//   //         });\n//   //         setSortByFilter((prevData: any) => ({\n//   //           ...prevData,\n//   //           allSpecializationClicked: true,\n//   //           specializationId: newSpecialization,\n//   //         }));\n//   //       }\n//   //     } else if (name == \"Clear All\") {\n//   //       setSortByFilter((prevData: any) => ({\n//   //         ...prevData,\n//   //         allSpecializationClicked: false,\n//   //         jobTypes: [],\n//   //         specializationId: [],\n//   //         specializationName: [],\n//   //         tradeId: [],\n//   //       }));\n//   //     }\n//   //   };\n\n//   const renderFilterButtons = () => (\n//     <ul className=\"filters_row\">\n//       <li>\n//         <a className={filterEnable ? \"active\" : \"\"} onClick={sortByFilterClick}>\n//           <img\n//             src={filterEnable ? filterSelected : filterUnselected}\n//             alt=\"filter\"\n//           />\n//           {\"Filter\"}\n//         </a>\n//       </li>\n//       <li>\n//         <a\n//           className={sortBySorting.sortBy > 0 ? \"active\" : \"\"}\n//           onClick={sortBySortingClick}\n//         >\n//           {`Sorting`}\n//         </a>\n//       </li>\n//     </ul>\n//   );\n\n//   const showResultSearch = () => {\n//     if (!sortByFilter?.tradeId?.length) {\n//       updateOnChange(sortBySorting.sortBy);\n//       sortByFilterClose();\n//       setFilterEnable(false);\n//       return;\n//     }\n\n//     updateOnChange(sortBySorting.sortBy);\n//     sortByFilterClose();\n//     setFilterEnable(true);\n//   };\n\n//   const updateOnChange = (sort?: any) => {\n//     let local_info: any = props.localInfo;\n//     let sort_: any = sort;\n\n//     console.log(\n//       { sort_, local_info },\n//       \"-------------------------->><<-------------- item_coord\"\n//     );\n//     const tradeInfo = props.tradeListData?.find(\n//       (item: any) => item._id === sortByFilter.tradeId?.[0]\n//     );\n//     const specializationList = props.tradeListData?.find(\n//       ({ _id }: { _id: string }) => _id === sortByFilter.tradeId?.[0]\n//     )?.specialisations;\n\n//     const { specializationId, tradeId, specializationName } = sortByFilter;\n\n//     console.log({ specializationId, sortByFilter, props });\n//     // if (specializationId?.length) {\n//     let filteredItem: any = [];\n//     // let name = specializationList[0].name;\n//     if (specializationList?.length) {\n//       filteredItem = specializationList.filter((item: any) => {\n//         if (Array.isArray(specializationId) && specializationId?.length) {\n//           if (specializationId.includes(item._id)) {\n//             return item;\n//           }\n//         }\n//       });\n//     }\n//     let name = \"\";\n\n//     if (\n//       Array.isArray(filteredItem) &&\n//       filteredItem?.length &&\n//       filteredItem[0].name\n//     ) {\n//       name = filteredItem[0].name;\n//     }\n\n//     let data: any = {\n//       page: 1,\n//       isFiltered: true,\n//     };\n\n//     if (sort_) {\n//       data[\"sortBy\"] = sort_;\n//     }\n\n//     if (\n//       (Array.isArray(tradeId) && tradeId?.length) ||\n//       (!Array.isArray(tradeId) && tradeId?.length)\n//     ) {\n//       data[\"tradeId\"] = Array.isArray(tradeId) ? tradeId : [tradeId];\n//     }\n\n//     if (Array.isArray(specializationId) && specializationId?.length) {\n//       data[\"specializationId\"] = specializationId;\n//     }\n//     if (Array.isArray(specializationName) && specializationName?.length) {\n//       data[\"specializationName\"] = specializationName;\n//     }\n//     let get_position: any = localStorage.getItem(\"position\");\n//     if (sort_ === 2) {\n//       let item_coord: any = !local_info?.location?.coordinates?.length\n//         ? JSON.parse(get_position).reverse()\n//         : local_info?.location?.coordinates;\n//       if (item_coord?.length) {\n//         data[\"location\"] = {\n//           coordinates: item_coord,\n//         };\n//       }\n//     } else {\n//       if (local_info?.location) {\n//         data[\"location\"] = local_info?.location;\n//       } else {\n//         delete data.location;\n//       }\n//     }\n\n//     if (local_info?.from_date) {\n//       data[\"from_date\"] = local_info?.from_date;\n//     }\n\n//     if (local_info?.to_date) {\n//       data[\"to_date\"] = local_info?.to_date;\n//     }\n\n//     if (local_info?.suggestionSelected) {\n//       data[\"address\"] = JSON.stringify(local_info?.suggestionSelected);\n//       if (data?.address === \"{}\") {\n//         delete data.address;\n//       }\n//     }\n\n//     if (!data?.address || !data?.address?.length) {\n//       delete data?.address;\n//     }\n\n//     props.postHomeSearchData(data);\n\n//     const mData = {\n//       timeStamp: moengage.getCurrentTimeStamp(),\n//       category: props?.tradeListData.find(\n//         (i: any) => i._id === data?.tradeId[0]\n//       )?.trade_name,\n//       ...(data.address && {\n//         location: `${JSON.parse(data.address)?.mainText} ${\n//           JSON.parse(data.address)?.secondaryText\n//         }`,\n//       }),\n//       //'length of hire': '',\n//       ...(data?.from_date && { \"start date\": data?.from_date }),\n//       ...(data?.to_date && { \"end date\": data?.to_date }),\n//     };\n//     moengage.moE_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n//     mixPanel.mixP_SendEvent(MoEConstants.SEARCHED_FOR_TRADIES, mData);\n//     let trade_name: any = tradeInfo?.trade_name;\n//     let local_info_name: any = local_info?.name;\n//     let local_info_count: any = local_info?.count;\n//     let case_1 = name ? name : trade_name;\n//     let case_2 = `${local_info_name} ${\n//       local_info_count > 1 ? `+${local_info_count - 1}` : \"\"\n//     }`;\n//     let name_: any = case_1 ? trade_name : local_info_name ? case_2 : \"\";\n//     props.getTitleInfo({\n//       name: name_,\n//       isTradeName: tradeInfo?.trade_name ? true : false,\n//       count: specializationId?.length || 0,\n//       tradeId: data.tradeId,\n//       specializationId: data.specializationId || [],\n//       sortBy: data.sortBy || 0,\n//       to_date: local_info?.to_date || \"\",\n//       from_date: local_info?.from_date || \"\",\n//       doingLocalChanges: false,\n//     });\n//   };\n\n//   const specializationList = props.tradeListData?.find(\n//     ({ _id }: { _id: string }) => _id === sortByFilter.tradeId?.[0]\n//   )?.specialisations;\n//   let checkIfAllSelected = false;\n//   if (specializationList) {\n//     checkIfAllSelected =\n//       sortByFilter.specializationId?.length === specializationList?.length;\n//   }\n\n//   const sortOnChange = (num: number) => {\n//     if (sortBySorting.sortBy !== num) {\n//       sortByButtonClicked(num);\n//     }\n//   };\n\n//   const sortOnClick = (num: number) => {\n//     if (sortBySorting.sortBy == num) {\n//       setSameOnClick();\n//     }\n//   };\n\n//   const checksForActive = ({ checkIfAllSelected, sortByFilter }: any) => {\n//     if (sortByFilter?.allSpecializationClicked) {\n//       return true;\n//     }\n\n//     if (sortByFilter?.specializationId?.length) {\n//       return false;\n//     }\n\n//     if (checkIfAllSelected || sortByFilter?.tradeId?.length) {\n//       return true;\n//     }\n//   };\n\n//   return (\n//     <div className=\"filters_wrapr\">\n//       {renderFilterButtons()}\n\n//       {sortByFilter.sortByFilterClicked && (\n//         <Modal\n//           className=\"custom_modal\"\n//           open={sortByFilter.sortByFilterClicked}\n//           onClose={sortByFilterClose}\n//           aria-labelledby=\"simple-modal-title\"\n//           aria-describedby=\"simple-modal-description\"\n//         >\n//           <>\n//             <div\n//               className=\"custom_wh filter_modal\"\n//               data-aos=\"zoom-in\"\n//               data-aos-delay=\"30\"\n//               data-aos-duration=\"1000\"\n//             >\n//               <div className=\"heading\">\n//                 <span className=\"sub_title\">Filter</span>\n//                 <button className=\"close_btn\" onClick={sortByFilterClose}>\n//                   <img src={cancel} alt=\"cancel\" />\n//                 </button>\n//               </div>\n\n//               <div className=\"inner_wrap\">\n//                 <div className=\"form_field\">\n//                   <span className=\"xs_sub_title\">{\"Categories\"}</span>\n//                 </div>\n//                 <div className=\"select_sphere\">\n//                   <ul>\n//                     {props.tradeListData?.map(\n//                       ({\n//                         _id,\n//                         trade_name,\n//                         selected_url,\n//                         specialisations,\n//                       }: {\n//                         _id: string;\n//                         trade_name: string;\n//                         selected_url: string;\n//                         specialisations: [];\n//                       }) => {\n//                         const active = sortByFilter.tradeId?.[0] === _id;\n//                         return (\n//                           <li\n//                             key={_id}\n//                             className={active ? \"active\" : \"\"}\n//                             onClick={() =>\n//                               filterChangeHandler(_id, \"categories\")\n//                             }\n//                           >\n//                             <figure>\n//                               <img\n//                                 alt=\"\"\n//                                 src={\n//                                   selected_url\n//                                     ? selected_url\n//                                     : spherePlaceholder\n//                                 }\n//                               />\n//                             </figure>\n//                             <span className=\"name\">{trade_name}</span>\n//                           </li>\n//                         );\n//                       }\n//                     )}\n//                   </ul>\n//                   {/* <span className=\"error_msg\">{errors.categories}</span> */}\n//                 </div>\n\n//                 <div className=\"form_field\">\n//                   <span className=\"xs_sub_title\">Specialisation</span>\n//                 </div>\n//                 <div className=\"tags_wrap\">\n//                   <ul>\n//                     {console.log({\n//                       specializationList,\n//                       checkIfAllSelected,\n//                       sortByFilter: sortByFilter.allSpecializationClicked,\n//                     })}\n//                     {specializationList?.length > 0 && (\n//                       <li\n//                         className={\n//                           checksForActive({ checkIfAllSelected, sortByFilter })\n//                             ? \"selected\"\n//                             : \"\"\n//                         }\n//                         // className={sortByFilter.allSpecializationClicked ? 'selected' : ''}\n//                         onClick={() => {\n//                           let items: any = props.tradeListData.find(\n//                             (dt: any) => dt._id == sortByFilter.tradeId\n//                           );\n//                           if (items) {\n//                             filterChangeHandler(\n//                               items?.specialisations,\n//                               \"All Clicked\",\n//                               \"\"\n//                             );\n//                           }\n//                         }}\n//                       >\n//                         {\"All\"}\n//                       </li>\n//                     )}\n//                     {specializationList?.map(\n//                       ({ _id, name }: { _id: string; name: string }) => {\n//                         // let active = sortByFilter.specializationId?.indexOf(_id) >= 0;\n//                         let active = false;\n//                         if (\n//                           specializationList?.length !==\n//                           sortByFilter.specializationId?.length\n//                         ) {\n//                           active = false;\n//                           if (\n//                             Array.isArray(sortByFilter.specializationId) &&\n//                             sortByFilter.specializationId?.length\n//                           ) {\n//                             active =\n//                               sortByFilter.specializationId.includes(_id);\n//                           }\n//                         }\n//                         return (\n//                           <li\n//                             key={_id}\n//                             className={active ? \"selected\" : \"\"}\n//                             // className={active && !sortByFilter.allSpecializationClicked ? 'selected' : ''}\n//                             onClick={() => {\n//                               if (checkIfAllSelected) {\n//                                 let sort_by_spec: any = sortByFilter;\n//                                 sort_by_spec[\"specializationId\"] = [];\n//                                 setSortByFilter(sort_by_spec);\n//                               }\n//                               filterChangeHandler(\n//                                 _id,\n//                                 \"specializationId\",\n//                                 name\n//                               );\n//                             }}\n//                           >\n//                             {name}\n//                           </li>\n//                         );\n//                       }\n//                     )}\n//                   </ul>\n//                   {/* <span className=\"error_msg\">{errors.specializationId}</span> */}\n//                 </div>\n//               </div>\n//               <div className=\"filter_btn\">\n//                 <a\n//                   className=\"link\"\n//                   onClick={() =>\n//                     filterChangeHandler(\"Clear All\", \"Clear All\", \"\")\n//                   }\n//                 >\n//                   Clear All\n//                 </a>\n//                 <button\n//                   className=\"fill_btn full_btn btn-effect\"\n//                   onClick={showResultSearch}\n//                 >\n//                   Show Results\n//                 </button>\n//               </div>\n//             </div>\n//           </>\n//         </Modal>\n//       )}\n\n//       {sortBySorting.sortBySorting && (\n//         <Menu\n//           // id=\"simple-menu\"\n//           className=\"fsp_modal range\"\n//           anchorEl={sortingAnchorEl}\n//           keepMounted\n//           open={Boolean(sortingAnchorEl)}\n//           onClose={sortBySortingClose}\n//         >\n//           <span className=\"close_btn\" onClick={sortBySortingClose}>\n//             <img src={cancel} alt=\"cancel\" />\n//           </span>\n//           <span className=\"sub_title\">{\"Sort by\"}</span>\n\n//           <div className=\"radio_wrap agree_check\">\n//             <input\n//               className=\"filter-type filled-in\"\n//               type=\"radio\"\n//               id=\"highestRated\"\n//               value=\"Highest rated\"\n//               checked={sortBySorting.sortBy === 1}\n//               onClick={() => {\n//                 sortOnClick(1);\n//               }}\n//               onChange={() => {\n//                 sortOnChange(1);\n//               }}\n//             />\n//             <label htmlFor=\"highestRated\">Highest rated</label>\n//           </div>\n//           <div className=\"radio_wrap agree_check\">\n//             <input\n//               className=\"filter-type filled-in\"\n//               type=\"radio\"\n//               id=\"closest\"\n//               value=\"Closest to me\"\n//               checked={sortBySorting.sortBy === 2}\n//               onClick={() => {\n//                 sortOnClick(2);\n//               }}\n//               onChange={() => {\n//                 sortOnChange(2);\n//               }}\n//             />\n//             <label htmlFor=\"closest\">Closest to me</label>\n//           </div>\n//           <div className=\"radio_wrap agree_check\">\n//             <input\n//               className=\"filter-type filled-in\"\n//               type=\"radio\"\n//               id=\"mostJob\"\n//               value=\"Most jobs completed\"\n//               checked={sortBySorting.sortBy === 3}\n//               onClick={() => {\n//                 sortOnClick(3);\n//               }}\n//               onChange={() => {\n//                 sortOnChange(3);\n//               }}\n//             />\n//             <label htmlFor=\"mostJob\">{\"Most jobs completed\"}</label>\n//           </div>\n//         </Menu>\n//       )}\n//     </div>\n//   );\n// };\n\n// const mapStateToProps = (state: any) => {\n//   return {\n//     jobDataWithJobTypeLatLong: state.homeSearch.jobDataWithJobTypeLatLong,\n//     jobTypeListData: state.homeSearch.jobTypeListData,\n//     tradeListData: state.auth.tradeListData,\n//   };\n// };\n\n// const mapDispatchToProps = (dispatch: any) => {\n//   return bindActionCreators(\n//     {\n//       getJobWithJobTypeLatLong,\n//       getJobTypeList,\n//       callTradeList,\n//     },\n//     dispatch\n//   );\n// };\n\n// export default connect(mapStateToProps, mapDispatchToProps)(SearchFilter);\n"]},"metadata":{},"sourceType":"module"}