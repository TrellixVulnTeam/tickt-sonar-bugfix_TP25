{"ast":null,"code":"import _regeneratorRuntime from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/appinventiv/Documents/Project/tickt/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{quoteByJobId}from'../../../../redux/quotes/actions';import storageService from'../../../../utils/storageService';import NumberFormat from'react-number-format';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ActiveQuoteMark=function ActiveQuoteMark(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Items=_useState2[0],setItems=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalAmount=_useState4[0],setTotalAmount=_useState4[1];useEffect(function(){preFetch();},[]);var preFetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _props$location,_props$location$state,_props$location$state2,_storageService$getIt,_res$data,_res$data$resultData$,_res$data$resultData$2;var data,res,_res$data2,_res$data2$resultData,_res$data3,_res$data3$resultData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data={jobId:(_props$location=props.location)===null||_props$location===void 0?void 0:(_props$location$state=_props$location.state)===null||_props$location$state===void 0?void 0:(_props$location$state2=_props$location$state.jobData)===null||_props$location$state2===void 0?void 0:_props$location$state2.jobId,tradieId:(_storageService$getIt=storageService.getItem('userInfo'))===null||_storageService$getIt===void 0?void 0:_storageService$getIt._id};_context.next=3;return quoteByJobId(data);case 3:res=_context.sent;if(res.success&&((_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$resultData$=_res$data.resultData[0])===null||_res$data$resultData$===void 0?void 0:(_res$data$resultData$2=_res$data$resultData$.quote_item)===null||_res$data$resultData$2===void 0?void 0:_res$data$resultData$2.length)){setItems((_res$data2=res.data)===null||_res$data2===void 0?void 0:(_res$data2$resultData=_res$data2.resultData[0])===null||_res$data2$resultData===void 0?void 0:_res$data2$resultData.quote_item);setTotalAmount((_res$data3=res.data)===null||_res$data3===void 0?void 0:(_res$data3$resultData=_res$data3.resultData[0])===null||_res$data3$resultData===void 0?void 0:_res$data3$resultData.totalQuoteAmount);props.dataFetched(true);}else{props.dataFetched(false);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function preFetch(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"flex_col_sm_6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relate form_field\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return props.history.goBack();},className:\"back\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sub_title\",children:'Your Quote'}),/*#__PURE__*/_jsx(_Fragment,{children:(Items===null||Items===void 0?void 0:Items.length)>0&&Items.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"change_req\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_2\",children:/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Item\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_6\",children:/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Description\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_4\",children:/*#__PURE__*/_jsx(\"label\",{className:\"form_label\",children:\"Price\"})}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"show_label\",children:item.item_number})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_6\",children:/*#__PURE__*/_jsx(\"span\",{className:\"show_label line-1\",children:item.description})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_col_sm_4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"show_label\",children:/*#__PURE__*/_jsx(NumberFormat,{value:item.totalAmount,displayType:'text',prefix:'$ ',thousandSeparator:true,isNumericString:true})})})]})]})});})}),(Items===null||Items===void 0?void 0:Items.length)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"total_quote\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"fill_grey_btn\",children:[\"Total Quote: \",/*#__PURE__*/_jsx(NumberFormat,{value:totalAmount,displayType:'text',prefix:'$',thousandSeparator:true,isNumericString:true})]})})]});};export default ActiveQuoteMark;","map":{"version":3,"sources":["/home/appinventiv/Documents/Project/tickt/web/src/pages/jobDashboard/components/activeQuoteJob/activeQuoteMark.tsx"],"names":["React","useState","useEffect","quoteByJobId","storageService","NumberFormat","ActiveQuoteMark","props","Items","setItems","totalAmount","setTotalAmount","preFetch","data","jobId","location","state","jobData","tradieId","getItem","_id","res","success","resultData","quote_item","length","totalQuoteAmount","dataFetched","history","goBack","map","item","index","item_number","description"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { quoteByJobId } from '../../../../redux/quotes/actions';\nimport storageService from '../../../../utils/storageService';\nimport NumberFormat from 'react-number-format';\n\nconst ActiveQuoteMark = (props: any) => {\n    const [Items, setItems] = useState<Array<any>>([]);\n    const [totalAmount, setTotalAmount] = useState<number>(0);\n\n    useEffect(() => {\n        preFetch();\n    }, []);\n\n    const preFetch = async () => {\n        const data: any = {\n            jobId: props.location?.state?.jobData?.jobId,\n            tradieId: storageService.getItem('userInfo')?._id\n        }\n        const res = await quoteByJobId(data);\n        if (res.success && res.data?.resultData[0]?.quote_item?.length) {\n            setItems(res.data?.resultData[0]?.quote_item);\n            setTotalAmount(res.data?.resultData[0]?.totalQuoteAmount);\n            props.dataFetched(true);\n        }else {\n            props.dataFetched(false);\n        }\n    }\n\n    return (\n        <div className=\"flex_col_sm_6\">\n            <div className=\"relate form_field\">\n                <button\n                    onClick={() => props.history.goBack()}\n                    className=\"back\">\n                </button>\n            </div>\n            <span className=\"sub_title\">\n                {'Your Quote'}\n            </span>\n            <>\n                {Items?.length > 0 &&\n                    Items.map((item: any, index: number) => (\n                        <div className=\"change_req\">\n                            <div className=\"flex_row\">\n                                <div className=\"flex_col_sm_2\">\n                                    <label className=\"form_label\">Item</label>\n                                </div>\n                                <div className=\"flex_col_sm_6\">\n                                    <label className=\"form_label\">Description</label>\n                                </div>\n                                <div className=\"flex_col_sm_4\">\n                                    <label className=\"form_label\">Price</label>\n                                </div>\n                                <>\n                                    <div className=\"flex_col_sm_2\">\n                                        <span className=\"show_label\">{item.item_number}</span>\n                                    </div>\n                                    <div className=\"flex_col_sm_6\">\n                                        <span className=\"show_label line-1\">\n                                            {item.description}\n                                        </span>\n                                    </div>\n                                    <div className=\"flex_col_sm_4\">\n                                        <span className=\"show_label\">\n                                            <NumberFormat\n                                                value={item.totalAmount}\n                                                displayType={'text'}\n                                                prefix={'$ '}\n                                                thousandSeparator={true}\n                                                isNumericString={true}\n                                            />\n                                        </span>\n                                    </div>\n                                </>\n                            </div>\n                        </div>\n                    ))}\n            </>\n\n            {Items?.length > 0 && <div className=\"total_quote\">\n                <span className=\"fill_grey_btn\">\n                    {`Total Quote: `}\n                    {<NumberFormat\n                        value={totalAmount}\n                        displayType={'text'}\n                        prefix={'$'}\n                        thousandSeparator={true}\n                        isNumericString={true}\n                    />}\n                </span>\n            </div>}\n\n        </div>\n    )\n}\n\nexport default ActiveQuoteMark;"]},"metadata":{},"sourceType":"module"}